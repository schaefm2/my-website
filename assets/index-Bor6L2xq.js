var rk=Object.defineProperty;var Fj=T=>{throw TypeError(T)};var nk=(T,r,n)=>r in T?rk(T,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):T[r]=n;var yt=(T,r,n)=>nk(T,typeof r!="symbol"?r+"":r,n),a_=(T,r,n)=>r.has(T)||Fj("Cannot "+n);var R=(T,r,n)=>(a_(T,r,"read from private field"),n?n.call(T):r.get(T)),ce=(T,r,n)=>r.has(T)?Fj("Cannot add the same private member more than once"):r instanceof WeakSet?r.add(T):r.set(T,n),ne=(T,r,n,i)=>(a_(T,r,"write to private field"),i?i.call(T,n):r.set(T,n),n),pe=(T,r,n)=>(a_(T,r,"access private method"),n);var Cs=(T,r,n,i)=>({set _(p){ne(T,r,p,n)},get _(){return R(T,r,i)}});(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const p of document.querySelectorAll('link[rel="modulepreload"]'))i(p);new MutationObserver(p=>{for(const b of p)if(b.type==="childList")for(const M of b.addedNodes)M.tagName==="LINK"&&M.rel==="modulepreload"&&i(M)}).observe(document,{childList:!0,subtree:!0});function n(p){const b={};return p.integrity&&(b.integrity=p.integrity),p.referrerPolicy&&(b.referrerPolicy=p.referrerPolicy),p.crossOrigin==="use-credentials"?b.credentials="include":p.crossOrigin==="anonymous"?b.credentials="omit":b.credentials="same-origin",b}function i(p){if(p.ep)return;p.ep=!0;const b=n(p);fetch(p.href,b)}})();function Y0(T){return T&&T.__esModule&&Object.prototype.hasOwnProperty.call(T,"default")?T.default:T}var o_={exports:{}},kp={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uj;function sk(){if(Uj)return kp;Uj=1;var T=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function n(i,p,b){var M=null;if(b!==void 0&&(M=""+b),p.key!==void 0&&(M=""+p.key),"key"in p){b={};for(var t in p)t!=="key"&&(b[t]=p[t])}else b=p;return p=b.ref,{$$typeof:T,type:i,key:M,ref:p!==void 0?p:null,props:b}}return kp.Fragment=r,kp.jsx=n,kp.jsxs=n,kp}var Bj;function ik(){return Bj||(Bj=1,o_.exports=sk()),o_.exports}var gt=ik(),l_={exports:{}},rr={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gj;function ak(){if(Gj)return rr;Gj=1;var T=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),b=Symbol.for("react.consumer"),M=Symbol.for("react.context"),t=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),c=Symbol.iterator;function u(W){return W===null||typeof W!="object"?null:(W=c&&W[c]||W["@@iterator"],typeof W=="function"?W:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,o={};function h(W,K,ee){this.props=W,this.context=K,this.refs=o,this.updater=ee||x}h.prototype.isReactComponent={},h.prototype.setState=function(W,K){if(typeof W!="object"&&typeof W!="function"&&W!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,W,K,"setState")},h.prototype.forceUpdate=function(W){this.updater.enqueueForceUpdate(this,W,"forceUpdate")};function f(){}f.prototype=h.prototype;function l(W,K,ee){this.props=W,this.context=K,this.refs=o,this.updater=ee||x}var m=l.prototype=new f;m.constructor=l,j(m,h.prototype),m.isPureReactComponent=!0;var _=Array.isArray,w={H:null,A:null,T:null,S:null},v=Object.prototype.hasOwnProperty;function E(W,K,ee,re,oe,le){return ee=le.ref,{$$typeof:T,type:W,key:K,ref:ee!==void 0?ee:null,props:le}}function C(W,K){return E(W.type,K,void 0,void 0,void 0,W.props)}function O(W){return typeof W=="object"&&W!==null&&W.$$typeof===T}function U(W){var K={"=":"=0",":":"=2"};return"$"+W.replace(/[=:]/g,function(ee){return K[ee]})}var N=/\/+/g;function D(W,K){return typeof W=="object"&&W!==null&&W.key!=null?U(""+W.key):K.toString(36)}function H(){}function I(W){switch(W.status){case"fulfilled":return W.value;case"rejected":throw W.reason;default:switch(typeof W.status=="string"?W.then(H,H):(W.status="pending",W.then(function(K){W.status==="pending"&&(W.status="fulfilled",W.value=K)},function(K){W.status==="pending"&&(W.status="rejected",W.reason=K)})),W.status){case"fulfilled":return W.value;case"rejected":throw W.reason}}throw W}function V(W,K,ee,re,oe){var le=typeof W;(le==="undefined"||le==="boolean")&&(W=null);var me=!1;if(W===null)me=!0;else switch(le){case"bigint":case"string":case"number":me=!0;break;case"object":switch(W.$$typeof){case T:case r:me=!0;break;case d:return me=W._init,V(me(W._payload),K,ee,re,oe)}}if(me)return oe=oe(W),me=re===""?"."+D(W,0):re,_(oe)?(ee="",me!=null&&(ee=me.replace(N,"$&/")+"/"),V(oe,K,ee,"",function(se){return se})):oe!=null&&(O(oe)&&(oe=C(oe,ee+(oe.key==null||W&&W.key===oe.key?"":(""+oe.key).replace(N,"$&/")+"/")+me)),K.push(oe)),1;me=0;var $=re===""?".":re+":";if(_(W))for(var Q=0;Q<W.length;Q++)re=W[Q],le=$+D(re,Q),me+=V(re,K,ee,le,oe);else if(Q=u(W),typeof Q=="function")for(W=Q.call(W),Q=0;!(re=W.next()).done;)re=re.value,le=$+D(re,Q++),me+=V(re,K,ee,le,oe);else if(le==="object"){if(typeof W.then=="function")return V(I(W),K,ee,re,oe);throw K=String(W),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(W).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return me}function G(W,K,ee){if(W==null)return W;var re=[],oe=0;return V(W,re,"","",function(le){return K.call(ee,le,oe++)}),re}function q(W){if(W._status===-1){var K=W._result;K=K(),K.then(function(ee){(W._status===0||W._status===-1)&&(W._status=1,W._result=ee)},function(ee){(W._status===0||W._status===-1)&&(W._status=2,W._result=ee)}),W._status===-1&&(W._status=0,W._result=K)}if(W._status===1)return W._result.default;throw W._result}var X=typeof reportError=="function"?reportError:function(W){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof W=="object"&&W!==null&&typeof W.message=="string"?String(W.message):String(W),error:W});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",W);return}console.error(W)};function B(){}return rr.Children={map:G,forEach:function(W,K,ee){G(W,function(){K.apply(this,arguments)},ee)},count:function(W){var K=0;return G(W,function(){K++}),K},toArray:function(W){return G(W,function(K){return K})||[]},only:function(W){if(!O(W))throw Error("React.Children.only expected to receive a single React element child.");return W}},rr.Component=h,rr.Fragment=n,rr.Profiler=p,rr.PureComponent=l,rr.StrictMode=i,rr.Suspense=A,rr.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=w,rr.act=function(){throw Error("act(...) is not supported in production builds of React.")},rr.cache=function(W){return function(){return W.apply(null,arguments)}},rr.cloneElement=function(W,K,ee){if(W==null)throw Error("The argument must be a React element, but you passed "+W+".");var re=j({},W.props),oe=W.key,le=void 0;if(K!=null)for(me in K.ref!==void 0&&(le=void 0),K.key!==void 0&&(oe=""+K.key),K)!v.call(K,me)||me==="key"||me==="__self"||me==="__source"||me==="ref"&&K.ref===void 0||(re[me]=K[me]);var me=arguments.length-2;if(me===1)re.children=ee;else if(1<me){for(var $=Array(me),Q=0;Q<me;Q++)$[Q]=arguments[Q+2];re.children=$}return E(W.type,oe,void 0,void 0,le,re)},rr.createContext=function(W){return W={$$typeof:M,_currentValue:W,_currentValue2:W,_threadCount:0,Provider:null,Consumer:null},W.Provider=W,W.Consumer={$$typeof:b,_context:W},W},rr.createElement=function(W,K,ee){var re,oe={},le=null;if(K!=null)for(re in K.key!==void 0&&(le=""+K.key),K)v.call(K,re)&&re!=="key"&&re!=="__self"&&re!=="__source"&&(oe[re]=K[re]);var me=arguments.length-2;if(me===1)oe.children=ee;else if(1<me){for(var $=Array(me),Q=0;Q<me;Q++)$[Q]=arguments[Q+2];oe.children=$}if(W&&W.defaultProps)for(re in me=W.defaultProps,me)oe[re]===void 0&&(oe[re]=me[re]);return E(W,le,void 0,void 0,null,oe)},rr.createRef=function(){return{current:null}},rr.forwardRef=function(W){return{$$typeof:t,render:W}},rr.isValidElement=O,rr.lazy=function(W){return{$$typeof:d,_payload:{_status:-1,_result:W},_init:q}},rr.memo=function(W,K){return{$$typeof:y,type:W,compare:K===void 0?null:K}},rr.startTransition=function(W){var K=w.T,ee={};w.T=ee;try{var re=W(),oe=w.S;oe!==null&&oe(ee,re),typeof re=="object"&&re!==null&&typeof re.then=="function"&&re.then(B,X)}catch(le){X(le)}finally{w.T=K}},rr.unstable_useCacheRefresh=function(){return w.H.useCacheRefresh()},rr.use=function(W){return w.H.use(W)},rr.useActionState=function(W,K,ee){return w.H.useActionState(W,K,ee)},rr.useCallback=function(W,K){return w.H.useCallback(W,K)},rr.useContext=function(W){return w.H.useContext(W)},rr.useDebugValue=function(){},rr.useDeferredValue=function(W,K){return w.H.useDeferredValue(W,K)},rr.useEffect=function(W,K){return w.H.useEffect(W,K)},rr.useId=function(){return w.H.useId()},rr.useImperativeHandle=function(W,K,ee){return w.H.useImperativeHandle(W,K,ee)},rr.useInsertionEffect=function(W,K){return w.H.useInsertionEffect(W,K)},rr.useLayoutEffect=function(W,K){return w.H.useLayoutEffect(W,K)},rr.useMemo=function(W,K){return w.H.useMemo(W,K)},rr.useOptimistic=function(W,K){return w.H.useOptimistic(W,K)},rr.useReducer=function(W,K,ee){return w.H.useReducer(W,K,ee)},rr.useRef=function(W){return w.H.useRef(W)},rr.useState=function(W){return w.H.useState(W)},rr.useSyncExternalStore=function(W,K,ee){return w.H.useSyncExternalStore(W,K,ee)},rr.useTransition=function(){return w.H.useTransition()},rr.version="19.0.0",rr}var zj;function $0(){return zj||(zj=1,l_.exports=ak()),l_.exports}var Be=$0();const fA=Y0(Be);var u_={exports:{}},Op={},c_={exports:{}},d_={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hj;function ok(){return Hj||(Hj=1,function(T){function r(G,q){var X=G.length;G.push(q);e:for(;0<X;){var B=X-1>>>1,W=G[B];if(0<p(W,q))G[B]=q,G[X]=W,X=B;else break e}}function n(G){return G.length===0?null:G[0]}function i(G){if(G.length===0)return null;var q=G[0],X=G.pop();if(X!==q){G[0]=X;e:for(var B=0,W=G.length,K=W>>>1;B<K;){var ee=2*(B+1)-1,re=G[ee],oe=ee+1,le=G[oe];if(0>p(re,X))oe<W&&0>p(le,re)?(G[B]=le,G[oe]=X,B=oe):(G[B]=re,G[ee]=X,B=ee);else if(oe<W&&0>p(le,X))G[B]=le,G[oe]=X,B=oe;else break e}}return q}function p(G,q){var X=G.sortIndex-q.sortIndex;return X!==0?X:G.id-q.id}if(T.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var b=performance;T.unstable_now=function(){return b.now()}}else{var M=Date,t=M.now();T.unstable_now=function(){return M.now()-t}}var A=[],y=[],d=1,c=null,u=3,x=!1,j=!1,o=!1,h=typeof setTimeout=="function"?setTimeout:null,f=typeof clearTimeout=="function"?clearTimeout:null,l=typeof setImmediate<"u"?setImmediate:null;function m(G){for(var q=n(y);q!==null;){if(q.callback===null)i(y);else if(q.startTime<=G)i(y),q.sortIndex=q.expirationTime,r(A,q);else break;q=n(y)}}function _(G){if(o=!1,m(G),!j)if(n(A)!==null)j=!0,I();else{var q=n(y);q!==null&&V(_,q.startTime-G)}}var w=!1,v=-1,E=5,C=-1;function O(){return!(T.unstable_now()-C<E)}function U(){if(w){var G=T.unstable_now();C=G;var q=!0;try{e:{j=!1,o&&(o=!1,f(v),v=-1),x=!0;var X=u;try{t:{for(m(G),c=n(A);c!==null&&!(c.expirationTime>G&&O());){var B=c.callback;if(typeof B=="function"){c.callback=null,u=c.priorityLevel;var W=B(c.expirationTime<=G);if(G=T.unstable_now(),typeof W=="function"){c.callback=W,m(G),q=!0;break t}c===n(A)&&i(A),m(G)}else i(A);c=n(A)}if(c!==null)q=!0;else{var K=n(y);K!==null&&V(_,K.startTime-G),q=!1}}break e}finally{c=null,u=X,x=!1}q=void 0}}finally{q?N():w=!1}}}var N;if(typeof l=="function")N=function(){l(U)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,H=D.port2;D.port1.onmessage=U,N=function(){H.postMessage(null)}}else N=function(){h(U,0)};function I(){w||(w=!0,N())}function V(G,q){v=h(function(){G(T.unstable_now())},q)}T.unstable_IdlePriority=5,T.unstable_ImmediatePriority=1,T.unstable_LowPriority=4,T.unstable_NormalPriority=3,T.unstable_Profiling=null,T.unstable_UserBlockingPriority=2,T.unstable_cancelCallback=function(G){G.callback=null},T.unstable_continueExecution=function(){j||x||(j=!0,I())},T.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<G?Math.floor(1e3/G):5},T.unstable_getCurrentPriorityLevel=function(){return u},T.unstable_getFirstCallbackNode=function(){return n(A)},T.unstable_next=function(G){switch(u){case 1:case 2:case 3:var q=3;break;default:q=u}var X=u;u=q;try{return G()}finally{u=X}},T.unstable_pauseExecution=function(){},T.unstable_requestPaint=function(){},T.unstable_runWithPriority=function(G,q){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var X=u;u=G;try{return q()}finally{u=X}},T.unstable_scheduleCallback=function(G,q,X){var B=T.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?B+X:B):X=B,G){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=X+W,G={id:d++,callback:q,priorityLevel:G,startTime:X,expirationTime:W,sortIndex:-1},X>B?(G.sortIndex=X,r(y,G),n(A)===null&&G===n(y)&&(o?(f(v),v=-1):o=!0,V(_,X-B))):(G.sortIndex=W,r(A,G),j||x||(j=!0,I())),G},T.unstable_shouldYield=O,T.unstable_wrapCallback=function(G){var q=u;return function(){var X=u;u=q;try{return G.apply(this,arguments)}finally{u=X}}}}(d_)),d_}var Vj;function lk(){return Vj||(Vj=1,c_.exports=ok()),c_.exports}var h_={exports:{}},ys={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qj;function uk(){if(qj)return ys;qj=1;var T=$0();function r(A){var y="https://react.dev/errors/"+A;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)y+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+A+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(r(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},p=Symbol.for("react.portal");function b(A,y,d){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:p,key:c==null?null:""+c,children:A,containerInfo:y,implementation:d}}var M=T.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function t(A,y){if(A==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return ys.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,ys.createPortal=function(A,y){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(r(299));return b(A,y,null,d)},ys.flushSync=function(A){var y=M.T,d=i.p;try{if(M.T=null,i.p=2,A)return A()}finally{M.T=y,i.p=d,i.d.f()}},ys.preconnect=function(A,y){typeof A=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,i.d.C(A,y))},ys.prefetchDNS=function(A){typeof A=="string"&&i.d.D(A)},ys.preinit=function(A,y){if(typeof A=="string"&&y&&typeof y.as=="string"){var d=y.as,c=t(d,y.crossOrigin),u=typeof y.integrity=="string"?y.integrity:void 0,x=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;d==="style"?i.d.S(A,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:c,integrity:u,fetchPriority:x}):d==="script"&&i.d.X(A,{crossOrigin:c,integrity:u,fetchPriority:x,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},ys.preinitModule=function(A,y){if(typeof A=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var d=t(y.as,y.crossOrigin);i.d.M(A,{crossOrigin:d,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&i.d.M(A)},ys.preload=function(A,y){if(typeof A=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var d=y.as,c=t(d,y.crossOrigin);i.d.L(A,d,{crossOrigin:c,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},ys.preloadModule=function(A,y){if(typeof A=="string")if(y){var d=t(y.as,y.crossOrigin);i.d.m(A,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:d,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else i.d.m(A)},ys.requestFormReset=function(A){i.d.r(A)},ys.unstable_batchedUpdates=function(A,y){return A(y)},ys.useFormState=function(A,y,d){return M.H.useFormState(A,y,d)},ys.useFormStatus=function(){return M.H.useHostTransitionStatus()},ys.version="19.0.0",ys}var Wj;function ck(){if(Wj)return h_.exports;Wj=1;function T(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(T)}catch(r){console.error(r)}}return T(),h_.exports=uk(),h_.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xj;function dk(){if(Xj)return Op;Xj=1;var T=lk(),r=$0(),n=ck();function i(s){var a="https://react.dev/errors/"+s;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)a+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function p(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}var b=Symbol.for("react.element"),M=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),u=Symbol.for("react.consumer"),x=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),o=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),l=Symbol.for("react.lazy"),m=Symbol.for("react.offscreen"),_=Symbol.for("react.memo_cache_sentinel"),w=Symbol.iterator;function v(s){return s===null||typeof s!="object"?null:(s=w&&s[w]||s["@@iterator"],typeof s=="function"?s:null)}var E=Symbol.for("react.client.reference");function C(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===E?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case A:return"Fragment";case t:return"Portal";case d:return"Profiler";case y:return"StrictMode";case o:return"Suspense";case h:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case x:return(s.displayName||"Context")+".Provider";case u:return(s._context.displayName||"Context")+".Consumer";case j:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case f:return a=s.displayName||null,a!==null?a:C(s.type)||"Memo";case l:a=s._payload,s=s._init;try{return C(s(a))}catch{}}return null}var O=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,U=Object.assign,N,D;function H(s){if(N===void 0)try{throw Error()}catch(g){var a=g.stack.trim().match(/\n( *(at )?)/);N=a&&a[1]||"",D=-1<g.stack.indexOf(`
    at`)?" (<anonymous>)":-1<g.stack.indexOf("@")?"@unknown:0:0":""}return`
`+N+s+D}var I=!1;function V(s,a){if(!s||I)return"";I=!0;var g=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var k={DetermineComponentFrameRoot:function(){try{if(a){var dt=function(){throw Error()};if(Object.defineProperty(dt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(dt,[])}catch(tt){var Ze=tt}Reflect.construct(s,[],dt)}else{try{dt.call()}catch(tt){Ze=tt}s.call(dt.prototype)}}else{try{throw Error()}catch(tt){Ze=tt}(dt=s())&&typeof dt.catch=="function"&&dt.catch(function(){})}}catch(tt){if(tt&&Ze&&typeof tt.stack=="string")return[tt.stack,Ze.stack]}return[null,null]}};k.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var F=Object.getOwnPropertyDescriptor(k.DetermineComponentFrameRoot,"name");F&&F.configurable&&Object.defineProperty(k.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var Y=k.DetermineComponentFrameRoot(),ie=Y[0],be=Y[1];if(ie&&be){var ke=ie.split(`
`),Ie=be.split(`
`);for(F=k=0;k<ke.length&&!ke[k].includes("DetermineComponentFrameRoot");)k++;for(;F<Ie.length&&!Ie[F].includes("DetermineComponentFrameRoot");)F++;if(k===ke.length||F===Ie.length)for(k=ke.length-1,F=Ie.length-1;1<=k&&0<=F&&ke[k]!==Ie[F];)F--;for(;1<=k&&0<=F;k--,F--)if(ke[k]!==Ie[F]){if(k!==1||F!==1)do if(k--,F--,0>F||ke[k]!==Ie[F]){var rt=`
`+ke[k].replace(" at new "," at ");return s.displayName&&rt.includes("<anonymous>")&&(rt=rt.replace("<anonymous>",s.displayName)),rt}while(1<=k&&0<=F);break}}}finally{I=!1,Error.prepareStackTrace=g}return(g=s?s.displayName||s.name:"")?H(g):""}function G(s){switch(s.tag){case 26:case 27:case 5:return H(s.type);case 16:return H("Lazy");case 13:return H("Suspense");case 19:return H("SuspenseList");case 0:case 15:return s=V(s.type,!1),s;case 11:return s=V(s.type.render,!1),s;case 1:return s=V(s.type,!0),s;default:return""}}function q(s){try{var a="";do a+=G(s),s=s.return;while(s);return a}catch(g){return`
Error generating stack: `+g.message+`
`+g.stack}}function X(s){var a=s,g=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(g=a.return),s=a.return;while(s)}return a.tag===3?g:null}function B(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function W(s){if(X(s)!==s)throw Error(i(188))}function K(s){var a=s.alternate;if(!a){if(a=X(s),a===null)throw Error(i(188));return a!==s?null:s}for(var g=s,k=a;;){var F=g.return;if(F===null)break;var Y=F.alternate;if(Y===null){if(k=F.return,k!==null){g=k;continue}break}if(F.child===Y.child){for(Y=F.child;Y;){if(Y===g)return W(F),s;if(Y===k)return W(F),a;Y=Y.sibling}throw Error(i(188))}if(g.return!==k.return)g=F,k=Y;else{for(var ie=!1,be=F.child;be;){if(be===g){ie=!0,g=F,k=Y;break}if(be===k){ie=!0,k=F,g=Y;break}be=be.sibling}if(!ie){for(be=Y.child;be;){if(be===g){ie=!0,g=Y,k=F;break}if(be===k){ie=!0,k=Y,g=F;break}be=be.sibling}if(!ie)throw Error(i(189))}}if(g.alternate!==k)throw Error(i(190))}if(g.tag!==3)throw Error(i(188));return g.stateNode.current===g?s:a}function ee(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s;for(s=s.child;s!==null;){if(a=ee(s),a!==null)return a;s=s.sibling}return null}var re=Array.isArray,oe=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le={pending:!1,data:null,method:null,action:null},me=[],$=-1;function Q(s){return{current:s}}function se(s){0>$||(s.current=me[$],me[$]=null,$--)}function de(s,a){$++,me[$]=s.current,s.current=a}var ge=Q(null),ve=Q(null),ae=Q(null),ye=Q(null);function Se(s,a){switch(de(ae,a),de(ve,s),de(ge,null),s=a.nodeType,s){case 9:case 11:a=(a=a.documentElement)&&(a=a.namespaceURI)?fj(a):0;break;default:if(s=s===8?a.parentNode:a,a=s.tagName,s=s.namespaceURI)s=fj(s),a=pj(s,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}se(ge),de(ge,a)}function Me(){se(ge),se(ve),se(ae)}function Ee(s){s.memoizedState!==null&&de(ye,s);var a=ge.current,g=pj(a,s.type);a!==g&&(de(ve,s),de(ge,g))}function Te(s){ve.current===s&&(se(ge),se(ve)),ye.current===s&&(se(ye),Ap._currentValue=le)}var Pe=Object.prototype.hasOwnProperty,Ke=T.unstable_scheduleCallback,Ge=T.unstable_cancelCallback,et=T.unstable_shouldYield,ft=T.unstable_requestPaint,ot=T.unstable_now,Pt=T.unstable_getCurrentPriorityLevel,bt=T.unstable_ImmediatePriority,je=T.unstable_UserBlockingPriority,Ve=T.unstable_NormalPriority,He=T.unstable_LowPriority,nt=T.unstable_IdlePriority,vt=T.log,Lt=T.unstable_setDisableYieldValue,xt=null,mt=null;function fe(s){if(mt&&typeof mt.onCommitFiberRoot=="function")try{mt.onCommitFiberRoot(xt,s,void 0,(s.current.flags&128)===128)}catch{}}function ue(s){if(typeof vt=="function"&&Lt(s),mt&&typeof mt.setStrictMode=="function")try{mt.setStrictMode(xt,s)}catch{}}var he=Math.clz32?Math.clz32:We,we=Math.log,Oe=Math.LN2;function We(s){return s>>>=0,s===0?32:31-(we(s)/Oe|0)|0}var lt=128,st=4194304;function De(s){var a=s&42;if(a!==0)return a;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function ht(s,a){var g=s.pendingLanes;if(g===0)return 0;var k=0,F=s.suspendedLanes,Y=s.pingedLanes,ie=s.warmLanes;s=s.finishedLanes!==0;var be=g&134217727;return be!==0?(g=be&~F,g!==0?k=De(g):(Y&=be,Y!==0?k=De(Y):s||(ie=be&~ie,ie!==0&&(k=De(ie))))):(be=g&~F,be!==0?k=De(be):Y!==0?k=De(Y):s||(ie=g&~ie,ie!==0&&(k=De(ie)))),k===0?0:a!==0&&a!==k&&(a&F)===0&&(F=k&-k,ie=a&-a,F>=ie||F===32&&(ie&4194176)!==0)?a:k}function _t(s,a){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&a)===0}function Kt(s,a){switch(s){case 1:case 2:case 4:case 8:return a+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sr(){var s=lt;return lt<<=1,(lt&4194176)===0&&(lt=128),s}function Yt(){var s=st;return st<<=1,(st&62914560)===0&&(st=4194304),s}function Vt(s){for(var a=[],g=0;31>g;g++)a.push(s);return a}function zt(s,a){s.pendingLanes|=a,a!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function vr(s,a,g,k,F,Y){var ie=s.pendingLanes;s.pendingLanes=g,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=g,s.entangledLanes&=g,s.errorRecoveryDisabledLanes&=g,s.shellSuspendCounter=0;var be=s.entanglements,ke=s.expirationTimes,Ie=s.hiddenUpdates;for(g=ie&~g;0<g;){var rt=31-he(g),dt=1<<rt;be[rt]=0,ke[rt]=-1;var Ze=Ie[rt];if(Ze!==null)for(Ie[rt]=null,rt=0;rt<Ze.length;rt++){var tt=Ze[rt];tt!==null&&(tt.lane&=-536870913)}g&=~dt}k!==0&&Ar(s,k,0),Y!==0&&F===0&&s.tag!==0&&(s.suspendedLanes|=Y&~(ie&~a))}function Ar(s,a,g){s.pendingLanes|=a,s.suspendedLanes&=~a;var k=31-he(a);s.entangledLanes|=a,s.entanglements[k]=s.entanglements[k]|1073741824|g&4194218}function Rn(s,a){var g=s.entangledLanes|=a;for(s=s.entanglements;g;){var k=31-he(g),F=1<<k;F&a|s[k]&a&&(s[k]|=a),g&=~F}}function Sr(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Jr(){var s=oe.p;return s!==0?s:(s=window.event,s===void 0?32:Oj(s.type))}function Fn(s,a){var g=oe.p;try{return oe.p=s,a()}finally{oe.p=g}}var Jt=Math.random().toString(36).slice(2),gr="__reactFiber$"+Jt,br="__reactProps$"+Jt,fr="__reactContainer$"+Jt,cl="__reactEvents$"+Jt,Sd="__reactListeners$"+Jt,jd="__reactHandles$"+Jt,ku="__reactResources$"+Jt,ha="__reactMarker$"+Jt;function Ce(s){delete s[gr],delete s[br],delete s[cl],delete s[Sd],delete s[jd]}function ut(s){var a=s[gr];if(a)return a;for(var g=s.parentNode;g;){if(a=g[fr]||g[gr]){if(g=a.alternate,a.child!==null||g!==null&&g.child!==null)for(s=yj(s);s!==null;){if(g=s[gr])return g;s=yj(s)}return a}s=g,g=s.parentNode}return null}function Tt(s){if(s=s[gr]||s[fr]){var a=s.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return s}return null}function it(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s.stateNode;throw Error(i(33))}function Qt(s){var a=s[ku];return a||(a=s[ku]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Qe(s){s[ha]=!0}var Rr=new Set,Mt={};function qt(s,a){St(s,a),St(s+"Capture",a)}function St(s,a){for(Mt[s]=a,s=0;s<a.length;s++)Rr.add(a[s])}var Nr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Un=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),As={},tn={};function rn(s){return Pe.call(tn,s)?!0:Pe.call(As,s)?!1:Un.test(s)?tn[s]=!0:(As[s]=!0,!1)}function Sn(s,a,g){if(rn(a))if(g===null)s.removeAttribute(a);else{switch(typeof g){case"undefined":case"function":case"symbol":s.removeAttribute(a);return;case"boolean":var k=a.toLowerCase().slice(0,5);if(k!=="data-"&&k!=="aria-"){s.removeAttribute(a);return}}s.setAttribute(a,""+g)}}function kn(s,a,g){if(g===null)s.removeAttribute(a);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(a);return}s.setAttribute(a,""+g)}}function Yr(s,a,g,k){if(k===null)s.removeAttribute(g);else{switch(typeof k){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(g);return}s.setAttributeNS(a,g,""+k)}}function Us(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Ff(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function mb(s){var a=Ff(s)?"checked":"value",g=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),k=""+s[a];if(!s.hasOwnProperty(a)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var F=g.get,Y=g.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return F.call(this)},set:function(ie){k=""+ie,Y.call(this,ie)}}),Object.defineProperty(s,a,{enumerable:g.enumerable}),{getValue:function(){return k},setValue:function(ie){k=""+ie},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function Ed(s){s._valueTracker||(s._valueTracker=mb(s))}function iy(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var g=a.getValue(),k="";return s&&(k=Ff(s)?s.checked?"true":"false":s.value),s=k,s!==g?(a.setValue(s),!0):!1}function Ad(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var gb=/[\n"\\]/g;function nn(s){return s.replace(gb,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function fa(s,a,g,k,F,Y,ie,be){s.name="",ie!=null&&typeof ie!="function"&&typeof ie!="symbol"&&typeof ie!="boolean"?s.type=ie:s.removeAttribute("type"),a!=null?ie==="number"?(a===0&&s.value===""||s.value!=a)&&(s.value=""+Us(a)):s.value!==""+Us(a)&&(s.value=""+Us(a)):ie!=="submit"&&ie!=="reset"||s.removeAttribute("value"),a!=null?Uf(s,ie,Us(a)):g!=null?Uf(s,ie,Us(g)):k!=null&&s.removeAttribute("value"),F==null&&Y!=null&&(s.defaultChecked=!!Y),F!=null&&(s.checked=F&&typeof F!="function"&&typeof F!="symbol"),be!=null&&typeof be!="function"&&typeof be!="symbol"&&typeof be!="boolean"?s.name=""+Us(be):s.removeAttribute("name")}function Ou(s,a,g,k,F,Y,ie,be){if(Y!=null&&typeof Y!="function"&&typeof Y!="symbol"&&typeof Y!="boolean"&&(s.type=Y),a!=null||g!=null){if(!(Y!=="submit"&&Y!=="reset"||a!=null))return;g=g!=null?""+Us(g):"",a=a!=null?""+Us(a):g,be||a===s.value||(s.value=a),s.defaultValue=a}k=k??F,k=typeof k!="function"&&typeof k!="symbol"&&!!k,s.checked=be?s.checked:!!k,s.defaultChecked=!!k,ie!=null&&typeof ie!="function"&&typeof ie!="symbol"&&typeof ie!="boolean"&&(s.name=ie)}function Uf(s,a,g){a==="number"&&Ad(s.ownerDocument)===s||s.defaultValue===""+g||(s.defaultValue=""+g)}function dl(s,a,g,k){if(s=s.options,a){a={};for(var F=0;F<g.length;F++)a["$"+g[F]]=!0;for(g=0;g<s.length;g++)F=a.hasOwnProperty("$"+s[g].value),s[g].selected!==F&&(s[g].selected=F),F&&k&&(s[g].defaultSelected=!0)}else{for(g=""+Us(g),a=null,F=0;F<s.length;F++){if(s[F].value===g){s[F].selected=!0,k&&(s[F].defaultSelected=!0);return}a!==null||s[F].disabled||(a=s[F])}a!==null&&(a.selected=!0)}}function ay(s,a,g){if(a!=null&&(a=""+Us(a),a!==s.value&&(s.value=a),g==null)){s.defaultValue!==a&&(s.defaultValue=a);return}s.defaultValue=g!=null?""+Us(g):""}function oy(s,a,g,k){if(a==null){if(k!=null){if(g!=null)throw Error(i(92));if(re(k)){if(1<k.length)throw Error(i(93));k=k[0]}g=k}g==null&&(g=""),a=g}g=Us(a),s.defaultValue=g,k=s.textContent,k===g&&k!==""&&k!==null&&(s.value=k)}function Qa(s,a){if(a){var g=s.firstChild;if(g&&g===s.lastChild&&g.nodeType===3){g.nodeValue=a;return}}s.textContent=a}var ly=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Bf(s,a,g){var k=a.indexOf("--")===0;g==null||typeof g=="boolean"||g===""?k?s.setProperty(a,""):a==="float"?s.cssFloat="":s[a]="":k?s.setProperty(a,g):typeof g!="number"||g===0||ly.has(a)?a==="float"?s.cssFloat=g:s[a]=(""+g).trim():s[a]=g+"px"}function uy(s,a,g){if(a!=null&&typeof a!="object")throw Error(i(62));if(s=s.style,g!=null){for(var k in g)!g.hasOwnProperty(k)||a!=null&&a.hasOwnProperty(k)||(k.indexOf("--")===0?s.setProperty(k,""):k==="float"?s.cssFloat="":s[k]="");for(var F in a)k=a[F],a.hasOwnProperty(F)&&g[F]!==k&&Bf(s,F,k)}else for(var Y in a)a.hasOwnProperty(Y)&&Bf(s,Y,a[Y])}function Td(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yb=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Gf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Lu(s){return Gf.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var Md=null;function hl(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Hi=null,ss=null;function zf(s){var a=Tt(s);if(a&&(s=a.stateNode)){var g=s[br]||null;e:switch(s=a.stateNode,a.type){case"input":if(fa(s,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name),a=g.name,g.type==="radio"&&a!=null){for(g=s;g.parentNode;)g=g.parentNode;for(g=g.querySelectorAll('input[name="'+nn(""+a)+'"][type="radio"]'),a=0;a<g.length;a++){var k=g[a];if(k!==s&&k.form===s.form){var F=k[br]||null;if(!F)throw Error(i(90));fa(k,F.value,F.defaultValue,F.defaultValue,F.checked,F.defaultChecked,F.type,F.name)}}for(a=0;a<g.length;a++)k=g[a],k.form===s.form&&iy(k)}break e;case"textarea":ay(s,g.value,g.defaultValue);break e;case"select":a=g.value,a!=null&&dl(s,!!g.multiple,a,!1)}}}var Cd=!1;function Ja(s,a,g){if(Cd)return s(a,g);Cd=!0;try{var k=s(a);return k}finally{if(Cd=!1,(Hi!==null||ss!==null)&&(iv(),Hi&&(a=Hi,s=ss,ss=Hi=null,zf(a),s)))for(a=0;a<s.length;a++)zf(s[a])}}function fl(s,a){var g=s.stateNode;if(g===null)return null;var k=g[br]||null;if(k===null)return null;g=k[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(k=!k.disabled)||(s=s.type,k=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!k;break e;default:s=!1}if(s)return null;if(g&&typeof g!="function")throw Error(i(231,a,typeof g));return g}var Hf=!1;if(Nr)try{var eo={};Object.defineProperty(eo,"passive",{get:function(){Hf=!0}}),window.addEventListener("test",eo,eo),window.removeEventListener("test",eo,eo)}catch{Hf=!1}var Vi=null,Vf=null,Du=null;function qf(){if(Du)return Du;var s,a=Vf,g=a.length,k,F="value"in Vi?Vi.value:Vi.textContent,Y=F.length;for(s=0;s<g&&a[s]===F[s];s++);var ie=g-s;for(k=1;k<=ie&&a[g-k]===F[Y-k];k++);return Du=F.slice(s,1<k?1-k:void 0)}function Rd(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function Pu(){return!0}function cy(){return!1}function ms(s){function a(g,k,F,Y,ie){this._reactName=g,this._targetInst=F,this.type=k,this.nativeEvent=Y,this.target=ie,this.currentTarget=null;for(var be in s)s.hasOwnProperty(be)&&(g=s[be],this[be]=g?g(Y):Y[be]);return this.isDefaultPrevented=(Y.defaultPrevented!=null?Y.defaultPrevented:Y.returnValue===!1)?Pu:cy,this.isPropagationStopped=cy,this}return U(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var g=this.nativeEvent;g&&(g.preventDefault?g.preventDefault():typeof g.returnValue!="unknown"&&(g.returnValue=!1),this.isDefaultPrevented=Pu)},stopPropagation:function(){var g=this.nativeEvent;g&&(g.stopPropagation?g.stopPropagation():typeof g.cancelBubble!="unknown"&&(g.cancelBubble=!0),this.isPropagationStopped=Pu)},persist:function(){},isPersistent:Pu}),a}var to={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},kd=ms(to),pl=U({},to,{view:0,detail:0}),_i=ms(pl),$s,ro,qi,Bs=U({},pl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pd,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==qi&&(qi&&s.type==="mousemove"?($s=s.screenX-qi.screenX,ro=s.screenY-qi.screenY):ro=$s=0,qi=s),$s)},movementY:function(s){return"movementY"in s?s.movementY:ro}}),ml=ms(Bs),vb=U({},Bs,{dataTransfer:0}),pa=ms(vb),Od=U({},pl,{relatedTarget:0}),Ld=ms(Od),dy=U({},to,{animationName:0,elapsedTime:0,pseudoElement:0}),hy=ms(dy),fy=U({},to,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),py=ms(fy),my=U({},to,{data:0}),Dd=ms(my),gy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function by(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=vy[s])?!!a[s]:!1}function Pd(){return by}var _y=U({},pl,{key:function(s){if(s.key){var a=gy[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=Rd(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?yy[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pd,charCode:function(s){return s.type==="keypress"?Rd(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Rd(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),wy=ms(_y),xy=U({},Bs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wf=ms(xy),Xf=U({},pl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pd}),Nd=ms(Xf),Yf=U({},to,{propertyName:0,elapsedTime:0,pseudoElement:0}),Sy=ms(Yf),ma=U({},Bs,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),ga=ms(ma),kt=U({},to,{newState:0,oldState:0}),bb=ms(kt),jy=[9,13,27,32],ya=Nr&&"CompositionEvent"in window,Nu=null;Nr&&"documentMode"in document&&(Nu=document.documentMode);var _b=Nr&&"TextEvent"in window&&!Nu,kr=Nr&&(!ya||Nu&&8<Nu&&11>=Nu),Ey=" ",Gs=!1;function Ay(s,a){switch(s){case"keyup":return jy.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ty(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var gl=!1;function wb(s,a){switch(s){case"compositionend":return Ty(a);case"keypress":return a.which!==32?null:(Gs=!0,Ey);case"textInput":return s=a.data,s===Ey&&Gs?null:s;default:return null}}function xb(s,a){if(gl)return s==="compositionend"||!ya&&Ay(s,a)?(s=qf(),Du=Vf=Vi=null,gl=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return kr&&a.locale!=="ko"?null:a.data;default:return null}}var My={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function un(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!My[s.type]:a==="textarea"}function Id(s,a,g,k){Hi?ss?ss.push(k):ss=[k]:Hi=k,a=cv(a,"onChange"),0<a.length&&(g=new kd("onChange","change",null,g,k),s.push({event:g,listeners:a}))}var S=null,L=null;function P(s){lj(s,0)}function z(s){var a=it(s);if(iy(a))return s}function Z(s,a){if(s==="change")return a}var J=!1;if(Nr){var te;if(Nr){var _e="oninput"in document;if(!_e){var xe=document.createElement("div");xe.setAttribute("oninput","return;"),_e=typeof xe.oninput=="function"}te=_e}else te=!1;J=te&&(!document.documentMode||9<document.documentMode)}function Ae(){S&&(S.detachEvent("onpropertychange",Le),L=S=null)}function Le(s){if(s.propertyName==="value"&&z(L)){var a=[];Id(a,L,s,hl(s)),Ja(P,a)}}function Fe(s,a,g){s==="focusin"?(Ae(),S=a,L=g,S.attachEvent("onpropertychange",Le)):s==="focusout"&&Ae()}function Ue(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return z(L)}function Re(s,a){if(s==="click")return z(a)}function ct(s,a){if(s==="input"||s==="change")return z(a)}function Ye(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var Xe=typeof Object.is=="function"?Object.is:Ye;function $e(s,a){if(Xe(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var g=Object.keys(s),k=Object.keys(a);if(g.length!==k.length)return!1;for(k=0;k<g.length;k++){var F=g[k];if(!Pe.call(a,F)||!Xe(s[F],a[F]))return!1}return!0}function Je(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function jt(s,a){var g=Je(s);s=0;for(var k;g;){if(g.nodeType===3){if(k=s+g.textContent.length,s<=a&&k>=a)return{node:g,offset:a-s};s=k}e:{for(;g;){if(g.nextSibling){g=g.nextSibling;break e}g=g.parentNode}g=void 0}g=Je(g)}}function wt(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?wt(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function Et(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var a=Ad(s.document);a instanceof s.HTMLIFrameElement;){try{var g=typeof a.contentWindow.location.href=="string"}catch{g=!1}if(g)s=a.contentWindow;else break;a=Ad(s.document)}return a}function er(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}function ir(s,a){var g=Et(a);a=s.focusedElem;var k=s.selectionRange;if(g!==a&&a&&a.ownerDocument&&wt(a.ownerDocument.documentElement,a)){if(k!==null&&er(a)){if(s=k.start,g=k.end,g===void 0&&(g=s),"selectionStart"in a)a.selectionStart=s,a.selectionEnd=Math.min(g,a.value.length);else if(g=(s=a.ownerDocument||document)&&s.defaultView||window,g.getSelection){g=g.getSelection();var F=a.textContent.length,Y=Math.min(k.start,F);k=k.end===void 0?Y:Math.min(k.end,F),!g.extend&&Y>k&&(F=k,k=Y,Y=F),F=jt(a,Y);var ie=jt(a,k);F&&ie&&(g.rangeCount!==1||g.anchorNode!==F.node||g.anchorOffset!==F.offset||g.focusNode!==ie.node||g.focusOffset!==ie.offset)&&(s=s.createRange(),s.setStart(F.node,F.offset),g.removeAllRanges(),Y>k?(g.addRange(s),g.extend(ie.node,ie.offset)):(s.setEnd(ie.node,ie.offset),g.addRange(s)))}}for(s=[],g=a;g=g.parentNode;)g.nodeType===1&&s.push({element:g,left:g.scrollLeft,top:g.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<s.length;a++)g=s[a],g.element.scrollLeft=g.left,g.element.scrollTop=g.top}}var Tr=Nr&&"documentMode"in document&&11>=document.documentMode,Mr=null,Dr=null,pr=null,Wt=!1;function cn(s,a,g){var k=g.window===g?g.document:g.nodeType===9?g:g.ownerDocument;Wt||Mr==null||Mr!==Ad(k)||(k=Mr,"selectionStart"in k&&er(k)?k={start:k.selectionStart,end:k.selectionEnd}:(k=(k.ownerDocument&&k.ownerDocument.defaultView||window).getSelection(),k={anchorNode:k.anchorNode,anchorOffset:k.anchorOffset,focusNode:k.focusNode,focusOffset:k.focusOffset}),pr&&$e(pr,k)||(pr=k,k=cv(Dr,"onSelect"),0<k.length&&(a=new kd("onSelect","select",null,a,g),s.push({event:a,listeners:k}),a.target=Mr)))}function Or(s,a){var g={};return g[s.toLowerCase()]=a.toLowerCase(),g["Webkit"+s]="webkit"+a,g["Moz"+s]="moz"+a,g}var Ir={animationend:Or("Animation","AnimationEnd"),animationiteration:Or("Animation","AnimationIteration"),animationstart:Or("Animation","AnimationStart"),transitionrun:Or("Transition","TransitionRun"),transitionstart:Or("Transition","TransitionStart"),transitioncancel:Or("Transition","TransitionCancel"),transitionend:Or("Transition","TransitionEnd")},_r={},gn={};Nr&&(gn=document.createElement("div").style,"AnimationEvent"in window||(delete Ir.animationend.animation,delete Ir.animationiteration.animation,delete Ir.animationstart.animation),"TransitionEvent"in window||delete Ir.transitionend.transition);function Fr(s){if(_r[s])return _r[s];if(!Ir[s])return s;var a=Ir[s],g;for(g in a)if(a.hasOwnProperty(g)&&g in gn)return _r[s]=a[g];return s}var Bn=Fr("animationend"),Ur=Fr("animationiteration"),yn=Fr("animationstart"),Iu=Fr("transitionrun"),Fu=Fr("transitionstart"),GC=Fr("transitioncancel"),Kx=Fr("transitionend"),Qx=new Map,Jx="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Wi(s,a){Qx.set(s,a),qt(a,[s])}var wi=[],Fd=0,Sb=0;function Cy(){for(var s=Fd,a=Sb=Fd=0;a<s;){var g=wi[a];wi[a++]=null;var k=wi[a];wi[a++]=null;var F=wi[a];wi[a++]=null;var Y=wi[a];if(wi[a++]=null,k!==null&&F!==null){var ie=k.pending;ie===null?F.next=F:(F.next=ie.next,ie.next=F),k.pending=F}Y!==0&&e2(g,F,Y)}}function Ry(s,a,g,k){wi[Fd++]=s,wi[Fd++]=a,wi[Fd++]=g,wi[Fd++]=k,Sb|=k,s.lanes|=k,s=s.alternate,s!==null&&(s.lanes|=k)}function jb(s,a,g,k){return Ry(s,a,g,k),ky(s)}function yl(s,a){return Ry(s,null,null,a),ky(s)}function e2(s,a,g){s.lanes|=g;var k=s.alternate;k!==null&&(k.lanes|=g);for(var F=!1,Y=s.return;Y!==null;)Y.childLanes|=g,k=Y.alternate,k!==null&&(k.childLanes|=g),Y.tag===22&&(s=Y.stateNode,s===null||s._visibility&1||(F=!0)),s=Y,Y=Y.return;F&&a!==null&&s.tag===3&&(Y=s.stateNode,F=31-he(g),Y=Y.hiddenUpdates,s=Y[F],s===null?Y[F]=[a]:s.push(a),a.lane=g|536870912)}function ky(s){if(50<bp)throw bp=0,R1=null,Error(i(185));for(var a=s.return;a!==null;)s=a,a=s.return;return s.tag===3?s.stateNode:null}var Ud={},t2=new WeakMap;function xi(s,a){if(typeof s=="object"&&s!==null){var g=t2.get(s);return g!==void 0?g:(a={value:s,source:a,stack:q(a)},t2.set(s,a),a)}return{value:s,source:a,stack:q(a)}}var Bd=[],Gd=0,Oy=null,Ly=0,Si=[],ji=0,Uu=null,no=1,so="";function Bu(s,a){Bd[Gd++]=Ly,Bd[Gd++]=Oy,Oy=s,Ly=a}function r2(s,a,g){Si[ji++]=no,Si[ji++]=so,Si[ji++]=Uu,Uu=s;var k=no;s=so;var F=32-he(k)-1;k&=~(1<<F),g+=1;var Y=32-he(a)+F;if(30<Y){var ie=F-F%5;Y=(k&(1<<ie)-1).toString(32),k>>=ie,F-=ie,no=1<<32-he(a)+F|g<<F|k,so=Y+s}else no=1<<Y|g<<F|k,so=s}function Eb(s){s.return!==null&&(Bu(s,1),r2(s,1,0))}function Ab(s){for(;s===Oy;)Oy=Bd[--Gd],Bd[Gd]=null,Ly=Bd[--Gd],Bd[Gd]=null;for(;s===Uu;)Uu=Si[--ji],Si[ji]=null,so=Si[--ji],Si[ji]=null,no=Si[--ji],Si[ji]=null}var Ts=null,is=null,jr=!1,Xi=null,va=!1,Tb=Error(i(519));function Gu(s){var a=Error(i(418,""));throw Kf(xi(a,s)),Tb}function n2(s){var a=s.stateNode,g=s.type,k=s.memoizedProps;switch(a[gr]=s,a[br]=k,g){case"dialog":mr("cancel",a),mr("close",a);break;case"iframe":case"object":case"embed":mr("load",a);break;case"video":case"audio":for(g=0;g<wp.length;g++)mr(wp[g],a);break;case"source":mr("error",a);break;case"img":case"image":case"link":mr("error",a),mr("load",a);break;case"details":mr("toggle",a);break;case"input":mr("invalid",a),Ou(a,k.value,k.defaultValue,k.checked,k.defaultChecked,k.type,k.name,!0),Ed(a);break;case"select":mr("invalid",a);break;case"textarea":mr("invalid",a),oy(a,k.value,k.defaultValue,k.children),Ed(a)}g=k.children,typeof g!="string"&&typeof g!="number"&&typeof g!="bigint"||a.textContent===""+g||k.suppressHydrationWarning===!0||hj(a.textContent,g)?(k.popover!=null&&(mr("beforetoggle",a),mr("toggle",a)),k.onScroll!=null&&mr("scroll",a),k.onScrollEnd!=null&&mr("scrollend",a),k.onClick!=null&&(a.onclick=dv),a=!0):a=!1,a||Gu(s)}function s2(s){for(Ts=s.return;Ts;)switch(Ts.tag){case 3:case 27:va=!0;return;case 5:case 13:va=!1;return;default:Ts=Ts.return}}function $f(s){if(s!==Ts)return!1;if(!jr)return s2(s),jr=!0,!1;var a=!1,g;if((g=s.tag!==3&&s.tag!==27)&&((g=s.tag===5)&&(g=s.type,g=!(g!=="form"&&g!=="button")||X1(s.type,s.memoizedProps)),g=!g),g&&(a=!0),a&&is&&Gu(s),s2(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));e:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8)if(g=s.data,g==="/$"){if(a===0){is=$i(s.nextSibling);break e}a--}else g!=="$"&&g!=="$!"&&g!=="$?"||a++;s=s.nextSibling}is=null}}else is=Ts?$i(s.stateNode.nextSibling):null;return!0}function Zf(){is=Ts=null,jr=!1}function Kf(s){Xi===null?Xi=[s]:Xi.push(s)}var Qf=Error(i(460)),i2=Error(i(474)),Mb={then:function(){}};function a2(s){return s=s.status,s==="fulfilled"||s==="rejected"}function Dy(){}function o2(s,a,g){switch(g=s[g],g===void 0?s.push(a):g!==a&&(a.then(Dy,Dy),a=g),a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,s===Qf?Error(i(483)):s;default:if(typeof a.status=="string")a.then(Dy,Dy);else{if(s=$r,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=a,s.status="pending",s.then(function(k){if(a.status==="pending"){var F=a;F.status="fulfilled",F.value=k}},function(k){if(a.status==="pending"){var F=a;F.status="rejected",F.reason=k}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,s===Qf?Error(i(483)):s}throw Jf=a,Qf}}var Jf=null;function l2(){if(Jf===null)throw Error(i(459));var s=Jf;return Jf=null,s}var zd=null,ep=0;function Py(s){var a=ep;return ep+=1,zd===null&&(zd=[]),o2(zd,s,a)}function tp(s,a){a=a.props.ref,s.ref=a!==void 0?a:null}function Ny(s,a){throw a.$$typeof===b?Error(i(525)):(s=Object.prototype.toString.call(a),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s)))}function u2(s){var a=s._init;return a(s._payload)}function c2(s){function a(ze,Ne){if(s){var qe=ze.deletions;qe===null?(ze.deletions=[Ne],ze.flags|=16):qe.push(Ne)}}function g(ze,Ne){if(!s)return null;for(;Ne!==null;)a(ze,Ne),Ne=Ne.sibling;return null}function k(ze){for(var Ne=new Map;ze!==null;)ze.key!==null?Ne.set(ze.key,ze):Ne.set(ze.index,ze),ze=ze.sibling;return Ne}function F(ze,Ne){return ze=Cl(ze,Ne),ze.index=0,ze.sibling=null,ze}function Y(ze,Ne,qe){return ze.index=qe,s?(qe=ze.alternate,qe!==null?(qe=qe.index,qe<Ne?(ze.flags|=33554434,Ne):qe):(ze.flags|=33554434,Ne)):(ze.flags|=1048576,Ne)}function ie(ze){return s&&ze.alternate===null&&(ze.flags|=33554434),ze}function be(ze,Ne,qe,at){return Ne===null||Ne.tag!==6?(Ne=x1(qe,ze.mode,at),Ne.return=ze,Ne):(Ne=F(Ne,qe),Ne.return=ze,Ne)}function ke(ze,Ne,qe,at){var Dt=qe.type;return Dt===A?rt(ze,Ne,qe.props.children,at,qe.key):Ne!==null&&(Ne.elementType===Dt||typeof Dt=="object"&&Dt!==null&&Dt.$$typeof===l&&u2(Dt)===Ne.type)?(Ne=F(Ne,qe.props),tp(Ne,qe),Ne.return=ze,Ne):(Ne=ev(qe.type,qe.key,qe.props,null,ze.mode,at),tp(Ne,qe),Ne.return=ze,Ne)}function Ie(ze,Ne,qe,at){return Ne===null||Ne.tag!==4||Ne.stateNode.containerInfo!==qe.containerInfo||Ne.stateNode.implementation!==qe.implementation?(Ne=S1(qe,ze.mode,at),Ne.return=ze,Ne):(Ne=F(Ne,qe.children||[]),Ne.return=ze,Ne)}function rt(ze,Ne,qe,at,Dt){return Ne===null||Ne.tag!==7?(Ne=Ku(qe,ze.mode,at,Dt),Ne.return=ze,Ne):(Ne=F(Ne,qe),Ne.return=ze,Ne)}function dt(ze,Ne,qe){if(typeof Ne=="string"&&Ne!==""||typeof Ne=="number"||typeof Ne=="bigint")return Ne=x1(""+Ne,ze.mode,qe),Ne.return=ze,Ne;if(typeof Ne=="object"&&Ne!==null){switch(Ne.$$typeof){case M:return qe=ev(Ne.type,Ne.key,Ne.props,null,ze.mode,qe),tp(qe,Ne),qe.return=ze,qe;case t:return Ne=S1(Ne,ze.mode,qe),Ne.return=ze,Ne;case l:var at=Ne._init;return Ne=at(Ne._payload),dt(ze,Ne,qe)}if(re(Ne)||v(Ne))return Ne=Ku(Ne,ze.mode,qe,null),Ne.return=ze,Ne;if(typeof Ne.then=="function")return dt(ze,Py(Ne),qe);if(Ne.$$typeof===x)return dt(ze,Ky(ze,Ne),qe);Ny(ze,Ne)}return null}function Ze(ze,Ne,qe,at){var Dt=Ne!==null?Ne.key:null;if(typeof qe=="string"&&qe!==""||typeof qe=="number"||typeof qe=="bigint")return Dt!==null?null:be(ze,Ne,""+qe,at);if(typeof qe=="object"&&qe!==null){switch(qe.$$typeof){case M:return qe.key===Dt?ke(ze,Ne,qe,at):null;case t:return qe.key===Dt?Ie(ze,Ne,qe,at):null;case l:return Dt=qe._init,qe=Dt(qe._payload),Ze(ze,Ne,qe,at)}if(re(qe)||v(qe))return Dt!==null?null:rt(ze,Ne,qe,at,null);if(typeof qe.then=="function")return Ze(ze,Ne,Py(qe),at);if(qe.$$typeof===x)return Ze(ze,Ne,Ky(ze,qe),at);Ny(ze,qe)}return null}function tt(ze,Ne,qe,at,Dt){if(typeof at=="string"&&at!==""||typeof at=="number"||typeof at=="bigint")return ze=ze.get(qe)||null,be(Ne,ze,""+at,Dt);if(typeof at=="object"&&at!==null){switch(at.$$typeof){case M:return ze=ze.get(at.key===null?qe:at.key)||null,ke(Ne,ze,at,Dt);case t:return ze=ze.get(at.key===null?qe:at.key)||null,Ie(Ne,ze,at,Dt);case l:var or=at._init;return at=or(at._payload),tt(ze,Ne,qe,at,Dt)}if(re(at)||v(at))return ze=ze.get(qe)||null,rt(Ne,ze,at,Dt,null);if(typeof at.then=="function")return tt(ze,Ne,qe,Py(at),Dt);if(at.$$typeof===x)return tt(ze,Ne,qe,Ky(Ne,at),Dt);Ny(Ne,at)}return null}function Nt(ze,Ne,qe,at){for(var Dt=null,or=null,Bt=Ne,Ht=Ne=0,$n=null;Bt!==null&&Ht<qe.length;Ht++){Bt.index>Ht?($n=Bt,Bt=null):$n=Bt.sibling;var Er=Ze(ze,Bt,qe[Ht],at);if(Er===null){Bt===null&&(Bt=$n);break}s&&Bt&&Er.alternate===null&&a(ze,Bt),Ne=Y(Er,Ne,Ht),or===null?Dt=Er:or.sibling=Er,or=Er,Bt=$n}if(Ht===qe.length)return g(ze,Bt),jr&&Bu(ze,Ht),Dt;if(Bt===null){for(;Ht<qe.length;Ht++)Bt=dt(ze,qe[Ht],at),Bt!==null&&(Ne=Y(Bt,Ne,Ht),or===null?Dt=Bt:or.sibling=Bt,or=Bt);return jr&&Bu(ze,Ht),Dt}for(Bt=k(Bt);Ht<qe.length;Ht++)$n=tt(Bt,ze,Ht,qe[Ht],at),$n!==null&&(s&&$n.alternate!==null&&Bt.delete($n.key===null?Ht:$n.key),Ne=Y($n,Ne,Ht),or===null?Dt=$n:or.sibling=$n,or=$n);return s&&Bt.forEach(function(Nl){return a(ze,Nl)}),jr&&Bu(ze,Ht),Dt}function $t(ze,Ne,qe,at){if(qe==null)throw Error(i(151));for(var Dt=null,or=null,Bt=Ne,Ht=Ne=0,$n=null,Er=qe.next();Bt!==null&&!Er.done;Ht++,Er=qe.next()){Bt.index>Ht?($n=Bt,Bt=null):$n=Bt.sibling;var Nl=Ze(ze,Bt,Er.value,at);if(Nl===null){Bt===null&&(Bt=$n);break}s&&Bt&&Nl.alternate===null&&a(ze,Bt),Ne=Y(Nl,Ne,Ht),or===null?Dt=Nl:or.sibling=Nl,or=Nl,Bt=$n}if(Er.done)return g(ze,Bt),jr&&Bu(ze,Ht),Dt;if(Bt===null){for(;!Er.done;Ht++,Er=qe.next())Er=dt(ze,Er.value,at),Er!==null&&(Ne=Y(Er,Ne,Ht),or===null?Dt=Er:or.sibling=Er,or=Er);return jr&&Bu(ze,Ht),Dt}for(Bt=k(Bt);!Er.done;Ht++,Er=qe.next())Er=tt(Bt,ze,Ht,Er.value,at),Er!==null&&(s&&Er.alternate!==null&&Bt.delete(Er.key===null?Ht:Er.key),Ne=Y(Er,Ne,Ht),or===null?Dt=Er:or.sibling=Er,or=Er);return s&&Bt.forEach(function(tk){return a(ze,tk)}),jr&&Bu(ze,Ht),Dt}function _n(ze,Ne,qe,at){if(typeof qe=="object"&&qe!==null&&qe.type===A&&qe.key===null&&(qe=qe.props.children),typeof qe=="object"&&qe!==null){switch(qe.$$typeof){case M:e:{for(var Dt=qe.key;Ne!==null;){if(Ne.key===Dt){if(Dt=qe.type,Dt===A){if(Ne.tag===7){g(ze,Ne.sibling),at=F(Ne,qe.props.children),at.return=ze,ze=at;break e}}else if(Ne.elementType===Dt||typeof Dt=="object"&&Dt!==null&&Dt.$$typeof===l&&u2(Dt)===Ne.type){g(ze,Ne.sibling),at=F(Ne,qe.props),tp(at,qe),at.return=ze,ze=at;break e}g(ze,Ne);break}else a(ze,Ne);Ne=Ne.sibling}qe.type===A?(at=Ku(qe.props.children,ze.mode,at,qe.key),at.return=ze,ze=at):(at=ev(qe.type,qe.key,qe.props,null,ze.mode,at),tp(at,qe),at.return=ze,ze=at)}return ie(ze);case t:e:{for(Dt=qe.key;Ne!==null;){if(Ne.key===Dt)if(Ne.tag===4&&Ne.stateNode.containerInfo===qe.containerInfo&&Ne.stateNode.implementation===qe.implementation){g(ze,Ne.sibling),at=F(Ne,qe.children||[]),at.return=ze,ze=at;break e}else{g(ze,Ne);break}else a(ze,Ne);Ne=Ne.sibling}at=S1(qe,ze.mode,at),at.return=ze,ze=at}return ie(ze);case l:return Dt=qe._init,qe=Dt(qe._payload),_n(ze,Ne,qe,at)}if(re(qe))return Nt(ze,Ne,qe,at);if(v(qe)){if(Dt=v(qe),typeof Dt!="function")throw Error(i(150));return qe=Dt.call(qe),$t(ze,Ne,qe,at)}if(typeof qe.then=="function")return _n(ze,Ne,Py(qe),at);if(qe.$$typeof===x)return _n(ze,Ne,Ky(ze,qe),at);Ny(ze,qe)}return typeof qe=="string"&&qe!==""||typeof qe=="number"||typeof qe=="bigint"?(qe=""+qe,Ne!==null&&Ne.tag===6?(g(ze,Ne.sibling),at=F(Ne,qe),at.return=ze,ze=at):(g(ze,Ne),at=x1(qe,ze.mode,at),at.return=ze,ze=at),ie(ze)):g(ze,Ne)}return function(ze,Ne,qe,at){try{ep=0;var Dt=_n(ze,Ne,qe,at);return zd=null,Dt}catch(Bt){if(Bt===Qf)throw Bt;var or=Mi(29,Bt,null,ze.mode);return or.lanes=at,or.return=ze,or}finally{}}}var zu=c2(!0),d2=c2(!1),Hd=Q(null),Iy=Q(0);function h2(s,a){s=go,de(Iy,s),de(Hd,a),go=s|a.baseLanes}function Cb(){de(Iy,go),de(Hd,Hd.current)}function Rb(){go=Iy.current,se(Hd),se(Iy)}var Ei=Q(null),ba=null;function vl(s){var a=s.alternate;de(Gn,Gn.current&1),de(Ei,s),ba===null&&(a===null||Hd.current!==null||a.memoizedState!==null)&&(ba=s)}function f2(s){if(s.tag===22){if(de(Gn,Gn.current),de(Ei,s),ba===null){var a=s.alternate;a!==null&&a.memoizedState!==null&&(ba=s)}}else bl()}function bl(){de(Gn,Gn.current),de(Ei,Ei.current)}function io(s){se(Ei),ba===s&&(ba=null),se(Gn)}var Gn=Q(0);function Fy(s){for(var a=s;a!==null;){if(a.tag===13){var g=a.memoizedState;if(g!==null&&(g=g.dehydrated,g===null||g.data==="$?"||g.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var zC=typeof AbortController<"u"?AbortController:function(){var s=[],a=this.signal={aborted:!1,addEventListener:function(g,k){s.push(k)}};this.abort=function(){a.aborted=!0,s.forEach(function(g){return g()})}},HC=T.unstable_scheduleCallback,VC=T.unstable_NormalPriority,zn={$$typeof:x,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function kb(){return{controller:new zC,data:new Map,refCount:0}}function rp(s){s.refCount--,s.refCount===0&&HC(VC,function(){s.controller.abort()})}var np=null,Ob=0,Vd=0,qd=null;function qC(s,a){if(np===null){var g=np=[];Ob=0,Vd=F1(),qd={status:"pending",value:void 0,then:function(k){g.push(k)}}}return Ob++,a.then(p2,p2),a}function p2(){if(--Ob===0&&np!==null){qd!==null&&(qd.status="fulfilled");var s=np;np=null,Vd=0,qd=null;for(var a=0;a<s.length;a++)(0,s[a])()}}function WC(s,a){var g=[],k={status:"pending",value:null,reason:null,then:function(F){g.push(F)}};return s.then(function(){k.status="fulfilled",k.value=a;for(var F=0;F<g.length;F++)(0,g[F])(a)},function(F){for(k.status="rejected",k.reason=F,F=0;F<g.length;F++)(0,g[F])(void 0)}),k}var m2=O.S;O.S=function(s,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&qC(s,a),m2!==null&&m2(s,a)};var Hu=Q(null);function Lb(){var s=Hu.current;return s!==null?s:$r.pooledCache}function Uy(s,a){a===null?de(Hu,Hu.current):de(Hu,a.pool)}function g2(){var s=Lb();return s===null?null:{parent:zn._currentValue,pool:s}}var _l=0,ar=null,Br=null,On=null,By=!1,Wd=!1,Vu=!1,Gy=0,sp=0,Xd=null,XC=0;function jn(){throw Error(i(321))}function Db(s,a){if(a===null)return!1;for(var g=0;g<a.length&&g<s.length;g++)if(!Xe(s[g],a[g]))return!1;return!0}function Pb(s,a,g,k,F,Y){return _l=Y,ar=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,O.H=s===null||s.memoizedState===null?qu:wl,Vu=!1,Y=g(k,F),Vu=!1,Wd&&(Y=v2(a,g,k,F)),y2(s),Y}function y2(s){O.H=_a;var a=Br!==null&&Br.next!==null;if(_l=0,On=Br=ar=null,By=!1,sp=0,Xd=null,a)throw Error(i(300));s===null||Xn||(s=s.dependencies,s!==null&&Zy(s)&&(Xn=!0))}function v2(s,a,g,k){ar=s;var F=0;do{if(Wd&&(Xd=null),sp=0,Wd=!1,25<=F)throw Error(i(301));if(F+=1,On=Br=null,s.updateQueue!=null){var Y=s.updateQueue;Y.lastEffect=null,Y.events=null,Y.stores=null,Y.memoCache!=null&&(Y.memoCache.index=0)}O.H=Wu,Y=a(g,k)}while(Wd);return Y}function YC(){var s=O.H,a=s.useState()[0];return a=typeof a.then=="function"?ip(a):a,s=s.useState()[0],(Br!==null?Br.memoizedState:null)!==s&&(ar.flags|=1024),a}function Nb(){var s=Gy!==0;return Gy=0,s}function Ib(s,a,g){a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~g}function Fb(s){if(By){for(s=s.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}By=!1}_l=0,On=Br=ar=null,Wd=!1,sp=Gy=0,Xd=null}function zs(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return On===null?ar.memoizedState=On=s:On=On.next=s,On}function Ln(){if(Br===null){var s=ar.alternate;s=s!==null?s.memoizedState:null}else s=Br.next;var a=On===null?ar.memoizedState:On.next;if(a!==null)On=a,Br=s;else{if(s===null)throw ar.alternate===null?Error(i(467)):Error(i(310));Br=s,s={memoizedState:Br.memoizedState,baseState:Br.baseState,baseQueue:Br.baseQueue,queue:Br.queue,next:null},On===null?ar.memoizedState=On=s:On=On.next=s}return On}var zy;zy=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function ip(s){var a=sp;return sp+=1,Xd===null&&(Xd=[]),s=o2(Xd,s,a),a=ar,(On===null?a.memoizedState:On.next)===null&&(a=a.alternate,O.H=a===null||a.memoizedState===null?qu:wl),s}function Hy(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return ip(s);if(s.$$typeof===x)return gs(s)}throw Error(i(438,String(s)))}function Ub(s){var a=null,g=ar.updateQueue;if(g!==null&&(a=g.memoCache),a==null){var k=ar.alternate;k!==null&&(k=k.updateQueue,k!==null&&(k=k.memoCache,k!=null&&(a={data:k.data.map(function(F){return F.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),g===null&&(g=zy(),ar.updateQueue=g),g.memoCache=a,g=a.data[a.index],g===void 0)for(g=a.data[a.index]=Array(s),k=0;k<s;k++)g[k]=_;return a.index++,g}function ao(s,a){return typeof a=="function"?a(s):a}function Vy(s){var a=Ln();return Bb(a,Br,s)}function Bb(s,a,g){var k=s.queue;if(k===null)throw Error(i(311));k.lastRenderedReducer=g;var F=s.baseQueue,Y=k.pending;if(Y!==null){if(F!==null){var ie=F.next;F.next=Y.next,Y.next=ie}a.baseQueue=F=Y,k.pending=null}if(Y=s.baseState,F===null)s.memoizedState=Y;else{a=F.next;var be=ie=null,ke=null,Ie=a,rt=!1;do{var dt=Ie.lane&-536870913;if(dt!==Ie.lane?(yr&dt)===dt:(_l&dt)===dt){var Ze=Ie.revertLane;if(Ze===0)ke!==null&&(ke=ke.next={lane:0,revertLane:0,action:Ie.action,hasEagerState:Ie.hasEagerState,eagerState:Ie.eagerState,next:null}),dt===Vd&&(rt=!0);else if((_l&Ze)===Ze){Ie=Ie.next,Ze===Vd&&(rt=!0);continue}else dt={lane:0,revertLane:Ie.revertLane,action:Ie.action,hasEagerState:Ie.hasEagerState,eagerState:Ie.eagerState,next:null},ke===null?(be=ke=dt,ie=Y):ke=ke.next=dt,ar.lanes|=Ze,Rl|=Ze;dt=Ie.action,Vu&&g(Y,dt),Y=Ie.hasEagerState?Ie.eagerState:g(Y,dt)}else Ze={lane:dt,revertLane:Ie.revertLane,action:Ie.action,hasEagerState:Ie.hasEagerState,eagerState:Ie.eagerState,next:null},ke===null?(be=ke=Ze,ie=Y):ke=ke.next=Ze,ar.lanes|=dt,Rl|=dt;Ie=Ie.next}while(Ie!==null&&Ie!==a);if(ke===null?ie=Y:ke.next=be,!Xe(Y,s.memoizedState)&&(Xn=!0,rt&&(g=qd,g!==null)))throw g;s.memoizedState=Y,s.baseState=ie,s.baseQueue=ke,k.lastRenderedState=Y}return F===null&&(k.lanes=0),[s.memoizedState,k.dispatch]}function Gb(s){var a=Ln(),g=a.queue;if(g===null)throw Error(i(311));g.lastRenderedReducer=s;var k=g.dispatch,F=g.pending,Y=a.memoizedState;if(F!==null){g.pending=null;var ie=F=F.next;do Y=s(Y,ie.action),ie=ie.next;while(ie!==F);Xe(Y,a.memoizedState)||(Xn=!0),a.memoizedState=Y,a.baseQueue===null&&(a.baseState=Y),g.lastRenderedState=Y}return[Y,k]}function b2(s,a,g){var k=ar,F=Ln(),Y=jr;if(Y){if(g===void 0)throw Error(i(407));g=g()}else g=a();var ie=!Xe((Br||F).memoizedState,g);if(ie&&(F.memoizedState=g,Xn=!0),F=F.queue,Vb(x2.bind(null,k,F,s),[s]),F.getSnapshot!==a||ie||On!==null&&On.memoizedState.tag&1){if(k.flags|=2048,Yd(9,w2.bind(null,k,F,g,a),{destroy:void 0},null),$r===null)throw Error(i(349));Y||(_l&60)!==0||_2(k,a,g)}return g}function _2(s,a,g){s.flags|=16384,s={getSnapshot:a,value:g},a=ar.updateQueue,a===null?(a=zy(),ar.updateQueue=a,a.stores=[s]):(g=a.stores,g===null?a.stores=[s]:g.push(s))}function w2(s,a,g,k){a.value=g,a.getSnapshot=k,S2(a)&&j2(s)}function x2(s,a,g){return g(function(){S2(a)&&j2(s)})}function S2(s){var a=s.getSnapshot;s=s.value;try{var g=a();return!Xe(s,g)}catch{return!0}}function j2(s){var a=yl(s,2);a!==null&&Ms(a,s,2)}function zb(s){var a=zs();if(typeof s=="function"){var g=s;if(s=g(),Vu){ue(!0);try{g()}finally{ue(!1)}}}return a.memoizedState=a.baseState=s,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ao,lastRenderedState:s},a}function E2(s,a,g,k){return s.baseState=g,Bb(s,Br,typeof k=="function"?k:ao)}function $C(s,a,g,k,F){if(Xy(s))throw Error(i(485));if(s=a.action,s!==null){var Y={payload:F,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(ie){Y.listeners.push(ie)}};O.T!==null?g(!0):Y.isTransition=!1,k(Y),g=a.pending,g===null?(Y.next=a.pending=Y,A2(a,Y)):(Y.next=g.next,a.pending=g.next=Y)}}function A2(s,a){var g=a.action,k=a.payload,F=s.state;if(a.isTransition){var Y=O.T,ie={};O.T=ie;try{var be=g(F,k),ke=O.S;ke!==null&&ke(ie,be),T2(s,a,be)}catch(Ie){Hb(s,a,Ie)}finally{O.T=Y}}else try{Y=g(F,k),T2(s,a,Y)}catch(Ie){Hb(s,a,Ie)}}function T2(s,a,g){g!==null&&typeof g=="object"&&typeof g.then=="function"?g.then(function(k){M2(s,a,k)},function(k){return Hb(s,a,k)}):M2(s,a,g)}function M2(s,a,g){a.status="fulfilled",a.value=g,C2(a),s.state=g,a=s.pending,a!==null&&(g=a.next,g===a?s.pending=null:(g=g.next,a.next=g,A2(s,g)))}function Hb(s,a,g){var k=s.pending;if(s.pending=null,k!==null){k=k.next;do a.status="rejected",a.reason=g,C2(a),a=a.next;while(a!==k)}s.action=null}function C2(s){s=s.listeners;for(var a=0;a<s.length;a++)(0,s[a])()}function R2(s,a){return a}function k2(s,a){if(jr){var g=$r.formState;if(g!==null){e:{var k=ar;if(jr){if(is){t:{for(var F=is,Y=va;F.nodeType!==8;){if(!Y){F=null;break t}if(F=$i(F.nextSibling),F===null){F=null;break t}}Y=F.data,F=Y==="F!"||Y==="F"?F:null}if(F){is=$i(F.nextSibling),k=F.data==="F!";break e}}Gu(k)}k=!1}k&&(a=g[0])}}return g=zs(),g.memoizedState=g.baseState=a,k={pending:null,lanes:0,dispatch:null,lastRenderedReducer:R2,lastRenderedState:a},g.queue=k,g=$2.bind(null,ar,k),k.dispatch=g,k=zb(!1),Y=$b.bind(null,ar,!1,k.queue),k=zs(),F={state:a,dispatch:null,action:s,pending:null},k.queue=F,g=$C.bind(null,ar,F,Y,g),F.dispatch=g,k.memoizedState=s,[a,g,!1]}function O2(s){var a=Ln();return L2(a,Br,s)}function L2(s,a,g){a=Bb(s,a,R2)[0],s=Vy(ao)[0],a=typeof a=="object"&&a!==null&&typeof a.then=="function"?ip(a):a;var k=Ln(),F=k.queue,Y=F.dispatch;return g!==k.memoizedState&&(ar.flags|=2048,Yd(9,ZC.bind(null,F,g),{destroy:void 0},null)),[a,Y,s]}function ZC(s,a){s.action=a}function D2(s){var a=Ln(),g=Br;if(g!==null)return L2(a,g,s);Ln(),a=a.memoizedState,g=Ln();var k=g.queue.dispatch;return g.memoizedState=s,[a,k,!1]}function Yd(s,a,g,k){return s={tag:s,create:a,inst:g,deps:k,next:null},a=ar.updateQueue,a===null&&(a=zy(),ar.updateQueue=a),g=a.lastEffect,g===null?a.lastEffect=s.next=s:(k=g.next,g.next=s,s.next=k,a.lastEffect=s),s}function P2(){return Ln().memoizedState}function qy(s,a,g,k){var F=zs();ar.flags|=s,F.memoizedState=Yd(1|a,g,{destroy:void 0},k===void 0?null:k)}function Wy(s,a,g,k){var F=Ln();k=k===void 0?null:k;var Y=F.memoizedState.inst;Br!==null&&k!==null&&Db(k,Br.memoizedState.deps)?F.memoizedState=Yd(a,g,Y,k):(ar.flags|=s,F.memoizedState=Yd(1|a,g,Y,k))}function N2(s,a){qy(8390656,8,s,a)}function Vb(s,a){Wy(2048,8,s,a)}function I2(s,a){return Wy(4,2,s,a)}function F2(s,a){return Wy(4,4,s,a)}function U2(s,a){if(typeof a=="function"){s=s();var g=a(s);return function(){typeof g=="function"?g():a(null)}}if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function B2(s,a,g){g=g!=null?g.concat([s]):null,Wy(4,4,U2.bind(null,a,s),g)}function qb(){}function G2(s,a){var g=Ln();a=a===void 0?null:a;var k=g.memoizedState;return a!==null&&Db(a,k[1])?k[0]:(g.memoizedState=[s,a],s)}function z2(s,a){var g=Ln();a=a===void 0?null:a;var k=g.memoizedState;if(a!==null&&Db(a,k[1]))return k[0];if(k=s(),Vu){ue(!0);try{s()}finally{ue(!1)}}return g.memoizedState=[k,a],k}function Wb(s,a,g){return g===void 0||(_l&1073741824)!==0?s.memoizedState=a:(s.memoizedState=g,s=VS(),ar.lanes|=s,Rl|=s,g)}function H2(s,a,g,k){return Xe(g,a)?g:Hd.current!==null?(s=Wb(s,g,k),Xe(s,a)||(Xn=!0),s):(_l&42)===0?(Xn=!0,s.memoizedState=g):(s=VS(),ar.lanes|=s,Rl|=s,a)}function V2(s,a,g,k,F){var Y=oe.p;oe.p=Y!==0&&8>Y?Y:8;var ie=O.T,be={};O.T=be,$b(s,!1,a,g);try{var ke=F(),Ie=O.S;if(Ie!==null&&Ie(be,ke),ke!==null&&typeof ke=="object"&&typeof ke.then=="function"){var rt=WC(ke,k);ap(s,a,rt,Js(s))}else ap(s,a,k,Js(s))}catch(dt){ap(s,a,{then:function(){},status:"rejected",reason:dt},Js())}finally{oe.p=Y,O.T=ie}}function KC(){}function Xb(s,a,g,k){if(s.tag!==5)throw Error(i(476));var F=q2(s).queue;V2(s,F,a,le,g===null?KC:function(){return W2(s),g(k)})}function q2(s){var a=s.memoizedState;if(a!==null)return a;a={memoizedState:le,baseState:le,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ao,lastRenderedState:le},next:null};var g={};return a.next={memoizedState:g,baseState:g,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ao,lastRenderedState:g},next:null},s.memoizedState=a,s=s.alternate,s!==null&&(s.memoizedState=a),a}function W2(s){var a=q2(s).next.queue;ap(s,a,{},Js())}function Yb(){return gs(Ap)}function X2(){return Ln().memoizedState}function Y2(){return Ln().memoizedState}function QC(s){for(var a=s.return;a!==null;){switch(a.tag){case 24:case 3:var g=Js();s=jl(g);var k=El(a,s,g);k!==null&&(Ms(k,a,g),up(k,a,g)),a={cache:kb()},s.payload=a;return}a=a.return}}function JC(s,a,g){var k=Js();g={lane:k,revertLane:0,action:g,hasEagerState:!1,eagerState:null,next:null},Xy(s)?Z2(a,g):(g=jb(s,a,g,k),g!==null&&(Ms(g,s,k),K2(g,a,k)))}function $2(s,a,g){var k=Js();ap(s,a,g,k)}function ap(s,a,g,k){var F={lane:k,revertLane:0,action:g,hasEagerState:!1,eagerState:null,next:null};if(Xy(s))Z2(a,F);else{var Y=s.alternate;if(s.lanes===0&&(Y===null||Y.lanes===0)&&(Y=a.lastRenderedReducer,Y!==null))try{var ie=a.lastRenderedState,be=Y(ie,g);if(F.hasEagerState=!0,F.eagerState=be,Xe(be,ie))return Ry(s,a,F,0),$r===null&&Cy(),!1}catch{}finally{}if(g=jb(s,a,F,k),g!==null)return Ms(g,s,k),K2(g,a,k),!0}return!1}function $b(s,a,g,k){if(k={lane:2,revertLane:F1(),action:k,hasEagerState:!1,eagerState:null,next:null},Xy(s)){if(a)throw Error(i(479))}else a=jb(s,g,k,2),a!==null&&Ms(a,s,2)}function Xy(s){var a=s.alternate;return s===ar||a!==null&&a===ar}function Z2(s,a){Wd=By=!0;var g=s.pending;g===null?a.next=a:(a.next=g.next,g.next=a),s.pending=a}function K2(s,a,g){if((g&4194176)!==0){var k=a.lanes;k&=s.pendingLanes,g|=k,a.lanes=g,Rn(s,g)}}var _a={readContext:gs,use:Hy,useCallback:jn,useContext:jn,useEffect:jn,useImperativeHandle:jn,useLayoutEffect:jn,useInsertionEffect:jn,useMemo:jn,useReducer:jn,useRef:jn,useState:jn,useDebugValue:jn,useDeferredValue:jn,useTransition:jn,useSyncExternalStore:jn,useId:jn};_a.useCacheRefresh=jn,_a.useMemoCache=jn,_a.useHostTransitionStatus=jn,_a.useFormState=jn,_a.useActionState=jn,_a.useOptimistic=jn;var qu={readContext:gs,use:Hy,useCallback:function(s,a){return zs().memoizedState=[s,a===void 0?null:a],s},useContext:gs,useEffect:N2,useImperativeHandle:function(s,a,g){g=g!=null?g.concat([s]):null,qy(4194308,4,U2.bind(null,a,s),g)},useLayoutEffect:function(s,a){return qy(4194308,4,s,a)},useInsertionEffect:function(s,a){qy(4,2,s,a)},useMemo:function(s,a){var g=zs();a=a===void 0?null:a;var k=s();if(Vu){ue(!0);try{s()}finally{ue(!1)}}return g.memoizedState=[k,a],k},useReducer:function(s,a,g){var k=zs();if(g!==void 0){var F=g(a);if(Vu){ue(!0);try{g(a)}finally{ue(!1)}}}else F=a;return k.memoizedState=k.baseState=F,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:F},k.queue=s,s=s.dispatch=JC.bind(null,ar,s),[k.memoizedState,s]},useRef:function(s){var a=zs();return s={current:s},a.memoizedState=s},useState:function(s){s=zb(s);var a=s.queue,g=$2.bind(null,ar,a);return a.dispatch=g,[s.memoizedState,g]},useDebugValue:qb,useDeferredValue:function(s,a){var g=zs();return Wb(g,s,a)},useTransition:function(){var s=zb(!1);return s=V2.bind(null,ar,s.queue,!0,!1),zs().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,a,g){var k=ar,F=zs();if(jr){if(g===void 0)throw Error(i(407));g=g()}else{if(g=a(),$r===null)throw Error(i(349));(yr&60)!==0||_2(k,a,g)}F.memoizedState=g;var Y={value:g,getSnapshot:a};return F.queue=Y,N2(x2.bind(null,k,Y,s),[s]),k.flags|=2048,Yd(9,w2.bind(null,k,Y,g,a),{destroy:void 0},null),g},useId:function(){var s=zs(),a=$r.identifierPrefix;if(jr){var g=so,k=no;g=(k&~(1<<32-he(k)-1)).toString(32)+g,a=":"+a+"R"+g,g=Gy++,0<g&&(a+="H"+g.toString(32)),a+=":"}else g=XC++,a=":"+a+"r"+g.toString(32)+":";return s.memoizedState=a},useCacheRefresh:function(){return zs().memoizedState=QC.bind(null,ar)}};qu.useMemoCache=Ub,qu.useHostTransitionStatus=Yb,qu.useFormState=k2,qu.useActionState=k2,qu.useOptimistic=function(s){var a=zs();a.memoizedState=a.baseState=s;var g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=g,a=$b.bind(null,ar,!0,g),g.dispatch=a,[s,a]};var wl={readContext:gs,use:Hy,useCallback:G2,useContext:gs,useEffect:Vb,useImperativeHandle:B2,useInsertionEffect:I2,useLayoutEffect:F2,useMemo:z2,useReducer:Vy,useRef:P2,useState:function(){return Vy(ao)},useDebugValue:qb,useDeferredValue:function(s,a){var g=Ln();return H2(g,Br.memoizedState,s,a)},useTransition:function(){var s=Vy(ao)[0],a=Ln().memoizedState;return[typeof s=="boolean"?s:ip(s),a]},useSyncExternalStore:b2,useId:X2};wl.useCacheRefresh=Y2,wl.useMemoCache=Ub,wl.useHostTransitionStatus=Yb,wl.useFormState=O2,wl.useActionState=O2,wl.useOptimistic=function(s,a){var g=Ln();return E2(g,Br,s,a)};var Wu={readContext:gs,use:Hy,useCallback:G2,useContext:gs,useEffect:Vb,useImperativeHandle:B2,useInsertionEffect:I2,useLayoutEffect:F2,useMemo:z2,useReducer:Gb,useRef:P2,useState:function(){return Gb(ao)},useDebugValue:qb,useDeferredValue:function(s,a){var g=Ln();return Br===null?Wb(g,s,a):H2(g,Br.memoizedState,s,a)},useTransition:function(){var s=Gb(ao)[0],a=Ln().memoizedState;return[typeof s=="boolean"?s:ip(s),a]},useSyncExternalStore:b2,useId:X2};Wu.useCacheRefresh=Y2,Wu.useMemoCache=Ub,Wu.useHostTransitionStatus=Yb,Wu.useFormState=D2,Wu.useActionState=D2,Wu.useOptimistic=function(s,a){var g=Ln();return Br!==null?E2(g,Br,s,a):(g.baseState=s,[s,g.queue.dispatch])};function Zb(s,a,g,k){a=s.memoizedState,g=g(k,a),g=g==null?a:U({},a,g),s.memoizedState=g,s.lanes===0&&(s.updateQueue.baseState=g)}var Kb={isMounted:function(s){return(s=s._reactInternals)?X(s)===s:!1},enqueueSetState:function(s,a,g){s=s._reactInternals;var k=Js(),F=jl(k);F.payload=a,g!=null&&(F.callback=g),a=El(s,F,k),a!==null&&(Ms(a,s,k),up(a,s,k))},enqueueReplaceState:function(s,a,g){s=s._reactInternals;var k=Js(),F=jl(k);F.tag=1,F.payload=a,g!=null&&(F.callback=g),a=El(s,F,k),a!==null&&(Ms(a,s,k),up(a,s,k))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var g=Js(),k=jl(g);k.tag=2,a!=null&&(k.callback=a),a=El(s,k,g),a!==null&&(Ms(a,s,g),up(a,s,g))}};function Q2(s,a,g,k,F,Y,ie){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(k,Y,ie):a.prototype&&a.prototype.isPureReactComponent?!$e(g,k)||!$e(F,Y):!0}function J2(s,a,g,k){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(g,k),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(g,k),a.state!==s&&Kb.enqueueReplaceState(a,a.state,null)}function Xu(s,a){var g=a;if("ref"in a){g={};for(var k in a)k!=="ref"&&(g[k]=a[k])}if(s=s.defaultProps){g===a&&(g=U({},g));for(var F in s)g[F]===void 0&&(g[F]=s[F])}return g}var Yy=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function eS(s){Yy(s)}function tS(s){console.error(s)}function rS(s){Yy(s)}function $y(s,a){try{var g=s.onUncaughtError;g(a.value,{componentStack:a.stack})}catch(k){setTimeout(function(){throw k})}}function nS(s,a,g){try{var k=s.onCaughtError;k(g.value,{componentStack:g.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(F){setTimeout(function(){throw F})}}function Qb(s,a,g){return g=jl(g),g.tag=3,g.payload={element:null},g.callback=function(){$y(s,a)},g}function sS(s){return s=jl(s),s.tag=3,s}function iS(s,a,g,k){var F=g.type.getDerivedStateFromError;if(typeof F=="function"){var Y=k.value;s.payload=function(){return F(Y)},s.callback=function(){nS(a,g,k)}}var ie=g.stateNode;ie!==null&&typeof ie.componentDidCatch=="function"&&(s.callback=function(){nS(a,g,k),typeof F!="function"&&(kl===null?kl=new Set([this]):kl.add(this));var be=k.stack;this.componentDidCatch(k.value,{componentStack:be!==null?be:""})})}function eR(s,a,g,k,F){if(g.flags|=32768,k!==null&&typeof k=="object"&&typeof k.then=="function"){if(a=g.alternate,a!==null&&lp(a,g,F,!0),g=Ei.current,g!==null){switch(g.tag){case 13:return ba===null?L1():g.alternate===null&&bn===0&&(bn=3),g.flags&=-257,g.flags|=65536,g.lanes=F,k===Mb?g.flags|=16384:(a=g.updateQueue,a===null?g.updateQueue=new Set([k]):a.add(k),P1(s,k,F)),!1;case 22:return g.flags|=65536,k===Mb?g.flags|=16384:(a=g.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([k])},g.updateQueue=a):(g=a.retryQueue,g===null?a.retryQueue=new Set([k]):g.add(k)),P1(s,k,F)),!1}throw Error(i(435,g.tag))}return P1(s,k,F),L1(),!1}if(jr)return a=Ei.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=F,k!==Tb&&(s=Error(i(422),{cause:k}),Kf(xi(s,g)))):(k!==Tb&&(a=Error(i(423),{cause:k}),Kf(xi(a,g))),s=s.current.alternate,s.flags|=65536,F&=-F,s.lanes|=F,k=xi(k,g),F=Qb(s.stateNode,k,F),f1(s,F),bn!==4&&(bn=2)),!1;var Y=Error(i(520),{cause:k});if(Y=xi(Y,g),yp===null?yp=[Y]:yp.push(Y),bn!==4&&(bn=2),a===null)return!0;k=xi(k,g),g=a;do{switch(g.tag){case 3:return g.flags|=65536,s=F&-F,g.lanes|=s,s=Qb(g.stateNode,k,s),f1(g,s),!1;case 1:if(a=g.type,Y=g.stateNode,(g.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||Y!==null&&typeof Y.componentDidCatch=="function"&&(kl===null||!kl.has(Y))))return g.flags|=65536,F&=-F,g.lanes|=F,F=sS(F),iS(F,s,g,k),f1(g,F),!1}g=g.return}while(g!==null);return!1}var aS=Error(i(461)),Xn=!1;function as(s,a,g,k){a.child=s===null?d2(a,null,g,k):zu(a,s.child,g,k)}function oS(s,a,g,k,F){g=g.render;var Y=a.ref;if("ref"in k){var ie={};for(var be in k)be!=="ref"&&(ie[be]=k[be])}else ie=k;return $u(a),k=Pb(s,a,g,ie,Y,F),be=Nb(),s!==null&&!Xn?(Ib(s,a,F),oo(s,a,F)):(jr&&be&&Eb(a),a.flags|=1,as(s,a,k,F),a.child)}function lS(s,a,g,k,F){if(s===null){var Y=g.type;return typeof Y=="function"&&!w1(Y)&&Y.defaultProps===void 0&&g.compare===null?(a.tag=15,a.type=Y,uS(s,a,Y,k,F)):(s=ev(g.type,null,k,a,a.mode,F),s.ref=a.ref,s.return=a,a.child=s)}if(Y=s.child,!o1(s,F)){var ie=Y.memoizedProps;if(g=g.compare,g=g!==null?g:$e,g(ie,k)&&s.ref===a.ref)return oo(s,a,F)}return a.flags|=1,s=Cl(Y,k),s.ref=a.ref,s.return=a,a.child=s}function uS(s,a,g,k,F){if(s!==null){var Y=s.memoizedProps;if($e(Y,k)&&s.ref===a.ref)if(Xn=!1,a.pendingProps=k=Y,o1(s,F))(s.flags&131072)!==0&&(Xn=!0);else return a.lanes=s.lanes,oo(s,a,F)}return Jb(s,a,g,k,F)}function cS(s,a,g){var k=a.pendingProps,F=k.children,Y=(a.stateNode._pendingVisibility&2)!==0,ie=s!==null?s.memoizedState:null;if(op(s,a),k.mode==="hidden"||Y){if((a.flags&128)!==0){if(k=ie!==null?ie.baseLanes|g:g,s!==null){for(F=a.child=s.child,Y=0;F!==null;)Y=Y|F.lanes|F.childLanes,F=F.sibling;a.childLanes=Y&~k}else a.childLanes=0,a.child=null;return dS(s,a,k,g)}if((g&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},s!==null&&Uy(a,ie!==null?ie.cachePool:null),ie!==null?h2(a,ie):Cb(),f2(a);else return a.lanes=a.childLanes=536870912,dS(s,a,ie!==null?ie.baseLanes|g:g,g)}else ie!==null?(Uy(a,ie.cachePool),h2(a,ie),bl(),a.memoizedState=null):(s!==null&&Uy(a,null),Cb(),bl());return as(s,a,F,g),a.child}function dS(s,a,g,k){var F=Lb();return F=F===null?null:{parent:zn._currentValue,pool:F},a.memoizedState={baseLanes:g,cachePool:F},s!==null&&Uy(a,null),Cb(),f2(a),s!==null&&lp(s,a,k,!0),null}function op(s,a){var g=a.ref;if(g===null)s!==null&&s.ref!==null&&(a.flags|=2097664);else{if(typeof g!="function"&&typeof g!="object")throw Error(i(284));(s===null||s.ref!==g)&&(a.flags|=2097664)}}function Jb(s,a,g,k,F){return $u(a),g=Pb(s,a,g,k,void 0,F),k=Nb(),s!==null&&!Xn?(Ib(s,a,F),oo(s,a,F)):(jr&&k&&Eb(a),a.flags|=1,as(s,a,g,F),a.child)}function hS(s,a,g,k,F,Y){return $u(a),a.updateQueue=null,g=v2(a,k,g,F),y2(s),k=Nb(),s!==null&&!Xn?(Ib(s,a,Y),oo(s,a,Y)):(jr&&k&&Eb(a),a.flags|=1,as(s,a,g,Y),a.child)}function fS(s,a,g,k,F){if($u(a),a.stateNode===null){var Y=Ud,ie=g.contextType;typeof ie=="object"&&ie!==null&&(Y=gs(ie)),Y=new g(k,Y),a.memoizedState=Y.state!==null&&Y.state!==void 0?Y.state:null,Y.updater=Kb,a.stateNode=Y,Y._reactInternals=a,Y=a.stateNode,Y.props=k,Y.state=a.memoizedState,Y.refs={},d1(a),ie=g.contextType,Y.context=typeof ie=="object"&&ie!==null?gs(ie):Ud,Y.state=a.memoizedState,ie=g.getDerivedStateFromProps,typeof ie=="function"&&(Zb(a,g,ie,k),Y.state=a.memoizedState),typeof g.getDerivedStateFromProps=="function"||typeof Y.getSnapshotBeforeUpdate=="function"||typeof Y.UNSAFE_componentWillMount!="function"&&typeof Y.componentWillMount!="function"||(ie=Y.state,typeof Y.componentWillMount=="function"&&Y.componentWillMount(),typeof Y.UNSAFE_componentWillMount=="function"&&Y.UNSAFE_componentWillMount(),ie!==Y.state&&Kb.enqueueReplaceState(Y,Y.state,null),dp(a,k,Y,F),cp(),Y.state=a.memoizedState),typeof Y.componentDidMount=="function"&&(a.flags|=4194308),k=!0}else if(s===null){Y=a.stateNode;var be=a.memoizedProps,ke=Xu(g,be);Y.props=ke;var Ie=Y.context,rt=g.contextType;ie=Ud,typeof rt=="object"&&rt!==null&&(ie=gs(rt));var dt=g.getDerivedStateFromProps;rt=typeof dt=="function"||typeof Y.getSnapshotBeforeUpdate=="function",be=a.pendingProps!==be,rt||typeof Y.UNSAFE_componentWillReceiveProps!="function"&&typeof Y.componentWillReceiveProps!="function"||(be||Ie!==ie)&&J2(a,Y,k,ie),Sl=!1;var Ze=a.memoizedState;Y.state=Ze,dp(a,k,Y,F),cp(),Ie=a.memoizedState,be||Ze!==Ie||Sl?(typeof dt=="function"&&(Zb(a,g,dt,k),Ie=a.memoizedState),(ke=Sl||Q2(a,g,ke,k,Ze,Ie,ie))?(rt||typeof Y.UNSAFE_componentWillMount!="function"&&typeof Y.componentWillMount!="function"||(typeof Y.componentWillMount=="function"&&Y.componentWillMount(),typeof Y.UNSAFE_componentWillMount=="function"&&Y.UNSAFE_componentWillMount()),typeof Y.componentDidMount=="function"&&(a.flags|=4194308)):(typeof Y.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=k,a.memoizedState=Ie),Y.props=k,Y.state=Ie,Y.context=ie,k=ke):(typeof Y.componentDidMount=="function"&&(a.flags|=4194308),k=!1)}else{Y=a.stateNode,h1(s,a),ie=a.memoizedProps,rt=Xu(g,ie),Y.props=rt,dt=a.pendingProps,Ze=Y.context,Ie=g.contextType,ke=Ud,typeof Ie=="object"&&Ie!==null&&(ke=gs(Ie)),be=g.getDerivedStateFromProps,(Ie=typeof be=="function"||typeof Y.getSnapshotBeforeUpdate=="function")||typeof Y.UNSAFE_componentWillReceiveProps!="function"&&typeof Y.componentWillReceiveProps!="function"||(ie!==dt||Ze!==ke)&&J2(a,Y,k,ke),Sl=!1,Ze=a.memoizedState,Y.state=Ze,dp(a,k,Y,F),cp();var tt=a.memoizedState;ie!==dt||Ze!==tt||Sl||s!==null&&s.dependencies!==null&&Zy(s.dependencies)?(typeof be=="function"&&(Zb(a,g,be,k),tt=a.memoizedState),(rt=Sl||Q2(a,g,rt,k,Ze,tt,ke)||s!==null&&s.dependencies!==null&&Zy(s.dependencies))?(Ie||typeof Y.UNSAFE_componentWillUpdate!="function"&&typeof Y.componentWillUpdate!="function"||(typeof Y.componentWillUpdate=="function"&&Y.componentWillUpdate(k,tt,ke),typeof Y.UNSAFE_componentWillUpdate=="function"&&Y.UNSAFE_componentWillUpdate(k,tt,ke)),typeof Y.componentDidUpdate=="function"&&(a.flags|=4),typeof Y.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof Y.componentDidUpdate!="function"||ie===s.memoizedProps&&Ze===s.memoizedState||(a.flags|=4),typeof Y.getSnapshotBeforeUpdate!="function"||ie===s.memoizedProps&&Ze===s.memoizedState||(a.flags|=1024),a.memoizedProps=k,a.memoizedState=tt),Y.props=k,Y.state=tt,Y.context=ke,k=rt):(typeof Y.componentDidUpdate!="function"||ie===s.memoizedProps&&Ze===s.memoizedState||(a.flags|=4),typeof Y.getSnapshotBeforeUpdate!="function"||ie===s.memoizedProps&&Ze===s.memoizedState||(a.flags|=1024),k=!1)}return Y=k,op(s,a),k=(a.flags&128)!==0,Y||k?(Y=a.stateNode,g=k&&typeof g.getDerivedStateFromError!="function"?null:Y.render(),a.flags|=1,s!==null&&k?(a.child=zu(a,s.child,null,F),a.child=zu(a,null,g,F)):as(s,a,g,F),a.memoizedState=Y.state,s=a.child):s=oo(s,a,F),s}function pS(s,a,g,k){return Zf(),a.flags|=256,as(s,a,g,k),a.child}var e1={dehydrated:null,treeContext:null,retryLane:0};function t1(s){return{baseLanes:s,cachePool:g2()}}function r1(s,a,g){return s=s!==null?s.childLanes&~g:0,a&&(s|=Ci),s}function mS(s,a,g){var k=a.pendingProps,F=!1,Y=(a.flags&128)!==0,ie;if((ie=Y)||(ie=s!==null&&s.memoizedState===null?!1:(Gn.current&2)!==0),ie&&(F=!0,a.flags&=-129),ie=(a.flags&32)!==0,a.flags&=-33,s===null){if(jr){if(F?vl(a):bl(),jr){var be=is,ke;if(ke=be){e:{for(ke=be,be=va;ke.nodeType!==8;){if(!be){be=null;break e}if(ke=$i(ke.nextSibling),ke===null){be=null;break e}}be=ke}be!==null?(a.memoizedState={dehydrated:be,treeContext:Uu!==null?{id:no,overflow:so}:null,retryLane:536870912},ke=Mi(18,null,null,0),ke.stateNode=be,ke.return=a,a.child=ke,Ts=a,is=null,ke=!0):ke=!1}ke||Gu(a)}if(be=a.memoizedState,be!==null&&(be=be.dehydrated,be!==null))return be.data==="$!"?a.lanes=16:a.lanes=536870912,null;io(a)}return be=k.children,k=k.fallback,F?(bl(),F=a.mode,be=s1({mode:"hidden",children:be},F),k=Ku(k,F,g,null),be.return=a,k.return=a,be.sibling=k,a.child=be,F=a.child,F.memoizedState=t1(g),F.childLanes=r1(s,ie,g),a.memoizedState=e1,k):(vl(a),n1(a,be))}if(ke=s.memoizedState,ke!==null&&(be=ke.dehydrated,be!==null)){if(Y)a.flags&256?(vl(a),a.flags&=-257,a=i1(s,a,g)):a.memoizedState!==null?(bl(),a.child=s.child,a.flags|=128,a=null):(bl(),F=k.fallback,be=a.mode,k=s1({mode:"visible",children:k.children},be),F=Ku(F,be,g,null),F.flags|=2,k.return=a,F.return=a,k.sibling=F,a.child=k,zu(a,s.child,null,g),k=a.child,k.memoizedState=t1(g),k.childLanes=r1(s,ie,g),a.memoizedState=e1,a=F);else if(vl(a),be.data==="$!"){if(ie=be.nextSibling&&be.nextSibling.dataset,ie)var Ie=ie.dgst;ie=Ie,k=Error(i(419)),k.stack="",k.digest=ie,Kf({value:k,source:null,stack:null}),a=i1(s,a,g)}else if(Xn||lp(s,a,g,!1),ie=(g&s.childLanes)!==0,Xn||ie){if(ie=$r,ie!==null){if(k=g&-g,(k&42)!==0)k=1;else switch(k){case 2:k=1;break;case 8:k=4;break;case 32:k=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:k=64;break;case 268435456:k=134217728;break;default:k=0}if(k=(k&(ie.suspendedLanes|g))!==0?0:k,k!==0&&k!==ke.retryLane)throw ke.retryLane=k,yl(s,k),Ms(ie,s,k),aS}be.data==="$?"||L1(),a=i1(s,a,g)}else be.data==="$?"?(a.flags|=128,a.child=s.child,a=mR.bind(null,s),be._reactRetry=a,a=null):(s=ke.treeContext,is=$i(be.nextSibling),Ts=a,jr=!0,Xi=null,va=!1,s!==null&&(Si[ji++]=no,Si[ji++]=so,Si[ji++]=Uu,no=s.id,so=s.overflow,Uu=a),a=n1(a,k.children),a.flags|=4096);return a}return F?(bl(),F=k.fallback,be=a.mode,ke=s.child,Ie=ke.sibling,k=Cl(ke,{mode:"hidden",children:k.children}),k.subtreeFlags=ke.subtreeFlags&31457280,Ie!==null?F=Cl(Ie,F):(F=Ku(F,be,g,null),F.flags|=2),F.return=a,k.return=a,k.sibling=F,a.child=k,k=F,F=a.child,be=s.child.memoizedState,be===null?be=t1(g):(ke=be.cachePool,ke!==null?(Ie=zn._currentValue,ke=ke.parent!==Ie?{parent:Ie,pool:Ie}:ke):ke=g2(),be={baseLanes:be.baseLanes|g,cachePool:ke}),F.memoizedState=be,F.childLanes=r1(s,ie,g),a.memoizedState=e1,k):(vl(a),g=s.child,s=g.sibling,g=Cl(g,{mode:"visible",children:k.children}),g.return=a,g.sibling=null,s!==null&&(ie=a.deletions,ie===null?(a.deletions=[s],a.flags|=16):ie.push(s)),a.child=g,a.memoizedState=null,g)}function n1(s,a){return a=s1({mode:"visible",children:a},s.mode),a.return=s,s.child=a}function s1(s,a){return GS(s,a,0,null)}function i1(s,a,g){return zu(a,s.child,null,g),s=n1(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function gS(s,a,g){s.lanes|=a;var k=s.alternate;k!==null&&(k.lanes|=a),u1(s.return,a,g)}function a1(s,a,g,k,F){var Y=s.memoizedState;Y===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:k,tail:g,tailMode:F}:(Y.isBackwards=a,Y.rendering=null,Y.renderingStartTime=0,Y.last=k,Y.tail=g,Y.tailMode=F)}function yS(s,a,g){var k=a.pendingProps,F=k.revealOrder,Y=k.tail;if(as(s,a,k.children,g),k=Gn.current,(k&2)!==0)k=k&1|2,a.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&gS(s,g,a);else if(s.tag===19)gS(s,g,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}k&=1}switch(de(Gn,k),F){case"forwards":for(g=a.child,F=null;g!==null;)s=g.alternate,s!==null&&Fy(s)===null&&(F=g),g=g.sibling;g=F,g===null?(F=a.child,a.child=null):(F=g.sibling,g.sibling=null),a1(a,!1,F,g,Y);break;case"backwards":for(g=null,F=a.child,a.child=null;F!==null;){if(s=F.alternate,s!==null&&Fy(s)===null){a.child=F;break}s=F.sibling,F.sibling=g,g=F,F=s}a1(a,!0,g,null,Y);break;case"together":a1(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function oo(s,a,g){if(s!==null&&(a.dependencies=s.dependencies),Rl|=a.lanes,(g&a.childLanes)===0)if(s!==null){if(lp(s,a,g,!1),(g&a.childLanes)===0)return null}else return null;if(s!==null&&a.child!==s.child)throw Error(i(153));if(a.child!==null){for(s=a.child,g=Cl(s,s.pendingProps),a.child=g,g.return=a;s.sibling!==null;)s=s.sibling,g=g.sibling=Cl(s,s.pendingProps),g.return=a;g.sibling=null}return a.child}function o1(s,a){return(s.lanes&a)!==0?!0:(s=s.dependencies,!!(s!==null&&Zy(s)))}function tR(s,a,g){switch(a.tag){case 3:Se(a,a.stateNode.containerInfo),xl(a,zn,s.memoizedState.cache),Zf();break;case 27:case 5:Ee(a);break;case 4:Se(a,a.stateNode.containerInfo);break;case 10:xl(a,a.type,a.memoizedProps.value);break;case 13:var k=a.memoizedState;if(k!==null)return k.dehydrated!==null?(vl(a),a.flags|=128,null):(g&a.child.childLanes)!==0?mS(s,a,g):(vl(a),s=oo(s,a,g),s!==null?s.sibling:null);vl(a);break;case 19:var F=(s.flags&128)!==0;if(k=(g&a.childLanes)!==0,k||(lp(s,a,g,!1),k=(g&a.childLanes)!==0),F){if(k)return yS(s,a,g);a.flags|=128}if(F=a.memoizedState,F!==null&&(F.rendering=null,F.tail=null,F.lastEffect=null),de(Gn,Gn.current),k)break;return null;case 22:case 23:return a.lanes=0,cS(s,a,g);case 24:xl(a,zn,s.memoizedState.cache)}return oo(s,a,g)}function vS(s,a,g){if(s!==null)if(s.memoizedProps!==a.pendingProps)Xn=!0;else{if(!o1(s,g)&&(a.flags&128)===0)return Xn=!1,tR(s,a,g);Xn=(s.flags&131072)!==0}else Xn=!1,jr&&(a.flags&1048576)!==0&&r2(a,Ly,a.index);switch(a.lanes=0,a.tag){case 16:e:{s=a.pendingProps;var k=a.elementType,F=k._init;if(k=F(k._payload),a.type=k,typeof k=="function")w1(k)?(s=Xu(k,s),a.tag=1,a=fS(null,a,k,s,g)):(a.tag=0,a=Jb(null,a,k,s,g));else{if(k!=null){if(F=k.$$typeof,F===j){a.tag=11,a=oS(null,a,k,s,g);break e}else if(F===f){a.tag=14,a=lS(null,a,k,s,g);break e}}throw a=C(k)||k,Error(i(306,a,""))}}return a;case 0:return Jb(s,a,a.type,a.pendingProps,g);case 1:return k=a.type,F=Xu(k,a.pendingProps),fS(s,a,k,F,g);case 3:e:{if(Se(a,a.stateNode.containerInfo),s===null)throw Error(i(387));var Y=a.pendingProps;F=a.memoizedState,k=F.element,h1(s,a),dp(a,Y,null,g);var ie=a.memoizedState;if(Y=ie.cache,xl(a,zn,Y),Y!==F.cache&&c1(a,[zn],g,!0),cp(),Y=ie.element,F.isDehydrated)if(F={element:Y,isDehydrated:!1,cache:ie.cache},a.updateQueue.baseState=F,a.memoizedState=F,a.flags&256){a=pS(s,a,Y,g);break e}else if(Y!==k){k=xi(Error(i(424)),a),Kf(k),a=pS(s,a,Y,g);break e}else for(is=$i(a.stateNode.containerInfo.firstChild),Ts=a,jr=!0,Xi=null,va=!0,g=d2(a,null,Y,g),a.child=g;g;)g.flags=g.flags&-3|4096,g=g.sibling;else{if(Zf(),Y===k){a=oo(s,a,g);break e}as(s,a,Y,g)}a=a.child}return a;case 26:return op(s,a),s===null?(g=wj(a.type,null,a.pendingProps,null))?a.memoizedState=g:jr||(g=a.type,s=a.pendingProps,k=hv(ae.current).createElement(g),k[gr]=a,k[br]=s,os(k,g,s),Qe(k),a.stateNode=k):a.memoizedState=wj(a.type,s.memoizedProps,a.pendingProps,s.memoizedState),null;case 27:return Ee(a),s===null&&jr&&(k=a.stateNode=vj(a.type,a.pendingProps,ae.current),Ts=a,va=!0,is=$i(k.firstChild)),k=a.pendingProps.children,s!==null||jr?as(s,a,k,g):a.child=zu(a,null,k,g),op(s,a),a.child;case 5:return s===null&&jr&&((F=k=is)&&(k=kR(k,a.type,a.pendingProps,va),k!==null?(a.stateNode=k,Ts=a,is=$i(k.firstChild),va=!1,F=!0):F=!1),F||Gu(a)),Ee(a),F=a.type,Y=a.pendingProps,ie=s!==null?s.memoizedProps:null,k=Y.children,X1(F,Y)?k=null:ie!==null&&X1(F,ie)&&(a.flags|=32),a.memoizedState!==null&&(F=Pb(s,a,YC,null,null,g),Ap._currentValue=F),op(s,a),as(s,a,k,g),a.child;case 6:return s===null&&jr&&((s=g=is)&&(g=OR(g,a.pendingProps,va),g!==null?(a.stateNode=g,Ts=a,is=null,s=!0):s=!1),s||Gu(a)),null;case 13:return mS(s,a,g);case 4:return Se(a,a.stateNode.containerInfo),k=a.pendingProps,s===null?a.child=zu(a,null,k,g):as(s,a,k,g),a.child;case 11:return oS(s,a,a.type,a.pendingProps,g);case 7:return as(s,a,a.pendingProps,g),a.child;case 8:return as(s,a,a.pendingProps.children,g),a.child;case 12:return as(s,a,a.pendingProps.children,g),a.child;case 10:return k=a.pendingProps,xl(a,a.type,k.value),as(s,a,k.children,g),a.child;case 9:return F=a.type._context,k=a.pendingProps.children,$u(a),F=gs(F),k=k(F),a.flags|=1,as(s,a,k,g),a.child;case 14:return lS(s,a,a.type,a.pendingProps,g);case 15:return uS(s,a,a.type,a.pendingProps,g);case 19:return yS(s,a,g);case 22:return cS(s,a,g);case 24:return $u(a),k=gs(zn),s===null?(F=Lb(),F===null&&(F=$r,Y=kb(),F.pooledCache=Y,Y.refCount++,Y!==null&&(F.pooledCacheLanes|=g),F=Y),a.memoizedState={parent:k,cache:F},d1(a),xl(a,zn,F)):((s.lanes&g)!==0&&(h1(s,a),dp(a,null,null,g),cp()),F=s.memoizedState,Y=a.memoizedState,F.parent!==k?(F={parent:k,cache:k},a.memoizedState=F,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=F),xl(a,zn,k)):(k=Y.cache,xl(a,zn,k),k!==F.cache&&c1(a,[zn],g,!0))),as(s,a,a.pendingProps.children,g),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}var l1=Q(null),Yu=null,lo=null;function xl(s,a,g){de(l1,a._currentValue),a._currentValue=g}function uo(s){s._currentValue=l1.current,se(l1)}function u1(s,a,g){for(;s!==null;){var k=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,k!==null&&(k.childLanes|=a)):k!==null&&(k.childLanes&a)!==a&&(k.childLanes|=a),s===g)break;s=s.return}}function c1(s,a,g,k){var F=s.child;for(F!==null&&(F.return=s);F!==null;){var Y=F.dependencies;if(Y!==null){var ie=F.child;Y=Y.firstContext;e:for(;Y!==null;){var be=Y;Y=F;for(var ke=0;ke<a.length;ke++)if(be.context===a[ke]){Y.lanes|=g,be=Y.alternate,be!==null&&(be.lanes|=g),u1(Y.return,g,s),k||(ie=null);break e}Y=be.next}}else if(F.tag===18){if(ie=F.return,ie===null)throw Error(i(341));ie.lanes|=g,Y=ie.alternate,Y!==null&&(Y.lanes|=g),u1(ie,g,s),ie=null}else ie=F.child;if(ie!==null)ie.return=F;else for(ie=F;ie!==null;){if(ie===s){ie=null;break}if(F=ie.sibling,F!==null){F.return=ie.return,ie=F;break}ie=ie.return}F=ie}}function lp(s,a,g,k){s=null;for(var F=a,Y=!1;F!==null;){if(!Y){if((F.flags&524288)!==0)Y=!0;else if((F.flags&262144)!==0)break}if(F.tag===10){var ie=F.alternate;if(ie===null)throw Error(i(387));if(ie=ie.memoizedProps,ie!==null){var be=F.type;Xe(F.pendingProps.value,ie.value)||(s!==null?s.push(be):s=[be])}}else if(F===ye.current){if(ie=F.alternate,ie===null)throw Error(i(387));ie.memoizedState.memoizedState!==F.memoizedState.memoizedState&&(s!==null?s.push(Ap):s=[Ap])}F=F.return}s!==null&&c1(a,s,g,k),a.flags|=262144}function Zy(s){for(s=s.firstContext;s!==null;){if(!Xe(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function $u(s){Yu=s,lo=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function gs(s){return bS(Yu,s)}function Ky(s,a){return Yu===null&&$u(s),bS(s,a)}function bS(s,a){var g=a._currentValue;if(a={context:a,memoizedValue:g,next:null},lo===null){if(s===null)throw Error(i(308));lo=a,s.dependencies={lanes:0,firstContext:a},s.flags|=524288}else lo=lo.next=a;return g}var Sl=!1;function d1(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function h1(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function jl(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function El(s,a,g){var k=s.updateQueue;if(k===null)return null;if(k=k.shared,(hn&2)!==0){var F=k.pending;return F===null?a.next=a:(a.next=F.next,F.next=a),k.pending=a,a=ky(s),e2(s,null,g),a}return Ry(s,k,a,g),ky(s)}function up(s,a,g){if(a=a.updateQueue,a!==null&&(a=a.shared,(g&4194176)!==0)){var k=a.lanes;k&=s.pendingLanes,g|=k,a.lanes=g,Rn(s,g)}}function f1(s,a){var g=s.updateQueue,k=s.alternate;if(k!==null&&(k=k.updateQueue,g===k)){var F=null,Y=null;if(g=g.firstBaseUpdate,g!==null){do{var ie={lane:g.lane,tag:g.tag,payload:g.payload,callback:null,next:null};Y===null?F=Y=ie:Y=Y.next=ie,g=g.next}while(g!==null);Y===null?F=Y=a:Y=Y.next=a}else F=Y=a;g={baseState:k.baseState,firstBaseUpdate:F,lastBaseUpdate:Y,shared:k.shared,callbacks:k.callbacks},s.updateQueue=g;return}s=g.lastBaseUpdate,s===null?g.firstBaseUpdate=a:s.next=a,g.lastBaseUpdate=a}var p1=!1;function cp(){if(p1){var s=qd;if(s!==null)throw s}}function dp(s,a,g,k){p1=!1;var F=s.updateQueue;Sl=!1;var Y=F.firstBaseUpdate,ie=F.lastBaseUpdate,be=F.shared.pending;if(be!==null){F.shared.pending=null;var ke=be,Ie=ke.next;ke.next=null,ie===null?Y=Ie:ie.next=Ie,ie=ke;var rt=s.alternate;rt!==null&&(rt=rt.updateQueue,be=rt.lastBaseUpdate,be!==ie&&(be===null?rt.firstBaseUpdate=Ie:be.next=Ie,rt.lastBaseUpdate=ke))}if(Y!==null){var dt=F.baseState;ie=0,rt=Ie=ke=null,be=Y;do{var Ze=be.lane&-536870913,tt=Ze!==be.lane;if(tt?(yr&Ze)===Ze:(k&Ze)===Ze){Ze!==0&&Ze===Vd&&(p1=!0),rt!==null&&(rt=rt.next={lane:0,tag:be.tag,payload:be.payload,callback:null,next:null});e:{var Nt=s,$t=be;Ze=a;var _n=g;switch($t.tag){case 1:if(Nt=$t.payload,typeof Nt=="function"){dt=Nt.call(_n,dt,Ze);break e}dt=Nt;break e;case 3:Nt.flags=Nt.flags&-65537|128;case 0:if(Nt=$t.payload,Ze=typeof Nt=="function"?Nt.call(_n,dt,Ze):Nt,Ze==null)break e;dt=U({},dt,Ze);break e;case 2:Sl=!0}}Ze=be.callback,Ze!==null&&(s.flags|=64,tt&&(s.flags|=8192),tt=F.callbacks,tt===null?F.callbacks=[Ze]:tt.push(Ze))}else tt={lane:Ze,tag:be.tag,payload:be.payload,callback:be.callback,next:null},rt===null?(Ie=rt=tt,ke=dt):rt=rt.next=tt,ie|=Ze;if(be=be.next,be===null){if(be=F.shared.pending,be===null)break;tt=be,be=tt.next,tt.next=null,F.lastBaseUpdate=tt,F.shared.pending=null}}while(!0);rt===null&&(ke=dt),F.baseState=ke,F.firstBaseUpdate=Ie,F.lastBaseUpdate=rt,Y===null&&(F.shared.lanes=0),Rl|=ie,s.lanes=ie,s.memoizedState=dt}}function _S(s,a){if(typeof s!="function")throw Error(i(191,s));s.call(a)}function wS(s,a){var g=s.callbacks;if(g!==null)for(s.callbacks=null,s=0;s<g.length;s++)_S(g[s],a)}function hp(s,a){try{var g=a.updateQueue,k=g!==null?g.lastEffect:null;if(k!==null){var F=k.next;g=F;do{if((g.tag&s)===s){k=void 0;var Y=g.create,ie=g.inst;k=Y(),ie.destroy=k}g=g.next}while(g!==F)}}catch(be){Wr(a,a.return,be)}}function Al(s,a,g){try{var k=a.updateQueue,F=k!==null?k.lastEffect:null;if(F!==null){var Y=F.next;k=Y;do{if((k.tag&s)===s){var ie=k.inst,be=ie.destroy;if(be!==void 0){ie.destroy=void 0,F=a;var ke=g;try{be()}catch(Ie){Wr(F,ke,Ie)}}}k=k.next}while(k!==Y)}}catch(Ie){Wr(a,a.return,Ie)}}function xS(s){var a=s.updateQueue;if(a!==null){var g=s.stateNode;try{wS(a,g)}catch(k){Wr(s,s.return,k)}}}function SS(s,a,g){g.props=Xu(s.type,s.memoizedProps),g.state=s.memoizedState;try{g.componentWillUnmount()}catch(k){Wr(s,a,k)}}function Zu(s,a){try{var g=s.ref;if(g!==null){var k=s.stateNode;switch(s.tag){case 26:case 27:case 5:var F=k;break;default:F=k}typeof g=="function"?s.refCleanup=g(F):g.current=F}}catch(Y){Wr(s,a,Y)}}function Zs(s,a){var g=s.ref,k=s.refCleanup;if(g!==null)if(typeof k=="function")try{k()}catch(F){Wr(s,a,F)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof g=="function")try{g(null)}catch(F){Wr(s,a,F)}else g.current=null}function jS(s){var a=s.type,g=s.memoizedProps,k=s.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":g.autoFocus&&k.focus();break e;case"img":g.src?k.src=g.src:g.srcSet&&(k.srcset=g.srcSet)}}catch(F){Wr(s,s.return,F)}}function ES(s,a,g){try{var k=s.stateNode;AR(k,s.type,g,a),k[br]=a}catch(F){Wr(s,s.return,F)}}function AS(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27||s.tag===4}function m1(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||AS(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==27&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function g1(s,a,g){var k=s.tag;if(k===5||k===6)s=s.stateNode,a?g.nodeType===8?g.parentNode.insertBefore(s,a):g.insertBefore(s,a):(g.nodeType===8?(a=g.parentNode,a.insertBefore(s,g)):(a=g,a.appendChild(s)),g=g._reactRootContainer,g!=null||a.onclick!==null||(a.onclick=dv));else if(k!==4&&k!==27&&(s=s.child,s!==null))for(g1(s,a,g),s=s.sibling;s!==null;)g1(s,a,g),s=s.sibling}function Qy(s,a,g){var k=s.tag;if(k===5||k===6)s=s.stateNode,a?g.insertBefore(s,a):g.appendChild(s);else if(k!==4&&k!==27&&(s=s.child,s!==null))for(Qy(s,a,g),s=s.sibling;s!==null;)Qy(s,a,g),s=s.sibling}var co=!1,vn=!1,y1=!1,TS=typeof WeakSet=="function"?WeakSet:Set,Yn=null,MS=!1;function rR(s,a){if(s=s.containerInfo,q1=vv,s=Et(s),er(s)){if("selectionStart"in s)var g={start:s.selectionStart,end:s.selectionEnd};else e:{g=(g=s.ownerDocument)&&g.defaultView||window;var k=g.getSelection&&g.getSelection();if(k&&k.rangeCount!==0){g=k.anchorNode;var F=k.anchorOffset,Y=k.focusNode;k=k.focusOffset;try{g.nodeType,Y.nodeType}catch{g=null;break e}var ie=0,be=-1,ke=-1,Ie=0,rt=0,dt=s,Ze=null;t:for(;;){for(var tt;dt!==g||F!==0&&dt.nodeType!==3||(be=ie+F),dt!==Y||k!==0&&dt.nodeType!==3||(ke=ie+k),dt.nodeType===3&&(ie+=dt.nodeValue.length),(tt=dt.firstChild)!==null;)Ze=dt,dt=tt;for(;;){if(dt===s)break t;if(Ze===g&&++Ie===F&&(be=ie),Ze===Y&&++rt===k&&(ke=ie),(tt=dt.nextSibling)!==null)break;dt=Ze,Ze=dt.parentNode}dt=tt}g=be===-1||ke===-1?null:{start:be,end:ke}}else g=null}g=g||{start:0,end:0}}else g=null;for(W1={focusedElem:s,selectionRange:g},vv=!1,Yn=a;Yn!==null;)if(a=Yn,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,Yn=s;else for(;Yn!==null;){switch(a=Yn,Y=a.alternate,s=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&Y!==null){s=void 0,g=a,F=Y.memoizedProps,Y=Y.memoizedState,k=g.stateNode;try{var Nt=Xu(g.type,F,g.elementType===g.type);s=k.getSnapshotBeforeUpdate(Nt,Y),k.__reactInternalSnapshotBeforeUpdate=s}catch($t){Wr(g,g.return,$t)}}break;case 3:if((s&1024)!==0){if(s=a.stateNode.containerInfo,g=s.nodeType,g===9)Z1(s);else if(g===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Z1(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=a.sibling,s!==null){s.return=a.return,Yn=s;break}Yn=a.return}return Nt=MS,MS=!1,Nt}function CS(s,a,g){var k=g.flags;switch(g.tag){case 0:case 11:case 15:fo(s,g),k&4&&hp(5,g);break;case 1:if(fo(s,g),k&4)if(s=g.stateNode,a===null)try{s.componentDidMount()}catch(be){Wr(g,g.return,be)}else{var F=Xu(g.type,a.memoizedProps);a=a.memoizedState;try{s.componentDidUpdate(F,a,s.__reactInternalSnapshotBeforeUpdate)}catch(be){Wr(g,g.return,be)}}k&64&&xS(g),k&512&&Zu(g,g.return);break;case 3:if(fo(s,g),k&64&&(k=g.updateQueue,k!==null)){if(s=null,g.child!==null)switch(g.child.tag){case 27:case 5:s=g.child.stateNode;break;case 1:s=g.child.stateNode}try{wS(k,s)}catch(be){Wr(g,g.return,be)}}break;case 26:fo(s,g),k&512&&Zu(g,g.return);break;case 27:case 5:fo(s,g),a===null&&k&4&&jS(g),k&512&&Zu(g,g.return);break;case 12:fo(s,g);break;case 13:fo(s,g),k&4&&OS(s,g);break;case 22:if(F=g.memoizedState!==null||co,!F){a=a!==null&&a.memoizedState!==null||vn;var Y=co,ie=vn;co=F,(vn=a)&&!ie?Tl(s,g,(g.subtreeFlags&8772)!==0):fo(s,g),co=Y,vn=ie}k&512&&(g.memoizedProps.mode==="manual"?Zu(g,g.return):Zs(g,g.return));break;default:fo(s,g)}}function RS(s){var a=s.alternate;a!==null&&(s.alternate=null,RS(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&Ce(a)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var Dn=null,Ks=!1;function ho(s,a,g){for(g=g.child;g!==null;)kS(s,a,g),g=g.sibling}function kS(s,a,g){if(mt&&typeof mt.onCommitFiberUnmount=="function")try{mt.onCommitFiberUnmount(xt,g)}catch{}switch(g.tag){case 26:vn||Zs(g,a),ho(s,a,g),g.memoizedState?g.memoizedState.count--:g.stateNode&&(g=g.stateNode,g.parentNode.removeChild(g));break;case 27:vn||Zs(g,a);var k=Dn,F=Ks;for(Dn=g.stateNode,ho(s,a,g),g=g.stateNode,a=g.attributes;a.length;)g.removeAttributeNode(a[0]);Ce(g),Dn=k,Ks=F;break;case 5:vn||Zs(g,a);case 6:F=Dn;var Y=Ks;if(Dn=null,ho(s,a,g),Dn=F,Ks=Y,Dn!==null)if(Ks)try{s=Dn,k=g.stateNode,s.nodeType===8?s.parentNode.removeChild(k):s.removeChild(k)}catch(ie){Wr(g,a,ie)}else try{Dn.removeChild(g.stateNode)}catch(ie){Wr(g,a,ie)}break;case 18:Dn!==null&&(Ks?(a=Dn,g=g.stateNode,a.nodeType===8?$1(a.parentNode,g):a.nodeType===1&&$1(a,g),Rp(a)):$1(Dn,g.stateNode));break;case 4:k=Dn,F=Ks,Dn=g.stateNode.containerInfo,Ks=!0,ho(s,a,g),Dn=k,Ks=F;break;case 0:case 11:case 14:case 15:vn||Al(2,g,a),vn||Al(4,g,a),ho(s,a,g);break;case 1:vn||(Zs(g,a),k=g.stateNode,typeof k.componentWillUnmount=="function"&&SS(g,a,k)),ho(s,a,g);break;case 21:ho(s,a,g);break;case 22:vn||Zs(g,a),vn=(k=vn)||g.memoizedState!==null,ho(s,a,g),vn=k;break;default:ho(s,a,g)}}function OS(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Rp(s)}catch(g){Wr(a,a.return,g)}}function nR(s){switch(s.tag){case 13:case 19:var a=s.stateNode;return a===null&&(a=s.stateNode=new TS),a;case 22:return s=s.stateNode,a=s._retryCache,a===null&&(a=s._retryCache=new TS),a;default:throw Error(i(435,s.tag))}}function v1(s,a){var g=nR(s);a.forEach(function(k){var F=gR.bind(null,s,k);g.has(k)||(g.add(k),k.then(F,F))})}function Ai(s,a){var g=a.deletions;if(g!==null)for(var k=0;k<g.length;k++){var F=g[k],Y=s,ie=a,be=ie;e:for(;be!==null;){switch(be.tag){case 27:case 5:Dn=be.stateNode,Ks=!1;break e;case 3:Dn=be.stateNode.containerInfo,Ks=!0;break e;case 4:Dn=be.stateNode.containerInfo,Ks=!0;break e}be=be.return}if(Dn===null)throw Error(i(160));kS(Y,ie,F),Dn=null,Ks=!1,Y=F.alternate,Y!==null&&(Y.return=null),F.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)LS(a,s),a=a.sibling}var Yi=null;function LS(s,a){var g=s.alternate,k=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Ai(a,s),Ti(s),k&4&&(Al(3,s,s.return),hp(3,s),Al(5,s,s.return));break;case 1:Ai(a,s),Ti(s),k&512&&(vn||g===null||Zs(g,g.return)),k&64&&co&&(s=s.updateQueue,s!==null&&(k=s.callbacks,k!==null&&(g=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=g===null?k:g.concat(k))));break;case 26:var F=Yi;if(Ai(a,s),Ti(s),k&512&&(vn||g===null||Zs(g,g.return)),k&4){var Y=g!==null?g.memoizedState:null;if(k=s.memoizedState,g===null)if(k===null)if(s.stateNode===null){e:{k=s.type,g=s.memoizedProps,F=F.ownerDocument||F;t:switch(k){case"title":Y=F.getElementsByTagName("title")[0],(!Y||Y[ha]||Y[gr]||Y.namespaceURI==="http://www.w3.org/2000/svg"||Y.hasAttribute("itemprop"))&&(Y=F.createElement(k),F.head.insertBefore(Y,F.querySelector("head > title"))),os(Y,k,g),Y[gr]=s,Qe(Y),k=Y;break e;case"link":var ie=jj("link","href",F).get(k+(g.href||""));if(ie){for(var be=0;be<ie.length;be++)if(Y=ie[be],Y.getAttribute("href")===(g.href==null?null:g.href)&&Y.getAttribute("rel")===(g.rel==null?null:g.rel)&&Y.getAttribute("title")===(g.title==null?null:g.title)&&Y.getAttribute("crossorigin")===(g.crossOrigin==null?null:g.crossOrigin)){ie.splice(be,1);break t}}Y=F.createElement(k),os(Y,k,g),F.head.appendChild(Y);break;case"meta":if(ie=jj("meta","content",F).get(k+(g.content||""))){for(be=0;be<ie.length;be++)if(Y=ie[be],Y.getAttribute("content")===(g.content==null?null:""+g.content)&&Y.getAttribute("name")===(g.name==null?null:g.name)&&Y.getAttribute("property")===(g.property==null?null:g.property)&&Y.getAttribute("http-equiv")===(g.httpEquiv==null?null:g.httpEquiv)&&Y.getAttribute("charset")===(g.charSet==null?null:g.charSet)){ie.splice(be,1);break t}}Y=F.createElement(k),os(Y,k,g),F.head.appendChild(Y);break;default:throw Error(i(468,k))}Y[gr]=s,Qe(Y),k=Y}s.stateNode=k}else Ej(F,s.type,s.stateNode);else s.stateNode=Sj(F,k,s.memoizedProps);else Y!==k?(Y===null?g.stateNode!==null&&(g=g.stateNode,g.parentNode.removeChild(g)):Y.count--,k===null?Ej(F,s.type,s.stateNode):Sj(F,k,s.memoizedProps)):k===null&&s.stateNode!==null&&ES(s,s.memoizedProps,g.memoizedProps)}break;case 27:if(k&4&&s.alternate===null){F=s.stateNode,Y=s.memoizedProps;try{for(var ke=F.firstChild;ke;){var Ie=ke.nextSibling,rt=ke.nodeName;ke[ha]||rt==="HEAD"||rt==="BODY"||rt==="SCRIPT"||rt==="STYLE"||rt==="LINK"&&ke.rel.toLowerCase()==="stylesheet"||F.removeChild(ke),ke=Ie}for(var dt=s.type,Ze=F.attributes;Ze.length;)F.removeAttributeNode(Ze[0]);os(F,dt,Y),F[gr]=s,F[br]=Y}catch(Nt){Wr(s,s.return,Nt)}}case 5:if(Ai(a,s),Ti(s),k&512&&(vn||g===null||Zs(g,g.return)),s.flags&32){F=s.stateNode;try{Qa(F,"")}catch(Nt){Wr(s,s.return,Nt)}}k&4&&s.stateNode!=null&&(F=s.memoizedProps,ES(s,F,g!==null?g.memoizedProps:F)),k&1024&&(y1=!0);break;case 6:if(Ai(a,s),Ti(s),k&4){if(s.stateNode===null)throw Error(i(162));k=s.memoizedProps,g=s.stateNode;try{g.nodeValue=k}catch(Nt){Wr(s,s.return,Nt)}}break;case 3:if(mv=null,F=Yi,Yi=fv(a.containerInfo),Ai(a,s),Yi=F,Ti(s),k&4&&g!==null&&g.memoizedState.isDehydrated)try{Rp(a.containerInfo)}catch(Nt){Wr(s,s.return,Nt)}y1&&(y1=!1,DS(s));break;case 4:k=Yi,Yi=fv(s.stateNode.containerInfo),Ai(a,s),Ti(s),Yi=k;break;case 12:Ai(a,s),Ti(s);break;case 13:Ai(a,s),Ti(s),s.child.flags&8192&&s.memoizedState!==null!=(g!==null&&g.memoizedState!==null)&&(T1=ot()),k&4&&(k=s.updateQueue,k!==null&&(s.updateQueue=null,v1(s,k)));break;case 22:if(k&512&&(vn||g===null||Zs(g,g.return)),ke=s.memoizedState!==null,Ie=g!==null&&g.memoizedState!==null,rt=co,dt=vn,co=rt||ke,vn=dt||Ie,Ai(a,s),vn=dt,co=rt,Ti(s),a=s.stateNode,a._current=s,a._visibility&=-3,a._visibility|=a._pendingVisibility&2,k&8192&&(a._visibility=ke?a._visibility&-2:a._visibility|1,ke&&(a=co||vn,g===null||Ie||a||$d(s)),s.memoizedProps===null||s.memoizedProps.mode!=="manual"))e:for(g=null,a=s;;){if(a.tag===5||a.tag===26||a.tag===27){if(g===null){Ie=g=a;try{if(F=Ie.stateNode,ke)Y=F.style,typeof Y.setProperty=="function"?Y.setProperty("display","none","important"):Y.display="none";else{ie=Ie.stateNode,be=Ie.memoizedProps.style;var tt=be!=null&&be.hasOwnProperty("display")?be.display:null;ie.style.display=tt==null||typeof tt=="boolean"?"":(""+tt).trim()}}catch(Nt){Wr(Ie,Ie.return,Nt)}}}else if(a.tag===6){if(g===null){Ie=a;try{Ie.stateNode.nodeValue=ke?"":Ie.memoizedProps}catch(Nt){Wr(Ie,Ie.return,Nt)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===s)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break e;for(;a.sibling===null;){if(a.return===null||a.return===s)break e;g===a&&(g=null),a=a.return}g===a&&(g=null),a.sibling.return=a.return,a=a.sibling}k&4&&(k=s.updateQueue,k!==null&&(g=k.retryQueue,g!==null&&(k.retryQueue=null,v1(s,g))));break;case 19:Ai(a,s),Ti(s),k&4&&(k=s.updateQueue,k!==null&&(s.updateQueue=null,v1(s,k)));break;case 21:break;default:Ai(a,s),Ti(s)}}function Ti(s){var a=s.flags;if(a&2){try{if(s.tag!==27){e:{for(var g=s.return;g!==null;){if(AS(g)){var k=g;break e}g=g.return}throw Error(i(160))}switch(k.tag){case 27:var F=k.stateNode,Y=m1(s);Qy(s,Y,F);break;case 5:var ie=k.stateNode;k.flags&32&&(Qa(ie,""),k.flags&=-33);var be=m1(s);Qy(s,be,ie);break;case 3:case 4:var ke=k.stateNode.containerInfo,Ie=m1(s);g1(s,Ie,ke);break;default:throw Error(i(161))}}}catch(rt){Wr(s,s.return,rt)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function DS(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var a=s;DS(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),s=s.sibling}}function fo(s,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)CS(s,a.alternate,a),a=a.sibling}function $d(s){for(s=s.child;s!==null;){var a=s;switch(a.tag){case 0:case 11:case 14:case 15:Al(4,a,a.return),$d(a);break;case 1:Zs(a,a.return);var g=a.stateNode;typeof g.componentWillUnmount=="function"&&SS(a,a.return,g),$d(a);break;case 26:case 27:case 5:Zs(a,a.return),$d(a);break;case 22:Zs(a,a.return),a.memoizedState===null&&$d(a);break;default:$d(a)}s=s.sibling}}function Tl(s,a,g){for(g=g&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var k=a.alternate,F=s,Y=a,ie=Y.flags;switch(Y.tag){case 0:case 11:case 15:Tl(F,Y,g),hp(4,Y);break;case 1:if(Tl(F,Y,g),k=Y,F=k.stateNode,typeof F.componentDidMount=="function")try{F.componentDidMount()}catch(Ie){Wr(k,k.return,Ie)}if(k=Y,F=k.updateQueue,F!==null){var be=k.stateNode;try{var ke=F.shared.hiddenCallbacks;if(ke!==null)for(F.shared.hiddenCallbacks=null,F=0;F<ke.length;F++)_S(ke[F],be)}catch(Ie){Wr(k,k.return,Ie)}}g&&ie&64&&xS(Y),Zu(Y,Y.return);break;case 26:case 27:case 5:Tl(F,Y,g),g&&k===null&&ie&4&&jS(Y),Zu(Y,Y.return);break;case 12:Tl(F,Y,g);break;case 13:Tl(F,Y,g),g&&ie&4&&OS(F,Y);break;case 22:Y.memoizedState===null&&Tl(F,Y,g),Zu(Y,Y.return);break;default:Tl(F,Y,g)}a=a.sibling}}function b1(s,a){var g=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(g=s.memoizedState.cachePool.pool),s=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(s=a.memoizedState.cachePool.pool),s!==g&&(s!=null&&s.refCount++,g!=null&&rp(g))}function _1(s,a){s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&rp(s))}function Ml(s,a,g,k){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)PS(s,a,g,k),a=a.sibling}function PS(s,a,g,k){var F=a.flags;switch(a.tag){case 0:case 11:case 15:Ml(s,a,g,k),F&2048&&hp(9,a);break;case 3:Ml(s,a,g,k),F&2048&&(s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&rp(s)));break;case 12:if(F&2048){Ml(s,a,g,k),s=a.stateNode;try{var Y=a.memoizedProps,ie=Y.id,be=Y.onPostCommit;typeof be=="function"&&be(ie,a.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(ke){Wr(a,a.return,ke)}}else Ml(s,a,g,k);break;case 23:break;case 22:Y=a.stateNode,a.memoizedState!==null?Y._visibility&4?Ml(s,a,g,k):fp(s,a):Y._visibility&4?Ml(s,a,g,k):(Y._visibility|=4,Zd(s,a,g,k,(a.subtreeFlags&10256)!==0)),F&2048&&b1(a.alternate,a);break;case 24:Ml(s,a,g,k),F&2048&&_1(a.alternate,a);break;default:Ml(s,a,g,k)}}function Zd(s,a,g,k,F){for(F=F&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var Y=s,ie=a,be=g,ke=k,Ie=ie.flags;switch(ie.tag){case 0:case 11:case 15:Zd(Y,ie,be,ke,F),hp(8,ie);break;case 23:break;case 22:var rt=ie.stateNode;ie.memoizedState!==null?rt._visibility&4?Zd(Y,ie,be,ke,F):fp(Y,ie):(rt._visibility|=4,Zd(Y,ie,be,ke,F)),F&&Ie&2048&&b1(ie.alternate,ie);break;case 24:Zd(Y,ie,be,ke,F),F&&Ie&2048&&_1(ie.alternate,ie);break;default:Zd(Y,ie,be,ke,F)}a=a.sibling}}function fp(s,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var g=s,k=a,F=k.flags;switch(k.tag){case 22:fp(g,k),F&2048&&b1(k.alternate,k);break;case 24:fp(g,k),F&2048&&_1(k.alternate,k);break;default:fp(g,k)}a=a.sibling}}var pp=8192;function Kd(s){if(s.subtreeFlags&pp)for(s=s.child;s!==null;)NS(s),s=s.sibling}function NS(s){switch(s.tag){case 26:Kd(s),s.flags&pp&&s.memoizedState!==null&&qR(Yi,s.memoizedState,s.memoizedProps);break;case 5:Kd(s);break;case 3:case 4:var a=Yi;Yi=fv(s.stateNode.containerInfo),Kd(s),Yi=a;break;case 22:s.memoizedState===null&&(a=s.alternate,a!==null&&a.memoizedState!==null?(a=pp,pp=16777216,Kd(s),pp=a):Kd(s));break;default:Kd(s)}}function IS(s){var a=s.alternate;if(a!==null&&(s=a.child,s!==null)){a.child=null;do a=s.sibling,s.sibling=null,s=a;while(s!==null)}}function mp(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var g=0;g<a.length;g++){var k=a[g];Yn=k,US(k,s)}IS(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)FS(s),s=s.sibling}function FS(s){switch(s.tag){case 0:case 11:case 15:mp(s),s.flags&2048&&Al(9,s,s.return);break;case 3:mp(s);break;case 12:mp(s);break;case 22:var a=s.stateNode;s.memoizedState!==null&&a._visibility&4&&(s.return===null||s.return.tag!==13)?(a._visibility&=-5,Jy(s)):mp(s);break;default:mp(s)}}function Jy(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var g=0;g<a.length;g++){var k=a[g];Yn=k,US(k,s)}IS(s)}for(s=s.child;s!==null;){switch(a=s,a.tag){case 0:case 11:case 15:Al(8,a,a.return),Jy(a);break;case 22:g=a.stateNode,g._visibility&4&&(g._visibility&=-5,Jy(a));break;default:Jy(a)}s=s.sibling}}function US(s,a){for(;Yn!==null;){var g=Yn;switch(g.tag){case 0:case 11:case 15:Al(8,g,a);break;case 23:case 22:if(g.memoizedState!==null&&g.memoizedState.cachePool!==null){var k=g.memoizedState.cachePool.pool;k!=null&&k.refCount++}break;case 24:rp(g.memoizedState.cache)}if(k=g.child,k!==null)k.return=g,Yn=k;else e:for(g=s;Yn!==null;){k=Yn;var F=k.sibling,Y=k.return;if(RS(k),k===g){Yn=null;break e}if(F!==null){F.return=Y,Yn=F;break e}Yn=Y}}}function sR(s,a,g,k){this.tag=s,this.key=g,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=k,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mi(s,a,g,k){return new sR(s,a,g,k)}function w1(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Cl(s,a){var g=s.alternate;return g===null?(g=Mi(s.tag,a,s.key,s.mode),g.elementType=s.elementType,g.type=s.type,g.stateNode=s.stateNode,g.alternate=s,s.alternate=g):(g.pendingProps=a,g.type=s.type,g.flags=0,g.subtreeFlags=0,g.deletions=null),g.flags=s.flags&31457280,g.childLanes=s.childLanes,g.lanes=s.lanes,g.child=s.child,g.memoizedProps=s.memoizedProps,g.memoizedState=s.memoizedState,g.updateQueue=s.updateQueue,a=s.dependencies,g.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},g.sibling=s.sibling,g.index=s.index,g.ref=s.ref,g.refCleanup=s.refCleanup,g}function BS(s,a){s.flags&=31457282;var g=s.alternate;return g===null?(s.childLanes=0,s.lanes=a,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=g.childLanes,s.lanes=g.lanes,s.child=g.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=g.memoizedProps,s.memoizedState=g.memoizedState,s.updateQueue=g.updateQueue,s.type=g.type,a=g.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),s}function ev(s,a,g,k,F,Y){var ie=0;if(k=s,typeof s=="function")w1(s)&&(ie=1);else if(typeof s=="string")ie=HR(s,g,ge.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case A:return Ku(g.children,F,Y,a);case y:ie=8,F|=24;break;case d:return s=Mi(12,g,a,F|2),s.elementType=d,s.lanes=Y,s;case o:return s=Mi(13,g,a,F),s.elementType=o,s.lanes=Y,s;case h:return s=Mi(19,g,a,F),s.elementType=h,s.lanes=Y,s;case m:return GS(g,F,Y,a);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case c:case x:ie=10;break e;case u:ie=9;break e;case j:ie=11;break e;case f:ie=14;break e;case l:ie=16,k=null;break e}ie=29,g=Error(i(130,s===null?"null":typeof s,"")),k=null}return a=Mi(ie,g,a,F),a.elementType=s,a.type=k,a.lanes=Y,a}function Ku(s,a,g,k){return s=Mi(7,s,k,a),s.lanes=g,s}function GS(s,a,g,k){s=Mi(22,s,k,a),s.elementType=m,s.lanes=g;var F={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var Y=F._current;if(Y===null)throw Error(i(456));if((F._pendingVisibility&2)===0){var ie=yl(Y,2);ie!==null&&(F._pendingVisibility|=2,Ms(ie,Y,2))}},attach:function(){var Y=F._current;if(Y===null)throw Error(i(456));if((F._pendingVisibility&2)!==0){var ie=yl(Y,2);ie!==null&&(F._pendingVisibility&=-3,Ms(ie,Y,2))}}};return s.stateNode=F,s}function x1(s,a,g){return s=Mi(6,s,null,a),s.lanes=g,s}function S1(s,a,g){return a=Mi(4,s.children!==null?s.children:[],s.key,a),a.lanes=g,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}function po(s){s.flags|=4}function zS(s,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!Aj(a)){if(a=Ei.current,a!==null&&((yr&4194176)===yr?ba!==null:(yr&62914560)!==yr&&(yr&536870912)===0||a!==ba))throw Jf=Mb,i2;s.flags|=8192}}function tv(s,a){a!==null&&(s.flags|=4),s.flags&16384&&(a=s.tag!==22?Yt():536870912,s.lanes|=a,Jd|=a)}function gp(s,a){if(!jr)switch(s.tailMode){case"hidden":a=s.tail;for(var g=null;a!==null;)a.alternate!==null&&(g=a),a=a.sibling;g===null?s.tail=null:g.sibling=null;break;case"collapsed":g=s.tail;for(var k=null;g!==null;)g.alternate!==null&&(k=g),g=g.sibling;k===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:k.sibling=null}}function dn(s){var a=s.alternate!==null&&s.alternate.child===s.child,g=0,k=0;if(a)for(var F=s.child;F!==null;)g|=F.lanes|F.childLanes,k|=F.subtreeFlags&31457280,k|=F.flags&31457280,F.return=s,F=F.sibling;else for(F=s.child;F!==null;)g|=F.lanes|F.childLanes,k|=F.subtreeFlags,k|=F.flags,F.return=s,F=F.sibling;return s.subtreeFlags|=k,s.childLanes=g,a}function iR(s,a,g){var k=a.pendingProps;switch(Ab(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dn(a),null;case 1:return dn(a),null;case 3:return g=a.stateNode,k=null,s!==null&&(k=s.memoizedState.cache),a.memoizedState.cache!==k&&(a.flags|=2048),uo(zn),Me(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(s===null||s.child===null)&&($f(a)?po(a):s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Xi!==null&&(k1(Xi),Xi=null))),dn(a),null;case 26:return g=a.memoizedState,s===null?(po(a),g!==null?(dn(a),zS(a,g)):(dn(a),a.flags&=-16777217)):g?g!==s.memoizedState?(po(a),dn(a),zS(a,g)):(dn(a),a.flags&=-16777217):(s.memoizedProps!==k&&po(a),dn(a),a.flags&=-16777217),null;case 27:Te(a),g=ae.current;var F=a.type;if(s!==null&&a.stateNode!=null)s.memoizedProps!==k&&po(a);else{if(!k){if(a.stateNode===null)throw Error(i(166));return dn(a),null}s=ge.current,$f(a)?n2(a):(s=vj(F,k,g),a.stateNode=s,po(a))}return dn(a),null;case 5:if(Te(a),g=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==k&&po(a);else{if(!k){if(a.stateNode===null)throw Error(i(166));return dn(a),null}if(s=ge.current,$f(a))n2(a);else{switch(F=hv(ae.current),s){case 1:s=F.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:s=F.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":s=F.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":s=F.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":s=F.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof k.is=="string"?F.createElement("select",{is:k.is}):F.createElement("select"),k.multiple?s.multiple=!0:k.size&&(s.size=k.size);break;default:s=typeof k.is=="string"?F.createElement(g,{is:k.is}):F.createElement(g)}}s[gr]=a,s[br]=k;e:for(F=a.child;F!==null;){if(F.tag===5||F.tag===6)s.appendChild(F.stateNode);else if(F.tag!==4&&F.tag!==27&&F.child!==null){F.child.return=F,F=F.child;continue}if(F===a)break e;for(;F.sibling===null;){if(F.return===null||F.return===a)break e;F=F.return}F.sibling.return=F.return,F=F.sibling}a.stateNode=s;e:switch(os(s,g,k),g){case"button":case"input":case"select":case"textarea":s=!!k.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&po(a)}}return dn(a),a.flags&=-16777217,null;case 6:if(s&&a.stateNode!=null)s.memoizedProps!==k&&po(a);else{if(typeof k!="string"&&a.stateNode===null)throw Error(i(166));if(s=ae.current,$f(a)){if(s=a.stateNode,g=a.memoizedProps,k=null,F=Ts,F!==null)switch(F.tag){case 27:case 5:k=F.memoizedProps}s[gr]=a,s=!!(s.nodeValue===g||k!==null&&k.suppressHydrationWarning===!0||hj(s.nodeValue,g)),s||Gu(a)}else s=hv(s).createTextNode(k),s[gr]=a,a.stateNode=s}return dn(a),null;case 13:if(k=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(F=$f(a),k!==null&&k.dehydrated!==null){if(s===null){if(!F)throw Error(i(318));if(F=a.memoizedState,F=F!==null?F.dehydrated:null,!F)throw Error(i(317));F[gr]=a}else Zf(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;dn(a),F=!1}else Xi!==null&&(k1(Xi),Xi=null),F=!0;if(!F)return a.flags&256?(io(a),a):(io(a),null)}if(io(a),(a.flags&128)!==0)return a.lanes=g,a;if(g=k!==null,s=s!==null&&s.memoizedState!==null,g){k=a.child,F=null,k.alternate!==null&&k.alternate.memoizedState!==null&&k.alternate.memoizedState.cachePool!==null&&(F=k.alternate.memoizedState.cachePool.pool);var Y=null;k.memoizedState!==null&&k.memoizedState.cachePool!==null&&(Y=k.memoizedState.cachePool.pool),Y!==F&&(k.flags|=2048)}return g!==s&&g&&(a.child.flags|=8192),tv(a,a.updateQueue),dn(a),null;case 4:return Me(),s===null&&z1(a.stateNode.containerInfo),dn(a),null;case 10:return uo(a.type),dn(a),null;case 19:if(se(Gn),F=a.memoizedState,F===null)return dn(a),null;if(k=(a.flags&128)!==0,Y=F.rendering,Y===null)if(k)gp(F,!1);else{if(bn!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(Y=Fy(s),Y!==null){for(a.flags|=128,gp(F,!1),s=Y.updateQueue,a.updateQueue=s,tv(a,s),a.subtreeFlags=0,s=g,g=a.child;g!==null;)BS(g,s),g=g.sibling;return de(Gn,Gn.current&1|2),a.child}s=s.sibling}F.tail!==null&&ot()>rv&&(a.flags|=128,k=!0,gp(F,!1),a.lanes=4194304)}else{if(!k)if(s=Fy(Y),s!==null){if(a.flags|=128,k=!0,s=s.updateQueue,a.updateQueue=s,tv(a,s),gp(F,!0),F.tail===null&&F.tailMode==="hidden"&&!Y.alternate&&!jr)return dn(a),null}else 2*ot()-F.renderingStartTime>rv&&g!==536870912&&(a.flags|=128,k=!0,gp(F,!1),a.lanes=4194304);F.isBackwards?(Y.sibling=a.child,a.child=Y):(s=F.last,s!==null?s.sibling=Y:a.child=Y,F.last=Y)}return F.tail!==null?(a=F.tail,F.rendering=a,F.tail=a.sibling,F.renderingStartTime=ot(),a.sibling=null,s=Gn.current,de(Gn,k?s&1|2:s&1),a):(dn(a),null);case 22:case 23:return io(a),Rb(),k=a.memoizedState!==null,s!==null?s.memoizedState!==null!==k&&(a.flags|=8192):k&&(a.flags|=8192),k?(g&536870912)!==0&&(a.flags&128)===0&&(dn(a),a.subtreeFlags&6&&(a.flags|=8192)):dn(a),g=a.updateQueue,g!==null&&tv(a,g.retryQueue),g=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(g=s.memoizedState.cachePool.pool),k=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(k=a.memoizedState.cachePool.pool),k!==g&&(a.flags|=2048),s!==null&&se(Hu),null;case 24:return g=null,s!==null&&(g=s.memoizedState.cache),a.memoizedState.cache!==g&&(a.flags|=2048),uo(zn),dn(a),null;case 25:return null}throw Error(i(156,a.tag))}function aR(s,a){switch(Ab(a),a.tag){case 1:return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return uo(zn),Me(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 26:case 27:case 5:return Te(a),null;case 13:if(io(a),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(i(340));Zf()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return se(Gn),null;case 4:return Me(),null;case 10:return uo(a.type),null;case 22:case 23:return io(a),Rb(),s!==null&&se(Hu),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 24:return uo(zn),null;case 25:return null;default:return null}}function HS(s,a){switch(Ab(a),a.tag){case 3:uo(zn),Me();break;case 26:case 27:case 5:Te(a);break;case 4:Me();break;case 13:io(a);break;case 19:se(Gn);break;case 10:uo(a.type);break;case 22:case 23:io(a),Rb(),s!==null&&se(Hu);break;case 24:uo(zn)}}var oR={getCacheForType:function(s){var a=gs(zn),g=a.data.get(s);return g===void 0&&(g=s(),a.data.set(s,g)),g}},lR=typeof WeakMap=="function"?WeakMap:Map,hn=0,$r=null,ur=null,yr=0,Zr=0,Qs=null,mo=!1,Qd=!1,j1=!1,go=0,bn=0,Rl=0,Qu=0,E1=0,Ci=0,Jd=0,yp=null,wa=null,A1=!1,T1=0,rv=1/0,nv=null,kl=null,sv=!1,Ju=null,vp=0,M1=0,C1=null,bp=0,R1=null;function Js(){if((hn&2)!==0&&yr!==0)return yr&-yr;if(O.T!==null){var s=Vd;return s!==0?s:F1()}return Jr()}function VS(){Ci===0&&(Ci=(yr&536870912)===0||jr?sr():536870912);var s=Ei.current;return s!==null&&(s.flags|=32),Ci}function Ms(s,a,g){(s===$r&&Zr===2||s.cancelPendingCommit!==null)&&(eh(s,0),yo(s,yr,Ci,!1)),zt(s,g),((hn&2)===0||s!==$r)&&(s===$r&&((hn&2)===0&&(Qu|=g),bn===4&&yo(s,yr,Ci,!1)),xa(s))}function qS(s,a,g){if((hn&6)!==0)throw Error(i(327));var k=!g&&(a&60)===0&&(a&s.expiredLanes)===0||_t(s,a),F=k?dR(s,a):D1(s,a,!0),Y=k;do{if(F===0){Qd&&!k&&yo(s,a,0,!1);break}else if(F===6)yo(s,a,0,!mo);else{if(g=s.current.alternate,Y&&!uR(g)){F=D1(s,a,!1),Y=!1;continue}if(F===2){if(Y=a,s.errorRecoveryDisabledLanes&Y)var ie=0;else ie=s.pendingLanes&-536870913,ie=ie!==0?ie:ie&536870912?536870912:0;if(ie!==0){a=ie;e:{var be=s;F=yp;var ke=be.current.memoizedState.isDehydrated;if(ke&&(eh(be,ie).flags|=256),ie=D1(be,ie,!1),ie!==2){if(j1&&!ke){be.errorRecoveryDisabledLanes|=Y,Qu|=Y,F=4;break e}Y=wa,wa=F,Y!==null&&k1(Y)}F=ie}if(Y=!1,F!==2)continue}}if(F===1){eh(s,0),yo(s,a,0,!0);break}e:{switch(k=s,F){case 0:case 1:throw Error(i(345));case 4:if((a&4194176)===a){yo(k,a,Ci,!mo);break e}break;case 2:wa=null;break;case 3:case 5:break;default:throw Error(i(329))}if(k.finishedWork=g,k.finishedLanes=a,(a&62914560)===a&&(Y=T1+300-ot(),10<Y)){if(yo(k,a,Ci,!mo),ht(k,0)!==0)break e;k.timeoutHandle=mj(WS.bind(null,k,g,wa,nv,A1,a,Ci,Qu,Jd,mo,2,-0,0),Y);break e}WS(k,g,wa,nv,A1,a,Ci,Qu,Jd,mo,0,-0,0)}}break}while(!0);xa(s)}function k1(s){wa===null?wa=s:wa.push.apply(wa,s)}function WS(s,a,g,k,F,Y,ie,be,ke,Ie,rt,dt,Ze){var tt=a.subtreeFlags;if((tt&8192||(tt&16785408)===16785408)&&(Ep={stylesheets:null,count:0,unsuspend:VR},NS(a),a=WR(),a!==null)){s.cancelPendingCommit=a(JS.bind(null,s,g,k,F,ie,be,ke,1,dt,Ze)),yo(s,Y,ie,!Ie);return}JS(s,g,k,F,ie,be,ke,rt,dt,Ze)}function uR(s){for(var a=s;;){var g=a.tag;if((g===0||g===11||g===15)&&a.flags&16384&&(g=a.updateQueue,g!==null&&(g=g.stores,g!==null)))for(var k=0;k<g.length;k++){var F=g[k],Y=F.getSnapshot;F=F.value;try{if(!Xe(Y(),F))return!1}catch{return!1}}if(g=a.child,a.subtreeFlags&16384&&g!==null)g.return=a,a=g;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function yo(s,a,g,k){a&=~E1,a&=~Qu,s.suspendedLanes|=a,s.pingedLanes&=~a,k&&(s.warmLanes|=a),k=s.expirationTimes;for(var F=a;0<F;){var Y=31-he(F),ie=1<<Y;k[Y]=-1,F&=~ie}g!==0&&Ar(s,g,a)}function iv(){return(hn&6)===0?(_p(0),!1):!0}function O1(){if(ur!==null){if(Zr===0)var s=ur.return;else s=ur,lo=Yu=null,Fb(s),zd=null,ep=0,s=ur;for(;s!==null;)HS(s.alternate,s),s=s.return;ur=null}}function eh(s,a){s.finishedWork=null,s.finishedLanes=0;var g=s.timeoutHandle;g!==-1&&(s.timeoutHandle=-1,MR(g)),g=s.cancelPendingCommit,g!==null&&(s.cancelPendingCommit=null,g()),O1(),$r=s,ur=g=Cl(s.current,null),yr=a,Zr=0,Qs=null,mo=!1,Qd=_t(s,a),j1=!1,Jd=Ci=E1=Qu=Rl=bn=0,wa=yp=null,A1=!1,(a&8)!==0&&(a|=a&32);var k=s.entangledLanes;if(k!==0)for(s=s.entanglements,k&=a;0<k;){var F=31-he(k),Y=1<<F;a|=s[F],k&=~Y}return go=a,Cy(),g}function XS(s,a){ar=null,O.H=_a,a===Qf?(a=l2(),Zr=3):a===i2?(a=l2(),Zr=4):Zr=a===aS?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Qs=a,ur===null&&(bn=1,$y(s,xi(a,s.current)))}function YS(){var s=O.H;return O.H=_a,s===null?_a:s}function $S(){var s=O.A;return O.A=oR,s}function L1(){bn=4,mo||(yr&4194176)!==yr&&Ei.current!==null||(Qd=!0),(Rl&134217727)===0&&(Qu&134217727)===0||$r===null||yo($r,yr,Ci,!1)}function D1(s,a,g){var k=hn;hn|=2;var F=YS(),Y=$S();($r!==s||yr!==a)&&(nv=null,eh(s,a)),a=!1;var ie=bn;e:do try{if(Zr!==0&&ur!==null){var be=ur,ke=Qs;switch(Zr){case 8:O1(),ie=6;break e;case 3:case 2:case 6:Ei.current===null&&(a=!0);var Ie=Zr;if(Zr=0,Qs=null,th(s,be,ke,Ie),g&&Qd){ie=0;break e}break;default:Ie=Zr,Zr=0,Qs=null,th(s,be,ke,Ie)}}cR(),ie=bn;break}catch(rt){XS(s,rt)}while(!0);return a&&s.shellSuspendCounter++,lo=Yu=null,hn=k,O.H=F,O.A=Y,ur===null&&($r=null,yr=0,Cy()),ie}function cR(){for(;ur!==null;)ZS(ur)}function dR(s,a){var g=hn;hn|=2;var k=YS(),F=$S();$r!==s||yr!==a?(nv=null,rv=ot()+500,eh(s,a)):Qd=_t(s,a);e:do try{if(Zr!==0&&ur!==null){a=ur;var Y=Qs;t:switch(Zr){case 1:Zr=0,Qs=null,th(s,a,Y,1);break;case 2:if(a2(Y)){Zr=0,Qs=null,KS(a);break}a=function(){Zr===2&&$r===s&&(Zr=7),xa(s)},Y.then(a,a);break e;case 3:Zr=7;break e;case 4:Zr=5;break e;case 7:a2(Y)?(Zr=0,Qs=null,KS(a)):(Zr=0,Qs=null,th(s,a,Y,7));break;case 5:var ie=null;switch(ur.tag){case 26:ie=ur.memoizedState;case 5:case 27:var be=ur;if(!ie||Aj(ie)){Zr=0,Qs=null;var ke=be.sibling;if(ke!==null)ur=ke;else{var Ie=be.return;Ie!==null?(ur=Ie,av(Ie)):ur=null}break t}}Zr=0,Qs=null,th(s,a,Y,5);break;case 6:Zr=0,Qs=null,th(s,a,Y,6);break;case 8:O1(),bn=6;break e;default:throw Error(i(462))}}hR();break}catch(rt){XS(s,rt)}while(!0);return lo=Yu=null,O.H=k,O.A=F,hn=g,ur!==null?0:($r=null,yr=0,Cy(),bn)}function hR(){for(;ur!==null&&!et();)ZS(ur)}function ZS(s){var a=vS(s.alternate,s,go);s.memoizedProps=s.pendingProps,a===null?av(s):ur=a}function KS(s){var a=s,g=a.alternate;switch(a.tag){case 15:case 0:a=hS(g,a,a.pendingProps,a.type,void 0,yr);break;case 11:a=hS(g,a,a.pendingProps,a.type.render,a.ref,yr);break;case 5:Fb(a);default:HS(g,a),a=ur=BS(a,go),a=vS(g,a,go)}s.memoizedProps=s.pendingProps,a===null?av(s):ur=a}function th(s,a,g,k){lo=Yu=null,Fb(a),zd=null,ep=0;var F=a.return;try{if(eR(s,F,a,g,yr)){bn=1,$y(s,xi(g,s.current)),ur=null;return}}catch(Y){if(F!==null)throw ur=F,Y;bn=1,$y(s,xi(g,s.current)),ur=null;return}a.flags&32768?(jr||k===1?s=!0:Qd||(yr&536870912)!==0?s=!1:(mo=s=!0,(k===2||k===3||k===6)&&(k=Ei.current,k!==null&&k.tag===13&&(k.flags|=16384))),QS(a,s)):av(a)}function av(s){var a=s;do{if((a.flags&32768)!==0){QS(a,mo);return}s=a.return;var g=iR(a.alternate,a,go);if(g!==null){ur=g;return}if(a=a.sibling,a!==null){ur=a;return}ur=a=s}while(a!==null);bn===0&&(bn=5)}function QS(s,a){do{var g=aR(s.alternate,s);if(g!==null){g.flags&=32767,ur=g;return}if(g=s.return,g!==null&&(g.flags|=32768,g.subtreeFlags=0,g.deletions=null),!a&&(s=s.sibling,s!==null)){ur=s;return}ur=s=g}while(s!==null);bn=6,ur=null}function JS(s,a,g,k,F,Y,ie,be,ke,Ie){var rt=O.T,dt=oe.p;try{oe.p=2,O.T=null,fR(s,a,g,k,dt,F,Y,ie,be,ke,Ie)}finally{O.T=rt,oe.p=dt}}function fR(s,a,g,k,F,Y,ie,be){do rh();while(Ju!==null);if((hn&6)!==0)throw Error(i(327));var ke=s.finishedWork;if(k=s.finishedLanes,ke===null)return null;if(s.finishedWork=null,s.finishedLanes=0,ke===s.current)throw Error(i(177));s.callbackNode=null,s.callbackPriority=0,s.cancelPendingCommit=null;var Ie=ke.lanes|ke.childLanes;if(Ie|=Sb,vr(s,k,Ie,Y,ie,be),s===$r&&(ur=$r=null,yr=0),(ke.subtreeFlags&10256)===0&&(ke.flags&10256)===0||sv||(sv=!0,M1=Ie,C1=g,yR(Ve,function(){return rh(),null})),g=(ke.flags&15990)!==0,(ke.subtreeFlags&15990)!==0||g?(g=O.T,O.T=null,Y=oe.p,oe.p=2,ie=hn,hn|=4,rR(s,ke),LS(ke,s),ir(W1,s.containerInfo),vv=!!q1,W1=q1=null,s.current=ke,CS(s,ke.alternate,ke),ft(),hn=ie,oe.p=Y,O.T=g):s.current=ke,sv?(sv=!1,Ju=s,vp=k):ej(s,Ie),Ie=s.pendingLanes,Ie===0&&(kl=null),fe(ke.stateNode),xa(s),a!==null)for(F=s.onRecoverableError,ke=0;ke<a.length;ke++)Ie=a[ke],F(Ie.value,{componentStack:Ie.stack});return(vp&3)!==0&&rh(),Ie=s.pendingLanes,(k&4194218)!==0&&(Ie&42)!==0?s===R1?bp++:(bp=0,R1=s):bp=0,_p(0),null}function ej(s,a){(s.pooledCacheLanes&=a)===0&&(a=s.pooledCache,a!=null&&(s.pooledCache=null,rp(a)))}function rh(){if(Ju!==null){var s=Ju,a=M1;M1=0;var g=Sr(vp),k=O.T,F=oe.p;try{if(oe.p=32>g?32:g,O.T=null,Ju===null)var Y=!1;else{g=C1,C1=null;var ie=Ju,be=vp;if(Ju=null,vp=0,(hn&6)!==0)throw Error(i(331));var ke=hn;if(hn|=4,FS(ie.current),PS(ie,ie.current,be,g),hn=ke,_p(0,!1),mt&&typeof mt.onPostCommitFiberRoot=="function")try{mt.onPostCommitFiberRoot(xt,ie)}catch{}Y=!0}return Y}finally{oe.p=F,O.T=k,ej(s,a)}}return!1}function tj(s,a,g){a=xi(g,a),a=Qb(s.stateNode,a,2),s=El(s,a,2),s!==null&&(zt(s,2),xa(s))}function Wr(s,a,g){if(s.tag===3)tj(s,s,g);else for(;a!==null;){if(a.tag===3){tj(a,s,g);break}else if(a.tag===1){var k=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof k.componentDidCatch=="function"&&(kl===null||!kl.has(k))){s=xi(g,s),g=sS(2),k=El(a,g,2),k!==null&&(iS(g,k,a,s),zt(k,2),xa(k));break}}a=a.return}}function P1(s,a,g){var k=s.pingCache;if(k===null){k=s.pingCache=new lR;var F=new Set;k.set(a,F)}else F=k.get(a),F===void 0&&(F=new Set,k.set(a,F));F.has(g)||(j1=!0,F.add(g),s=pR.bind(null,s,a,g),a.then(s,s))}function pR(s,a,g){var k=s.pingCache;k!==null&&k.delete(a),s.pingedLanes|=s.suspendedLanes&g,s.warmLanes&=~g,$r===s&&(yr&g)===g&&(bn===4||bn===3&&(yr&62914560)===yr&&300>ot()-T1?(hn&2)===0&&eh(s,0):E1|=g,Jd===yr&&(Jd=0)),xa(s)}function rj(s,a){a===0&&(a=Yt()),s=yl(s,a),s!==null&&(zt(s,a),xa(s))}function mR(s){var a=s.memoizedState,g=0;a!==null&&(g=a.retryLane),rj(s,g)}function gR(s,a){var g=0;switch(s.tag){case 13:var k=s.stateNode,F=s.memoizedState;F!==null&&(g=F.retryLane);break;case 19:k=s.stateNode;break;case 22:k=s.stateNode._retryCache;break;default:throw Error(i(314))}k!==null&&k.delete(a),rj(s,g)}function yR(s,a){return Ke(s,a)}var ov=null,nh=null,N1=!1,lv=!1,I1=!1,ec=0;function xa(s){s!==nh&&s.next===null&&(nh===null?ov=nh=s:nh=nh.next=s),lv=!0,N1||(N1=!0,bR(vR))}function _p(s,a){if(!I1&&lv){I1=!0;do for(var g=!1,k=ov;k!==null;){if(s!==0){var F=k.pendingLanes;if(F===0)var Y=0;else{var ie=k.suspendedLanes,be=k.pingedLanes;Y=(1<<31-he(42|s)+1)-1,Y&=F&~(ie&~be),Y=Y&201326677?Y&201326677|1:Y?Y|2:0}Y!==0&&(g=!0,ij(k,Y))}else Y=yr,Y=ht(k,k===$r?Y:0),(Y&3)===0||_t(k,Y)||(g=!0,ij(k,Y));k=k.next}while(g);I1=!1}}function vR(){lv=N1=!1;var s=0;ec!==0&&(TR()&&(s=ec),ec=0);for(var a=ot(),g=null,k=ov;k!==null;){var F=k.next,Y=nj(k,a);Y===0?(k.next=null,g===null?ov=F:g.next=F,F===null&&(nh=g)):(g=k,(s!==0||(Y&3)!==0)&&(lv=!0)),k=F}_p(s)}function nj(s,a){for(var g=s.suspendedLanes,k=s.pingedLanes,F=s.expirationTimes,Y=s.pendingLanes&-62914561;0<Y;){var ie=31-he(Y),be=1<<ie,ke=F[ie];ke===-1?((be&g)===0||(be&k)!==0)&&(F[ie]=Kt(be,a)):ke<=a&&(s.expiredLanes|=be),Y&=~be}if(a=$r,g=yr,g=ht(s,s===a?g:0),k=s.callbackNode,g===0||s===a&&Zr===2||s.cancelPendingCommit!==null)return k!==null&&k!==null&&Ge(k),s.callbackNode=null,s.callbackPriority=0;if((g&3)===0||_t(s,g)){if(a=g&-g,a===s.callbackPriority)return a;switch(k!==null&&Ge(k),Sr(g)){case 2:case 8:g=je;break;case 32:g=Ve;break;case 268435456:g=nt;break;default:g=Ve}return k=sj.bind(null,s),g=Ke(g,k),s.callbackPriority=a,s.callbackNode=g,a}return k!==null&&k!==null&&Ge(k),s.callbackPriority=2,s.callbackNode=null,2}function sj(s,a){var g=s.callbackNode;if(rh()&&s.callbackNode!==g)return null;var k=yr;return k=ht(s,s===$r?k:0),k===0?null:(qS(s,k,a),nj(s,ot()),s.callbackNode!=null&&s.callbackNode===g?sj.bind(null,s):null)}function ij(s,a){if(rh())return null;qS(s,a,!0)}function bR(s){CR(function(){(hn&6)!==0?Ke(bt,s):s()})}function F1(){return ec===0&&(ec=sr()),ec}function aj(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Lu(""+s)}function oj(s,a){var g=a.ownerDocument.createElement("input");return g.name=a.name,g.value=a.value,s.id&&g.setAttribute("form",s.id),a.parentNode.insertBefore(g,a),s=new FormData(s),g.parentNode.removeChild(g),s}function _R(s,a,g,k,F){if(a==="submit"&&g&&g.stateNode===F){var Y=aj((F[br]||null).action),ie=k.submitter;ie&&(a=(a=ie[br]||null)?aj(a.formAction):ie.getAttribute("formAction"),a!==null&&(Y=a,ie=null));var be=new kd("action","action",null,k,F);s.push({event:be,listeners:[{instance:null,listener:function(){if(k.defaultPrevented){if(ec!==0){var ke=ie?oj(F,ie):new FormData(F);Xb(g,{pending:!0,data:ke,method:F.method,action:Y},null,ke)}}else typeof Y=="function"&&(be.preventDefault(),ke=ie?oj(F,ie):new FormData(F),Xb(g,{pending:!0,data:ke,method:F.method,action:Y},Y,ke))},currentTarget:F}]})}}for(var U1=0;U1<Jx.length;U1++){var B1=Jx[U1],wR=B1.toLowerCase(),xR=B1[0].toUpperCase()+B1.slice(1);Wi(wR,"on"+xR)}Wi(Bn,"onAnimationEnd"),Wi(Ur,"onAnimationIteration"),Wi(yn,"onAnimationStart"),Wi("dblclick","onDoubleClick"),Wi("focusin","onFocus"),Wi("focusout","onBlur"),Wi(Iu,"onTransitionRun"),Wi(Fu,"onTransitionStart"),Wi(GC,"onTransitionCancel"),Wi(Kx,"onTransitionEnd"),St("onMouseEnter",["mouseout","mouseover"]),St("onMouseLeave",["mouseout","mouseover"]),St("onPointerEnter",["pointerout","pointerover"]),St("onPointerLeave",["pointerout","pointerover"]),qt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),qt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),qt("onBeforeInput",["compositionend","keypress","textInput","paste"]),qt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),qt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),qt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),SR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(wp));function lj(s,a){a=(a&4)!==0;for(var g=0;g<s.length;g++){var k=s[g],F=k.event;k=k.listeners;e:{var Y=void 0;if(a)for(var ie=k.length-1;0<=ie;ie--){var be=k[ie],ke=be.instance,Ie=be.currentTarget;if(be=be.listener,ke!==Y&&F.isPropagationStopped())break e;Y=be,F.currentTarget=Ie;try{Y(F)}catch(rt){Yy(rt)}F.currentTarget=null,Y=ke}else for(ie=0;ie<k.length;ie++){if(be=k[ie],ke=be.instance,Ie=be.currentTarget,be=be.listener,ke!==Y&&F.isPropagationStopped())break e;Y=be,F.currentTarget=Ie;try{Y(F)}catch(rt){Yy(rt)}F.currentTarget=null,Y=ke}}}}function mr(s,a){var g=a[cl];g===void 0&&(g=a[cl]=new Set);var k=s+"__bubble";g.has(k)||(uj(a,s,2,!1),g.add(k))}function G1(s,a,g){var k=0;a&&(k|=4),uj(g,s,k,a)}var uv="_reactListening"+Math.random().toString(36).slice(2);function z1(s){if(!s[uv]){s[uv]=!0,Rr.forEach(function(g){g!=="selectionchange"&&(SR.has(g)||G1(g,!1,s),G1(g,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[uv]||(a[uv]=!0,G1("selectionchange",!1,a))}}function uj(s,a,g,k){switch(Oj(a)){case 2:var F=$R;break;case 8:F=ZR;break;default:F=t_}g=F.bind(null,a,g,s),F=void 0,!Hf||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(F=!0),k?F!==void 0?s.addEventListener(a,g,{capture:!0,passive:F}):s.addEventListener(a,g,!0):F!==void 0?s.addEventListener(a,g,{passive:F}):s.addEventListener(a,g,!1)}function H1(s,a,g,k,F){var Y=k;if((a&1)===0&&(a&2)===0&&k!==null)e:for(;;){if(k===null)return;var ie=k.tag;if(ie===3||ie===4){var be=k.stateNode.containerInfo;if(be===F||be.nodeType===8&&be.parentNode===F)break;if(ie===4)for(ie=k.return;ie!==null;){var ke=ie.tag;if((ke===3||ke===4)&&(ke=ie.stateNode.containerInfo,ke===F||ke.nodeType===8&&ke.parentNode===F))return;ie=ie.return}for(;be!==null;){if(ie=ut(be),ie===null)return;if(ke=ie.tag,ke===5||ke===6||ke===26||ke===27){k=Y=ie;continue e}be=be.parentNode}}k=k.return}Ja(function(){var Ie=Y,rt=hl(g),dt=[];e:{var Ze=Qx.get(s);if(Ze!==void 0){var tt=kd,Nt=s;switch(s){case"keypress":if(Rd(g)===0)break e;case"keydown":case"keyup":tt=wy;break;case"focusin":Nt="focus",tt=Ld;break;case"focusout":Nt="blur",tt=Ld;break;case"beforeblur":case"afterblur":tt=Ld;break;case"click":if(g.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":tt=ml;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":tt=pa;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":tt=Nd;break;case Bn:case Ur:case yn:tt=hy;break;case Kx:tt=Sy;break;case"scroll":case"scrollend":tt=_i;break;case"wheel":tt=ga;break;case"copy":case"cut":case"paste":tt=py;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":tt=Wf;break;case"toggle":case"beforetoggle":tt=bb}var $t=(a&4)!==0,_n=!$t&&(s==="scroll"||s==="scrollend"),ze=$t?Ze!==null?Ze+"Capture":null:Ze;$t=[];for(var Ne=Ie,qe;Ne!==null;){var at=Ne;if(qe=at.stateNode,at=at.tag,at!==5&&at!==26&&at!==27||qe===null||ze===null||(at=fl(Ne,ze),at!=null&&$t.push(xp(Ne,at,qe))),_n)break;Ne=Ne.return}0<$t.length&&(Ze=new tt(Ze,Nt,null,g,rt),dt.push({event:Ze,listeners:$t}))}}if((a&7)===0){e:{if(Ze=s==="mouseover"||s==="pointerover",tt=s==="mouseout"||s==="pointerout",Ze&&g!==Md&&(Nt=g.relatedTarget||g.fromElement)&&(ut(Nt)||Nt[fr]))break e;if((tt||Ze)&&(Ze=rt.window===rt?rt:(Ze=rt.ownerDocument)?Ze.defaultView||Ze.parentWindow:window,tt?(Nt=g.relatedTarget||g.toElement,tt=Ie,Nt=Nt?ut(Nt):null,Nt!==null&&(_n=X(Nt),$t=Nt.tag,Nt!==_n||$t!==5&&$t!==27&&$t!==6)&&(Nt=null)):(tt=null,Nt=Ie),tt!==Nt)){if($t=ml,at="onMouseLeave",ze="onMouseEnter",Ne="mouse",(s==="pointerout"||s==="pointerover")&&($t=Wf,at="onPointerLeave",ze="onPointerEnter",Ne="pointer"),_n=tt==null?Ze:it(tt),qe=Nt==null?Ze:it(Nt),Ze=new $t(at,Ne+"leave",tt,g,rt),Ze.target=_n,Ze.relatedTarget=qe,at=null,ut(rt)===Ie&&($t=new $t(ze,Ne+"enter",Nt,g,rt),$t.target=qe,$t.relatedTarget=_n,at=$t),_n=at,tt&&Nt)t:{for($t=tt,ze=Nt,Ne=0,qe=$t;qe;qe=sh(qe))Ne++;for(qe=0,at=ze;at;at=sh(at))qe++;for(;0<Ne-qe;)$t=sh($t),Ne--;for(;0<qe-Ne;)ze=sh(ze),qe--;for(;Ne--;){if($t===ze||ze!==null&&$t===ze.alternate)break t;$t=sh($t),ze=sh(ze)}$t=null}else $t=null;tt!==null&&cj(dt,Ze,tt,$t,!1),Nt!==null&&_n!==null&&cj(dt,_n,Nt,$t,!0)}}e:{if(Ze=Ie?it(Ie):window,tt=Ze.nodeName&&Ze.nodeName.toLowerCase(),tt==="select"||tt==="input"&&Ze.type==="file")var Dt=Z;else if(un(Ze))if(J)Dt=ct;else{Dt=Ue;var or=Fe}else tt=Ze.nodeName,!tt||tt.toLowerCase()!=="input"||Ze.type!=="checkbox"&&Ze.type!=="radio"?Ie&&Td(Ie.elementType)&&(Dt=Z):Dt=Re;if(Dt&&(Dt=Dt(s,Ie))){Id(dt,Dt,g,rt);break e}or&&or(s,Ze,Ie),s==="focusout"&&Ie&&Ze.type==="number"&&Ie.memoizedProps.value!=null&&Uf(Ze,"number",Ze.value)}switch(or=Ie?it(Ie):window,s){case"focusin":(un(or)||or.contentEditable==="true")&&(Mr=or,Dr=Ie,pr=null);break;case"focusout":pr=Dr=Mr=null;break;case"mousedown":Wt=!0;break;case"contextmenu":case"mouseup":case"dragend":Wt=!1,cn(dt,g,rt);break;case"selectionchange":if(Tr)break;case"keydown":case"keyup":cn(dt,g,rt)}var Bt;if(ya)e:{switch(s){case"compositionstart":var Ht="onCompositionStart";break e;case"compositionend":Ht="onCompositionEnd";break e;case"compositionupdate":Ht="onCompositionUpdate";break e}Ht=void 0}else gl?Ay(s,g)&&(Ht="onCompositionEnd"):s==="keydown"&&g.keyCode===229&&(Ht="onCompositionStart");Ht&&(kr&&g.locale!=="ko"&&(gl||Ht!=="onCompositionStart"?Ht==="onCompositionEnd"&&gl&&(Bt=qf()):(Vi=rt,Vf="value"in Vi?Vi.value:Vi.textContent,gl=!0)),or=cv(Ie,Ht),0<or.length&&(Ht=new Dd(Ht,s,null,g,rt),dt.push({event:Ht,listeners:or}),Bt?Ht.data=Bt:(Bt=Ty(g),Bt!==null&&(Ht.data=Bt)))),(Bt=_b?wb(s,g):xb(s,g))&&(Ht=cv(Ie,"onBeforeInput"),0<Ht.length&&(or=new Dd("onBeforeInput","beforeinput",null,g,rt),dt.push({event:or,listeners:Ht}),or.data=Bt)),_R(dt,s,Ie,g,rt)}lj(dt,a)})}function xp(s,a,g){return{instance:s,listener:a,currentTarget:g}}function cv(s,a){for(var g=a+"Capture",k=[];s!==null;){var F=s,Y=F.stateNode;F=F.tag,F!==5&&F!==26&&F!==27||Y===null||(F=fl(s,g),F!=null&&k.unshift(xp(s,F,Y)),F=fl(s,a),F!=null&&k.push(xp(s,F,Y))),s=s.return}return k}function sh(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function cj(s,a,g,k,F){for(var Y=a._reactName,ie=[];g!==null&&g!==k;){var be=g,ke=be.alternate,Ie=be.stateNode;if(be=be.tag,ke!==null&&ke===k)break;be!==5&&be!==26&&be!==27||Ie===null||(ke=Ie,F?(Ie=fl(g,Y),Ie!=null&&ie.unshift(xp(g,Ie,ke))):F||(Ie=fl(g,Y),Ie!=null&&ie.push(xp(g,Ie,ke)))),g=g.return}ie.length!==0&&s.push({event:a,listeners:ie})}var jR=/\r\n?/g,ER=/\u0000|\uFFFD/g;function dj(s){return(typeof s=="string"?s:""+s).replace(jR,`
`).replace(ER,"")}function hj(s,a){return a=dj(a),dj(s)===a}function dv(){}function Gr(s,a,g,k,F,Y){switch(g){case"children":typeof k=="string"?a==="body"||a==="textarea"&&k===""||Qa(s,k):(typeof k=="number"||typeof k=="bigint")&&a!=="body"&&Qa(s,""+k);break;case"className":kn(s,"class",k);break;case"tabIndex":kn(s,"tabindex",k);break;case"dir":case"role":case"viewBox":case"width":case"height":kn(s,g,k);break;case"style":uy(s,k,Y);break;case"data":if(a!=="object"){kn(s,"data",k);break}case"src":case"href":if(k===""&&(a!=="a"||g!=="href")){s.removeAttribute(g);break}if(k==null||typeof k=="function"||typeof k=="symbol"||typeof k=="boolean"){s.removeAttribute(g);break}k=Lu(""+k),s.setAttribute(g,k);break;case"action":case"formAction":if(typeof k=="function"){s.setAttribute(g,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof Y=="function"&&(g==="formAction"?(a!=="input"&&Gr(s,a,"name",F.name,F,null),Gr(s,a,"formEncType",F.formEncType,F,null),Gr(s,a,"formMethod",F.formMethod,F,null),Gr(s,a,"formTarget",F.formTarget,F,null)):(Gr(s,a,"encType",F.encType,F,null),Gr(s,a,"method",F.method,F,null),Gr(s,a,"target",F.target,F,null)));if(k==null||typeof k=="symbol"||typeof k=="boolean"){s.removeAttribute(g);break}k=Lu(""+k),s.setAttribute(g,k);break;case"onClick":k!=null&&(s.onclick=dv);break;case"onScroll":k!=null&&mr("scroll",s);break;case"onScrollEnd":k!=null&&mr("scrollend",s);break;case"dangerouslySetInnerHTML":if(k!=null){if(typeof k!="object"||!("__html"in k))throw Error(i(61));if(g=k.__html,g!=null){if(F.children!=null)throw Error(i(60));s.innerHTML=g}}break;case"multiple":s.multiple=k&&typeof k!="function"&&typeof k!="symbol";break;case"muted":s.muted=k&&typeof k!="function"&&typeof k!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(k==null||typeof k=="function"||typeof k=="boolean"||typeof k=="symbol"){s.removeAttribute("xlink:href");break}g=Lu(""+k),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",g);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":k!=null&&typeof k!="function"&&typeof k!="symbol"?s.setAttribute(g,""+k):s.removeAttribute(g);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":k&&typeof k!="function"&&typeof k!="symbol"?s.setAttribute(g,""):s.removeAttribute(g);break;case"capture":case"download":k===!0?s.setAttribute(g,""):k!==!1&&k!=null&&typeof k!="function"&&typeof k!="symbol"?s.setAttribute(g,k):s.removeAttribute(g);break;case"cols":case"rows":case"size":case"span":k!=null&&typeof k!="function"&&typeof k!="symbol"&&!isNaN(k)&&1<=k?s.setAttribute(g,k):s.removeAttribute(g);break;case"rowSpan":case"start":k==null||typeof k=="function"||typeof k=="symbol"||isNaN(k)?s.removeAttribute(g):s.setAttribute(g,k);break;case"popover":mr("beforetoggle",s),mr("toggle",s),Sn(s,"popover",k);break;case"xlinkActuate":Yr(s,"http://www.w3.org/1999/xlink","xlink:actuate",k);break;case"xlinkArcrole":Yr(s,"http://www.w3.org/1999/xlink","xlink:arcrole",k);break;case"xlinkRole":Yr(s,"http://www.w3.org/1999/xlink","xlink:role",k);break;case"xlinkShow":Yr(s,"http://www.w3.org/1999/xlink","xlink:show",k);break;case"xlinkTitle":Yr(s,"http://www.w3.org/1999/xlink","xlink:title",k);break;case"xlinkType":Yr(s,"http://www.w3.org/1999/xlink","xlink:type",k);break;case"xmlBase":Yr(s,"http://www.w3.org/XML/1998/namespace","xml:base",k);break;case"xmlLang":Yr(s,"http://www.w3.org/XML/1998/namespace","xml:lang",k);break;case"xmlSpace":Yr(s,"http://www.w3.org/XML/1998/namespace","xml:space",k);break;case"is":Sn(s,"is",k);break;case"innerText":case"textContent":break;default:(!(2<g.length)||g[0]!=="o"&&g[0]!=="O"||g[1]!=="n"&&g[1]!=="N")&&(g=yb.get(g)||g,Sn(s,g,k))}}function V1(s,a,g,k,F,Y){switch(g){case"style":uy(s,k,Y);break;case"dangerouslySetInnerHTML":if(k!=null){if(typeof k!="object"||!("__html"in k))throw Error(i(61));if(g=k.__html,g!=null){if(F.children!=null)throw Error(i(60));s.innerHTML=g}}break;case"children":typeof k=="string"?Qa(s,k):(typeof k=="number"||typeof k=="bigint")&&Qa(s,""+k);break;case"onScroll":k!=null&&mr("scroll",s);break;case"onScrollEnd":k!=null&&mr("scrollend",s);break;case"onClick":k!=null&&(s.onclick=dv);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Mt.hasOwnProperty(g))e:{if(g[0]==="o"&&g[1]==="n"&&(F=g.endsWith("Capture"),a=g.slice(2,F?g.length-7:void 0),Y=s[br]||null,Y=Y!=null?Y[g]:null,typeof Y=="function"&&s.removeEventListener(a,Y,F),typeof k=="function")){typeof Y!="function"&&Y!==null&&(g in s?s[g]=null:s.hasAttribute(g)&&s.removeAttribute(g)),s.addEventListener(a,k,F);break e}g in s?s[g]=k:k===!0?s.setAttribute(g,""):Sn(s,g,k)}}}function os(s,a,g){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":mr("error",s),mr("load",s);var k=!1,F=!1,Y;for(Y in g)if(g.hasOwnProperty(Y)){var ie=g[Y];if(ie!=null)switch(Y){case"src":k=!0;break;case"srcSet":F=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:Gr(s,a,Y,ie,g,null)}}F&&Gr(s,a,"srcSet",g.srcSet,g,null),k&&Gr(s,a,"src",g.src,g,null);return;case"input":mr("invalid",s);var be=Y=ie=F=null,ke=null,Ie=null;for(k in g)if(g.hasOwnProperty(k)){var rt=g[k];if(rt!=null)switch(k){case"name":F=rt;break;case"type":ie=rt;break;case"checked":ke=rt;break;case"defaultChecked":Ie=rt;break;case"value":Y=rt;break;case"defaultValue":be=rt;break;case"children":case"dangerouslySetInnerHTML":if(rt!=null)throw Error(i(137,a));break;default:Gr(s,a,k,rt,g,null)}}Ou(s,Y,be,ke,Ie,ie,F,!1),Ed(s);return;case"select":mr("invalid",s),k=ie=Y=null;for(F in g)if(g.hasOwnProperty(F)&&(be=g[F],be!=null))switch(F){case"value":Y=be;break;case"defaultValue":ie=be;break;case"multiple":k=be;default:Gr(s,a,F,be,g,null)}a=Y,g=ie,s.multiple=!!k,a!=null?dl(s,!!k,a,!1):g!=null&&dl(s,!!k,g,!0);return;case"textarea":mr("invalid",s),Y=F=k=null;for(ie in g)if(g.hasOwnProperty(ie)&&(be=g[ie],be!=null))switch(ie){case"value":k=be;break;case"defaultValue":F=be;break;case"children":Y=be;break;case"dangerouslySetInnerHTML":if(be!=null)throw Error(i(91));break;default:Gr(s,a,ie,be,g,null)}oy(s,k,F,Y),Ed(s);return;case"option":for(ke in g)if(g.hasOwnProperty(ke)&&(k=g[ke],k!=null))switch(ke){case"selected":s.selected=k&&typeof k!="function"&&typeof k!="symbol";break;default:Gr(s,a,ke,k,g,null)}return;case"dialog":mr("cancel",s),mr("close",s);break;case"iframe":case"object":mr("load",s);break;case"video":case"audio":for(k=0;k<wp.length;k++)mr(wp[k],s);break;case"image":mr("error",s),mr("load",s);break;case"details":mr("toggle",s);break;case"embed":case"source":case"link":mr("error",s),mr("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Ie in g)if(g.hasOwnProperty(Ie)&&(k=g[Ie],k!=null))switch(Ie){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:Gr(s,a,Ie,k,g,null)}return;default:if(Td(a)){for(rt in g)g.hasOwnProperty(rt)&&(k=g[rt],k!==void 0&&V1(s,a,rt,k,g,void 0));return}}for(be in g)g.hasOwnProperty(be)&&(k=g[be],k!=null&&Gr(s,a,be,k,g,null))}function AR(s,a,g,k){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var F=null,Y=null,ie=null,be=null,ke=null,Ie=null,rt=null;for(tt in g){var dt=g[tt];if(g.hasOwnProperty(tt)&&dt!=null)switch(tt){case"checked":break;case"value":break;case"defaultValue":ke=dt;default:k.hasOwnProperty(tt)||Gr(s,a,tt,null,k,dt)}}for(var Ze in k){var tt=k[Ze];if(dt=g[Ze],k.hasOwnProperty(Ze)&&(tt!=null||dt!=null))switch(Ze){case"type":Y=tt;break;case"name":F=tt;break;case"checked":Ie=tt;break;case"defaultChecked":rt=tt;break;case"value":ie=tt;break;case"defaultValue":be=tt;break;case"children":case"dangerouslySetInnerHTML":if(tt!=null)throw Error(i(137,a));break;default:tt!==dt&&Gr(s,a,Ze,tt,k,dt)}}fa(s,ie,be,ke,Ie,rt,Y,F);return;case"select":tt=ie=be=Ze=null;for(Y in g)if(ke=g[Y],g.hasOwnProperty(Y)&&ke!=null)switch(Y){case"value":break;case"multiple":tt=ke;default:k.hasOwnProperty(Y)||Gr(s,a,Y,null,k,ke)}for(F in k)if(Y=k[F],ke=g[F],k.hasOwnProperty(F)&&(Y!=null||ke!=null))switch(F){case"value":Ze=Y;break;case"defaultValue":be=Y;break;case"multiple":ie=Y;default:Y!==ke&&Gr(s,a,F,Y,k,ke)}a=be,g=ie,k=tt,Ze!=null?dl(s,!!g,Ze,!1):!!k!=!!g&&(a!=null?dl(s,!!g,a,!0):dl(s,!!g,g?[]:"",!1));return;case"textarea":tt=Ze=null;for(be in g)if(F=g[be],g.hasOwnProperty(be)&&F!=null&&!k.hasOwnProperty(be))switch(be){case"value":break;case"children":break;default:Gr(s,a,be,null,k,F)}for(ie in k)if(F=k[ie],Y=g[ie],k.hasOwnProperty(ie)&&(F!=null||Y!=null))switch(ie){case"value":Ze=F;break;case"defaultValue":tt=F;break;case"children":break;case"dangerouslySetInnerHTML":if(F!=null)throw Error(i(91));break;default:F!==Y&&Gr(s,a,ie,F,k,Y)}ay(s,Ze,tt);return;case"option":for(var Nt in g)if(Ze=g[Nt],g.hasOwnProperty(Nt)&&Ze!=null&&!k.hasOwnProperty(Nt))switch(Nt){case"selected":s.selected=!1;break;default:Gr(s,a,Nt,null,k,Ze)}for(ke in k)if(Ze=k[ke],tt=g[ke],k.hasOwnProperty(ke)&&Ze!==tt&&(Ze!=null||tt!=null))switch(ke){case"selected":s.selected=Ze&&typeof Ze!="function"&&typeof Ze!="symbol";break;default:Gr(s,a,ke,Ze,k,tt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var $t in g)Ze=g[$t],g.hasOwnProperty($t)&&Ze!=null&&!k.hasOwnProperty($t)&&Gr(s,a,$t,null,k,Ze);for(Ie in k)if(Ze=k[Ie],tt=g[Ie],k.hasOwnProperty(Ie)&&Ze!==tt&&(Ze!=null||tt!=null))switch(Ie){case"children":case"dangerouslySetInnerHTML":if(Ze!=null)throw Error(i(137,a));break;default:Gr(s,a,Ie,Ze,k,tt)}return;default:if(Td(a)){for(var _n in g)Ze=g[_n],g.hasOwnProperty(_n)&&Ze!==void 0&&!k.hasOwnProperty(_n)&&V1(s,a,_n,void 0,k,Ze);for(rt in k)Ze=k[rt],tt=g[rt],!k.hasOwnProperty(rt)||Ze===tt||Ze===void 0&&tt===void 0||V1(s,a,rt,Ze,k,tt);return}}for(var ze in g)Ze=g[ze],g.hasOwnProperty(ze)&&Ze!=null&&!k.hasOwnProperty(ze)&&Gr(s,a,ze,null,k,Ze);for(dt in k)Ze=k[dt],tt=g[dt],!k.hasOwnProperty(dt)||Ze===tt||Ze==null&&tt==null||Gr(s,a,dt,Ze,k,tt)}var q1=null,W1=null;function hv(s){return s.nodeType===9?s:s.ownerDocument}function fj(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function pj(s,a){if(s===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&a==="foreignObject"?0:s}function X1(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Y1=null;function TR(){var s=window.event;return s&&s.type==="popstate"?s===Y1?!1:(Y1=s,!0):(Y1=null,!1)}var mj=typeof setTimeout=="function"?setTimeout:void 0,MR=typeof clearTimeout=="function"?clearTimeout:void 0,gj=typeof Promise=="function"?Promise:void 0,CR=typeof queueMicrotask=="function"?queueMicrotask:typeof gj<"u"?function(s){return gj.resolve(null).then(s).catch(RR)}:mj;function RR(s){setTimeout(function(){throw s})}function $1(s,a){var g=a,k=0;do{var F=g.nextSibling;if(s.removeChild(g),F&&F.nodeType===8)if(g=F.data,g==="/$"){if(k===0){s.removeChild(F),Rp(a);return}k--}else g!=="$"&&g!=="$?"&&g!=="$!"||k++;g=F}while(g);Rp(a)}function Z1(s){var a=s.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var g=a;switch(a=a.nextSibling,g.nodeName){case"HTML":case"HEAD":case"BODY":Z1(g),Ce(g);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(g.rel.toLowerCase()==="stylesheet")continue}s.removeChild(g)}}function kR(s,a,g,k){for(;s.nodeType===1;){var F=g;if(s.nodeName.toLowerCase()!==a.toLowerCase()){if(!k&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(k){if(!s[ha])switch(a){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(Y=s.getAttribute("rel"),Y==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(Y!==F.rel||s.getAttribute("href")!==(F.href==null?null:F.href)||s.getAttribute("crossorigin")!==(F.crossOrigin==null?null:F.crossOrigin)||s.getAttribute("title")!==(F.title==null?null:F.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(Y=s.getAttribute("src"),(Y!==(F.src==null?null:F.src)||s.getAttribute("type")!==(F.type==null?null:F.type)||s.getAttribute("crossorigin")!==(F.crossOrigin==null?null:F.crossOrigin))&&Y&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(a==="input"&&s.type==="hidden"){var Y=F.name==null?null:""+F.name;if(F.type==="hidden"&&s.getAttribute("name")===Y)return s}else return s;if(s=$i(s.nextSibling),s===null)break}return null}function OR(s,a,g){if(a==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!g||(s=$i(s.nextSibling),s===null))return null;return s}function $i(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return s}function yj(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var g=s.data;if(g==="$"||g==="$!"||g==="$?"){if(a===0)return s;a--}else g==="/$"&&a++}s=s.previousSibling}return null}function vj(s,a,g){switch(a=hv(g),s){case"html":if(s=a.documentElement,!s)throw Error(i(452));return s;case"head":if(s=a.head,!s)throw Error(i(453));return s;case"body":if(s=a.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}var Ri=new Map,bj=new Set;function fv(s){return typeof s.getRootNode=="function"?s.getRootNode():s.ownerDocument}var vo=oe.d;oe.d={f:LR,r:DR,D:PR,C:NR,L:IR,m:FR,X:BR,S:UR,M:GR};function LR(){var s=vo.f(),a=iv();return s||a}function DR(s){var a=Tt(s);a!==null&&a.tag===5&&a.type==="form"?W2(a):vo.r(s)}var ih=typeof document>"u"?null:document;function _j(s,a,g){var k=ih;if(k&&typeof a=="string"&&a){var F=nn(a);F='link[rel="'+s+'"][href="'+F+'"]',typeof g=="string"&&(F+='[crossorigin="'+g+'"]'),bj.has(F)||(bj.add(F),s={rel:s,crossOrigin:g,href:a},k.querySelector(F)===null&&(a=k.createElement("link"),os(a,"link",s),Qe(a),k.head.appendChild(a)))}}function PR(s){vo.D(s),_j("dns-prefetch",s,null)}function NR(s,a){vo.C(s,a),_j("preconnect",s,a)}function IR(s,a,g){vo.L(s,a,g);var k=ih;if(k&&s&&a){var F='link[rel="preload"][as="'+nn(a)+'"]';a==="image"&&g&&g.imageSrcSet?(F+='[imagesrcset="'+nn(g.imageSrcSet)+'"]',typeof g.imageSizes=="string"&&(F+='[imagesizes="'+nn(g.imageSizes)+'"]')):F+='[href="'+nn(s)+'"]';var Y=F;switch(a){case"style":Y=ah(s);break;case"script":Y=oh(s)}Ri.has(Y)||(s=U({rel:"preload",href:a==="image"&&g&&g.imageSrcSet?void 0:s,as:a},g),Ri.set(Y,s),k.querySelector(F)!==null||a==="style"&&k.querySelector(Sp(Y))||a==="script"&&k.querySelector(jp(Y))||(a=k.createElement("link"),os(a,"link",s),Qe(a),k.head.appendChild(a)))}}function FR(s,a){vo.m(s,a);var g=ih;if(g&&s){var k=a&&typeof a.as=="string"?a.as:"script",F='link[rel="modulepreload"][as="'+nn(k)+'"][href="'+nn(s)+'"]',Y=F;switch(k){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":Y=oh(s)}if(!Ri.has(Y)&&(s=U({rel:"modulepreload",href:s},a),Ri.set(Y,s),g.querySelector(F)===null)){switch(k){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(g.querySelector(jp(Y)))return}k=g.createElement("link"),os(k,"link",s),Qe(k),g.head.appendChild(k)}}}function UR(s,a,g){vo.S(s,a,g);var k=ih;if(k&&s){var F=Qt(k).hoistableStyles,Y=ah(s);a=a||"default";var ie=F.get(Y);if(!ie){var be={loading:0,preload:null};if(ie=k.querySelector(Sp(Y)))be.loading=5;else{s=U({rel:"stylesheet",href:s,"data-precedence":a},g),(g=Ri.get(Y))&&K1(s,g);var ke=ie=k.createElement("link");Qe(ke),os(ke,"link",s),ke._p=new Promise(function(Ie,rt){ke.onload=Ie,ke.onerror=rt}),ke.addEventListener("load",function(){be.loading|=1}),ke.addEventListener("error",function(){be.loading|=2}),be.loading|=4,pv(ie,a,k)}ie={type:"stylesheet",instance:ie,count:1,state:be},F.set(Y,ie)}}}function BR(s,a){vo.X(s,a);var g=ih;if(g&&s){var k=Qt(g).hoistableScripts,F=oh(s),Y=k.get(F);Y||(Y=g.querySelector(jp(F)),Y||(s=U({src:s,async:!0},a),(a=Ri.get(F))&&Q1(s,a),Y=g.createElement("script"),Qe(Y),os(Y,"link",s),g.head.appendChild(Y)),Y={type:"script",instance:Y,count:1,state:null},k.set(F,Y))}}function GR(s,a){vo.M(s,a);var g=ih;if(g&&s){var k=Qt(g).hoistableScripts,F=oh(s),Y=k.get(F);Y||(Y=g.querySelector(jp(F)),Y||(s=U({src:s,async:!0,type:"module"},a),(a=Ri.get(F))&&Q1(s,a),Y=g.createElement("script"),Qe(Y),os(Y,"link",s),g.head.appendChild(Y)),Y={type:"script",instance:Y,count:1,state:null},k.set(F,Y))}}function wj(s,a,g,k){var F=(F=ae.current)?fv(F):null;if(!F)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof g.precedence=="string"&&typeof g.href=="string"?(a=ah(g.href),g=Qt(F).hoistableStyles,k=g.get(a),k||(k={type:"style",instance:null,count:0,state:null},g.set(a,k)),k):{type:"void",instance:null,count:0,state:null};case"link":if(g.rel==="stylesheet"&&typeof g.href=="string"&&typeof g.precedence=="string"){s=ah(g.href);var Y=Qt(F).hoistableStyles,ie=Y.get(s);if(ie||(F=F.ownerDocument||F,ie={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},Y.set(s,ie),(Y=F.querySelector(Sp(s)))&&!Y._p&&(ie.instance=Y,ie.state.loading=5),Ri.has(s)||(g={rel:"preload",as:"style",href:g.href,crossOrigin:g.crossOrigin,integrity:g.integrity,media:g.media,hrefLang:g.hrefLang,referrerPolicy:g.referrerPolicy},Ri.set(s,g),Y||zR(F,s,g,ie.state))),a&&k===null)throw Error(i(528,""));return ie}if(a&&k!==null)throw Error(i(529,""));return null;case"script":return a=g.async,g=g.src,typeof g=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=oh(g),g=Qt(F).hoistableScripts,k=g.get(a),k||(k={type:"script",instance:null,count:0,state:null},g.set(a,k)),k):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function ah(s){return'href="'+nn(s)+'"'}function Sp(s){return'link[rel="stylesheet"]['+s+"]"}function xj(s){return U({},s,{"data-precedence":s.precedence,precedence:null})}function zR(s,a,g,k){s.querySelector('link[rel="preload"][as="style"]['+a+"]")?k.loading=1:(a=s.createElement("link"),k.preload=a,a.addEventListener("load",function(){return k.loading|=1}),a.addEventListener("error",function(){return k.loading|=2}),os(a,"link",g),Qe(a),s.head.appendChild(a))}function oh(s){return'[src="'+nn(s)+'"]'}function jp(s){return"script[async]"+s}function Sj(s,a,g){if(a.count++,a.instance===null)switch(a.type){case"style":var k=s.querySelector('style[data-href~="'+nn(g.href)+'"]');if(k)return a.instance=k,Qe(k),k;var F=U({},g,{"data-href":g.href,"data-precedence":g.precedence,href:null,precedence:null});return k=(s.ownerDocument||s).createElement("style"),Qe(k),os(k,"style",F),pv(k,g.precedence,s),a.instance=k;case"stylesheet":F=ah(g.href);var Y=s.querySelector(Sp(F));if(Y)return a.state.loading|=4,a.instance=Y,Qe(Y),Y;k=xj(g),(F=Ri.get(F))&&K1(k,F),Y=(s.ownerDocument||s).createElement("link"),Qe(Y);var ie=Y;return ie._p=new Promise(function(be,ke){ie.onload=be,ie.onerror=ke}),os(Y,"link",k),a.state.loading|=4,pv(Y,g.precedence,s),a.instance=Y;case"script":return Y=oh(g.src),(F=s.querySelector(jp(Y)))?(a.instance=F,Qe(F),F):(k=g,(F=Ri.get(Y))&&(k=U({},g),Q1(k,F)),s=s.ownerDocument||s,F=s.createElement("script"),Qe(F),os(F,"link",k),s.head.appendChild(F),a.instance=F);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(k=a.instance,a.state.loading|=4,pv(k,g.precedence,s));return a.instance}function pv(s,a,g){for(var k=g.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),F=k.length?k[k.length-1]:null,Y=F,ie=0;ie<k.length;ie++){var be=k[ie];if(be.dataset.precedence===a)Y=be;else if(Y!==F)break}Y?Y.parentNode.insertBefore(s,Y.nextSibling):(a=g.nodeType===9?g.head:g,a.insertBefore(s,a.firstChild))}function K1(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.title==null&&(s.title=a.title)}function Q1(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.integrity==null&&(s.integrity=a.integrity)}var mv=null;function jj(s,a,g){if(mv===null){var k=new Map,F=mv=new Map;F.set(g,k)}else F=mv,k=F.get(g),k||(k=new Map,F.set(g,k));if(k.has(s))return k;for(k.set(s,null),g=g.getElementsByTagName(s),F=0;F<g.length;F++){var Y=g[F];if(!(Y[ha]||Y[gr]||s==="link"&&Y.getAttribute("rel")==="stylesheet")&&Y.namespaceURI!=="http://www.w3.org/2000/svg"){var ie=Y.getAttribute(a)||"";ie=s+ie;var be=k.get(ie);be?be.push(Y):k.set(ie,[Y])}}return k}function Ej(s,a,g){s=s.ownerDocument||s,s.head.insertBefore(g,a==="title"?s.querySelector("head > title"):null)}function HR(s,a,g){if(g===1||a.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return s=a.disabled,typeof a.precedence=="string"&&s==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function Aj(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var Ep=null;function VR(){}function qR(s,a,g){if(Ep===null)throw Error(i(475));var k=Ep;if(a.type==="stylesheet"&&(typeof g.media!="string"||matchMedia(g.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var F=ah(g.href),Y=s.querySelector(Sp(F));if(Y){s=Y._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(k.count++,k=gv.bind(k),s.then(k,k)),a.state.loading|=4,a.instance=Y,Qe(Y);return}Y=s.ownerDocument||s,g=xj(g),(F=Ri.get(F))&&K1(g,F),Y=Y.createElement("link"),Qe(Y);var ie=Y;ie._p=new Promise(function(be,ke){ie.onload=be,ie.onerror=ke}),os(Y,"link",g),a.instance=Y}k.stylesheets===null&&(k.stylesheets=new Map),k.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(k.count++,a=gv.bind(k),s.addEventListener("load",a),s.addEventListener("error",a))}}function WR(){if(Ep===null)throw Error(i(475));var s=Ep;return s.stylesheets&&s.count===0&&J1(s,s.stylesheets),0<s.count?function(a){var g=setTimeout(function(){if(s.stylesheets&&J1(s,s.stylesheets),s.unsuspend){var k=s.unsuspend;s.unsuspend=null,k()}},6e4);return s.unsuspend=a,function(){s.unsuspend=null,clearTimeout(g)}}:null}function gv(){if(this.count--,this.count===0){if(this.stylesheets)J1(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var yv=null;function J1(s,a){s.stylesheets=null,s.unsuspend!==null&&(s.count++,yv=new Map,a.forEach(XR,s),yv=null,gv.call(s))}function XR(s,a){if(!(a.state.loading&4)){var g=yv.get(s);if(g)var k=g.get(null);else{g=new Map,yv.set(s,g);for(var F=s.querySelectorAll("link[data-precedence],style[data-precedence]"),Y=0;Y<F.length;Y++){var ie=F[Y];(ie.nodeName==="LINK"||ie.getAttribute("media")!=="not all")&&(g.set(ie.dataset.precedence,ie),k=ie)}k&&g.set(null,k)}F=a.instance,ie=F.getAttribute("data-precedence"),Y=g.get(ie)||k,Y===k&&g.set(null,F),g.set(ie,F),this.count++,k=gv.bind(this),F.addEventListener("load",k),F.addEventListener("error",k),Y?Y.parentNode.insertBefore(F,Y.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(F,s.firstChild)),a.state.loading|=4}}var Ap={$$typeof:x,Provider:null,Consumer:null,_currentValue:le,_currentValue2:le,_threadCount:0};function YR(s,a,g,k,F,Y,ie,be){this.tag=1,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Vt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vt(0),this.hiddenUpdates=Vt(null),this.identifierPrefix=k,this.onUncaughtError=F,this.onCaughtError=Y,this.onRecoverableError=ie,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=be,this.incompleteTransitions=new Map}function Tj(s,a,g,k,F,Y,ie,be,ke,Ie,rt,dt){return s=new YR(s,a,g,ie,be,ke,Ie,dt),a=1,Y===!0&&(a|=24),Y=Mi(3,null,null,a),s.current=Y,Y.stateNode=s,a=kb(),a.refCount++,s.pooledCache=a,a.refCount++,Y.memoizedState={element:k,isDehydrated:g,cache:a},d1(Y),s}function Mj(s){return s?(s=Ud,s):Ud}function Cj(s,a,g,k,F,Y){F=Mj(F),k.context===null?k.context=F:k.pendingContext=F,k=jl(a),k.payload={element:g},Y=Y===void 0?null:Y,Y!==null&&(k.callback=Y),g=El(s,k,a),g!==null&&(Ms(g,s,a),up(g,s,a))}function Rj(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var g=s.retryLane;s.retryLane=g!==0&&g<a?g:a}}function e_(s,a){Rj(s,a),(s=s.alternate)&&Rj(s,a)}function kj(s){if(s.tag===13){var a=yl(s,67108864);a!==null&&Ms(a,s,67108864),e_(s,67108864)}}var vv=!0;function $R(s,a,g,k){var F=O.T;O.T=null;var Y=oe.p;try{oe.p=2,t_(s,a,g,k)}finally{oe.p=Y,O.T=F}}function ZR(s,a,g,k){var F=O.T;O.T=null;var Y=oe.p;try{oe.p=8,t_(s,a,g,k)}finally{oe.p=Y,O.T=F}}function t_(s,a,g,k){if(vv){var F=r_(k);if(F===null)H1(s,a,k,bv,g),Lj(s,k);else if(QR(F,s,a,g,k))k.stopPropagation();else if(Lj(s,k),a&4&&-1<KR.indexOf(s)){for(;F!==null;){var Y=Tt(F);if(Y!==null)switch(Y.tag){case 3:if(Y=Y.stateNode,Y.current.memoizedState.isDehydrated){var ie=De(Y.pendingLanes);if(ie!==0){var be=Y;for(be.pendingLanes|=2,be.entangledLanes|=2;ie;){var ke=1<<31-he(ie);be.entanglements[1]|=ke,ie&=~ke}xa(Y),(hn&6)===0&&(rv=ot()+500,_p(0))}}break;case 13:be=yl(Y,2),be!==null&&Ms(be,Y,2),iv(),e_(Y,2)}if(Y=r_(k),Y===null&&H1(s,a,k,bv,g),Y===F)break;F=Y}F!==null&&k.stopPropagation()}else H1(s,a,k,null,g)}}function r_(s){return s=hl(s),n_(s)}var bv=null;function n_(s){if(bv=null,s=ut(s),s!==null){var a=X(s);if(a===null)s=null;else{var g=a.tag;if(g===13){if(s=B(a),s!==null)return s;s=null}else if(g===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null)}}return bv=s,null}function Oj(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Pt()){case bt:return 2;case je:return 8;case Ve:case He:return 32;case nt:return 268435456;default:return 32}default:return 32}}var s_=!1,Ol=null,Ll=null,Dl=null,Tp=new Map,Mp=new Map,Pl=[],KR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Lj(s,a){switch(s){case"focusin":case"focusout":Ol=null;break;case"dragenter":case"dragleave":Ll=null;break;case"mouseover":case"mouseout":Dl=null;break;case"pointerover":case"pointerout":Tp.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mp.delete(a.pointerId)}}function Cp(s,a,g,k,F,Y){return s===null||s.nativeEvent!==Y?(s={blockedOn:a,domEventName:g,eventSystemFlags:k,nativeEvent:Y,targetContainers:[F]},a!==null&&(a=Tt(a),a!==null&&kj(a)),s):(s.eventSystemFlags|=k,a=s.targetContainers,F!==null&&a.indexOf(F)===-1&&a.push(F),s)}function QR(s,a,g,k,F){switch(a){case"focusin":return Ol=Cp(Ol,s,a,g,k,F),!0;case"dragenter":return Ll=Cp(Ll,s,a,g,k,F),!0;case"mouseover":return Dl=Cp(Dl,s,a,g,k,F),!0;case"pointerover":var Y=F.pointerId;return Tp.set(Y,Cp(Tp.get(Y)||null,s,a,g,k,F)),!0;case"gotpointercapture":return Y=F.pointerId,Mp.set(Y,Cp(Mp.get(Y)||null,s,a,g,k,F)),!0}return!1}function Dj(s){var a=ut(s.target);if(a!==null){var g=X(a);if(g!==null){if(a=g.tag,a===13){if(a=B(g),a!==null){s.blockedOn=a,Fn(s.priority,function(){if(g.tag===13){var k=Js(),F=yl(g,k);F!==null&&Ms(F,g,k),e_(g,k)}});return}}else if(a===3&&g.stateNode.current.memoizedState.isDehydrated){s.blockedOn=g.tag===3?g.stateNode.containerInfo:null;return}}}s.blockedOn=null}function _v(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var g=r_(s.nativeEvent);if(g===null){g=s.nativeEvent;var k=new g.constructor(g.type,g);Md=k,g.target.dispatchEvent(k),Md=null}else return a=Tt(g),a!==null&&kj(a),s.blockedOn=g,!1;a.shift()}return!0}function Pj(s,a,g){_v(s)&&g.delete(a)}function JR(){s_=!1,Ol!==null&&_v(Ol)&&(Ol=null),Ll!==null&&_v(Ll)&&(Ll=null),Dl!==null&&_v(Dl)&&(Dl=null),Tp.forEach(Pj),Mp.forEach(Pj)}function wv(s,a){s.blockedOn===a&&(s.blockedOn=null,s_||(s_=!0,T.unstable_scheduleCallback(T.unstable_NormalPriority,JR)))}var xv=null;function Nj(s){xv!==s&&(xv=s,T.unstable_scheduleCallback(T.unstable_NormalPriority,function(){xv===s&&(xv=null);for(var a=0;a<s.length;a+=3){var g=s[a],k=s[a+1],F=s[a+2];if(typeof k!="function"){if(n_(k||g)===null)continue;break}var Y=Tt(g);Y!==null&&(s.splice(a,3),a-=3,Xb(Y,{pending:!0,data:F,method:g.method,action:k},k,F))}}))}function Rp(s){function a(ke){return wv(ke,s)}Ol!==null&&wv(Ol,s),Ll!==null&&wv(Ll,s),Dl!==null&&wv(Dl,s),Tp.forEach(a),Mp.forEach(a);for(var g=0;g<Pl.length;g++){var k=Pl[g];k.blockedOn===s&&(k.blockedOn=null)}for(;0<Pl.length&&(g=Pl[0],g.blockedOn===null);)Dj(g),g.blockedOn===null&&Pl.shift();if(g=(s.ownerDocument||s).$$reactFormReplay,g!=null)for(k=0;k<g.length;k+=3){var F=g[k],Y=g[k+1],ie=F[br]||null;if(typeof Y=="function")ie||Nj(g);else if(ie){var be=null;if(Y&&Y.hasAttribute("formAction")){if(F=Y,ie=Y[br]||null)be=ie.formAction;else if(n_(F)!==null)continue}else be=ie.action;typeof be=="function"?g[k+1]=be:(g.splice(k,3),k-=3),Nj(g)}}}function i_(s){this._internalRoot=s}Sv.prototype.render=i_.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(i(409));var g=a.current,k=Js();Cj(g,k,s,a,null,null)},Sv.prototype.unmount=i_.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;s.tag===0&&rh(),Cj(s.current,2,null,s,null,null),iv(),a[fr]=null}};function Sv(s){this._internalRoot=s}Sv.prototype.unstable_scheduleHydration=function(s){if(s){var a=Jr();s={blockedOn:null,target:s,priority:a};for(var g=0;g<Pl.length&&a!==0&&a<Pl[g].priority;g++);Pl.splice(g,0,s),g===0&&Dj(s)}};var Ij=r.version;if(Ij!=="19.0.0")throw Error(i(527,Ij,"19.0.0"));oe.findDOMNode=function(s){var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=K(a),s=s!==null?ee(s):null,s=s===null?null:s.stateNode,s};var ek={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:O,findFiberByHostInstance:ut,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jv=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jv.isDisabled&&jv.supportsFiber)try{xt=jv.inject(ek),mt=jv}catch{}}return Op.createRoot=function(s,a){if(!p(s))throw Error(i(299));var g=!1,k="",F=eS,Y=tS,ie=rS,be=null;return a!=null&&(a.unstable_strictMode===!0&&(g=!0),a.identifierPrefix!==void 0&&(k=a.identifierPrefix),a.onUncaughtError!==void 0&&(F=a.onUncaughtError),a.onCaughtError!==void 0&&(Y=a.onCaughtError),a.onRecoverableError!==void 0&&(ie=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(be=a.unstable_transitionCallbacks)),a=Tj(s,1,!1,null,null,g,k,F,Y,ie,be,null),s[fr]=a.current,z1(s.nodeType===8?s.parentNode:s),new i_(a)},Op.hydrateRoot=function(s,a,g){if(!p(s))throw Error(i(299));var k=!1,F="",Y=eS,ie=tS,be=rS,ke=null,Ie=null;return g!=null&&(g.unstable_strictMode===!0&&(k=!0),g.identifierPrefix!==void 0&&(F=g.identifierPrefix),g.onUncaughtError!==void 0&&(Y=g.onUncaughtError),g.onCaughtError!==void 0&&(ie=g.onCaughtError),g.onRecoverableError!==void 0&&(be=g.onRecoverableError),g.unstable_transitionCallbacks!==void 0&&(ke=g.unstable_transitionCallbacks),g.formState!==void 0&&(Ie=g.formState)),a=Tj(s,1,!0,a,g??null,k,F,Y,ie,be,ke,Ie),a.context=Mj(null),g=a.current,k=Js(),F=jl(k),F.callback=null,El(g,F,k),a.current.lanes=k,zt(a,k),xa(a),s[fr]=a.current,z1(s),new Sv(a)},Op.version="19.0.0",Op}var Yj;function hk(){if(Yj)return u_.exports;Yj=1;function T(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(T)}catch(r){console.error(r)}}return T(),u_.exports=dk(),u_.exports}var fk=hk();/**
 * react-router v7.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var $j="popstate";function pk(T={}){function r(i,p){let{pathname:b,search:M,hash:t}=i.location;return L_("",{pathname:b,search:M,hash:t},p.state&&p.state.usr||null,p.state&&p.state.key||"default")}function n(i,p){return typeof p=="string"?p:lm(p)}return gk(r,n,null,T)}function mn(T,r){if(T===!1||T===null||typeof T>"u")throw new Error(r)}function Ya(T,r){if(!T){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function mk(){return Math.random().toString(36).substring(2,10)}function Zj(T,r){return{usr:T.state,key:T.key,idx:r}}function L_(T,r,n=null,i){return{pathname:typeof T=="string"?T:T.pathname,search:"",hash:"",...typeof r=="string"?Df(r):r,state:n,key:r&&r.key||i||mk()}}function lm({pathname:T="/",search:r="",hash:n=""}){return r&&r!=="?"&&(T+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(T+=n.charAt(0)==="#"?n:"#"+n),T}function Df(T){let r={};if(T){let n=T.indexOf("#");n>=0&&(r.hash=T.substring(n),T=T.substring(0,n));let i=T.indexOf("?");i>=0&&(r.search=T.substring(i),T=T.substring(0,i)),T&&(r.pathname=T)}return r}function gk(T,r,n,i={}){let{window:p=document.defaultView,v5Compat:b=!1}=i,M=p.history,t="POP",A=null,y=d();y==null&&(y=0,M.replaceState({...M.state,idx:y},""));function d(){return(M.state||{idx:null}).idx}function c(){t="POP";let h=d(),f=h==null?null:h-y;y=h,A&&A({action:t,location:o.location,delta:f})}function u(h,f){t="PUSH";let l=L_(o.location,h,f);y=d()+1;let m=Zj(l,y),_=o.createHref(l);try{M.pushState(m,"",_)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;p.location.assign(_)}b&&A&&A({action:t,location:o.location,delta:1})}function x(h,f){t="REPLACE";let l=L_(o.location,h,f);y=d();let m=Zj(l,y),_=o.createHref(l);M.replaceState(m,"",_),b&&A&&A({action:t,location:o.location,delta:0})}function j(h){return yk(h)}let o={get action(){return t},get location(){return T(p,M)},listen(h){if(A)throw new Error("A history only accepts one active listener");return p.addEventListener($j,c),A=h,()=>{p.removeEventListener($j,c),A=null}},createHref(h){return r(p,h)},createURL:j,encodeLocation(h){let f=j(h);return{pathname:f.pathname,search:f.search,hash:f.hash}},push:u,replace:x,go(h){return M.go(h)}};return o}function yk(T,r=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),mn(n,"No window.location.(origin|href) available to create URL");let i=typeof T=="string"?T:lm(T);return i=i.replace(/ $/,"%20"),!r&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function pA(T,r,n="/"){return vk(T,r,n,!1)}function vk(T,r,n,i){let p=typeof r=="string"?Df(r):r,b=nl(p.pathname||"/",n);if(b==null)return null;let M=mA(T);bk(M);let t=null;for(let A=0;t==null&&A<M.length;++A){let y=Rk(b);t=Mk(M[A],y,i)}return t}function mA(T,r=[],n=[],i="",p=!1){let b=(M,t,A=p,y)=>{let d={relativePath:y===void 0?M.path||"":y,caseSensitive:M.caseSensitive===!0,childrenIndex:t,route:M};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(i)&&A)return;mn(d.relativePath.startsWith(i),`Absolute route path "${d.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(i.length)}let c=el([i,d.relativePath]),u=n.concat(d);M.children&&M.children.length>0&&(mn(M.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${c}".`),mA(M.children,r,u,c,A)),!(M.path==null&&!M.index)&&r.push({path:c,score:Ak(c,M.index),routesMeta:u})};return T.forEach((M,t)=>{var A;if(M.path===""||!((A=M.path)!=null&&A.includes("?")))b(M,t);else for(let y of gA(M.path))b(M,t,!0,y)}),r}function gA(T){let r=T.split("/");if(r.length===0)return[];let[n,...i]=r,p=n.endsWith("?"),b=n.replace(/\?$/,"");if(i.length===0)return p?[b,""]:[b];let M=gA(i.join("/")),t=[];return t.push(...M.map(A=>A===""?b:[b,A].join("/"))),p&&t.push(...M),t.map(A=>T.startsWith("/")&&A===""?"/":A)}function bk(T){T.sort((r,n)=>r.score!==n.score?n.score-r.score:Tk(r.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var _k=/^:[\w-]+$/,wk=3,xk=2,Sk=1,jk=10,Ek=-2,Kj=T=>T==="*";function Ak(T,r){let n=T.split("/"),i=n.length;return n.some(Kj)&&(i+=Ek),r&&(i+=xk),n.filter(p=>!Kj(p)).reduce((p,b)=>p+(_k.test(b)?wk:b===""?Sk:jk),i)}function Tk(T,r){return T.length===r.length&&T.slice(0,-1).every((i,p)=>i===r[p])?T[T.length-1]-r[r.length-1]:0}function Mk(T,r,n=!1){let{routesMeta:i}=T,p={},b="/",M=[];for(let t=0;t<i.length;++t){let A=i[t],y=t===i.length-1,d=b==="/"?r:r.slice(b.length)||"/",c=y0({path:A.relativePath,caseSensitive:A.caseSensitive,end:y},d),u=A.route;if(!c&&y&&n&&!i[i.length-1].route.index&&(c=y0({path:A.relativePath,caseSensitive:A.caseSensitive,end:!1},d)),!c)return null;Object.assign(p,c.params),M.push({params:p,pathname:el([b,c.pathname]),pathnameBase:Dk(el([b,c.pathnameBase])),route:u}),c.pathnameBase!=="/"&&(b=el([b,c.pathnameBase]))}return M}function y0(T,r){typeof T=="string"&&(T={path:T,caseSensitive:!1,end:!0});let[n,i]=Ck(T.path,T.caseSensitive,T.end),p=r.match(n);if(!p)return null;let b=p[0],M=b.replace(/(.)\/+$/,"$1"),t=p.slice(1);return{params:i.reduce((y,{paramName:d,isOptional:c},u)=>{if(d==="*"){let j=t[u]||"";M=b.slice(0,b.length-j.length).replace(/(.)\/+$/,"$1")}const x=t[u];return c&&!x?y[d]=void 0:y[d]=(x||"").replace(/%2F/g,"/"),y},{}),pathname:b,pathnameBase:M,pattern:T}}function Ck(T,r=!1,n=!0){Ya(T==="*"||!T.endsWith("*")||T.endsWith("/*"),`Route path "${T}" will be treated as if it were "${T.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${T.replace(/\*$/,"/*")}".`);let i=[],p="^"+T.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(M,t,A)=>(i.push({paramName:t,isOptional:A!=null}),A?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return T.endsWith("*")?(i.push({paramName:"*"}),p+=T==="*"||T==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?p+="\\/*$":T!==""&&T!=="/"&&(p+="(?:(?=\\/|$))"),[new RegExp(p,r?void 0:"i"),i]}function Rk(T){try{return T.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return Ya(!1,`The URL path "${T}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${r}).`),T}}function nl(T,r){if(r==="/")return T;if(!T.toLowerCase().startsWith(r.toLowerCase()))return null;let n=r.endsWith("/")?r.length-1:r.length,i=T.charAt(n);return i&&i!=="/"?null:T.slice(n)||"/"}function kk(T,r="/"){let{pathname:n,search:i="",hash:p=""}=typeof T=="string"?Df(T):T;return{pathname:n?n.startsWith("/")?n:Ok(n,r):r,search:Pk(i),hash:Nk(p)}}function Ok(T,r){let n=r.replace(/\/+$/,"").split("/");return T.split("/").forEach(p=>{p===".."?n.length>1&&n.pop():p!=="."&&n.push(p)}),n.length>1?n.join("/"):"/"}function f_(T,r,n,i){return`Cannot include a '${T}' character in a manually specified \`to.${r}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Lk(T){return T.filter((r,n)=>n===0||r.route.path&&r.route.path.length>0)}function yA(T){let r=Lk(T);return r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase)}function vA(T,r,n,i=!1){let p;typeof T=="string"?p=Df(T):(p={...T},mn(!p.pathname||!p.pathname.includes("?"),f_("?","pathname","search",p)),mn(!p.pathname||!p.pathname.includes("#"),f_("#","pathname","hash",p)),mn(!p.search||!p.search.includes("#"),f_("#","search","hash",p)));let b=T===""||p.pathname==="",M=b?"/":p.pathname,t;if(M==null)t=n;else{let c=r.length-1;if(!i&&M.startsWith("..")){let u=M.split("/");for(;u[0]==="..";)u.shift(),c-=1;p.pathname=u.join("/")}t=c>=0?r[c]:"/"}let A=kk(p,t),y=M&&M!=="/"&&M.endsWith("/"),d=(b||M===".")&&n.endsWith("/");return!A.pathname.endsWith("/")&&(y||d)&&(A.pathname+="/"),A}var el=T=>T.join("/").replace(/\/\/+/g,"/"),Dk=T=>T.replace(/\/+$/,"").replace(/^\/*/,"/"),Pk=T=>!T||T==="?"?"":T.startsWith("?")?T:"?"+T,Nk=T=>!T||T==="#"?"":T.startsWith("#")?T:"#"+T;function Ik(T){return T!=null&&typeof T.status=="number"&&typeof T.statusText=="string"&&typeof T.internal=="boolean"&&"data"in T}var bA=["POST","PUT","PATCH","DELETE"];new Set(bA);var Fk=["GET",...bA];new Set(Fk);var Pf=Be.createContext(null);Pf.displayName="DataRouter";var Z0=Be.createContext(null);Z0.displayName="DataRouterState";Be.createContext(!1);var _A=Be.createContext({isTransitioning:!1});_A.displayName="ViewTransition";var Uk=Be.createContext(new Map);Uk.displayName="Fetchers";var Bk=Be.createContext(null);Bk.displayName="Await";var Za=Be.createContext(null);Za.displayName="Navigation";var Wg=Be.createContext(null);Wg.displayName="Location";var Ka=Be.createContext({outlet:null,matches:[],isDataRoute:!1});Ka.displayName="Route";var mx=Be.createContext(null);mx.displayName="RouteError";function Gk(T,{relative:r}={}){mn(Xg(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=Be.useContext(Za),{hash:p,pathname:b,search:M}=Yg(T,{relative:r}),t=b;return n!=="/"&&(t=b==="/"?n:el([n,b])),i.createHref({pathname:t,search:M,hash:p})}function Xg(){return Be.useContext(Wg)!=null}function Ru(){return mn(Xg(),"useLocation() may be used only in the context of a <Router> component."),Be.useContext(Wg).location}var wA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function xA(T){Be.useContext(Za).static||Be.useLayoutEffect(T)}function SA(){let{isDataRoute:T}=Be.useContext(Ka);return T?rO():zk()}function zk(){mn(Xg(),"useNavigate() may be used only in the context of a <Router> component.");let T=Be.useContext(Pf),{basename:r,navigator:n}=Be.useContext(Za),{matches:i}=Be.useContext(Ka),{pathname:p}=Ru(),b=JSON.stringify(yA(i)),M=Be.useRef(!1);return xA(()=>{M.current=!0}),Be.useCallback((A,y={})=>{if(Ya(M.current,wA),!M.current)return;if(typeof A=="number"){n.go(A);return}let d=vA(A,JSON.parse(b),p,y.relative==="path");T==null&&r!=="/"&&(d.pathname=d.pathname==="/"?r:el([r,d.pathname])),(y.replace?n.replace:n.push)(d,y.state,y)},[r,n,b,p,T])}var Hk=Be.createContext(null);function Vk(T){let r=Be.useContext(Ka).outlet;return r&&Be.createElement(Hk.Provider,{value:T},r)}function Yg(T,{relative:r}={}){let{matches:n}=Be.useContext(Ka),{pathname:i}=Ru(),p=JSON.stringify(yA(n));return Be.useMemo(()=>vA(T,JSON.parse(p),i,r==="path"),[T,p,i,r])}function qk(T,r){return jA(T,r)}function jA(T,r,n,i){var f;mn(Xg(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:p}=Be.useContext(Za),{matches:b}=Be.useContext(Ka),M=b[b.length-1],t=M?M.params:{},A=M?M.pathname:"/",y=M?M.pathnameBase:"/",d=M&&M.route;{let l=d&&d.path||"";EA(A,!d||l.endsWith("*")||l.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${A}" (under <Route path="${l}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${l}"> to <Route path="${l==="/"?"*":`${l}/*`}">.`)}let c=Ru(),u;if(r){let l=typeof r=="string"?Df(r):r;mn(y==="/"||((f=l.pathname)==null?void 0:f.startsWith(y)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${l.pathname}" was given in the \`location\` prop.`),u=l}else u=c;let x=u.pathname||"/",j=x;if(y!=="/"){let l=y.replace(/^\//,"").split("/");j="/"+x.replace(/^\//,"").split("/").slice(l.length).join("/")}let o=pA(T,{pathname:j});Ya(d||o!=null,`No routes matched location "${u.pathname}${u.search}${u.hash}" `),Ya(o==null||o[o.length-1].route.element!==void 0||o[o.length-1].route.Component!==void 0||o[o.length-1].route.lazy!==void 0,`Matched leaf route at location "${u.pathname}${u.search}${u.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let h=Zk(o&&o.map(l=>Object.assign({},l,{params:Object.assign({},t,l.params),pathname:el([y,p.encodeLocation?p.encodeLocation(l.pathname).pathname:l.pathname]),pathnameBase:l.pathnameBase==="/"?y:el([y,p.encodeLocation?p.encodeLocation(l.pathnameBase).pathname:l.pathnameBase])})),b,n,i);return r&&h?Be.createElement(Wg.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...u},navigationType:"POP"}},h):h}function Wk(){let T=tO(),r=Ik(T)?`${T.status} ${T.statusText}`:T instanceof Error?T.message:JSON.stringify(T),n=T instanceof Error?T.stack:null,i="rgba(200,200,200, 0.5)",p={padding:"0.5rem",backgroundColor:i},b={padding:"2px 4px",backgroundColor:i},M=null;return console.error("Error handled by React Router default ErrorBoundary:",T),M=Be.createElement(Be.Fragment,null,Be.createElement("p",null,"💿 Hey developer 👋"),Be.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Be.createElement("code",{style:b},"ErrorBoundary")," or"," ",Be.createElement("code",{style:b},"errorElement")," prop on your route.")),Be.createElement(Be.Fragment,null,Be.createElement("h2",null,"Unexpected Application Error!"),Be.createElement("h3",{style:{fontStyle:"italic"}},r),n?Be.createElement("pre",{style:p},n):null,M)}var Xk=Be.createElement(Wk,null),Yk=class extends Be.Component{constructor(T){super(T),this.state={location:T.location,revalidation:T.revalidation,error:T.error}}static getDerivedStateFromError(T){return{error:T}}static getDerivedStateFromProps(T,r){return r.location!==T.location||r.revalidation!=="idle"&&T.revalidation==="idle"?{error:T.error,location:T.location,revalidation:T.revalidation}:{error:T.error!==void 0?T.error:r.error,location:r.location,revalidation:T.revalidation||r.revalidation}}componentDidCatch(T,r){console.error("React Router caught the following error during render",T,r)}render(){return this.state.error!==void 0?Be.createElement(Ka.Provider,{value:this.props.routeContext},Be.createElement(mx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function $k({routeContext:T,match:r,children:n}){let i=Be.useContext(Pf);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),Be.createElement(Ka.Provider,{value:T},n)}function Zk(T,r=[],n=null,i=null){if(T==null){if(!n)return null;if(n.errors)T=n.matches;else if(r.length===0&&!n.initialized&&n.matches.length>0)T=n.matches;else return null}let p=T,b=n==null?void 0:n.errors;if(b!=null){let A=p.findIndex(y=>y.route.id&&(b==null?void 0:b[y.route.id])!==void 0);mn(A>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(b).join(",")}`),p=p.slice(0,Math.min(p.length,A+1))}let M=!1,t=-1;if(n)for(let A=0;A<p.length;A++){let y=p[A];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(t=A),y.route.id){let{loaderData:d,errors:c}=n,u=y.route.loader&&!d.hasOwnProperty(y.route.id)&&(!c||c[y.route.id]===void 0);if(y.route.lazy||u){M=!0,t>=0?p=p.slice(0,t+1):p=[p[0]];break}}}return p.reduceRight((A,y,d)=>{let c,u=!1,x=null,j=null;n&&(c=b&&y.route.id?b[y.route.id]:void 0,x=y.route.errorElement||Xk,M&&(t<0&&d===0?(EA("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),u=!0,j=null):t===d&&(u=!0,j=y.route.hydrateFallbackElement||null)));let o=r.concat(p.slice(0,d+1)),h=()=>{let f;return c?f=x:u?f=j:y.route.Component?f=Be.createElement(y.route.Component,null):y.route.element?f=y.route.element:f=A,Be.createElement($k,{match:y,routeContext:{outlet:A,matches:o,isDataRoute:n!=null},children:f})};return n&&(y.route.ErrorBoundary||y.route.errorElement||d===0)?Be.createElement(Yk,{location:n.location,revalidation:n.revalidation,component:x,error:c,children:h(),routeContext:{outlet:null,matches:o,isDataRoute:!0}}):h()},null)}function gx(T){return`${T} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Kk(T){let r=Be.useContext(Pf);return mn(r,gx(T)),r}function Qk(T){let r=Be.useContext(Z0);return mn(r,gx(T)),r}function Jk(T){let r=Be.useContext(Ka);return mn(r,gx(T)),r}function yx(T){let r=Jk(T),n=r.matches[r.matches.length-1];return mn(n.route.id,`${T} can only be used on routes that contain a unique "id"`),n.route.id}function eO(){return yx("useRouteId")}function tO(){var i;let T=Be.useContext(mx),r=Qk("useRouteError"),n=yx("useRouteError");return T!==void 0?T:(i=r.errors)==null?void 0:i[n]}function rO(){let{router:T}=Kk("useNavigate"),r=yx("useNavigate"),n=Be.useRef(!1);return xA(()=>{n.current=!0}),Be.useCallback(async(p,b={})=>{Ya(n.current,wA),n.current&&(typeof p=="number"?T.navigate(p):await T.navigate(p,{fromRouteId:r,...b}))},[T,r])}var Qj={};function EA(T,r,n){!r&&!Qj[T]&&(Qj[T]=!0,Ya(!1,n))}Be.memo(nO);function nO({routes:T,future:r,state:n}){return jA(T,void 0,n,r)}function sO(T){return Vk(T.context)}function Fp(T){mn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function iO({basename:T="/",children:r=null,location:n,navigationType:i="POP",navigator:p,static:b=!1}){mn(!Xg(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let M=T.replace(/^\/*/,"/"),t=Be.useMemo(()=>({basename:M,navigator:p,static:b,future:{}}),[M,p,b]);typeof n=="string"&&(n=Df(n));let{pathname:A="/",search:y="",hash:d="",state:c=null,key:u="default"}=n,x=Be.useMemo(()=>{let j=nl(A,M);return j==null?null:{location:{pathname:j,search:y,hash:d,state:c,key:u},navigationType:i}},[M,A,y,d,c,u,i]);return Ya(x!=null,`<Router basename="${M}"> is not able to match the URL "${A}${y}${d}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:Be.createElement(Za.Provider,{value:t},Be.createElement(Wg.Provider,{children:r,value:x}))}function aO({children:T,location:r}){return qk(D_(T),r)}function D_(T,r=[]){let n=[];return Be.Children.forEach(T,(i,p)=>{if(!Be.isValidElement(i))return;let b=[...r,p];if(i.type===Be.Fragment){n.push.apply(n,D_(i.props.children,b));return}mn(i.type===Fp,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),mn(!i.props.index||!i.props.children,"An index route cannot have child routes.");let M={id:i.props.id||b.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(M.children=D_(i.props.children,b)),n.push(M)}),n}var Pv="get",Nv="application/x-www-form-urlencoded";function K0(T){return T!=null&&typeof T.tagName=="string"}function oO(T){return K0(T)&&T.tagName.toLowerCase()==="button"}function lO(T){return K0(T)&&T.tagName.toLowerCase()==="form"}function uO(T){return K0(T)&&T.tagName.toLowerCase()==="input"}function cO(T){return!!(T.metaKey||T.altKey||T.ctrlKey||T.shiftKey)}function dO(T,r){return T.button===0&&(!r||r==="_self")&&!cO(T)}var Ev=null;function hO(){if(Ev===null)try{new FormData(document.createElement("form"),0),Ev=!1}catch{Ev=!0}return Ev}var fO=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function p_(T){return T!=null&&!fO.has(T)?(Ya(!1,`"${T}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Nv}"`),null):T}function pO(T,r){let n,i,p,b,M;if(lO(T)){let t=T.getAttribute("action");i=t?nl(t,r):null,n=T.getAttribute("method")||Pv,p=p_(T.getAttribute("enctype"))||Nv,b=new FormData(T)}else if(oO(T)||uO(T)&&(T.type==="submit"||T.type==="image")){let t=T.form;if(t==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let A=T.getAttribute("formaction")||t.getAttribute("action");if(i=A?nl(A,r):null,n=T.getAttribute("formmethod")||t.getAttribute("method")||Pv,p=p_(T.getAttribute("formenctype"))||p_(t.getAttribute("enctype"))||Nv,b=new FormData(t,T),!hO()){let{name:y,type:d,value:c}=T;if(d==="image"){let u=y?`${y}.`:"";b.append(`${u}x`,"0"),b.append(`${u}y`,"0")}else y&&b.append(y,c)}}else{if(K0(T))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Pv,i=null,p=Nv,M=T}return b&&p==="text/plain"&&(M=b,b=void 0),{action:i,method:n.toLowerCase(),encType:p,formData:b,body:M}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function vx(T,r){if(T===!1||T===null||typeof T>"u")throw new Error(r)}function mO(T,r,n){let i=typeof T=="string"?new URL(T,typeof window>"u"?"server://singlefetch/":window.location.origin):T;return i.pathname==="/"?i.pathname=`_root.${n}`:r&&nl(i.pathname,r)==="/"?i.pathname=`${r.replace(/\/$/,"")}/_root.${n}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${n}`,i}async function gO(T,r){if(T.id in r)return r[T.id];try{let n=await import(T.module);return r[T.id]=n,n}catch(n){return console.error(`Error loading route module \`${T.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function yO(T){return T==null?!1:T.href==null?T.rel==="preload"&&typeof T.imageSrcSet=="string"&&typeof T.imageSizes=="string":typeof T.rel=="string"&&typeof T.href=="string"}async function vO(T,r,n){let i=await Promise.all(T.map(async p=>{let b=r.routes[p.route.id];if(b){let M=await gO(b,n);return M.links?M.links():[]}return[]}));return xO(i.flat(1).filter(yO).filter(p=>p.rel==="stylesheet"||p.rel==="preload").map(p=>p.rel==="stylesheet"?{...p,rel:"prefetch",as:"style"}:{...p,rel:"prefetch"}))}function Jj(T,r,n,i,p,b){let M=(A,y)=>n[y]?A.route.id!==n[y].route.id:!0,t=(A,y)=>{var d;return n[y].pathname!==A.pathname||((d=n[y].route.path)==null?void 0:d.endsWith("*"))&&n[y].params["*"]!==A.params["*"]};return b==="assets"?r.filter((A,y)=>M(A,y)||t(A,y)):b==="data"?r.filter((A,y)=>{var c;let d=i.routes[A.route.id];if(!d||!d.hasLoader)return!1;if(M(A,y)||t(A,y))return!0;if(A.route.shouldRevalidate){let u=A.route.shouldRevalidate({currentUrl:new URL(p.pathname+p.search+p.hash,window.origin),currentParams:((c=n[0])==null?void 0:c.params)||{},nextUrl:new URL(T,window.origin),nextParams:A.params,defaultShouldRevalidate:!0});if(typeof u=="boolean")return u}return!0}):[]}function bO(T,r,{includeHydrateFallback:n}={}){return _O(T.map(i=>{let p=r.routes[i.route.id];if(!p)return[];let b=[p.module];return p.clientActionModule&&(b=b.concat(p.clientActionModule)),p.clientLoaderModule&&(b=b.concat(p.clientLoaderModule)),n&&p.hydrateFallbackModule&&(b=b.concat(p.hydrateFallbackModule)),p.imports&&(b=b.concat(p.imports)),b}).flat(1))}function _O(T){return[...new Set(T)]}function wO(T){let r={},n=Object.keys(T).sort();for(let i of n)r[i]=T[i];return r}function xO(T,r){let n=new Set;return new Set(r),T.reduce((i,p)=>{let b=JSON.stringify(wO(p));return n.has(b)||(n.add(b),i.push({key:b,link:p})),i},[])}function AA(){let T=Be.useContext(Pf);return vx(T,"You must render this element inside a <DataRouterContext.Provider> element"),T}function SO(){let T=Be.useContext(Z0);return vx(T,"You must render this element inside a <DataRouterStateContext.Provider> element"),T}var bx=Be.createContext(void 0);bx.displayName="FrameworkContext";function TA(){let T=Be.useContext(bx);return vx(T,"You must render this element inside a <HydratedRouter> element"),T}function jO(T,r){let n=Be.useContext(bx),[i,p]=Be.useState(!1),[b,M]=Be.useState(!1),{onFocus:t,onBlur:A,onMouseEnter:y,onMouseLeave:d,onTouchStart:c}=r,u=Be.useRef(null);Be.useEffect(()=>{if(T==="render"&&M(!0),T==="viewport"){let o=f=>{f.forEach(l=>{M(l.isIntersecting)})},h=new IntersectionObserver(o,{threshold:.5});return u.current&&h.observe(u.current),()=>{h.disconnect()}}},[T]),Be.useEffect(()=>{if(i){let o=setTimeout(()=>{M(!0)},100);return()=>{clearTimeout(o)}}},[i]);let x=()=>{p(!0)},j=()=>{p(!1),M(!1)};return n?T!=="intent"?[b,u,{}]:[b,u,{onFocus:Lp(t,x),onBlur:Lp(A,j),onMouseEnter:Lp(y,x),onMouseLeave:Lp(d,j),onTouchStart:Lp(c,x)}]:[!1,u,{}]}function Lp(T,r){return n=>{T&&T(n),n.defaultPrevented||r(n)}}function EO({page:T,...r}){let{router:n}=AA(),i=Be.useMemo(()=>pA(n.routes,T,n.basename),[n.routes,T,n.basename]);return i?Be.createElement(TO,{page:T,matches:i,...r}):null}function AO(T){let{manifest:r,routeModules:n}=TA(),[i,p]=Be.useState([]);return Be.useEffect(()=>{let b=!1;return vO(T,r,n).then(M=>{b||p(M)}),()=>{b=!0}},[T,r,n]),i}function TO({page:T,matches:r,...n}){let i=Ru(),{manifest:p,routeModules:b}=TA(),{basename:M}=AA(),{loaderData:t,matches:A}=SO(),y=Be.useMemo(()=>Jj(T,r,A,p,i,"data"),[T,r,A,p,i]),d=Be.useMemo(()=>Jj(T,r,A,p,i,"assets"),[T,r,A,p,i]),c=Be.useMemo(()=>{if(T===i.pathname+i.search+i.hash)return[];let j=new Set,o=!1;if(r.forEach(f=>{var m;let l=p.routes[f.route.id];!l||!l.hasLoader||(!y.some(_=>_.route.id===f.route.id)&&f.route.id in t&&((m=b[f.route.id])!=null&&m.shouldRevalidate)||l.hasClientLoader?o=!0:j.add(f.route.id))}),j.size===0)return[];let h=mO(T,M,"data");return o&&j.size>0&&h.searchParams.set("_routes",r.filter(f=>j.has(f.route.id)).map(f=>f.route.id).join(",")),[h.pathname+h.search]},[M,t,i,p,y,r,T,b]),u=Be.useMemo(()=>bO(d,p),[d,p]),x=AO(d);return Be.createElement(Be.Fragment,null,c.map(j=>Be.createElement("link",{key:j,rel:"prefetch",as:"fetch",href:j,...n})),u.map(j=>Be.createElement("link",{key:j,rel:"modulepreload",href:j,...n})),x.map(({key:j,link:o})=>Be.createElement("link",{key:j,nonce:n.nonce,...o})))}function MO(...T){return r=>{T.forEach(n=>{typeof n=="function"?n(r):n!=null&&(n.current=r)})}}var MA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{MA&&(window.__reactRouterVersion="7.8.1")}catch{}function CO({basename:T,children:r,window:n}){let i=Be.useRef();i.current==null&&(i.current=pk({window:n,v5Compat:!0}));let p=i.current,[b,M]=Be.useState({action:p.action,location:p.location}),t=Be.useCallback(A=>{Be.startTransition(()=>M(A))},[M]);return Be.useLayoutEffect(()=>p.listen(t),[p,t]),Be.createElement(iO,{basename:T,children:r,location:b.location,navigationType:b.action,navigator:p})}var CA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,RA=Be.forwardRef(function({onClick:r,discover:n="render",prefetch:i="none",relative:p,reloadDocument:b,replace:M,state:t,target:A,to:y,preventScrollReset:d,viewTransition:c,...u},x){let{basename:j}=Be.useContext(Za),o=typeof y=="string"&&CA.test(y),h,f=!1;if(typeof y=="string"&&o&&(h=y,MA))try{let O=new URL(window.location.href),U=y.startsWith("//")?new URL(O.protocol+y):new URL(y),N=nl(U.pathname,j);U.origin===O.origin&&N!=null?y=N+U.search+U.hash:f=!0}catch{Ya(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let l=Gk(y,{relative:p}),[m,_,w]=jO(i,u),v=OO(y,{replace:M,state:t,target:A,preventScrollReset:d,relative:p,viewTransition:c});function E(O){r&&r(O),O.defaultPrevented||v(O)}let C=Be.createElement("a",{...u,...w,href:h||l,onClick:f||b?r:E,ref:MO(x,_),target:A,"data-discover":!o&&n==="render"?"true":void 0});return m&&!o?Be.createElement(Be.Fragment,null,C,Be.createElement(EO,{page:l})):C});RA.displayName="Link";var Iv=Be.forwardRef(function({"aria-current":r="page",caseSensitive:n=!1,className:i="",end:p=!1,style:b,to:M,viewTransition:t,children:A,...y},d){let c=Yg(M,{relative:y.relative}),u=Ru(),x=Be.useContext(Z0),{navigator:j,basename:o}=Be.useContext(Za),h=x!=null&&IO(c)&&t===!0,f=j.encodeLocation?j.encodeLocation(c).pathname:c.pathname,l=u.pathname,m=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;n||(l=l.toLowerCase(),m=m?m.toLowerCase():null,f=f.toLowerCase()),m&&o&&(m=nl(m,o)||m);const _=f!=="/"&&f.endsWith("/")?f.length-1:f.length;let w=l===f||!p&&l.startsWith(f)&&l.charAt(_)==="/",v=m!=null&&(m===f||!p&&m.startsWith(f)&&m.charAt(f.length)==="/"),E={isActive:w,isPending:v,isTransitioning:h},C=w?r:void 0,O;typeof i=="function"?O=i(E):O=[i,w?"active":null,v?"pending":null,h?"transitioning":null].filter(Boolean).join(" ");let U=typeof b=="function"?b(E):b;return Be.createElement(RA,{...y,"aria-current":C,className:O,ref:d,style:U,to:M,viewTransition:t},typeof A=="function"?A(E):A)});Iv.displayName="NavLink";var RO=Be.forwardRef(({discover:T="render",fetcherKey:r,navigate:n,reloadDocument:i,replace:p,state:b,method:M=Pv,action:t,onSubmit:A,relative:y,preventScrollReset:d,viewTransition:c,...u},x)=>{let j=PO(),o=NO(t,{relative:y}),h=M.toLowerCase()==="get"?"get":"post",f=typeof t=="string"&&CA.test(t),l=m=>{if(A&&A(m),m.defaultPrevented)return;m.preventDefault();let _=m.nativeEvent.submitter,w=(_==null?void 0:_.getAttribute("formmethod"))||M;j(_||m.currentTarget,{fetcherKey:r,method:w,navigate:n,replace:p,state:b,relative:y,preventScrollReset:d,viewTransition:c})};return Be.createElement("form",{ref:x,method:h,action:o,onSubmit:i?A:l,...u,"data-discover":!f&&T==="render"?"true":void 0})});RO.displayName="Form";function kO(T){return`${T} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function kA(T){let r=Be.useContext(Pf);return mn(r,kO(T)),r}function OO(T,{target:r,replace:n,state:i,preventScrollReset:p,relative:b,viewTransition:M}={}){let t=SA(),A=Ru(),y=Yg(T,{relative:b});return Be.useCallback(d=>{if(dO(d,r)){d.preventDefault();let c=n!==void 0?n:lm(A)===lm(y);t(T,{replace:c,state:i,preventScrollReset:p,relative:b,viewTransition:M})}},[A,t,y,n,i,r,T,p,b,M])}var LO=0,DO=()=>`__${String(++LO)}__`;function PO(){let{router:T}=kA("useSubmit"),{basename:r}=Be.useContext(Za),n=eO();return Be.useCallback(async(i,p={})=>{let{action:b,method:M,encType:t,formData:A,body:y}=pO(i,r);if(p.navigate===!1){let d=p.fetcherKey||DO();await T.fetch(d,n,p.action||b,{preventScrollReset:p.preventScrollReset,formData:A,body:y,formMethod:p.method||M,formEncType:p.encType||t,flushSync:p.flushSync})}else await T.navigate(p.action||b,{preventScrollReset:p.preventScrollReset,formData:A,body:y,formMethod:p.method||M,formEncType:p.encType||t,replace:p.replace,state:p.state,fromRouteId:n,flushSync:p.flushSync,viewTransition:p.viewTransition})},[T,r,n])}function NO(T,{relative:r}={}){let{basename:n}=Be.useContext(Za),i=Be.useContext(Ka);mn(i,"useFormAction must be used inside a RouteContext");let[p]=i.matches.slice(-1),b={...Yg(T||".",{relative:r})},M=Ru();if(T==null){b.search=M.search;let t=new URLSearchParams(b.search),A=t.getAll("index");if(A.some(d=>d==="")){t.delete("index"),A.filter(c=>c).forEach(c=>t.append("index",c));let d=t.toString();b.search=d?`?${d}`:""}}return(!T||T===".")&&p.route.index&&(b.search=b.search?b.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(b.pathname=b.pathname==="/"?n:el([n,b.pathname])),lm(b)}function IO(T,{relative:r}={}){let n=Be.useContext(_A);mn(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=kA("useViewTransitionState"),p=Yg(T,{relative:r});if(!n.isTransitioning)return!1;let b=nl(n.currentLocation.pathname,i)||n.currentLocation.pathname,M=nl(n.nextLocation.pathname,i)||n.nextLocation.pathname;return y0(p.pathname,M)!=null||y0(p.pathname,b)!=null}const FO=({projectNames:T,changeProject:r})=>{const[n,i]=Be.useState({}),p=b=>{i(M=>({...M,[b]:!M[b]}))};return gt.jsx("div",{className:"flex mr-0",children:gt.jsxs("aside",{id:"projectSideBar",className:"top-15 h-screen w-100 bg-gray-600 p-4 overflow-y-auto flex flex-col items-center justify-start",children:[gt.jsx("h1",{className:"text-blue-200 font-bold mb-4 self-center m-5 text-2xl",children:"Projects"}),Object.entries(T).map(([b,M])=>gt.jsxs("div",{className:"w-full flex flex-col items-center",children:[gt.jsxs("h4",{className:"text-blue-500 font-bold flex items-center",children:[b,gt.jsx("button",{onClick:()=>p(b),className:"ml-2","aria-label":`Toggle ${b} Projects`,children:gt.jsx("span",{children:n[b]?"▼":"►"})})]}),n[b]&&gt.jsx("ul",{children:M.map((t,A)=>gt.jsx("h6",{onClick:()=>r(t),className:"text-gray-950 hover:text-blue-500 cursor-pointer",children:t},A))})]},b))]})})},UO=({project:T})=>gt.jsxs("div",{className:"project-container",children:[gt.jsx("h3",{className:"project-header",children:T.name}),T.repoLink&&gt.jsx("a",{href:T.repoLink,target:"_blank",rel:"noopener noreferrer",className:"project-link",children:"See on GitHub"}),gt.jsx("p",{className:"project-description",children:T.description}),T.imgSrc&&gt.jsx("img",{src:T.imgSrc,alt:"Project",className:"project-image"}),T.name==="Chaos Engineering Senior Project"&&gt.jsx("a",{className:"project-a",href:"public/assets/chaosPresentation.ppt",download:!0,children:"Download Presentation"})]}),ic="/my-website/assets/falling_sand-zEBXKEjT.png",OA="/my-website/assets/chaos-screenshot-3fvMeLvW.png",BO={"School Projects":["Chaos Engineering Senior Project","Drone Tracking","Zombie Shooter Game"],"Graphics Projects":["Falling Sand","Visualizing Merge Sort"],"Other Projects":["WPF Job Application Manager"]},GO=[{name:"Falling Sand",description:"Left click and drag to create sand particles!",repoLink:"https://schaefm2.github.io/FallingSand/",imgSrc:ic},{name:"Drone Tracking",description:"My team and I created a drone traching system using crazyflie with aruco tags. We were able to successfully track a target and steer the drone to it using PID control.",imgSrc:ic},{name:"Zombie Shooter Game",description:"This is a description of my project.",repoLink:"https://schaefm2.github.io/FallingSand/",imgSrc:ic},{name:"Chaos Engineering Senior Project",description:`Me and 3 other students created a chaos tool for the Western Washington University Cyber Range. 
 This project is currently available on the cyber range. 
 Download the presentation to learn more.`,imgSrc:OA},{name:"Visualizing Merge Sort",description:"This is a description of my project.",repoLink:"https://schaefm2.github.io/FallingSand/",imgSrc:ic},{name:"WPF Job Application Manager",description:"This is a description of my project.",repoLink:"https://schaefm2.github.io/FallingSand/",imgSrc:ic}],zO=()=>{const[T,r]=Be.useState({name:"Falling Sand",description:"Left click and drag to create sand particles!",repoLink:"https://schaefm2.github.io/FallingSand/",imgSrc:ic}),n=i=>{console.log("Changeing project to:",i);const p=GO.find(b=>b.name===i);p&&r(p)};return gt.jsxs("div",{className:"flex",children:[gt.jsx(UO,{project:T}),gt.jsx(FO,{projectNames:BO,changeProject:n})]})};var Fv={exports:{}},HO=Fv.exports,eE;function VO(){return eE||(eE=1,function(T,r){(function(n,i){T.exports=i($0())})(HO,function(n){return function(i){var p={};function b(M){if(p[M])return p[M].exports;var t=p[M]={i:M,l:!1,exports:{}};return i[M].call(t.exports,t,t.exports,b),t.l=!0,t.exports}return b.m=i,b.c=p,b.d=function(M,t,A){b.o(M,t)||Object.defineProperty(M,t,{enumerable:!0,get:A})},b.r=function(M){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(M,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(M,"__esModule",{value:!0})},b.t=function(M,t){if(1&t&&(M=b(M)),8&t||4&t&&typeof M=="object"&&M&&M.__esModule)return M;var A=Object.create(null);if(b.r(A),Object.defineProperty(A,"default",{enumerable:!0,value:M}),2&t&&typeof M!="string")for(var y in M)b.d(A,y,(function(d){return M[d]}).bind(null,y));return A},b.n=function(M){var t=M&&M.__esModule?function(){return M.default}:function(){return M};return b.d(t,"a",t),t},b.o=function(M,t){return Object.prototype.hasOwnProperty.call(M,t)},b.p="",b(b.s=2)}([function(i,p){i.exports=n},function(i,p,b){(function(M){(function(t){i.exports=t()})(function(){return function t(A,y,d){function c(j,o){if(!y[j]){if(!A[j]){var h=!1;if(!o&&h)return(void 0)(j,!0);if(u)return u(j,!0);throw(o=new Error("Cannot find module '"+j+"'")).code="MODULE_NOT_FOUND",o}h=y[j]={exports:{}},A[j][0].call(h.exports,function(f){return c(A[j][1][f]||f)},h,h.exports,t,A,y,d)}return y[j].exports}for(var u=!1,x=0;x<d.length;x++)c(d[x]);return c}({1:[function(t,A,y){y.byteLength=function(f){return 3*((f=h(f))[0]+(f=f[1]))/4-f},y.toByteArray=function(f){var l,m,_=(w=h(f))[0],w=w[1],v=new u(function(O,U){return 3*(O+U)/4-U}(_,w)),E=0,C=0<w?_-4:_;for(m=0;m<C;m+=4)l=c[f.charCodeAt(m)]<<18|c[f.charCodeAt(m+1)]<<12|c[f.charCodeAt(m+2)]<<6|c[f.charCodeAt(m+3)],v[E++]=l>>16&255,v[E++]=l>>8&255,v[E++]=255&l;return w===2&&(l=c[f.charCodeAt(m)]<<2|c[f.charCodeAt(m+1)]>>4,v[E++]=255&l),w===1&&(l=c[f.charCodeAt(m)]<<10|c[f.charCodeAt(m+1)]<<4|c[f.charCodeAt(m+2)]>>2,v[E++]=l>>8&255,v[E++]=255&l),v},y.fromByteArray=function(f){for(var l,m=f.length,_=m%3,w=[],v=0,E=m-_;v<E;v+=16383)w.push(function(C,O,U){for(var N,D=[],H=O;H<U;H+=3)N=(C[H]<<16&16711680)+(C[H+1]<<8&65280)+(255&C[H+2]),D.push(function(I){return d[I>>18&63]+d[I>>12&63]+d[I>>6&63]+d[63&I]}(N));return D.join("")}(f,v,E<v+16383?E:v+16383));return _==1?(l=f[m-1],w.push(d[l>>2]+d[l<<4&63]+"==")):_==2&&(l=(f[m-2]<<8)+f[m-1],w.push(d[l>>10]+d[l>>4&63]+d[l<<2&63]+"=")),w.join("")};for(var d=[],c=[],u=typeof Uint8Array<"u"?Uint8Array:Array,x="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",j=0,o=x.length;j<o;++j)d[j]=x[j],c[x.charCodeAt(j)]=j;function h(f){var l=f.length;if(0<l%4)throw new Error("Invalid string. Length must be a multiple of 4");return l=(f=(f=f.indexOf("="))===-1?l:f)===l?0:4-f%4,[f,l]}c[45]=62,c[95]=63},{}],2:[function(t,A,y){},{}],3:[function(t,A,y){arguments[4][2][0].apply(y,arguments)},{dup:2}],4:[function(t,A,y){(function(h){var c=t("base64-js"),u=t("ieee754"),x=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null,j=(y.Buffer=h,y.SlowBuffer=function($){return+$!=$&&($=0),h.alloc(+$)},y.INSPECT_MAX_BYTES=50,2147483647);function o($){if(j<$)throw new RangeError('The value "'+$+'" is invalid for option "size"');return $=new Uint8Array($),Object.setPrototypeOf($,h.prototype),$}function h($,Q,se){if(typeof $!="number")return f($,Q,se);if(typeof Q=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return m($)}function f($,Q,se){if(typeof $=="string"){var de=$,ge=Q;if(h.isEncoding(ge=typeof ge=="string"&&ge!==""?ge:"utf8"))return(de=(ae=o(ve=0|v(de,ge))).write(de,ge))!==ve?ae.slice(0,de):ae;throw new TypeError("Unknown encoding: "+ge)}if(ArrayBuffer.isView($))return _($);if($!=null){if(oe($,ArrayBuffer)||$&&oe($.buffer,ArrayBuffer)){var ve=$,ae=se;if((de=Q)<0||ve.byteLength<de)throw new RangeError('"offset" is outside of buffer bounds');if(ve.byteLength<de+(ae||0))throw new RangeError('"length" is outside of buffer bounds');return ve=de===void 0&&ae===void 0?new Uint8Array(ve):ae===void 0?new Uint8Array(ve,de):new Uint8Array(ve,de,ae),Object.setPrototypeOf(ve,h.prototype),ve}if(typeof $=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');if((ge=$.valueOf&&$.valueOf())!=null&&ge!==$)return h.from(ge,Q,se);var ye=function(Se){var Me,Ee;return h.isBuffer(Se)?((Ee=o(Me=0|w(Se.length))).length!==0&&Se.copy(Ee,0,0,Me),Ee):Se.length!==void 0?typeof Se.length!="number"||le(Se.length)?o(0):_(Se):Se.type==="Buffer"&&Array.isArray(Se.data)?_(Se.data):void 0}($);if(ye)return ye;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof $[Symbol.toPrimitive]=="function")return h.from($[Symbol.toPrimitive]("string"),Q,se)}throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof $)}function l($){if(typeof $!="number")throw new TypeError('"size" argument must be of type number');if($<0)throw new RangeError('The value "'+$+'" is invalid for option "size"')}function m($){return l($),o($<0?0:0|w($))}function _($){for(var Q=$.length<0?0:0|w($.length),se=o(Q),de=0;de<Q;de+=1)se[de]=255&$[de];return se}function w($){if(j<=$)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+j.toString(16)+" bytes");return 0|$}function v($,Q){if(h.isBuffer($))return $.length;if(ArrayBuffer.isView($)||oe($,ArrayBuffer))return $.byteLength;if(typeof $!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof $);var se=$.length,de=2<arguments.length&&arguments[2]===!0;if(!de&&se===0)return 0;for(var ge=!1;;)switch(Q){case"ascii":case"latin1":case"binary":return se;case"utf8":case"utf-8":return K($).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*se;case"hex":return se>>>1;case"base64":return ee($).length;default:if(ge)return de?-1:K($).length;Q=(""+Q).toLowerCase(),ge=!0}}function E($,Q,se){var de,ge=!1;if((Q=Q===void 0||Q<0?0:Q)>this.length||(se=se===void 0||se>this.length?this.length:se)<=0||(se>>>=0)<=(Q>>>=0))return"";for($=$||"utf8";;)switch($){case"hex":var ve=Q,ae=se,ye=this.length;(!ae||ae<0||ye<ae)&&(ae=ye);for(var Se="",Me=ve=!ve||ve<0?0:ve;Me<ae;++Me)Se+=me[this[Me]];return Se;case"utf8":case"utf-8":return H(this,Q,se);case"ascii":ye=Q;var Ee=se,Te="";Ee=Math.min(this.length,Ee);for(var Pe=ye;Pe<Ee;++Pe)Te+=String.fromCharCode(127&this[Pe]);return Te;case"latin1":case"binary":ve=Q;var Ke=se,Ge="";Ke=Math.min(this.length,Ke);for(var et=ve;et<Ke;++et)Ge+=String.fromCharCode(this[et]);return Ge;case"base64":return ft=this,de=se,(ot=Q)===0&&de===ft.length?c.fromByteArray(ft):c.fromByteArray(ft.slice(ot,de));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":for(var ft=Q,ot=se,Pt=this.slice(ft,ot),bt="",je=0;je<Pt.length;je+=2)bt+=String.fromCharCode(Pt[je]+256*Pt[je+1]);return bt;default:if(ge)throw new TypeError("Unknown encoding: "+$);$=($+"").toLowerCase(),ge=!0}}function C($,Q,se){var de=$[Q];$[Q]=$[se],$[se]=de}function O($,Q,se,de,ge){if($.length===0)return-1;if(typeof se=="string"?(de=se,se=0):2147483647<se?se=2147483647:se<-2147483648&&(se=-2147483648),(se=(se=le(se=+se)?ge?0:$.length-1:se)<0?$.length+se:se)>=$.length){if(ge)return-1;se=$.length-1}else if(se<0){if(!ge)return-1;se=0}if(typeof Q=="string"&&(Q=h.from(Q,de)),h.isBuffer(Q))return Q.length===0?-1:U($,Q,se,de,ge);if(typeof Q=="number")return Q&=255,typeof Uint8Array.prototype.indexOf=="function"?(ge?Uint8Array.prototype.indexOf:Uint8Array.prototype.lastIndexOf).call($,Q,se):U($,[Q],se,de,ge);throw new TypeError("val must be string, number or Buffer")}function U($,Q,se,de,ge){var ve=1,ae=$.length,ye=Q.length;if(de!==void 0&&((de=String(de).toLowerCase())==="ucs2"||de==="ucs-2"||de==="utf16le"||de==="utf-16le")){if($.length<2||Q.length<2)return-1;ae/=ve=2,ye/=2,se/=2}function Se(Ke,Ge){return ve===1?Ke[Ge]:Ke.readUInt16BE(Ge*ve)}if(ge)for(var Me=-1,Ee=se;Ee<ae;Ee++)if(Se($,Ee)===Se(Q,Me===-1?0:Ee-Me)){if(Ee-(Me=Me===-1?Ee:Me)+1===ye)return Me*ve}else Me!==-1&&(Ee-=Ee-Me),Me=-1;else for(Ee=se=ae<se+ye?ae-ye:se;0<=Ee;Ee--){for(var Te=!0,Pe=0;Pe<ye;Pe++)if(Se($,Ee+Pe)!==Se(Q,Pe)){Te=!1;break}if(Te)return Ee}return-1}function N($,Q,se,de){return re(function(ge){for(var ve=[],ae=0;ae<ge.length;++ae)ve.push(255&ge.charCodeAt(ae));return ve}(Q),$,se,de)}function D($,Q,se,de){return re(function(ge,ve){for(var ae,ye,Se=[],Me=0;Me<ge.length&&!((ve-=2)<0);++Me)ae=(ye=ge.charCodeAt(Me))>>8,ye%=256,Se.push(ye),Se.push(ae);return Se}(Q,$.length-se),$,se,de)}function H($,Q,se){se=Math.min($.length,se);for(var de=[],ge=Q;ge<se;){var ve,ae,ye,Se,Me=$[ge],Ee=null,Te=239<Me?4:223<Me?3:191<Me?2:1;if(ge+Te<=se)switch(Te){case 1:Me<128&&(Ee=Me);break;case 2:(192&(ve=$[ge+1]))==128&&127<(Se=(31&Me)<<6|63&ve)&&(Ee=Se);break;case 3:ve=$[ge+1],ae=$[ge+2],(192&ve)==128&&(192&ae)==128&&2047<(Se=(15&Me)<<12|(63&ve)<<6|63&ae)&&(Se<55296||57343<Se)&&(Ee=Se);break;case 4:ve=$[ge+1],ae=$[ge+2],ye=$[ge+3],(192&ve)==128&&(192&ae)==128&&(192&ye)==128&&65535<(Se=(15&Me)<<18|(63&ve)<<12|(63&ae)<<6|63&ye)&&Se<1114112&&(Ee=Se)}Ee===null?(Ee=65533,Te=1):65535<Ee&&(Ee-=65536,de.push(Ee>>>10&1023|55296),Ee=56320|1023&Ee),de.push(Ee),ge+=Te}var Pe=de,Ke=Pe.length;if(Ke<=I)return String.fromCharCode.apply(String,Pe);for(var Ge="",et=0;et<Ke;)Ge+=String.fromCharCode.apply(String,Pe.slice(et,et+=I));return Ge}y.kMaxLength=j,(h.TYPED_ARRAY_SUPPORT=function(){try{var $=new Uint8Array(1),Q={foo:function(){return 42}};return Object.setPrototypeOf(Q,Uint8Array.prototype),Object.setPrototypeOf($,Q),$.foo()===42}catch{return!1}}())||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(h.prototype,"parent",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.buffer}}),Object.defineProperty(h.prototype,"offset",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&Symbol.species!=null&&h[Symbol.species]===h&&Object.defineProperty(h,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),h.poolSize=8192,h.from=f,Object.setPrototypeOf(h.prototype,Uint8Array.prototype),Object.setPrototypeOf(h,Uint8Array),h.alloc=function($,Q,se){return Q=Q,se=se,l($=$),$<=0||Q===void 0?o($):typeof se=="string"?o($).fill(Q,se):o($).fill(Q)},h.allocUnsafe=m,h.allocUnsafeSlow=m,h.isBuffer=function($){return $!=null&&$._isBuffer===!0&&$!==h.prototype},h.compare=function($,Q){if(oe($,Uint8Array)&&($=h.from($,$.offset,$.byteLength)),oe(Q,Uint8Array)&&(Q=h.from(Q,Q.offset,Q.byteLength)),!h.isBuffer($)||!h.isBuffer(Q))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if($===Q)return 0;for(var se=$.length,de=Q.length,ge=0,ve=Math.min(se,de);ge<ve;++ge)if($[ge]!==Q[ge]){se=$[ge],de=Q[ge];break}return se<de?-1:de<se?1:0},h.isEncoding=function($){switch(String($).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},h.concat=function($,Q){if(!Array.isArray($))throw new TypeError('"list" argument must be an Array of Buffers');if($.length===0)return h.alloc(0);if(Q===void 0)for(ge=Q=0;ge<$.length;++ge)Q+=$[ge].length;for(var se=h.allocUnsafe(Q),de=0,ge=0;ge<$.length;++ge){var ve=$[ge];if(oe(ve,Uint8Array)&&(ve=h.from(ve)),!h.isBuffer(ve))throw new TypeError('"list" argument must be an Array of Buffers');ve.copy(se,de),de+=ve.length}return se},h.byteLength=v,h.prototype._isBuffer=!0,h.prototype.swap16=function(){var $=this.length;if($%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var Q=0;Q<$;Q+=2)C(this,Q,Q+1);return this},h.prototype.swap32=function(){var $=this.length;if($%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var Q=0;Q<$;Q+=4)C(this,Q,Q+3),C(this,Q+1,Q+2);return this},h.prototype.swap64=function(){var $=this.length;if($%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var Q=0;Q<$;Q+=8)C(this,Q,Q+7),C(this,Q+1,Q+6),C(this,Q+2,Q+5),C(this,Q+3,Q+4);return this},h.prototype.toLocaleString=h.prototype.toString=function(){var $=this.length;return $===0?"":arguments.length===0?H(this,0,$):E.apply(this,arguments)},h.prototype.equals=function($){if(h.isBuffer($))return this===$||h.compare(this,$)===0;throw new TypeError("Argument must be a Buffer")},h.prototype.inspect=function(){var $="",Q=y.INSPECT_MAX_BYTES;return $=this.toString("hex",0,Q).replace(/(.{2})/g,"$1 ").trim(),this.length>Q&&($+=" ... "),"<Buffer "+$+">"},x&&(h.prototype[x]=h.prototype.inspect),h.prototype.compare=function($,Q,se,de,ge){if(oe($,Uint8Array)&&($=h.from($,$.offset,$.byteLength)),!h.isBuffer($))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof $);if(se===void 0&&(se=$?$.length:0),de===void 0&&(de=0),ge===void 0&&(ge=this.length),(Q=Q===void 0?0:Q)<0||se>$.length||de<0||ge>this.length)throw new RangeError("out of range index");if(ge<=de&&se<=Q)return 0;if(ge<=de)return-1;if(se<=Q)return 1;if(this===$)return 0;for(var ve=(ge>>>=0)-(de>>>=0),ae=(se>>>=0)-(Q>>>=0),ye=Math.min(ve,ae),Se=this.slice(de,ge),Me=$.slice(Q,se),Ee=0;Ee<ye;++Ee)if(Se[Ee]!==Me[Ee]){ve=Se[Ee],ae=Me[Ee];break}return ve<ae?-1:ae<ve?1:0},h.prototype.includes=function($,Q,se){return this.indexOf($,Q,se)!==-1},h.prototype.indexOf=function($,Q,se){return O(this,$,Q,se,!0)},h.prototype.lastIndexOf=function($,Q,se){return O(this,$,Q,se,!1)},h.prototype.write=function($,Q,se,de){if(Q===void 0)de="utf8",se=this.length,Q=0;else if(se===void 0&&typeof Q=="string")de=Q,se=this.length,Q=0;else{if(!isFinite(Q))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");Q>>>=0,isFinite(se)?(se>>>=0,de===void 0&&(de="utf8")):(de=se,se=void 0)}var ge=this.length-Q;if((se===void 0||ge<se)&&(se=ge),0<$.length&&(se<0||Q<0)||Q>this.length)throw new RangeError("Attempt to write outside buffer bounds");de=de||"utf8";for(var ve,ae,ye,Se=!1;;)switch(de){case"hex":var Me=$,Ee=Q,Te=se,Pe=(Ee=Number(Ee)||0,this.length-Ee);(!Te||Pe<(Te=Number(Te)))&&(Te=Pe),(Pe=Me.length)/2<Te&&(Te=Pe/2);for(var Ke=0;Ke<Te;++Ke){var Ge=parseInt(Me.substr(2*Ke,2),16);if(le(Ge))return Ke;this[Ee+Ke]=Ge}return Ke;case"utf8":case"utf-8":return Pe=Q,ye=se,re(K($,(ae=this).length-Pe),ae,Pe,ye);case"ascii":return N(this,$,Q,se);case"latin1":case"binary":return N(this,$,Q,se);case"base64":return ae=this,ye=Q,ve=se,re(ee($),ae,ye,ve);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return D(this,$,Q,se);default:if(Se)throw new TypeError("Unknown encoding: "+de);de=(""+de).toLowerCase(),Se=!0}},h.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var I=4096;function V($,Q,se){if($%1!=0||$<0)throw new RangeError("offset is not uint");if(se<$+Q)throw new RangeError("Trying to access beyond buffer length")}function G($,Q,se,de,ge,ve){if(!h.isBuffer($))throw new TypeError('"buffer" argument must be a Buffer instance');if(ge<Q||Q<ve)throw new RangeError('"value" argument is out of bounds');if(se+de>$.length)throw new RangeError("Index out of range")}function q($,Q,se,de){if(se+de>$.length)throw new RangeError("Index out of range");if(se<0)throw new RangeError("Index out of range")}function X($,Q,se,de,ge){return Q=+Q,se>>>=0,ge||q($,0,se,4),u.write($,Q,se,de,23,4),se+4}function B($,Q,se,de,ge){return Q=+Q,se>>>=0,ge||q($,0,se,8),u.write($,Q,se,de,52,8),se+8}h.prototype.slice=function($,Q){var se=this.length;return($=~~$)<0?($+=se)<0&&($=0):se<$&&($=se),(Q=Q===void 0?se:~~Q)<0?(Q+=se)<0&&(Q=0):se<Q&&(Q=se),Q<$&&(Q=$),se=this.subarray($,Q),Object.setPrototypeOf(se,h.prototype),se},h.prototype.readUIntLE=function($,Q,se){$>>>=0,Q>>>=0,se||V($,Q,this.length);for(var de=this[$],ge=1,ve=0;++ve<Q&&(ge*=256);)de+=this[$+ve]*ge;return de},h.prototype.readUIntBE=function($,Q,se){$>>>=0,Q>>>=0,se||V($,Q,this.length);for(var de=this[$+--Q],ge=1;0<Q&&(ge*=256);)de+=this[$+--Q]*ge;return de},h.prototype.readUInt8=function($,Q){return $>>>=0,Q||V($,1,this.length),this[$]},h.prototype.readUInt16LE=function($,Q){return $>>>=0,Q||V($,2,this.length),this[$]|this[$+1]<<8},h.prototype.readUInt16BE=function($,Q){return $>>>=0,Q||V($,2,this.length),this[$]<<8|this[$+1]},h.prototype.readUInt32LE=function($,Q){return $>>>=0,Q||V($,4,this.length),(this[$]|this[$+1]<<8|this[$+2]<<16)+16777216*this[$+3]},h.prototype.readUInt32BE=function($,Q){return $>>>=0,Q||V($,4,this.length),16777216*this[$]+(this[$+1]<<16|this[$+2]<<8|this[$+3])},h.prototype.readIntLE=function($,Q,se){$>>>=0,Q>>>=0,se||V($,Q,this.length);for(var de=this[$],ge=1,ve=0;++ve<Q&&(ge*=256);)de+=this[$+ve]*ge;return(ge*=128)<=de&&(de-=Math.pow(2,8*Q)),de},h.prototype.readIntBE=function($,Q,se){$>>>=0,Q>>>=0,se||V($,Q,this.length);for(var de=Q,ge=1,ve=this[$+--de];0<de&&(ge*=256);)ve+=this[$+--de]*ge;return(ge*=128)<=ve&&(ve-=Math.pow(2,8*Q)),ve},h.prototype.readInt8=function($,Q){return $>>>=0,Q||V($,1,this.length),128&this[$]?-1*(255-this[$]+1):this[$]},h.prototype.readInt16LE=function($,Q){return $>>>=0,Q||V($,2,this.length),32768&(Q=this[$]|this[$+1]<<8)?4294901760|Q:Q},h.prototype.readInt16BE=function($,Q){return $>>>=0,Q||V($,2,this.length),32768&(Q=this[$+1]|this[$]<<8)?4294901760|Q:Q},h.prototype.readInt32LE=function($,Q){return $>>>=0,Q||V($,4,this.length),this[$]|this[$+1]<<8|this[$+2]<<16|this[$+3]<<24},h.prototype.readInt32BE=function($,Q){return $>>>=0,Q||V($,4,this.length),this[$]<<24|this[$+1]<<16|this[$+2]<<8|this[$+3]},h.prototype.readFloatLE=function($,Q){return $>>>=0,Q||V($,4,this.length),u.read(this,$,!0,23,4)},h.prototype.readFloatBE=function($,Q){return $>>>=0,Q||V($,4,this.length),u.read(this,$,!1,23,4)},h.prototype.readDoubleLE=function($,Q){return $>>>=0,Q||V($,8,this.length),u.read(this,$,!0,52,8)},h.prototype.readDoubleBE=function($,Q){return $>>>=0,Q||V($,8,this.length),u.read(this,$,!1,52,8)},h.prototype.writeUIntLE=function($,Q,se,de){$=+$,Q>>>=0,se>>>=0,de||G(this,$,Q,se,Math.pow(2,8*se)-1,0);var ge=1,ve=0;for(this[Q]=255&$;++ve<se&&(ge*=256);)this[Q+ve]=$/ge&255;return Q+se},h.prototype.writeUIntBE=function($,Q,se,de){$=+$,Q>>>=0,se>>>=0,de||G(this,$,Q,se,Math.pow(2,8*se)-1,0);var ge=se-1,ve=1;for(this[Q+ge]=255&$;0<=--ge&&(ve*=256);)this[Q+ge]=$/ve&255;return Q+se},h.prototype.writeUInt8=function($,Q,se){return $=+$,Q>>>=0,se||G(this,$,Q,1,255,0),this[Q]=255&$,Q+1},h.prototype.writeUInt16LE=function($,Q,se){return $=+$,Q>>>=0,se||G(this,$,Q,2,65535,0),this[Q]=255&$,this[Q+1]=$>>>8,Q+2},h.prototype.writeUInt16BE=function($,Q,se){return $=+$,Q>>>=0,se||G(this,$,Q,2,65535,0),this[Q]=$>>>8,this[Q+1]=255&$,Q+2},h.prototype.writeUInt32LE=function($,Q,se){return $=+$,Q>>>=0,se||G(this,$,Q,4,4294967295,0),this[Q+3]=$>>>24,this[Q+2]=$>>>16,this[Q+1]=$>>>8,this[Q]=255&$,Q+4},h.prototype.writeUInt32BE=function($,Q,se){return $=+$,Q>>>=0,se||G(this,$,Q,4,4294967295,0),this[Q]=$>>>24,this[Q+1]=$>>>16,this[Q+2]=$>>>8,this[Q+3]=255&$,Q+4},h.prototype.writeIntLE=function($,Q,se,de){$=+$,Q>>>=0,de||G(this,$,Q,se,(de=Math.pow(2,8*se-1))-1,-de);var ge=0,ve=1,ae=0;for(this[Q]=255&$;++ge<se&&(ve*=256);)$<0&&ae===0&&this[Q+ge-1]!==0&&(ae=1),this[Q+ge]=($/ve>>0)-ae&255;return Q+se},h.prototype.writeIntBE=function($,Q,se,de){$=+$,Q>>>=0,de||G(this,$,Q,se,(de=Math.pow(2,8*se-1))-1,-de);var ge=se-1,ve=1,ae=0;for(this[Q+ge]=255&$;0<=--ge&&(ve*=256);)$<0&&ae===0&&this[Q+ge+1]!==0&&(ae=1),this[Q+ge]=($/ve>>0)-ae&255;return Q+se},h.prototype.writeInt8=function($,Q,se){return $=+$,Q>>>=0,se||G(this,$,Q,1,127,-128),this[Q]=255&($=$<0?255+$+1:$),Q+1},h.prototype.writeInt16LE=function($,Q,se){return $=+$,Q>>>=0,se||G(this,$,Q,2,32767,-32768),this[Q]=255&$,this[Q+1]=$>>>8,Q+2},h.prototype.writeInt16BE=function($,Q,se){return $=+$,Q>>>=0,se||G(this,$,Q,2,32767,-32768),this[Q]=$>>>8,this[Q+1]=255&$,Q+2},h.prototype.writeInt32LE=function($,Q,se){return $=+$,Q>>>=0,se||G(this,$,Q,4,2147483647,-2147483648),this[Q]=255&$,this[Q+1]=$>>>8,this[Q+2]=$>>>16,this[Q+3]=$>>>24,Q+4},h.prototype.writeInt32BE=function($,Q,se){return $=+$,Q>>>=0,se||G(this,$,Q,4,2147483647,-2147483648),this[Q]=($=$<0?4294967295+$+1:$)>>>24,this[Q+1]=$>>>16,this[Q+2]=$>>>8,this[Q+3]=255&$,Q+4},h.prototype.writeFloatLE=function($,Q,se){return X(this,$,Q,!0,se)},h.prototype.writeFloatBE=function($,Q,se){return X(this,$,Q,!1,se)},h.prototype.writeDoubleLE=function($,Q,se){return B(this,$,Q,!0,se)},h.prototype.writeDoubleBE=function($,Q,se){return B(this,$,Q,!1,se)},h.prototype.copy=function($,Q,se,de){if(!h.isBuffer($))throw new TypeError("argument should be a Buffer");if(se=se||0,de||de===0||(de=this.length),Q>=$.length&&(Q=$.length),(de=0<de&&de<se?se:de)===se||$.length===0||this.length===0)return 0;if((Q=Q||0)<0)throw new RangeError("targetStart out of bounds");if(se<0||se>=this.length)throw new RangeError("Index out of range");if(de<0)throw new RangeError("sourceEnd out of bounds");de>this.length&&(de=this.length);var ge=(de=$.length-Q<de-se?$.length-Q+se:de)-se;if(this===$&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(Q,se,de);else if(this===$&&se<Q&&Q<de)for(var ve=ge-1;0<=ve;--ve)$[ve+Q]=this[ve+se];else Uint8Array.prototype.set.call($,this.subarray(se,de),Q);return ge},h.prototype.fill=function($,Q,se,de){if(typeof $=="string"){if(typeof Q=="string"?(de=Q,Q=0,se=this.length):typeof se=="string"&&(de=se,se=this.length),de!==void 0&&typeof de!="string")throw new TypeError("encoding must be a string");if(typeof de=="string"&&!h.isEncoding(de))throw new TypeError("Unknown encoding: "+de);var ge;$.length===1&&(ge=$.charCodeAt(0),(de==="utf8"&&ge<128||de==="latin1")&&($=ge))}else typeof $=="number"?$&=255:typeof $=="boolean"&&($=Number($));if(Q<0||this.length<Q||this.length<se)throw new RangeError("Out of range index");var ve;if(!(se<=Q))if(Q>>>=0,se=se===void 0?this.length:se>>>0,typeof($=$||0)=="number")for(ve=Q;ve<se;++ve)this[ve]=$;else{var ae=h.isBuffer($)?$:h.from($,de),ye=ae.length;if(ye===0)throw new TypeError('The value "'+$+'" is invalid for argument "value"');for(ve=0;ve<se-Q;++ve)this[ve+Q]=ae[ve%ye]}return this};var W=/[^+/0-9A-Za-z-_]/g;function K($,Q){Q=Q||1/0;for(var se,de=$.length,ge=null,ve=[],ae=0;ae<de;++ae){if(55295<(se=$.charCodeAt(ae))&&se<57344){if(!ge){if(56319<se){-1<(Q-=3)&&ve.push(239,191,189);continue}if(ae+1===de){-1<(Q-=3)&&ve.push(239,191,189);continue}ge=se;continue}if(se<56320){-1<(Q-=3)&&ve.push(239,191,189),ge=se;continue}se=65536+(ge-55296<<10|se-56320)}else ge&&-1<(Q-=3)&&ve.push(239,191,189);if(ge=null,se<128){if(--Q<0)break;ve.push(se)}else if(se<2048){if((Q-=2)<0)break;ve.push(se>>6|192,63&se|128)}else if(se<65536){if((Q-=3)<0)break;ve.push(se>>12|224,se>>6&63|128,63&se|128)}else{if(!(se<1114112))throw new Error("Invalid code point");if((Q-=4)<0)break;ve.push(se>>18|240,se>>12&63|128,se>>6&63|128,63&se|128)}}return ve}function ee($){return c.toByteArray(function(Q){if((Q=(Q=Q.split("=")[0]).trim().replace(W,"")).length<2)return"";for(;Q.length%4!=0;)Q+="=";return Q}($))}function re($,Q,se,de){for(var ge=0;ge<de&&!(ge+se>=Q.length||ge>=$.length);++ge)Q[ge+se]=$[ge];return ge}function oe($,Q){return $ instanceof Q||$!=null&&$.constructor!=null&&$.constructor.name!=null&&$.constructor.name===Q.name}function le($){return $!=$}var me=function(){for(var $="0123456789abcdef",Q=new Array(256),se=0;se<16;++se)for(var de=16*se,ge=0;ge<16;++ge)Q[de+ge]=$[se]+$[ge];return Q}()}).call(this,t("buffer").Buffer)},{"base64-js":1,buffer:4,ieee754:244}],5:[function(t,A,y){A.exports=function(d){if(typeof d!="function")throw TypeError(String(d)+" is not a function");return d}},{}],6:[function(t,A,y){var d=t("../internals/is-object");A.exports=function(c){if(d(c)||c===null)return c;throw TypeError("Can't set "+String(c)+" as a prototype")}},{"../internals/is-object":74}],7:[function(t,A,y){var d=t("../internals/well-known-symbol"),c=t("../internals/object-create"),u=(t=t("../internals/object-define-property"),d("unscopables")),x=Array.prototype;x[u]==null&&t.f(x,u,{configurable:!0,value:c(null)}),A.exports=function(j){x[u][j]=!0}},{"../internals/object-create":90,"../internals/object-define-property":92,"../internals/well-known-symbol":148}],8:[function(t,A,y){var d=t("../internals/string-multibyte").charAt;A.exports=function(c,u,x){return u+(x?d(c,u).length:1)}},{"../internals/string-multibyte":123}],9:[function(t,A,y){A.exports=function(d,c,u){if(d instanceof c)return d;throw TypeError("Incorrect "+(u?u+" ":"")+"invocation")}},{}],10:[function(t,A,y){var d=t("../internals/is-object");A.exports=function(c){if(d(c))return c;throw TypeError(String(c)+" is not an object")}},{"../internals/is-object":74}],11:[function(t,A,y){A.exports=typeof ArrayBuffer<"u"&&typeof DataView<"u"},{}],12:[function(t,A,y){function d(X){return o(X)&&h(q,f(X))}var c,u=t("../internals/array-buffer-native"),x=t("../internals/descriptors"),j=t("../internals/global"),o=t("../internals/is-object"),h=t("../internals/has"),f=t("../internals/classof"),l=t("../internals/create-non-enumerable-property"),m=t("../internals/redefine"),_=t("../internals/object-define-property").f,w=t("../internals/object-get-prototype-of"),v=t("../internals/object-set-prototype-of"),E=t("../internals/well-known-symbol"),C=(t=t("../internals/uid"),j.Int8Array),O=C&&C.prototype,U=(U=j.Uint8ClampedArray)&&U.prototype,N=C&&w(C),D=O&&w(O),H=Object.prototype,I=H.isPrototypeOf,V=(E=E("toStringTag"),t("TYPED_ARRAY_TAG")),G=u&&!!v&&f(j.opera)!=="Opera",q=(t=!1,{Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8});for(c in q)j[c]||(G=!1);if((!G||typeof N!="function"||N===Function.prototype)&&(N=function(){throw TypeError("Incorrect invocation")},G))for(c in q)j[c]&&v(j[c],N);if((!G||!D||D===H)&&(D=N.prototype,G))for(c in q)j[c]&&v(j[c].prototype,D);if(G&&w(U)!==D&&v(U,D),x&&!h(D,E))for(c in t=!0,_(D,E,{get:function(){return o(this)?this[V]:void 0}}),q)j[c]&&l(j[c],V,c);A.exports={NATIVE_ARRAY_BUFFER_VIEWS:G,TYPED_ARRAY_TAG:t&&V,aTypedArray:function(X){if(d(X))return X;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(X){if(v){if(I.call(N,X))return X}else for(var B in q)if(h(q,c)&&(B=j[B])&&(X===B||I.call(B,X)))return X;throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(X,B,W){if(x){if(W)for(var K in q)(K=j[K])&&h(K.prototype,X)&&delete K.prototype[X];D[X]&&!W||m(D,X,!W&&G&&O[X]||B)}},exportTypedArrayStaticMethod:function(X,B,W){var K,ee;if(x){if(v){if(W)for(K in q)(ee=j[K])&&h(ee,X)&&delete ee[X];if(N[X]&&!W)return;try{return m(N,X,!W&&G&&C[X]||B)}catch{}}for(K in q)!(ee=j[K])||ee[X]&&!W||m(ee,X,B)}},isView:function(X){return(X=f(X))==="DataView"||h(q,X)},isTypedArray:d,TypedArray:N,TypedArrayPrototype:D}},{"../internals/array-buffer-native":11,"../internals/classof":29,"../internals/create-non-enumerable-property":38,"../internals/descriptors":43,"../internals/global":59,"../internals/has":60,"../internals/is-object":74,"../internals/object-define-property":92,"../internals/object-get-prototype-of":97,"../internals/object-set-prototype-of":101,"../internals/redefine":108,"../internals/uid":145,"../internals/well-known-symbol":148}],13:[function(t,A,y){function d(Ee){return[255&Ee]}function c(Ee){return[255&Ee,Ee>>8&255]}function u(Ee){return[255&Ee,Ee>>8&255,Ee>>16&255,Ee>>24&255]}function x(Ee){return Ee[3]<<24|Ee[2]<<16|Ee[1]<<8|Ee[0]}function j(Ee){return ge(Ee,23,4)}function o(Ee){return ge(Ee,52,8)}function h(Ee,Te){q(Ee[oe],Te,{get:function(){return W(this)[Te]}})}function f(Ee,Te,Pe,Ke){if((Pe=D(Pe))+Te>(Ee=W(Ee)).byteLength)throw de(le);var Ge=W(Ee.buffer).bytes;return Pe+=Ee.byteOffset,Ee=Ge.slice(Pe,Pe+Te),Ke?Ee:Ee.reverse()}function l(Ee,Te,Pe,Ke,Ge,et){if((Pe=D(Pe))+Te>(Ee=W(Ee)).byteLength)throw de(le);for(var ft=W(Ee.buffer).bytes,ot=Pe+Ee.byteOffset,Pt=Ke(+Ge),bt=0;bt<Te;bt++)ft[ot+bt]=Pt[et?bt:Te-bt-1]}var m=t("../internals/global"),_=t("../internals/descriptors"),w=t("../internals/array-buffer-native"),v=t("../internals/create-non-enumerable-property"),E=t("../internals/redefine-all"),C=t("../internals/fails"),O=t("../internals/an-instance"),U=t("../internals/to-integer"),N=t("../internals/to-length"),D=t("../internals/to-index"),H=t("../internals/ieee754"),I=t("../internals/object-get-prototype-of"),V=t("../internals/object-set-prototype-of"),G=t("../internals/object-get-own-property-names").f,q=t("../internals/object-define-property").f,X=t("../internals/array-fill"),B=t("../internals/set-to-string-tag"),W=(t=t("../internals/internal-state")).get,K=t.set,ee="ArrayBuffer",re="DataView",oe="prototype",le="Wrong index",me=m[ee],$=me,Q=m[re],se=(t=Q&&Q[oe],Object.prototype),de=m.RangeError,ge=H.pack,ve=H.unpack;if(w){if(!C(function(){me(1)})||!C(function(){new me(-1)})||C(function(){return new me,new me(1.5),new me(NaN),me.name!=ee})){m=($=function(Ee){return O(this,$),new me(D(Ee))})[oe]=me[oe];for(var ae,ye=G(me),Se=0;ye.length>Se;)(ae=ye[Se++])in $||v($,ae,me[ae]);m.constructor=$}V&&I(t)!==se&&V(t,se),H=new Q(new $(2));var Me=t.setInt8;H.setInt8(0,2147483648),H.setInt8(1,2147483649),!H.getInt8(0)&&H.getInt8(1)||E(t,{setInt8:function(Ee,Te){Me.call(this,Ee,Te<<24>>24)},setUint8:function(Ee,Te){Me.call(this,Ee,Te<<24>>24)}},{unsafe:!0})}else $=function(Ee){O(this,$,ee),Ee=D(Ee),K(this,{bytes:X.call(new Array(Ee),0),byteLength:Ee}),_||(this.byteLength=Ee)},Q=function(Ee,Te,Pe){O(this,Q,re),O(Ee,$,re);var Ke=W(Ee).byteLength;if((Te=U(Te))<0||Ke<Te)throw de("Wrong offset");if(Ke<Te+(Pe=Pe===void 0?Ke-Te:N(Pe)))throw de("Wrong length");K(this,{buffer:Ee,byteLength:Pe,byteOffset:Te}),_||(this.buffer=Ee,this.byteLength=Pe,this.byteOffset=Te)},_&&(h($,"byteLength"),h(Q,"buffer"),h(Q,"byteLength"),h(Q,"byteOffset")),E(Q[oe],{getInt8:function(Ee){return f(this,1,Ee)[0]<<24>>24},getUint8:function(Ee){return f(this,1,Ee)[0]},getInt16:function(Ee){return((Ee=f(this,2,Ee,1<arguments.length?arguments[1]:void 0))[1]<<8|Ee[0])<<16>>16},getUint16:function(Ee){return(Ee=f(this,2,Ee,1<arguments.length?arguments[1]:void 0))[1]<<8|Ee[0]},getInt32:function(Ee){return x(f(this,4,Ee,1<arguments.length?arguments[1]:void 0))},getUint32:function(Ee){return x(f(this,4,Ee,1<arguments.length?arguments[1]:void 0))>>>0},getFloat32:function(Ee){return ve(f(this,4,Ee,1<arguments.length?arguments[1]:void 0),23)},getFloat64:function(Ee){return ve(f(this,8,Ee,1<arguments.length?arguments[1]:void 0),52)},setInt8:function(Ee,Te){l(this,1,Ee,d,Te)},setUint8:function(Ee,Te){l(this,1,Ee,d,Te)},setInt16:function(Ee,Te){l(this,2,Ee,c,Te,2<arguments.length?arguments[2]:void 0)},setUint16:function(Ee,Te){l(this,2,Ee,c,Te,2<arguments.length?arguments[2]:void 0)},setInt32:function(Ee,Te){l(this,4,Ee,u,Te,2<arguments.length?arguments[2]:void 0)},setUint32:function(Ee,Te){l(this,4,Ee,u,Te,2<arguments.length?arguments[2]:void 0)},setFloat32:function(Ee,Te){l(this,4,Ee,j,Te,2<arguments.length?arguments[2]:void 0)},setFloat64:function(Ee,Te){l(this,8,Ee,o,Te,2<arguments.length?arguments[2]:void 0)}});B($,ee),B(Q,re),A.exports={ArrayBuffer:$,DataView:Q}},{"../internals/an-instance":9,"../internals/array-buffer-native":11,"../internals/array-fill":15,"../internals/create-non-enumerable-property":38,"../internals/descriptors":43,"../internals/fails":51,"../internals/global":59,"../internals/ieee754":65,"../internals/internal-state":70,"../internals/object-define-property":92,"../internals/object-get-own-property-names":95,"../internals/object-get-prototype-of":97,"../internals/object-set-prototype-of":101,"../internals/redefine-all":107,"../internals/set-to-string-tag":117,"../internals/to-index":133,"../internals/to-integer":135,"../internals/to-length":136}],14:[function(t,A,y){var d=t("../internals/to-object"),c=t("../internals/to-absolute-index"),u=t("../internals/to-length"),x=Math.min;A.exports=[].copyWithin||function(j,o){var h=d(this),f=u(h.length),l=c(j,f),m=c(o,f),_=x(((j=2<arguments.length?arguments[2]:void 0)===void 0?f:c(j,f))-m,f-l),w=1;for(m<l&&l<m+_&&(w=-1,m+=_-1,l+=_-1);0<_--;)m in h?h[l]=h[m]:delete h[l],l+=w,m+=w;return h}},{"../internals/to-absolute-index":132,"../internals/to-length":136,"../internals/to-object":137}],15:[function(t,A,y){var d=t("../internals/to-object"),c=t("../internals/to-absolute-index"),u=t("../internals/to-length");A.exports=function(x){for(var j,o=d(this),h=u(o.length),f=c(1<(j=arguments.length)?arguments[1]:void 0,h),l=(j=2<j?arguments[2]:void 0)===void 0?h:c(j,h);f<l;)o[f++]=x;return o}},{"../internals/to-absolute-index":132,"../internals/to-length":136,"../internals/to-object":137}],16:[function(t,A,y){var d=t("../internals/array-iteration").forEach,c=t("../internals/array-method-is-strict");t=t("../internals/array-method-uses-to-length"),c=c("forEach"),t=t("forEach"),A.exports=c&&t?[].forEach:function(u){return d(this,u,1<arguments.length?arguments[1]:void 0)}},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23}],17:[function(t,A,y){var d=t("../internals/function-bind-context"),c=t("../internals/to-object"),u=t("../internals/call-with-safe-iteration-closing"),x=t("../internals/is-array-iterator-method"),j=t("../internals/to-length"),o=t("../internals/create-property"),h=t("../internals/get-iterator-method");A.exports=function(f){var l,m,_,w,v,E,C=c(f),O=(f=typeof this=="function"?this:Array,arguments.length),U=1<O?arguments[1]:void 0,N=U!==void 0,D=h(C),H=0;if(N&&(U=d(U,2<O?arguments[2]:void 0,2)),D==null||f==Array&&x(D))for(m=new f(l=j(C.length));H<l;H++)E=N?U(C[H],H):C[H],o(m,H,E);else for(v=(w=D.call(C)).next,m=new f;!(_=v.call(w)).done;H++)E=N?u(w,U,[_.value,H],!0):_.value,o(m,H,E);return m.length=H,m}},{"../internals/call-with-safe-iteration-closing":26,"../internals/create-property":40,"../internals/function-bind-context":54,"../internals/get-iterator-method":57,"../internals/is-array-iterator-method":71,"../internals/to-length":136,"../internals/to-object":137}],18:[function(t,A,y){function d(j){return function(o,h,f){var l,m=c(o),_=u(m.length),w=x(f,_);if(j&&h!=h){for(;w<_;)if((l=m[w++])!=l)return!0}else for(;w<_;w++)if((j||w in m)&&m[w]===h)return j||w||0;return!j&&-1}}var c=t("../internals/to-indexed-object"),u=t("../internals/to-length"),x=t("../internals/to-absolute-index");A.exports={includes:d(!0),indexOf:d(!1)}},{"../internals/to-absolute-index":132,"../internals/to-indexed-object":134,"../internals/to-length":136}],19:[function(t,A,y){function d(f){var l=f==1,m=f==2,_=f==3,w=f==4,v=f==6,E=f==5||v;return function(C,O,U,N){for(var D,H,I=x(C),V=u(I),G=c(O,U,3),q=j(V.length),X=0,B=(O=N||o,l?O(C,q):m?O(C,0):void 0);X<q;X++)if((E||X in V)&&(H=G(D=V[X],X,I),f)){if(l)B[X]=H;else if(H)switch(f){case 3:return!0;case 5:return D;case 6:return X;case 2:h.call(B,D)}else if(w)return!1}return v?-1:_||w?w:B}}var c=t("../internals/function-bind-context"),u=t("../internals/indexed-object"),x=t("../internals/to-object"),j=t("../internals/to-length"),o=t("../internals/array-species-create"),h=[].push;A.exports={forEach:d(0),map:d(1),filter:d(2),some:d(3),every:d(4),find:d(5),findIndex:d(6)}},{"../internals/array-species-create":25,"../internals/function-bind-context":54,"../internals/indexed-object":66,"../internals/to-length":136,"../internals/to-object":137}],20:[function(t,A,y){var d=t("../internals/to-indexed-object"),c=t("../internals/to-integer"),u=t("../internals/to-length"),x=t("../internals/array-method-is-strict"),j=(t=t("../internals/array-method-uses-to-length"),Math.min),o=[].lastIndexOf,h=!!o&&1/[1].lastIndexOf(1,-0)<0;x=x("lastIndexOf"),t=t("indexOf",{ACCESSORS:!0,1:0}),A.exports=!h&&x&&t?o:function(f){if(h)return o.apply(this,arguments)||0;var l=d(this),m=u(l.length),_=m-1;for((_=1<arguments.length?j(_,c(arguments[1])):_)<0&&(_=m+_);0<=_;_--)if(_ in l&&l[_]===f)return _||0;return-1}},{"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/to-indexed-object":134,"../internals/to-integer":135,"../internals/to-length":136}],21:[function(t,A,y){var d=t("../internals/fails"),c=t("../internals/well-known-symbol"),u=t("../internals/engine-v8-version"),x=c("species");A.exports=function(j){return 51<=u||!d(function(){var o=[];return(o.constructor={})[x]=function(){return{foo:1}},o[j](Boolean).foo!==1})}},{"../internals/engine-v8-version":48,"../internals/fails":51,"../internals/well-known-symbol":148}],22:[function(t,A,y){var d=t("../internals/fails");A.exports=function(c,u){var x=[][c];return!!x&&d(function(){x.call(null,u||function(){throw 1},1)})}},{"../internals/fails":51}],23:[function(t,A,y){function d(h){throw h}var c=t("../internals/descriptors"),u=t("../internals/fails"),x=t("../internals/has"),j=Object.defineProperty,o={};A.exports=function(h,f){var l,m,_,w;return x(o,h)?o[h]:(l=[][h],m=!!x(f=f||{},"ACCESSORS")&&f.ACCESSORS,_=x(f,0)?f[0]:d,w=x(f,1)?f[1]:void 0,o[h]=!!l&&!u(function(){if(m&&!c)return!0;var v={length:-1};m?j(v,1,{enumerable:!0,get:d}):v[1]=1,l.call(v,_,w)}))}},{"../internals/descriptors":43,"../internals/fails":51,"../internals/has":60}],24:[function(t,A,y){function d(o){return function(h,f,l,m){c(f);var _=u(h),w=x(_),v=j(_.length),E=o?v-1:0,C=o?-1:1;if(l<2)for(;;){if(E in w){m=w[E],E+=C;break}if(E+=C,o?E<0:v<=E)throw TypeError("Reduce of empty array with no initial value")}for(;o?0<=E:E<v;E+=C)E in w&&(m=f(m,w[E],E,_));return m}}var c=t("../internals/a-function"),u=t("../internals/to-object"),x=t("../internals/indexed-object"),j=t("../internals/to-length");A.exports={left:d(!1),right:d(!0)}},{"../internals/a-function":5,"../internals/indexed-object":66,"../internals/to-length":136,"../internals/to-object":137}],25:[function(t,A,y){var d=t("../internals/is-object"),c=t("../internals/is-array"),u=t("../internals/well-known-symbol")("species");A.exports=function(x,j){var o;return new((o=c(x)&&(typeof(o=x.constructor)=="function"&&(o===Array||c(o.prototype))||d(o)&&(o=o[u])===null)?void 0:o)===void 0?Array:o)(j===0?0:j)}},{"../internals/is-array":72,"../internals/is-object":74,"../internals/well-known-symbol":148}],26:[function(t,A,y){var d=t("../internals/an-object");A.exports=function(c,u,x,j){try{return j?u(d(x)[0],x[1]):u(x)}catch(o){throw(j=c.return)!==void 0&&d(j.call(c)),o}}},{"../internals/an-object":10}],27:[function(t,A,y){var d=t("../internals/well-known-symbol")("iterator"),c=!1;try{var u=0,x={next:function(){return{done:!!u++}},return:function(){c=!0}};x[d]=function(){return this},Array.from(x,function(){throw 2})}catch{}A.exports=function(j,o){if(!o&&!c)return!1;var h=!1;try{var f={};f[d]=function(){return{next:function(){return{done:h=!0}}}},j(f)}catch{}return h}},{"../internals/well-known-symbol":148}],28:[function(t,A,y){var d={}.toString;A.exports=function(c){return d.call(c).slice(8,-1)}},{}],29:[function(t,A,y){var d=t("../internals/to-string-tag-support"),c=t("../internals/classof-raw"),u=t("../internals/well-known-symbol")("toStringTag"),x=c(function(){return arguments}())=="Arguments";A.exports=d?c:function(j){var o;return j===void 0?"Undefined":j===null?"Null":typeof(o=function(h,f){try{return h[f]}catch{}}(j=Object(j),u))=="string"?o:x?c(j):(o=c(j))=="Object"&&typeof j.callee=="function"?"Arguments":o}},{"../internals/classof-raw":28,"../internals/to-string-tag-support":141,"../internals/well-known-symbol":148}],30:[function(t,A,y){var d=t("../internals/object-define-property").f,c=t("../internals/object-create"),u=t("../internals/redefine-all"),x=t("../internals/function-bind-context"),j=t("../internals/an-instance"),o=t("../internals/iterate"),h=t("../internals/define-iterator"),f=t("../internals/set-species"),l=t("../internals/descriptors"),m=t("../internals/internal-metadata").fastKey,_=(t=t("../internals/internal-state")).set,w=t.getterFor;A.exports={getConstructor:function(v,E,C,O){function U(I,V,G){var q,X=H(I),B=N(I,V);return B?B.value=G:(X.last=B={index:q=m(V,!0),key:V,value:G,previous:V=X.last,next:void 0,removed:!1},X.first||(X.first=B),V&&(V.next=B),l?X.size++:I.size++,q!=="F"&&(X.index[q]=B)),I}function N(I,V){I=H(I);var G,q=m(V);if(q!=="F")return I.index[q];for(G=I.first;G;G=G.next)if(G.key==V)return G}var D=v(function(I,V){j(I,D,E),_(I,{type:E,index:c(null),first:void 0,last:void 0,size:0}),l||(I.size=0),V!=null&&o(V,I[O],I,C)}),H=w(E);return u(D.prototype,{clear:function(){for(var I=H(this),V=I.index,G=I.first;G;)G.removed=!0,G.previous&&(G.previous=G.previous.next=void 0),delete V[G.index],G=G.next;I.first=I.last=void 0,l?I.size=0:this.size=0},delete:function(I){var V,G,q=H(this);return(I=N(this,I))&&(V=I.next,G=I.previous,delete q.index[I.index],I.removed=!0,G&&(G.next=V),V&&(V.previous=G),q.first==I&&(q.first=V),q.last==I&&(q.last=G),l?q.size--:this.size--),!!I},forEach:function(I){for(var V,G=H(this),q=x(I,1<arguments.length?arguments[1]:void 0,3);V=V?V.next:G.first;)for(q(V.value,V.key,this);V&&V.removed;)V=V.previous},has:function(I){return!!N(this,I)}}),u(D.prototype,C?{get:function(I){return(I=N(this,I))&&I.value},set:function(I,V){return U(this,I===0?0:I,V)}}:{add:function(I){return U(this,I=I===0?0:I,I)}}),l&&d(D.prototype,"size",{get:function(){return H(this).size}}),D},setStrong:function(v,E,C){var O=E+" Iterator",U=w(E),N=w(O);h(v,E,function(D,H){_(this,{type:O,target:D,state:U(D),kind:H,last:void 0})},function(){for(var D=N(this),H=D.kind,I=D.last;I&&I.removed;)I=I.previous;return D.target&&(D.last=I=I?I.next:D.state.first)?H=="keys"?{value:I.key,done:!1}:H=="values"?{value:I.value,done:!1}:{value:[I.key,I.value],done:!1}:{value:D.target=void 0,done:!0}},C?"entries":"values",!C,!0),f(E)}}},{"../internals/an-instance":9,"../internals/define-iterator":41,"../internals/descriptors":43,"../internals/function-bind-context":54,"../internals/internal-metadata":69,"../internals/internal-state":70,"../internals/iterate":77,"../internals/object-create":90,"../internals/object-define-property":92,"../internals/redefine-all":107,"../internals/set-species":116}],31:[function(t,A,y){function d(U){return U.frozen||(U.frozen=new c)}function c(){this.entries=[]}function u(U,N){return E(U.entries,function(D){return D[0]===N})}var x=t("../internals/redefine-all"),j=t("../internals/internal-metadata").getWeakData,o=t("../internals/an-object"),h=t("../internals/is-object"),f=t("../internals/an-instance"),l=t("../internals/iterate"),m=t("../internals/array-iteration"),_=t("../internals/has"),w=(t=t("../internals/internal-state")).set,v=t.getterFor,E=m.find,C=m.findIndex,O=0;c.prototype={get:function(U){if(U=u(this,U))return U[1]},has:function(U){return!!u(this,U)},set:function(U,N){var D=u(this,U);D?D[1]=N:this.entries.push([U,N])},delete:function(U){var N=C(this.entries,function(D){return D[0]===U});return~N&&this.entries.splice(N,1),!!~N}},A.exports={getConstructor:function(U,N,D,H){function I(q,X,B){var W=G(q),K=j(o(X),!0);return K===!0?d(W).set(X,B):K[W.id]=B,q}var V=U(function(q,X){f(q,V,N),w(q,{type:N,id:O++,frozen:void 0}),X!=null&&l(X,q[H],q,D)}),G=v(N);return x(V.prototype,{delete:function(q){var X,B=G(this);return!!h(q)&&((X=j(q))===!0?d(B).delete(q):X&&_(X,B.id)&&delete X[B.id])},has:function(q){var X,B=G(this);return!!h(q)&&((X=j(q))===!0?d(B).has(q):X&&_(X,B.id))}}),x(V.prototype,D?{get:function(q){var X,B=G(this);if(h(q))return(X=j(q))===!0?d(B).get(q):X?X[B.id]:void 0},set:function(q,X){return I(this,q,X)}}:{add:function(q){return I(this,q,!0)}}),V}}},{"../internals/an-instance":9,"../internals/an-object":10,"../internals/array-iteration":19,"../internals/has":60,"../internals/internal-metadata":69,"../internals/internal-state":70,"../internals/is-object":74,"../internals/iterate":77,"../internals/redefine-all":107}],32:[function(t,A,y){var d=t("../internals/export"),c=t("../internals/global"),u=t("../internals/is-forced"),x=t("../internals/redefine"),j=t("../internals/internal-metadata"),o=t("../internals/iterate"),h=t("../internals/an-instance"),f=t("../internals/is-object"),l=t("../internals/fails"),m=t("../internals/check-correctness-of-iteration"),_=t("../internals/set-to-string-tag"),w=t("../internals/inherit-if-required");A.exports=function(v,E,C){function O(ee){var re=B[ee];x(B,ee,ee=="add"?function(oe){return re.call(this,oe===0?0:oe),this}:ee=="delete"?function(oe){return!(G&&!f(oe))&&re.call(this,oe===0?0:oe)}:ee=="get"?function(oe){return G&&!f(oe)?void 0:re.call(this,oe===0?0:oe)}:ee=="has"?function(oe){return!(G&&!f(oe))&&re.call(this,oe===0?0:oe)}:function(oe,le){return re.call(this,oe===0?0:oe,le),this})}var U,N,D,H,I,V=v.indexOf("Map")!==-1,G=v.indexOf("Weak")!==-1,q=V?"set":"add",X=c[v],B=X&&X.prototype,W=X,K={};return u(v,typeof X!="function"||!(G||B.forEach&&!l(function(){new X().entries().next()})))?(W=C.getConstructor(E,v,V,q),j.REQUIRED=!0):u(v,!0)&&(N=(U=new W)[q](G?{}:-0,1)!=U,D=l(function(){U.has(1)}),H=m(function(ee){new X(ee)}),I=!G&&l(function(){for(var ee=new X,re=5;re--;)ee[q](re,re);return!ee.has(-0)}),H||(((W=E(function(ee,re){return h(ee,W,v),ee=w(new X,ee,W),re!=null&&o(re,ee[q],ee,V),ee})).prototype=B).constructor=W),(D||I)&&(O("delete"),O("has"),V&&O("get")),(I||N)&&O(q),G&&B.clear&&delete B.clear),K[v]=W,d({global:!0,forced:W!=X},K),_(W,v),G||C.setStrong(W,v,V),W}},{"../internals/an-instance":9,"../internals/check-correctness-of-iteration":27,"../internals/export":50,"../internals/fails":51,"../internals/global":59,"../internals/inherit-if-required":67,"../internals/internal-metadata":69,"../internals/is-forced":73,"../internals/is-object":74,"../internals/iterate":77,"../internals/redefine":108,"../internals/set-to-string-tag":117}],33:[function(t,A,y){var d=t("../internals/has"),c=t("../internals/own-keys"),u=t("../internals/object-get-own-property-descriptor"),x=t("../internals/object-define-property");A.exports=function(j,o){for(var h=c(o),f=x.f,l=u.f,m=0;m<h.length;m++){var _=h[m];d(j,_)||f(j,_,l(o,_))}}},{"../internals/has":60,"../internals/object-define-property":92,"../internals/object-get-own-property-descriptor":93,"../internals/own-keys":103}],34:[function(t,A,y){var d=t("../internals/well-known-symbol")("match");A.exports=function(c){var u=/./;try{"/./"[c](u)}catch{try{return u[d]=!1,"/./"[c](u)}catch{}}return!1}},{"../internals/well-known-symbol":148}],35:[function(t,A,y){t=t("../internals/fails"),A.exports=!t(function(){function d(){}return d.prototype.constructor=null,Object.getPrototypeOf(new d)!==d.prototype})},{"../internals/fails":51}],36:[function(t,A,y){var d=t("../internals/require-object-coercible"),c=/"/g;A.exports=function(u,x,j,o){u=String(d(u));var h="<"+x;return j!==""&&(h+=" "+j+'="'+String(o).replace(c,"&quot;")+'"'),h+">"+u+"</"+x+">"}},{"../internals/require-object-coercible":113}],37:[function(t,A,y){function d(){return this}var c=t("../internals/iterators-core").IteratorPrototype,u=t("../internals/object-create"),x=t("../internals/create-property-descriptor"),j=t("../internals/set-to-string-tag"),o=t("../internals/iterators");A.exports=function(h,f,l){return f+=" Iterator",h.prototype=u(c,{next:x(1,l)}),j(h,f,!1,!0),o[f]=d,h}},{"../internals/create-property-descriptor":39,"../internals/iterators":79,"../internals/iterators-core":78,"../internals/object-create":90,"../internals/set-to-string-tag":117}],38:[function(t,A,y){var d=t("../internals/descriptors"),c=t("../internals/object-define-property"),u=t("../internals/create-property-descriptor");A.exports=d?function(x,j,o){return c.f(x,j,u(1,o))}:function(x,j,o){return x[j]=o,x}},{"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/object-define-property":92}],39:[function(t,A,y){A.exports=function(d,c){return{enumerable:!(1&d),configurable:!(2&d),writable:!(4&d),value:c}}},{}],40:[function(t,A,y){var d=t("../internals/to-primitive"),c=t("../internals/object-define-property"),u=t("../internals/create-property-descriptor");A.exports=function(x,j,o){(j=d(j))in x?c.f(x,j,u(0,o)):x[j]=o}},{"../internals/create-property-descriptor":39,"../internals/object-define-property":92,"../internals/to-primitive":140}],41:[function(t,A,y){function d(){return this}var c=t("../internals/export"),u=t("../internals/create-iterator-constructor"),x=t("../internals/object-get-prototype-of"),j=t("../internals/object-set-prototype-of"),o=t("../internals/set-to-string-tag"),h=t("../internals/create-non-enumerable-property"),f=t("../internals/redefine"),l=t("../internals/well-known-symbol"),m=t("../internals/is-pure"),_=t("../internals/iterators"),w=(t=t("../internals/iterators-core")).IteratorPrototype,v=t.BUGGY_SAFARI_ITERATORS,E=l("iterator"),C="values",O="entries";A.exports=function(U,N,D,H,I,V,G){function q(le){if(le===I&&re)return re;if(!v&&le in K)return K[le];switch(le){case"keys":case C:case O:return function(){return new D(this,le)}}return function(){return new D(this)}}u(D,N,H),H=N+" Iterator";var X,B,W=!1,K=U.prototype,ee=K[E]||K["@@iterator"]||I&&K[I],re=!v&&ee||q(I),oe=N=="Array"&&K.entries||ee;if(oe&&(oe=x(oe.call(new U)),w!==Object.prototype&&oe.next&&(m||x(oe)===w||(j?j(oe,w):typeof oe[E]!="function"&&h(oe,E,d)),o(oe,H,!0,!0),m&&(_[H]=d))),I==C&&ee&&ee.name!==C&&(W=!0,re=function(){return ee.call(this)}),m&&!G||K[E]===re||h(K,E,re),_[N]=re,I)if(X={values:q(C),keys:V?re:q("keys"),entries:q(O)},G)for(B in X)!v&&!W&&B in K||f(K,B,X[B]);else c({target:N,proto:!0,forced:v||W},X);return X}},{"../internals/create-iterator-constructor":37,"../internals/create-non-enumerable-property":38,"../internals/export":50,"../internals/is-pure":75,"../internals/iterators":79,"../internals/iterators-core":78,"../internals/object-get-prototype-of":97,"../internals/object-set-prototype-of":101,"../internals/redefine":108,"../internals/set-to-string-tag":117,"../internals/well-known-symbol":148}],42:[function(t,A,y){var d=t("../internals/path"),c=t("../internals/has"),u=t("../internals/well-known-symbol-wrapped"),x=t("../internals/object-define-property").f;A.exports=function(j){var o=d.Symbol||(d.Symbol={});c(o,j)||x(o,j,{value:u.f(j)})}},{"../internals/has":60,"../internals/object-define-property":92,"../internals/path":104,"../internals/well-known-symbol-wrapped":147}],43:[function(t,A,y){t=t("../internals/fails"),A.exports=!t(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},{"../internals/fails":51}],44:[function(t,A,y){var d=t("../internals/global"),c=(t=t("../internals/is-object"),d.document),u=t(c)&&t(c.createElement);A.exports=function(x){return u?c.createElement(x):{}}},{"../internals/global":59,"../internals/is-object":74}],45:[function(t,A,y){A.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},{}],46:[function(t,A,y){t=t("../internals/engine-user-agent"),A.exports=/(iphone|ipod|ipad).*applewebkit/i.test(t)},{"../internals/engine-user-agent":47}],47:[function(t,A,y){t=t("../internals/get-built-in"),A.exports=t("navigator","userAgent")||""},{"../internals/get-built-in":56}],48:[function(t,A,y){var d,c,u=t("../internals/global");t=t("../internals/engine-user-agent"),(u=(u=(u=u.process)&&u.versions)&&u.v8)?c=(d=u.split("."))[0]+d[1]:t&&(!(d=t.match(/Edge\/(\d+)/))||74<=d[1])&&(d=t.match(/Chrome\/(\d+)/))&&(c=d[1]),A.exports=c&&+c},{"../internals/engine-user-agent":47,"../internals/global":59}],49:[function(t,A,y){A.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],50:[function(t,A,y){var d=t("../internals/global"),c=t("../internals/object-get-own-property-descriptor").f,u=t("../internals/create-non-enumerable-property"),x=t("../internals/redefine"),j=t("../internals/set-global"),o=t("../internals/copy-constructor-properties"),h=t("../internals/is-forced");A.exports=function(f,l){var m,_,w,v=f.target,E=f.global,C=f.stat,O=E?d:C?d[v]||j(v,{}):(d[v]||{}).prototype;if(O)for(m in l){if(_=l[m],w=f.noTargetGet?(w=c(O,m))&&w.value:O[m],!h(E?m:v+(C?".":"#")+m,f.forced)&&w!==void 0){if(typeof _==typeof w)continue;o(_,w)}(f.sham||w&&w.sham)&&u(_,"sham",!0),x(O,m,_,f)}}},{"../internals/copy-constructor-properties":33,"../internals/create-non-enumerable-property":38,"../internals/global":59,"../internals/is-forced":73,"../internals/object-get-own-property-descriptor":93,"../internals/redefine":108,"../internals/set-global":115}],51:[function(t,A,y){A.exports=function(d){try{return!!d()}catch{return!0}}},{}],52:[function(t,A,y){t("../modules/es.regexp.exec");var d=t("../internals/redefine"),c=t("../internals/fails"),u=t("../internals/well-known-symbol"),x=t("../internals/regexp-exec"),j=t("../internals/create-non-enumerable-property"),o=u("species"),h=!c(function(){var _=/./;return _.exec=function(){var w=[];return w.groups={a:"7"},w},"".replace(_,"$<a>")!=="7"}),f="a".replace(/./,"$0")==="$0",l=!!/./[t=u("replace")]&&/./[t]("a","$0")==="",m=!c(function(){var _,w=(_=/(?:)/).exec;return(_=(_.exec=function(){return w.apply(this,arguments)},"ab".split(_))).length!==2||_[0]!=="a"||_[1]!=="b"});A.exports=function(_,w,v,E){var C,O,U=u(_),N=!c(function(){var H={};return H[U]=function(){return 7},""[_](H)!=7}),D=N&&!c(function(){var H=!1,I=/a/;return _==="split"&&((I={constructor:{}}).constructor[o]=function(){return I},I.flags="",I[U]=/./[U]),I.exec=function(){return H=!0,null},I[U](""),!H});N&&D&&(_!=="replace"||h&&f&&!l)&&(_!=="split"||m)||(C=/./[U],v=(D=v(U,""[_],function(H,I,V,G,q){return I.exec===x?N&&!q?{done:!0,value:C.call(I,V,G)}:{done:!0,value:H.call(V,I,G)}:{done:!1}},{REPLACE_KEEPS_$0:f,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:l}))[0],O=D[1],d(String.prototype,_,v),d(RegExp.prototype,U,w==2?function(H,I){return O.call(H,this,I)}:function(H){return O.call(H,this)})),E&&j(RegExp.prototype[U],"sham",!0)}},{"../internals/create-non-enumerable-property":38,"../internals/fails":51,"../internals/redefine":108,"../internals/regexp-exec":110,"../internals/well-known-symbol":148,"../modules/es.regexp.exec":185}],53:[function(t,A,y){t=t("../internals/fails"),A.exports=!t(function(){return Object.isExtensible(Object.preventExtensions({}))})},{"../internals/fails":51}],54:[function(t,A,y){var d=t("../internals/a-function");A.exports=function(c,u,x){if(d(c),u===void 0)return c;switch(x){case 0:return function(){return c.call(u)};case 1:return function(j){return c.call(u,j)};case 2:return function(j,o){return c.call(u,j,o)};case 3:return function(j,o,h){return c.call(u,j,o,h)}}return function(){return c.apply(u,arguments)}}},{"../internals/a-function":5}],55:[function(t,A,y){var d=t("../internals/a-function"),c=t("../internals/is-object"),u=[].slice,x={};A.exports=Function.bind||function(j){var o=d(this),h=u.call(arguments,1),f=function(){var l=h.concat(u.call(arguments));if(this instanceof f){var m=o,_=l.length,w=l;if(!(_ in x)){for(var v=[],E=0;E<_;E++)v[E]="a["+E+"]";x[_]=Function("C,a","return new C("+v.join(",")+")")}return x[_](m,w)}return o.apply(j,l)};return c(o.prototype)&&(f.prototype=o.prototype),f}},{"../internals/a-function":5,"../internals/is-object":74}],56:[function(t,A,y){function d(x){return typeof x=="function"?x:void 0}var c=t("../internals/path"),u=t("../internals/global");A.exports=function(x,j){return arguments.length<2?d(c[x])||d(u[x]):c[x]&&c[x][j]||u[x]&&u[x][j]}},{"../internals/global":59,"../internals/path":104}],57:[function(t,A,y){var d=t("../internals/classof"),c=t("../internals/iterators"),u=t("../internals/well-known-symbol")("iterator");A.exports=function(x){if(x!=null)return x[u]||x["@@iterator"]||c[d(x)]}},{"../internals/classof":29,"../internals/iterators":79,"../internals/well-known-symbol":148}],58:[function(t,A,y){var d=t("../internals/an-object"),c=t("../internals/get-iterator-method");A.exports=function(u){var x=c(u);if(typeof x!="function")throw TypeError(String(u)+" is not iterable");return d(x.call(u))}},{"../internals/an-object":10,"../internals/get-iterator-method":57}],59:[function(t,A,y){(function(d){function c(u){return u&&u.Math==Math&&u}A.exports=c(typeof globalThis=="object"&&globalThis)||c(typeof window=="object"&&window)||c(typeof self=="object"&&self)||c(typeof d=="object"&&d)||Function("return this")()}).call(this,M!==void 0?M:typeof self<"u"?self:typeof window<"u"?window:{})},{}],60:[function(t,A,y){var d={}.hasOwnProperty;A.exports=function(c,u){return d.call(c,u)}},{}],61:[function(t,A,y){A.exports={}},{}],62:[function(t,A,y){var d=t("../internals/global");A.exports=function(c,u){var x=d.console;x&&x.error&&(arguments.length===1?x.error(c):x.error(c,u))}},{"../internals/global":59}],63:[function(t,A,y){t=t("../internals/get-built-in"),A.exports=t("document","documentElement")},{"../internals/get-built-in":56}],64:[function(t,A,y){var d=t("../internals/descriptors"),c=t("../internals/fails"),u=t("../internals/document-create-element");A.exports=!d&&!c(function(){return Object.defineProperty(u("div"),"a",{get:function(){return 7}}).a!=7})},{"../internals/descriptors":43,"../internals/document-create-element":44,"../internals/fails":51}],65:[function(t,A,y){var d=Math.abs,c=Math.pow,u=Math.floor,x=Math.log,j=Math.LN2;A.exports={pack:function(o,h,f){var l,m,_,w=new Array(f),v=8*f-h-1,E=(f=(1<<v)-1)>>1,C=h===23?c(2,-24)-c(2,-77):0,O=o<0||o===0&&1/o<0?1:0,U=0;for((o=d(o))!=o||o===1/0?(m=o!=o?1:0,l=f):(l=u(x(o)/j),o*(_=c(2,-l))<1&&(l--,_*=2),2<=(o+=1<=l+E?C/_:C*c(2,1-E))*_&&(l++,_/=2),f<=l+E?(m=0,l=f):1<=l+E?(m=(o*_-1)*c(2,h),l+=E):(m=o*c(2,E-1)*c(2,h),l=0));8<=h;w[U++]=255&m,m/=256,h-=8);for(l=l<<h|m,v+=h;0<v;w[U++]=255&l,l/=256,v-=8);return w[--U]|=128*O,w},unpack:function(o,h){var f,l,m=o.length,_=(1<<(l=8*m-h-1))-1,w=_>>1,v=l-7,E=m-1,C=127&(l=o[E--]);for(l>>=7;0<v;C=256*C+o[E],E--,v-=8);for(f=C&(1<<-v)-1,C>>=-v,v+=h;0<v;f=256*f+o[E],E--,v-=8);if(C===0)C=1-w;else{if(C===_)return f?NaN:l?-1/0:1/0;f+=c(2,h),C-=w}return(l?-1:1)*f*c(2,C-h)}}},{}],66:[function(t,A,y){var d=t("../internals/fails"),c=t("../internals/classof-raw"),u="".split;A.exports=d(function(){return!Object("z").propertyIsEnumerable(0)})?function(x){return c(x)=="String"?u.call(x,""):Object(x)}:Object},{"../internals/classof-raw":28,"../internals/fails":51}],67:[function(t,A,y){var d=t("../internals/is-object"),c=t("../internals/object-set-prototype-of");A.exports=function(u,x,j){return c&&typeof(x=x.constructor)=="function"&&x!==j&&d(x=x.prototype)&&x!==j.prototype&&c(u,x),u}},{"../internals/is-object":74,"../internals/object-set-prototype-of":101}],68:[function(t,A,y){t=t("../internals/shared-store");var d=Function.toString;typeof t.inspectSource!="function"&&(t.inspectSource=function(c){return d.call(c)}),A.exports=t.inspectSource},{"../internals/shared-store":119}],69:[function(t,A,y){function d(w){j(w,f,{value:{objectID:"O"+ ++l,weakData:{}}})}var c=t("../internals/hidden-keys"),u=t("../internals/is-object"),x=t("../internals/has"),j=t("../internals/object-define-property").f,o=t("../internals/uid"),h=t("../internals/freezing"),f=o("meta"),l=0,m=Object.isExtensible||function(){return!0},_=A.exports={REQUIRED:!1,fastKey:function(w,v){if(!u(w))return typeof w=="symbol"?w:(typeof w=="string"?"S":"P")+w;if(!x(w,f)){if(!m(w))return"F";if(!v)return"E";d(w)}return w[f].objectID},getWeakData:function(w,v){if(!x(w,f)){if(!m(w))return!0;if(!v)return!1;d(w)}return w[f].weakData},onFreeze:function(w){return h&&_.REQUIRED&&m(w)&&!x(w,f)&&d(w),w}};c[f]=!0},{"../internals/freezing":53,"../internals/has":60,"../internals/hidden-keys":61,"../internals/is-object":74,"../internals/object-define-property":92,"../internals/uid":145}],70:[function(t,A,y){var d,c,u,x,j,o,h,f,l=t("../internals/native-weak-map"),m=t("../internals/global"),_=t("../internals/is-object"),w=t("../internals/create-non-enumerable-property"),v=t("../internals/has"),E=t("../internals/shared-key");t=t("../internals/hidden-keys"),m=m.WeakMap,h=l?(d=new m,c=d.get,u=d.has,x=d.set,j=function(C,O){return x.call(d,C,O),O},o=function(C){return c.call(d,C)||{}},function(C){return u.call(d,C)}):(t[f=E("state")]=!0,j=function(C,O){return w(C,f,O),O},o=function(C){return v(C,f)?C[f]:{}},function(C){return v(C,f)}),A.exports={set:j,get:o,has:h,enforce:function(C){return h(C)?o(C):j(C,{})},getterFor:function(C){return function(O){if(_(O)&&(O=o(O)).type===C)return O;throw TypeError("Incompatible receiver, "+C+" required")}}}},{"../internals/create-non-enumerable-property":38,"../internals/global":59,"../internals/has":60,"../internals/hidden-keys":61,"../internals/is-object":74,"../internals/native-weak-map":85,"../internals/shared-key":118}],71:[function(t,A,y){var d=t("../internals/well-known-symbol"),c=t("../internals/iterators"),u=d("iterator"),x=Array.prototype;A.exports=function(j){return j!==void 0&&(c.Array===j||x[u]===j)}},{"../internals/iterators":79,"../internals/well-known-symbol":148}],72:[function(t,A,y){var d=t("../internals/classof-raw");A.exports=Array.isArray||function(c){return d(c)=="Array"}},{"../internals/classof-raw":28}],73:[function(t,A,y){function d(f,l){return(f=j[x(f)])==h||f!=o&&(typeof l=="function"?c(l):!!l)}var c=t("../internals/fails"),u=/#|\.prototype\./,x=d.normalize=function(f){return String(f).replace(u,".").toLowerCase()},j=d.data={},o=d.NATIVE="N",h=d.POLYFILL="P";A.exports=d},{"../internals/fails":51}],74:[function(t,A,y){A.exports=function(d){return typeof d=="object"?d!==null:typeof d=="function"}},{}],75:[function(t,A,y){A.exports=!1},{}],76:[function(t,A,y){var d=t("../internals/is-object"),c=t("../internals/classof-raw"),u=t("../internals/well-known-symbol")("match");A.exports=function(x){var j;return d(x)&&((j=x[u])!==void 0?!!j:c(x)=="RegExp")}},{"../internals/classof-raw":28,"../internals/is-object":74,"../internals/well-known-symbol":148}],77:[function(t,A,y){function d(f,l){this.stopped=f,this.result=l}var c=t("../internals/an-object"),u=t("../internals/is-array-iterator-method"),x=t("../internals/to-length"),j=t("../internals/function-bind-context"),o=t("../internals/get-iterator-method"),h=t("../internals/call-with-safe-iteration-closing");(A.exports=function(f,l,m,_,w){var v,E,C,O,U,N,D=j(l,m,_?2:1);if(w)v=f;else{if(typeof(l=o(f))!="function")throw TypeError("Target is not iterable");if(u(l)){for(E=0,C=x(f.length);E<C;E++)if((O=_?D(c(N=f[E])[0],N[1]):D(f[E]))&&O instanceof d)return O;return new d(!1)}v=l.call(f)}for(U=v.next;!(N=U.call(v)).done;)if(typeof(O=h(v,D,N.value,_))=="object"&&O&&O instanceof d)return O;return new d(!1)}).stop=function(f){return new d(!0,f)}},{"../internals/an-object":10,"../internals/call-with-safe-iteration-closing":26,"../internals/function-bind-context":54,"../internals/get-iterator-method":57,"../internals/is-array-iterator-method":71,"../internals/to-length":136}],78:[function(t,A,y){var d,c,u=t("../internals/object-get-prototype-of"),x=t("../internals/create-non-enumerable-property"),j=t("../internals/has"),o=t("../internals/well-known-symbol"),h=(t=t("../internals/is-pure"),o=o("iterator"),!1);[].keys&&("next"in(c=[].keys())?(u=u(u(c)))!==Object.prototype&&(d=u):h=!0),d==null&&(d={}),t||j(d,o)||x(d,o,function(){return this}),A.exports={IteratorPrototype:d,BUGGY_SAFARI_ITERATORS:h}},{"../internals/create-non-enumerable-property":38,"../internals/has":60,"../internals/is-pure":75,"../internals/object-get-prototype-of":97,"../internals/well-known-symbol":148}],79:[function(t,A,y){A.exports={}},{}],80:[function(t,A,y){A.exports=Math.sign||function(d){return(d=+d)==0||d!=d?d:d<0?-1:1}},{}],81:[function(t,A,y){var d,c,u,x,j,o,h,f,l=t("../internals/global"),m=t("../internals/object-get-own-property-descriptor").f,_=t("../internals/classof-raw"),w=t("../internals/task").set,v=(t=t("../internals/engine-is-ios"),l.MutationObserver||l.WebKitMutationObserver),E=l.process,C=l.Promise,O=_(E)=="process";_=m(l,"queueMicrotask"),(m=_&&_.value)||(d=function(){var U,N;for(O&&(U=E.domain)&&U.exit();c;){N=c.fn,c=c.next;try{N()}catch(D){throw c?x():u=void 0,D}}u=void 0,U&&U.enter()},x=O?function(){E.nextTick(d)}:v&&!t?(j=!0,o=document.createTextNode(""),new v(d).observe(o,{characterData:!0}),function(){o.data=j=!j}):C&&C.resolve?(h=C.resolve(void 0),f=h.then,function(){f.call(h,d)}):function(){w.call(l,d)}),A.exports=m||function(U){U={fn:U,next:void 0},u&&(u.next=U),c||(c=U,x()),u=U}},{"../internals/classof-raw":28,"../internals/engine-is-ios":46,"../internals/global":59,"../internals/object-get-own-property-descriptor":93,"../internals/task":130}],82:[function(t,A,y){t=t("../internals/global"),A.exports=t.Promise},{"../internals/global":59}],83:[function(t,A,y){t=t("../internals/fails"),A.exports=!!Object.getOwnPropertySymbols&&!t(function(){return!String(Symbol())})},{"../internals/fails":51}],84:[function(t,A,y){var d=t("../internals/fails"),c=t("../internals/well-known-symbol"),u=t("../internals/is-pure"),x=c("iterator");A.exports=!d(function(){var j=new URL("b?a=1&b=2&c=3","http://a"),o=j.searchParams,h="";return j.pathname="c%20d",o.forEach(function(f,l){o.delete("b"),h+=l+f}),u&&!j.toJSON||!o.sort||j.href!=="http://a/c%20d?a=1&c=3"||o.get("c")!=="3"||String(new URLSearchParams("?a=1"))!=="a=1"||!o[x]||new URL("https://a@b").username!=="a"||new URLSearchParams(new URLSearchParams("a=b")).get("a")!=="b"||new URL("http://тест").host!=="xn--e1aybc"||new URL("http://a#б").hash!=="#%D0%B1"||h!=="a1c3"||new URL("http://x",void 0).host!=="x"})},{"../internals/fails":51,"../internals/is-pure":75,"../internals/well-known-symbol":148}],85:[function(t,A,y){var d=t("../internals/global");t=t("../internals/inspect-source"),d=d.WeakMap,A.exports=typeof d=="function"&&/native code/.test(t(d))},{"../internals/global":59,"../internals/inspect-source":68}],86:[function(t,A,y){function d(u){var x,j;this.promise=new u(function(o,h){if(x!==void 0||j!==void 0)throw TypeError("Bad Promise constructor");x=o,j=h}),this.resolve=c(x),this.reject=c(j)}var c=t("../internals/a-function");A.exports.f=function(u){return new d(u)}},{"../internals/a-function":5}],87:[function(t,A,y){var d=t("../internals/is-regexp");A.exports=function(c){if(d(c))throw TypeError("The method doesn't accept regular expressions");return c}},{"../internals/is-regexp":76}],88:[function(t,A,y){var d=t("../internals/global").isFinite;A.exports=Number.isFinite||function(c){return typeof c=="number"&&d(c)}},{"../internals/global":59}],89:[function(t,A,y){var d=t("../internals/descriptors"),c=t("../internals/fails"),u=t("../internals/object-keys"),x=t("../internals/object-get-own-property-symbols"),j=t("../internals/object-property-is-enumerable"),o=t("../internals/to-object"),h=t("../internals/indexed-object"),f=Object.assign,l=Object.defineProperty;A.exports=!f||c(function(){var m,_,w,v;return!(!d||f({b:1},f(l({},"a",{enumerable:!0,get:function(){l(this,"b",{value:3,enumerable:!1})}}),{b:2})).b===1)||(_={},v="abcdefghijklmnopqrst",(m={})[w=Symbol()]=7,v.split("").forEach(function(E){_[E]=E}),f({},m)[w]!=7||u(f({},_)).join("")!=v)})?function(m,_){for(var w=o(m),v=arguments.length,E=1,C=x.f,O=j.f;E<v;)for(var U,N=h(arguments[E++]),D=C?u(N).concat(C(N)):u(N),H=D.length,I=0;I<H;)U=D[I++],d&&!O.call(N,U)||(w[U]=N[U]);return w}:f},{"../internals/descriptors":43,"../internals/fails":51,"../internals/indexed-object":66,"../internals/object-get-own-property-symbols":96,"../internals/object-keys":99,"../internals/object-property-is-enumerable":100,"../internals/to-object":137}],90:[function(t,A,y){function d(){}var c,u=t("../internals/an-object"),x=t("../internals/object-define-properties"),j=t("../internals/enum-bug-keys"),o=t("../internals/hidden-keys"),h=t("../internals/html"),f=t("../internals/document-create-element"),l=(t=t("../internals/shared-key"),"prototype"),m="script",_=t("IE_PROTO"),w=function(E){return"<script>"+E+"</"+m+">"},v=function(){try{c=document.domain&&new ActiveXObject("htmlfile")}catch{}v=c?((E=c).write(w("")),E.close(),C=E.parentWindow.Object,E=null,C):(C="javascript:",(E=f("iframe")).style.display="none",h.appendChild(E),E.src=String(C),(C=E.contentWindow.document).open(),C.write(w("document.F=Object")),C.close(),C.F);for(var E,C,O=j.length;O--;)delete v[l][j[O]];return v()};o[_]=!0,A.exports=Object.create||function(E,C){var O;return E!==null?(d[l]=u(E),O=new d,d[l]=null,O[_]=E):O=v(),C===void 0?O:x(O,C)}},{"../internals/an-object":10,"../internals/document-create-element":44,"../internals/enum-bug-keys":49,"../internals/hidden-keys":61,"../internals/html":63,"../internals/object-define-properties":91,"../internals/shared-key":118}],91:[function(t,A,y){var d=t("../internals/descriptors"),c=t("../internals/object-define-property"),u=t("../internals/an-object"),x=t("../internals/object-keys");A.exports=d?Object.defineProperties:function(j,o){u(j);for(var h,f=x(o),l=f.length,m=0;m<l;)c.f(j,h=f[m++],o[h]);return j}},{"../internals/an-object":10,"../internals/descriptors":43,"../internals/object-define-property":92,"../internals/object-keys":99}],92:[function(t,A,y){var d=t("../internals/descriptors"),c=t("../internals/ie8-dom-define"),u=t("../internals/an-object"),x=t("../internals/to-primitive"),j=Object.defineProperty;y.f=d?j:function(o,h,f){if(u(o),h=x(h,!0),u(f),c)try{return j(o,h,f)}catch{}if("get"in f||"set"in f)throw TypeError("Accessors not supported");return"value"in f&&(o[h]=f.value),o}},{"../internals/an-object":10,"../internals/descriptors":43,"../internals/ie8-dom-define":64,"../internals/to-primitive":140}],93:[function(t,A,y){var d=t("../internals/descriptors"),c=t("../internals/object-property-is-enumerable"),u=t("../internals/create-property-descriptor"),x=t("../internals/to-indexed-object"),j=t("../internals/to-primitive"),o=t("../internals/has"),h=t("../internals/ie8-dom-define"),f=Object.getOwnPropertyDescriptor;y.f=d?f:function(l,m){if(l=x(l),m=j(m,!0),h)try{return f(l,m)}catch{}if(o(l,m))return u(!c.f.call(l,m),l[m])}},{"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/has":60,"../internals/ie8-dom-define":64,"../internals/object-property-is-enumerable":100,"../internals/to-indexed-object":134,"../internals/to-primitive":140}],94:[function(t,A,y){var d=t("../internals/to-indexed-object"),c=t("../internals/object-get-own-property-names").f,u={}.toString,x=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];A.exports.f=function(j){if(!x||u.call(j)!="[object Window]")return c(d(j));try{return c(j)}catch{return x.slice()}}},{"../internals/object-get-own-property-names":95,"../internals/to-indexed-object":134}],95:[function(t,A,y){var d=t("../internals/object-keys-internal"),c=t("../internals/enum-bug-keys").concat("length","prototype");y.f=Object.getOwnPropertyNames||function(u){return d(u,c)}},{"../internals/enum-bug-keys":49,"../internals/object-keys-internal":98}],96:[function(t,A,y){y.f=Object.getOwnPropertySymbols},{}],97:[function(t,A,y){var d=t("../internals/has"),c=t("../internals/to-object"),u=t("../internals/shared-key"),x=(t=t("../internals/correct-prototype-getter"),u("IE_PROTO")),j=Object.prototype;A.exports=t?Object.getPrototypeOf:function(o){return o=c(o),d(o,x)?o[x]:typeof o.constructor=="function"&&o instanceof o.constructor?o.constructor.prototype:o instanceof Object?j:null}},{"../internals/correct-prototype-getter":35,"../internals/has":60,"../internals/shared-key":118,"../internals/to-object":137}],98:[function(t,A,y){var d=t("../internals/has"),c=t("../internals/to-indexed-object"),u=t("../internals/array-includes").indexOf,x=t("../internals/hidden-keys");A.exports=function(j,o){var h,f=c(j),l=0,m=[];for(h in f)!d(x,h)&&d(f,h)&&m.push(h);for(;o.length>l;)!d(f,h=o[l++])||~u(m,h)||m.push(h);return m}},{"../internals/array-includes":18,"../internals/has":60,"../internals/hidden-keys":61,"../internals/to-indexed-object":134}],99:[function(t,A,y){var d=t("../internals/object-keys-internal"),c=t("../internals/enum-bug-keys");A.exports=Object.keys||function(u){return d(u,c)}},{"../internals/enum-bug-keys":49,"../internals/object-keys-internal":98}],100:[function(t,A,y){var d={}.propertyIsEnumerable,c=Object.getOwnPropertyDescriptor,u=c&&!d.call({1:2},1);y.f=u?function(x){return!!(x=c(this,x))&&x.enumerable}:d},{}],101:[function(t,A,y){var d=t("../internals/an-object"),c=t("../internals/a-possible-prototype");A.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var u,x=!1,j={};try{(u=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(j,[]),x=j instanceof Array}catch{}return function(o,h){return d(o),c(h),x?u.call(o,h):o.__proto__=h,o}}():void 0)},{"../internals/a-possible-prototype":6,"../internals/an-object":10}],102:[function(t,A,y){var d=t("../internals/to-string-tag-support"),c=t("../internals/classof");A.exports=d?{}.toString:function(){return"[object "+c(this)+"]"}},{"../internals/classof":29,"../internals/to-string-tag-support":141}],103:[function(t,A,y){var d=t("../internals/get-built-in"),c=t("../internals/object-get-own-property-names"),u=t("../internals/object-get-own-property-symbols"),x=t("../internals/an-object");A.exports=d("Reflect","ownKeys")||function(j){var o=c.f(x(j)),h=u.f;return h?o.concat(h(j)):o}},{"../internals/an-object":10,"../internals/get-built-in":56,"../internals/object-get-own-property-names":95,"../internals/object-get-own-property-symbols":96}],104:[function(t,A,y){t=t("../internals/global"),A.exports=t},{"../internals/global":59}],105:[function(t,A,y){A.exports=function(d){try{return{error:!1,value:d()}}catch(c){return{error:!0,value:c}}}},{}],106:[function(t,A,y){var d=t("../internals/an-object"),c=t("../internals/is-object"),u=t("../internals/new-promise-capability");A.exports=function(x,j){return d(x),c(j)&&j.constructor===x?j:((0,(x=u.f(x)).resolve)(j),x.promise)}},{"../internals/an-object":10,"../internals/is-object":74,"../internals/new-promise-capability":86}],107:[function(t,A,y){var d=t("../internals/redefine");A.exports=function(c,u,x){for(var j in u)d(c,j,u[j],x);return c}},{"../internals/redefine":108}],108:[function(t,A,y){var d=t("../internals/global"),c=t("../internals/create-non-enumerable-property"),u=t("../internals/has"),x=t("../internals/set-global"),j=t("../internals/inspect-source"),o=(t=t("../internals/internal-state")).get,h=t.enforce,f=String(String).split("String");(A.exports=function(l,m,_,w){var v=!!w&&!!w.unsafe,E=!!w&&!!w.enumerable;w=!!w&&!!w.noTargetGet,typeof _=="function"&&(typeof m!="string"||u(_,"name")||c(_,"name",m),h(_).source=f.join(typeof m=="string"?m:"")),l===d?E?l[m]=_:x(m,_):(v?!w&&l[m]&&(E=!0):delete l[m],E?l[m]=_:c(l,m,_))})(Function.prototype,"toString",function(){return typeof this=="function"&&o(this).source||j(this)})},{"../internals/create-non-enumerable-property":38,"../internals/global":59,"../internals/has":60,"../internals/inspect-source":68,"../internals/internal-state":70,"../internals/set-global":115}],109:[function(t,A,y){var d=t("./classof-raw"),c=t("./regexp-exec");A.exports=function(u,x){var j=u.exec;if(typeof j=="function"){if(typeof(j=j.call(u,x))!="object")throw TypeError("RegExp exec method returned something other than an Object or null");return j}if(d(u)!=="RegExp")throw TypeError("RegExp#exec called on incompatible receiver");return c.call(u,x)}},{"./classof-raw":28,"./regexp-exec":110}],110:[function(t,A,y){var d,c,u=t("./regexp-flags"),x=(t=t("./regexp-sticky-helpers"),RegExp.prototype.exec),j=String.prototype.replace,o=x,h=(d=/a/,c=/b*/g,x.call(d,"a"),x.call(c,"a"),d.lastIndex!==0||c.lastIndex!==0),f=t.UNSUPPORTED_Y||t.BROKEN_CARET,l=/()??/.exec("")[1]!==void 0;A.exports=o=h||l||f?function(m){var _,w,v,E,C=this,O=f&&C.sticky,U=u.call(C),N=C.source,D=0,H=m;return O&&((U=U.replace("y","")).indexOf("g")===-1&&(U+="g"),H=String(m).slice(C.lastIndex),0<C.lastIndex&&(!C.multiline||C.multiline&&m[C.lastIndex-1]!==`
`)&&(N="(?: "+N+")",H=" "+H,D++),w=new RegExp("^(?:"+N+")",U)),l&&(w=new RegExp("^"+N+"$(?!\\s)",U)),h&&(_=C.lastIndex),v=x.call(O?w:C,H),O?v?(v.input=v.input.slice(D),v[0]=v[0].slice(D),v.index=C.lastIndex,C.lastIndex+=v[0].length):C.lastIndex=0:h&&v&&(C.lastIndex=C.global?v.index+v[0].length:_),l&&v&&1<v.length&&j.call(v[0],w,function(){for(E=1;E<arguments.length-2;E++)arguments[E]===void 0&&(v[E]=void 0)}),v}:o},{"./regexp-flags":111,"./regexp-sticky-helpers":112}],111:[function(t,A,y){var d=t("../internals/an-object");A.exports=function(){var c=d(this),u="";return c.global&&(u+="g"),c.ignoreCase&&(u+="i"),c.multiline&&(u+="m"),c.dotAll&&(u+="s"),c.unicode&&(u+="u"),c.sticky&&(u+="y"),u}},{"../internals/an-object":10}],112:[function(t,A,y){function d(c,u){return RegExp(c,u)}t=t("./fails"),y.UNSUPPORTED_Y=t(function(){var c=d("a","y");return c.lastIndex=2,c.exec("abcd")!=null}),y.BROKEN_CARET=t(function(){var c=d("^r","gy");return c.lastIndex=2,c.exec("str")!=null})},{"./fails":51}],113:[function(t,A,y){A.exports=function(d){if(d==null)throw TypeError("Can't call method on "+d);return d}},{}],114:[function(t,A,y){A.exports=Object.is||function(d,c){return d===c?d!==0||1/d==1/c:d!=d&&c!=c}},{}],115:[function(t,A,y){var d=t("../internals/global"),c=t("../internals/create-non-enumerable-property");A.exports=function(u,x){try{c(d,u,x)}catch{d[u]=x}return x}},{"../internals/create-non-enumerable-property":38,"../internals/global":59}],116:[function(t,A,y){var d=t("../internals/get-built-in"),c=t("../internals/object-define-property"),u=t("../internals/well-known-symbol"),x=t("../internals/descriptors"),j=u("species");A.exports=function(o){o=d(o);var h=c.f;x&&o&&!o[j]&&h(o,j,{configurable:!0,get:function(){return this}})}},{"../internals/descriptors":43,"../internals/get-built-in":56,"../internals/object-define-property":92,"../internals/well-known-symbol":148}],117:[function(t,A,y){var d=t("../internals/object-define-property").f,c=t("../internals/has"),u=t("../internals/well-known-symbol")("toStringTag");A.exports=function(x,j,o){x&&!c(x=o?x:x.prototype,u)&&d(x,u,{configurable:!0,value:j})}},{"../internals/has":60,"../internals/object-define-property":92,"../internals/well-known-symbol":148}],118:[function(t,A,y){var d=t("../internals/shared"),c=t("../internals/uid"),u=d("keys");A.exports=function(x){return u[x]||(u[x]=c(x))}},{"../internals/shared":120,"../internals/uid":145}],119:[function(t,A,y){var d=t("../internals/global"),c=(t=t("../internals/set-global"),"__core-js_shared__");d=d[c]||t(c,{}),A.exports=d},{"../internals/global":59,"../internals/set-global":115}],120:[function(t,A,y){var d=t("../internals/is-pure"),c=t("../internals/shared-store");(A.exports=function(u,x){return c[u]||(c[u]=x!==void 0?x:{})})("versions",[]).push({version:"3.6.5",mode:d?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},{"../internals/is-pure":75,"../internals/shared-store":119}],121:[function(t,A,y){var d=t("../internals/an-object"),c=t("../internals/a-function"),u=t("../internals/well-known-symbol")("species");A.exports=function(x,j){return(x=d(x).constructor)===void 0||(x=d(x)[u])==null?j:c(x)}},{"../internals/a-function":5,"../internals/an-object":10,"../internals/well-known-symbol":148}],122:[function(t,A,y){var d=t("../internals/fails");A.exports=function(c){return d(function(){var u=""[c]('"');return u!==u.toLowerCase()||3<u.split('"').length})}},{"../internals/fails":51}],123:[function(t,A,y){function d(x){return function(j,o){j=String(u(j)),o=c(o);var h,f=j.length;return o<0||f<=o?x?"":void 0:(h=j.charCodeAt(o))<55296||56319<h||o+1===f||(f=j.charCodeAt(o+1))<56320||57343<f?x?j.charAt(o):h:x?j.slice(o,o+2):f-56320+(h-55296<<10)+65536}}var c=t("../internals/to-integer"),u=t("../internals/require-object-coercible");A.exports={codeAt:d(!1),charAt:d(!0)}},{"../internals/require-object-coercible":113,"../internals/to-integer":135}],124:[function(t,A,y){t=t("../internals/engine-user-agent"),A.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(t)},{"../internals/engine-user-agent":47}],125:[function(t,A,y){function d(o){return function(h,f,l){var m=(h=String(x(h))).length;return l=l===void 0?" ":String(l),(f=c(f))<=m||l==""?h:((m=u.call(l,j((f-=m)/l.length))).length>f&&(m=m.slice(0,f)),o?h+m:m+h)}}var c=t("../internals/to-length"),u=t("../internals/string-repeat"),x=t("../internals/require-object-coercible"),j=Math.ceil;A.exports={start:d(!1),end:d(!0)}},{"../internals/require-object-coercible":113,"../internals/string-repeat":127,"../internals/to-length":136}],126:[function(t,A,y){function d(E){return E+22+75*(E<26)}function c(E){var C,O=[],U=(E=function(oe){for(var le=[],me=0,$=oe.length;me<$;){var Q,se=oe.charCodeAt(me++);55296<=se&&se<=56319&&me<$?(64512&(Q=oe.charCodeAt(me++)))==56320?le.push(((1023&se)<<10)+(1023&Q)+65536):(le.push(se),me--):le.push(se)}return le}(E)).length,N=128,D=0,H=72;for(q=0;q<E.length;q++)(C=E[q])<128&&O.push(v(C));var I=O.length,V=I;for(I&&O.push("-");V<U;){for(var G=u,q=0;q<E.length;q++)N<=(C=E[q])&&C<G&&(G=C);var X=V+1;if(G-N>w((u-D)/X))throw RangeError(m);for(D+=(G-N)*X,N=G,q=0;q<E.length;q++){if((C=E[q])<N&&++D>u)throw RangeError(m);if(C==N){for(var B=D,W=x;;W+=x){var K=W<=H?1:H+j<=W?j:W-H;if(B<K)break;var ee=B-K,re=x-K;O.push(v(d(K+ee%re))),B=w(ee/re)}O.push(v(d(B))),H=function(oe,le,me){var $=0;for(oe=me?w(oe/h):oe>>1,oe+=w(oe/le);_*j>>1<oe;$+=x)oe=w(oe/_);return w($+(_+1)*oe/(oe+o))}(D,X,V==I),D=0,++V}}++D,++N}return O.join("")}var u=2147483647,x=36,j=26,o=38,h=700,f=/[^\0-\u007E]/,l=/[.\u3002\uFF0E\uFF61]/g,m="Overflow: input needs wider integers to process",_=x-1,w=Math.floor,v=String.fromCharCode;A.exports=function(E){for(var C,O=[],U=E.toLowerCase().replace(l,".").split("."),N=0;N<U.length;N++)C=U[N],O.push(f.test(C)?"xn--"+c(C):C);return O.join(".")}},{}],127:[function(t,A,y){var d=t("../internals/to-integer"),c=t("../internals/require-object-coercible");A.exports="".repeat||function(u){var x=String(c(this)),j="",o=d(u);if(o<0||o==1/0)throw RangeError("Wrong number of repetitions");for(;0<o;(o>>>=1)&&(x+=x))1&o&&(j+=x);return j}},{"../internals/require-object-coercible":113,"../internals/to-integer":135}],128:[function(t,A,y){var d=t("../internals/fails"),c=t("../internals/whitespaces");A.exports=function(u){return d(function(){return!!c[u]()||"​᠎"[u]()!="​᠎"||c[u].name!==u})}},{"../internals/fails":51,"../internals/whitespaces":149}],129:[function(t,A,y){function d(j){return function(o){return o=String(c(o)),1&j&&(o=o.replace(u,"")),2&j?o.replace(x,""):o}}var c=t("../internals/require-object-coercible"),u=(t="["+t("../internals/whitespaces")+"]",RegExp("^"+t+t+"*")),x=RegExp(t+t+"*$");A.exports={start:d(1),end:d(2),trim:d(3)}},{"../internals/require-object-coercible":113,"../internals/whitespaces":149}],130:[function(t,A,y){function d(I){return function(){H(I)}}function c(I){H(I.data)}function u(I){j.postMessage(I+"",_.protocol+"//"+_.host)}var x,j=t("../internals/global"),o=t("../internals/fails"),h=t("../internals/classof-raw"),f=t("../internals/function-bind-context"),l=t("../internals/html"),m=t("../internals/document-create-element"),_=(t=t("../internals/engine-is-ios"),j.location),w=j.setImmediate,v=j.clearImmediate,E=j.process,C=j.MessageChannel,O=j.Dispatch,U=0,N={},D="onreadystatechange",H=function(I){var V;N.hasOwnProperty(I)&&(V=N[I],delete N[I],V())};w&&v||(w=function(I){for(var V=[],G=1;G<arguments.length;)V.push(arguments[G++]);return N[++U]=function(){(typeof I=="function"?I:Function(I)).apply(void 0,V)},x(U),U},v=function(I){delete N[I]},h(E)=="process"?x=function(I){E.nextTick(d(I))}:O&&O.now?x=function(I){O.now(d(I))}:C&&!t?(t=(h=new C).port2,h.port1.onmessage=c,x=f(t.postMessage,t,1)):!j.addEventListener||typeof postMessage!="function"||j.importScripts||o(u)||_.protocol==="file:"?x=D in m("script")?function(I){l.appendChild(m("script"))[D]=function(){l.removeChild(this),H(I)}}:function(I){setTimeout(d(I),0)}:(x=u,j.addEventListener("message",c,!1))),A.exports={set:w,clear:v}},{"../internals/classof-raw":28,"../internals/document-create-element":44,"../internals/engine-is-ios":46,"../internals/fails":51,"../internals/function-bind-context":54,"../internals/global":59,"../internals/html":63}],131:[function(t,A,y){var d=t("../internals/classof-raw");A.exports=function(c){if(typeof c!="number"&&d(c)!="Number")throw TypeError("Incorrect invocation");return+c}},{"../internals/classof-raw":28}],132:[function(t,A,y){var d=t("../internals/to-integer"),c=Math.max,u=Math.min;A.exports=function(x,j){return(x=d(x))<0?c(x+j,0):u(x,j)}},{"../internals/to-integer":135}],133:[function(t,A,y){var d=t("../internals/to-integer"),c=t("../internals/to-length");A.exports=function(u){if(u===void 0)return 0;u=d(u);var x=c(u);if(u!==x)throw RangeError("Wrong length or index");return x}},{"../internals/to-integer":135,"../internals/to-length":136}],134:[function(t,A,y){var d=t("../internals/indexed-object"),c=t("../internals/require-object-coercible");A.exports=function(u){return d(c(u))}},{"../internals/indexed-object":66,"../internals/require-object-coercible":113}],135:[function(t,A,y){var d=Math.ceil,c=Math.floor;A.exports=function(u){return isNaN(u=+u)?0:(0<u?c:d)(u)}},{}],136:[function(t,A,y){var d=t("../internals/to-integer"),c=Math.min;A.exports=function(u){return 0<u?c(d(u),9007199254740991):0}},{"../internals/to-integer":135}],137:[function(t,A,y){var d=t("../internals/require-object-coercible");A.exports=function(c){return Object(d(c))}},{"../internals/require-object-coercible":113}],138:[function(t,A,y){var d=t("../internals/to-positive-integer");A.exports=function(c,u){if((c=d(c))%u)throw RangeError("Wrong offset");return c}},{"../internals/to-positive-integer":139}],139:[function(t,A,y){var d=t("../internals/to-integer");A.exports=function(c){if((c=d(c))<0)throw RangeError("The argument can't be less than 0");return c}},{"../internals/to-integer":135}],140:[function(t,A,y){var d=t("../internals/is-object");A.exports=function(c,u){if(!d(c))return c;var x,j;if(u&&typeof(x=c.toString)=="function"&&!d(j=x.call(c))||typeof(x=c.valueOf)=="function"&&!d(j=x.call(c))||!u&&typeof(x=c.toString)=="function"&&!d(j=x.call(c)))return j;throw TypeError("Can't convert object to primitive value")}},{"../internals/is-object":74}],141:[function(t,A,y){var d={};d[t("../internals/well-known-symbol")("toStringTag")]="z",A.exports=String(d)==="[object z]"},{"../internals/well-known-symbol":148}],142:[function(t,A,y){function d(et,ft){for(var ot=0,Pt=ft.length,bt=new(Te(et))(Pt);ot<Pt;)bt[ot]=ft[ot++];return bt}function c(et,ft){Q(et,ft,{get:function(){return me(this)[ft]}})}function u(et){return et instanceof ve||(et=I(et))=="ArrayBuffer"||et=="SharedArrayBuffer"}function x(et,ft){return Pe(et)&&typeof ft!="symbol"&&ft in et&&String(+ft)==String(ft)}function j(et,ft){return x(et,ft=D(ft,!0))?E(2,et[ft]):se(et,ft)}function o(et,ft,ot){return!(x(et,ft=D(ft,!0))&&V(ot)&&H(ot,"value"))||H(ot,"get")||H(ot,"set")||ot.configurable||H(ot,"writable")&&!ot.writable||H(ot,"enumerable")&&!ot.enumerable?Q(et,ft,ot):(et[ft]=ot.value,et)}var h=t("../internals/export"),f=t("../internals/global"),l=t("../internals/descriptors"),m=t("../internals/typed-array-constructors-require-wrappers"),_=t("../internals/array-buffer-view-core"),w=t("../internals/array-buffer"),v=t("../internals/an-instance"),E=t("../internals/create-property-descriptor"),C=t("../internals/create-non-enumerable-property"),O=t("../internals/to-length"),U=t("../internals/to-index"),N=t("../internals/to-offset"),D=t("../internals/to-primitive"),H=t("../internals/has"),I=t("../internals/classof"),V=t("../internals/is-object"),G=t("../internals/object-create"),q=t("../internals/object-set-prototype-of"),X=t("../internals/object-get-own-property-names").f,B=t("../internals/typed-array-from"),W=t("../internals/array-iteration").forEach,K=t("../internals/set-species"),ee=t("../internals/object-define-property"),re=t("../internals/object-get-own-property-descriptor"),oe=t("../internals/internal-state"),le=t("../internals/inherit-if-required"),me=oe.get,$=oe.set,Q=ee.f,se=re.f,de=Math.round,ge=f.RangeError,ve=w.ArrayBuffer,ae=w.DataView,ye=_.NATIVE_ARRAY_BUFFER_VIEWS,Se=_.TYPED_ARRAY_TAG,Me=_.TypedArray,Ee=_.TypedArrayPrototype,Te=_.aTypedArrayConstructor,Pe=_.isTypedArray,Ke="BYTES_PER_ELEMENT",Ge="Wrong length";l?(ye||(re.f=j,ee.f=o,c(Ee,"buffer"),c(Ee,"byteOffset"),c(Ee,"byteLength"),c(Ee,"length")),h({target:"Object",stat:!0,forced:!ye},{getOwnPropertyDescriptor:j,defineProperty:o}),A.exports=function(et,ft,ot){function Pt(xt,mt){Q(xt,mt,{get:function(){var fe=this,ue=mt;return(fe=me(fe)).view[Ve](ue*bt+fe.byteOffset,!0)},set:function(fe){var ue=this,he=mt;ue=me(ue),ot&&(fe=(fe=de(fe))<0?0:255<fe?255:255&fe),ue.view[He](he*bt+ue.byteOffset,fe,!0)},enumerable:!0})}var bt=et.match(/\d+$/)[0]/8,je=et+(ot?"Clamped":"")+"Array",Ve="get"+et,He="set"+et,nt=f[je],vt=nt,Lt=(et=vt&&vt.prototype,{});ye?m&&(vt=ft(function(xt,mt,fe,ue){return v(xt,vt,je),le(V(mt)?u(mt)?ue!==void 0?new nt(mt,N(fe,bt),ue):fe!==void 0?new nt(mt,N(fe,bt)):new nt(mt):Pe(mt)?d(vt,mt):B.call(vt,mt):new nt(U(mt)),xt,vt)}),q&&q(vt,Me),W(X(nt),function(xt){xt in vt||C(vt,xt,nt[xt])}),vt.prototype=et):(vt=ft(function(xt,mt,fe,ue){v(xt,vt,je);var he,we,Oe=0,We=0;if(V(mt)){if(!u(mt))return Pe(mt)?d(vt,mt):B.call(vt,mt);var lt=mt;if(We=N(fe,bt),fe=mt.byteLength,ue===void 0){if(fe%bt||(he=fe-We)<0)throw ge(Ge)}else if(fe<(he=O(ue)*bt)+We)throw ge(Ge);we=he/bt}else we=U(mt),lt=new ve(he=we*bt);for($(xt,{buffer:lt,byteOffset:We,byteLength:he,length:we,view:new ae(lt)});Oe<we;)Pt(xt,Oe++)}),q&&q(vt,Me),et=vt.prototype=G(Ee)),et.constructor!==vt&&C(et,"constructor",vt),Se&&C(et,Se,je),Lt[je]=vt,h({global:!0,forced:vt!=nt,sham:!ye},Lt),Ke in vt||C(vt,Ke,bt),Ke in et||C(et,Ke,bt),K(je)}):A.exports=function(){}},{"../internals/an-instance":9,"../internals/array-buffer":13,"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/classof":29,"../internals/create-non-enumerable-property":38,"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/export":50,"../internals/global":59,"../internals/has":60,"../internals/inherit-if-required":67,"../internals/internal-state":70,"../internals/is-object":74,"../internals/object-create":90,"../internals/object-define-property":92,"../internals/object-get-own-property-descriptor":93,"../internals/object-get-own-property-names":95,"../internals/object-set-prototype-of":101,"../internals/set-species":116,"../internals/to-index":133,"../internals/to-length":136,"../internals/to-offset":138,"../internals/to-primitive":140,"../internals/typed-array-constructors-require-wrappers":143,"../internals/typed-array-from":144}],143:[function(t,A,y){var d=t("../internals/global"),c=t("../internals/fails"),u=t("../internals/check-correctness-of-iteration"),x=(t=t("../internals/array-buffer-view-core").NATIVE_ARRAY_BUFFER_VIEWS,d.ArrayBuffer),j=d.Int8Array;A.exports=!t||!c(function(){j(1)})||!c(function(){new j(-1)})||!u(function(o){new j,new j(null),new j(1.5),new j(o)},!0)||c(function(){return new j(new x(2),1,void 0).length!==1})},{"../internals/array-buffer-view-core":12,"../internals/check-correctness-of-iteration":27,"../internals/fails":51,"../internals/global":59}],144:[function(t,A,y){var d=t("../internals/to-object"),c=t("../internals/to-length"),u=t("../internals/get-iterator-method"),x=t("../internals/is-array-iterator-method"),j=t("../internals/function-bind-context"),o=t("../internals/array-buffer-view-core").aTypedArrayConstructor;A.exports=function(h){var f,l,m,_,w,v,E=d(h),C=arguments.length,O=1<C?arguments[1]:void 0,U=O!==void 0,N=u(E);if(N!=null&&!x(N))for(v=(w=N.call(E)).next,E=[];!(_=v.call(w)).done;)E.push(_.value);for(U&&2<C&&(O=j(O,arguments[2],2)),l=c(E.length),m=new(o(this))(l),f=0;f<l;f++)m[f]=U?O(E[f],f):E[f];return m}},{"../internals/array-buffer-view-core":12,"../internals/function-bind-context":54,"../internals/get-iterator-method":57,"../internals/is-array-iterator-method":71,"../internals/to-length":136,"../internals/to-object":137}],145:[function(t,A,y){var d=0,c=Math.random();A.exports=function(u){return"Symbol("+String(u===void 0?"":u)+")_"+(++d+c).toString(36)}},{}],146:[function(t,A,y){t=t("../internals/native-symbol"),A.exports=t&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},{"../internals/native-symbol":83}],147:[function(t,A,y){t=t("../internals/well-known-symbol"),y.f=t},{"../internals/well-known-symbol":148}],148:[function(t,A,y){var d=t("../internals/global"),c=t("../internals/shared"),u=t("../internals/has"),x=t("../internals/uid"),j=t("../internals/native-symbol"),o=(t=t("../internals/use-symbol-as-uid"),c("wks")),h=d.Symbol,f=t?h:h&&h.withoutSetter||x;A.exports=function(l){return u(o,l)||(j&&u(h,l)?o[l]=h[l]:o[l]=f("Symbol."+l)),o[l]}},{"../internals/global":59,"../internals/has":60,"../internals/native-symbol":83,"../internals/shared":120,"../internals/uid":145,"../internals/use-symbol-as-uid":146}],149:[function(t,A,y){A.exports=`	
\v\f\r                　\u2028\u2029\uFEFF`},{}],150:[function(t,A,y){var d=t("../internals/export"),c=t("../internals/global"),u=t("../internals/array-buffer"),x=(t=t("../internals/set-species"),"ArrayBuffer");u=u[x],d({global:!0,forced:c[x]!==u},{ArrayBuffer:u}),t(x)},{"../internals/array-buffer":13,"../internals/export":50,"../internals/global":59,"../internals/set-species":116}],151:[function(t,A,y){var d=t("../internals/export"),c=t("../internals/fails"),u=t("../internals/is-array"),x=t("../internals/is-object"),j=t("../internals/to-object"),o=t("../internals/to-length"),h=t("../internals/create-property"),f=t("../internals/array-species-create"),l=t("../internals/array-method-has-species-support"),m=t("../internals/well-known-symbol"),_=(t=t("../internals/engine-v8-version"),m("isConcatSpreadable")),w=9007199254740991,v="Maximum allowed index exceeded";m=51<=t||!c(function(){var E=[];return E[_]=!1,E.concat()[0]!==E}),t=l("concat"),d({target:"Array",proto:!0,forced:!m||!t},{concat:function(E){for(var C,O,U,N,D,H=j(this),I=f(H,0),V=0,G=-1,q=arguments.length;G<q;G++)if(D=void 0,x(N=U=G===-1?H:arguments[G])&&((D=N[_])!==void 0?D:u(N))){if(O=o(U.length),w<V+O)throw TypeError(v);for(C=0;C<O;C++,V++)C in U&&h(I,V,U[C])}else{if(w<=V)throw TypeError(v);h(I,V++,U)}return I.length=V,I}})},{"../internals/array-method-has-species-support":21,"../internals/array-species-create":25,"../internals/create-property":40,"../internals/engine-v8-version":48,"../internals/export":50,"../internals/fails":51,"../internals/is-array":72,"../internals/is-object":74,"../internals/to-length":136,"../internals/to-object":137,"../internals/well-known-symbol":148}],152:[function(t,A,y){var d=t("../internals/export"),c=t("../internals/array-copy-within");t=t("../internals/add-to-unscopables"),d({target:"Array",proto:!0},{copyWithin:c}),t("copyWithin")},{"../internals/add-to-unscopables":7,"../internals/array-copy-within":14,"../internals/export":50}],153:[function(t,A,y){var d=t("../internals/export"),c=t("../internals/array-iteration").every,u=t("../internals/array-method-is-strict");t=t("../internals/array-method-uses-to-length"),u=u("every"),t=t("every"),d({target:"Array",proto:!0,forced:!u||!t},{every:function(x){return c(this,x,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],154:[function(t,A,y){var d=t("../internals/export"),c=t("../internals/array-fill");t=t("../internals/add-to-unscopables"),d({target:"Array",proto:!0},{fill:c}),t("fill")},{"../internals/add-to-unscopables":7,"../internals/array-fill":15,"../internals/export":50}],155:[function(t,A,y){var d=t("../internals/export"),c=t("../internals/array-iteration").filter,u=t("../internals/array-method-has-species-support");t=t("../internals/array-method-uses-to-length"),u=u("filter"),t=t("filter"),d({target:"Array",proto:!0,forced:!u||!t},{filter:function(x){return c(this,x,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/export":50}],156:[function(t,A,y){var d=t("../internals/export");t=t("../internals/array-for-each"),d({target:"Array",proto:!0,forced:[].forEach!=t},{forEach:t})},{"../internals/array-for-each":16,"../internals/export":50}],157:[function(t,A,y){var d=t("../internals/export"),c=t("../internals/array-from");d({target:"Array",stat:!0,forced:!t("../internals/check-correctness-of-iteration")(function(u){Array.from(u)})},{from:c})},{"../internals/array-from":17,"../internals/check-correctness-of-iteration":27,"../internals/export":50}],158:[function(t,A,y){var d=t("../internals/export"),c=t("../internals/array-includes").includes,u=t("../internals/add-to-unscopables");d({target:"Array",proto:!0,forced:!t("../internals/array-method-uses-to-length")("indexOf",{ACCESSORS:!0,1:0})},{includes:function(x){return c(this,x,1<arguments.length?arguments[1]:void 0)}}),u("includes")},{"../internals/add-to-unscopables":7,"../internals/array-includes":18,"../internals/array-method-uses-to-length":23,"../internals/export":50}],159:[function(t,A,y){var d=t("../internals/export"),c=t("../internals/array-includes").indexOf,u=t("../internals/array-method-is-strict"),x=(t=t("../internals/array-method-uses-to-length"),[].indexOf),j=!!x&&1/[1].indexOf(1,-0)<0;u=u("indexOf"),t=t("indexOf",{ACCESSORS:!0,1:0}),d({target:"Array",proto:!0,forced:j||!u||!t},{indexOf:function(o){return j?x.apply(this,arguments)||0:c(this,o,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-includes":18,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],160:[function(t,A,y){var d=t("../internals/to-indexed-object"),c=t("../internals/add-to-unscopables"),u=t("../internals/iterators"),x=t("../internals/internal-state"),j=(t=t("../internals/define-iterator"),"Array Iterator"),o=x.set,h=x.getterFor(j);A.exports=t(Array,"Array",function(f,l){o(this,{type:j,target:d(f),index:0,kind:l})},function(){var f=h(this),l=f.target,m=f.kind,_=f.index++;return!l||_>=l.length?{value:f.target=void 0,done:!0}:m=="keys"?{value:_,done:!1}:m=="values"?{value:l[_],done:!1}:{value:[_,l[_]],done:!1}},"values"),u.Arguments=u.Array,c("keys"),c("values"),c("entries")},{"../internals/add-to-unscopables":7,"../internals/define-iterator":41,"../internals/internal-state":70,"../internals/iterators":79,"../internals/to-indexed-object":134}],161:[function(t,A,y){var d=t("../internals/export"),c=t("../internals/indexed-object"),u=t("../internals/to-indexed-object"),x=(t=t("../internals/array-method-is-strict"),[].join);c=c!=Object,t=t("join",","),d({target:"Array",proto:!0,forced:c||!t},{join:function(j){return x.call(u(this),j===void 0?",":j)}})},{"../internals/array-method-is-strict":22,"../internals/export":50,"../internals/indexed-object":66,"../internals/to-indexed-object":134}],162:[function(t,A,y){t("../internals/export")({target:"Array",proto:!0,forced:(t=t("../internals/array-last-index-of"))!==[].lastIndexOf},{lastIndexOf:t})},{"../internals/array-last-index-of":20,"../internals/export":50}],163:[function(t,A,y){var d=t("../internals/export"),c=t("../internals/array-iteration").map,u=t("../internals/array-method-has-species-support");t=t("../internals/array-method-uses-to-length"),u=u("map"),t=t("map"),d({target:"Array",proto:!0,forced:!u||!t},{map:function(x){return c(this,x,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/export":50}],164:[function(t,A,y){var d=t("../internals/export"),c=t("../internals/is-object"),u=t("../internals/is-array"),x=t("../internals/to-absolute-index"),j=t("../internals/to-length"),o=t("../internals/to-indexed-object"),h=t("../internals/create-property"),f=t("../internals/well-known-symbol"),l=t("../internals/array-method-has-species-support"),m=(t=t("../internals/array-method-uses-to-length"),l=l("slice"),t=t("slice",{ACCESSORS:!0,0:0,1:2}),f("species")),_=[].slice,w=Math.max;d({target:"Array",proto:!0,forced:!l||!t},{slice:function(v,E){var C,O,U,N=o(this),D=j(N.length),H=x(v,D),I=x(E===void 0?D:E,D);if(u(N)&&((C=typeof(C=N.constructor)=="function"&&(C===Array||u(C.prototype))||c(C)&&(C=C[m])===null?void 0:C)===Array||C===void 0))return _.call(N,H,I);for(O=new(C===void 0?Array:C)(w(I-H,0)),U=0;H<I;H++,U++)H in N&&h(O,U,N[H]);return O.length=U,O}})},{"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/create-property":40,"../internals/export":50,"../internals/is-array":72,"../internals/is-object":74,"../internals/to-absolute-index":132,"../internals/to-indexed-object":134,"../internals/to-length":136,"../internals/well-known-symbol":148}],165:[function(t,A,y){var d=t("../internals/export"),c=t("../internals/array-iteration").some,u=t("../internals/array-method-is-strict");t=t("../internals/array-method-uses-to-length"),u=u("some"),t=t("some"),d({target:"Array",proto:!0,forced:!u||!t},{some:function(x){return c(this,x,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],166:[function(t,A,y){var d=t("../internals/export"),c=t("../internals/to-absolute-index"),u=t("../internals/to-integer"),x=t("../internals/to-length"),j=t("../internals/to-object"),o=t("../internals/array-species-create"),h=t("../internals/create-property"),f=t("../internals/array-method-has-species-support"),l=(t=t("../internals/array-method-uses-to-length"),f=f("splice"),t=t("splice",{ACCESSORS:!0,0:0,1:2}),Math.max),m=Math.min;d({target:"Array",proto:!0,forced:!f||!t},{splice:function(_,w){var v,E,C,O,U,N,D=j(this),H=x(D.length),I=c(_,H);if((_=arguments.length)===0?v=E=0:E=_===1?(v=0,H-I):(v=_-2,m(l(u(w),0),H-I)),9007199254740991<H+v-E)throw TypeError("Maximum allowed length exceeded");for(C=o(D,E),O=0;O<E;O++)(U=I+O)in D&&h(C,O,D[U]);if(v<(C.length=E)){for(O=I;O<H-E;O++)N=O+v,(U=O+E)in D?D[N]=D[U]:delete D[N];for(O=H;H-E+v<O;O--)delete D[O-1]}else if(E<v)for(O=H-E;I<O;O--)N=O+v-1,(U=O+E-1)in D?D[N]=D[U]:delete D[N];for(O=0;O<v;O++)D[O+I]=arguments[O+2];return D.length=H-E+v,C}})},{"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/array-species-create":25,"../internals/create-property":40,"../internals/export":50,"../internals/to-absolute-index":132,"../internals/to-integer":135,"../internals/to-length":136,"../internals/to-object":137}],167:[function(t,A,y){var d=t("../internals/descriptors"),c=(t=t("../internals/object-define-property").f,Function.prototype),u=c.toString,x=/^\s*function ([^ (]*)/;!d||"name"in c||t(c,"name",{configurable:!0,get:function(){try{return u.call(this).match(x)[1]}catch{return""}}})},{"../internals/descriptors":43,"../internals/object-define-property":92}],168:[function(t,A,y){var d=t("../internals/collection");t=t("../internals/collection-strong"),A.exports=d("Map",function(c){return function(){return c(this,arguments.length?arguments[0]:void 0)}},t)},{"../internals/collection":32,"../internals/collection-strong":30}],169:[function(t,A,y){t=t("../internals/export");var d=Math.hypot,c=Math.abs,u=Math.sqrt;t({target:"Math",stat:!0,forced:!!d&&d(1/0,NaN)!==1/0},{hypot:function(x,j){for(var o,h,f=0,l=0,m=arguments.length,_=0;l<m;)_<(o=c(arguments[l++]))?(f=f*(h=_/o)*h+1,_=o):f+=0<o?(h=o/_)*h:o;return _===1/0?1/0:_*u(f)}})},{"../internals/export":50}],170:[function(t,A,y){t("../internals/export")({target:"Math",stat:!0},{sign:t("../internals/math-sign")})},{"../internals/export":50,"../internals/math-sign":80}],171:[function(t,A,y){function d(q){var X,B,W,K,ee,re,oe,le=l(q,!1);if(typeof le=="string"&&2<le.length){if((q=(le=C(le)).charCodeAt(0))===43||q===45){if((X=le.charCodeAt(2))===88||X===120)return NaN}else if(q===48){switch(le.charCodeAt(1)){case 66:case 98:B=2,W=49;break;case 79:case 111:B=8,W=55;break;default:return+le}for(ee=(K=le.slice(2)).length,re=0;re<ee;re++)if((oe=K.charCodeAt(re))<48||W<oe)return NaN;return parseInt(K,B)}}return+le}var c=t("../internals/descriptors"),u=t("../internals/global"),x=t("../internals/is-forced"),j=t("../internals/redefine"),o=t("../internals/has"),h=t("../internals/classof-raw"),f=t("../internals/inherit-if-required"),l=t("../internals/to-primitive"),m=t("../internals/fails"),_=t("../internals/object-create"),w=t("../internals/object-get-own-property-names").f,v=t("../internals/object-get-own-property-descriptor").f,E=t("../internals/object-define-property").f,C=t("../internals/string-trim").trim,O="Number",U=u[O],N=U.prototype,D=h(_(N))==O;if(x(O,!U(" 0o1")||!U("0b1")||U("+0x1"))){for(var H,I=function(q){q=arguments.length<1?0:q;var X=this;return X instanceof I&&(D?m(function(){N.valueOf.call(X)}):h(X)!=O)?f(new U(d(q)),X,I):d(q)},V=c?w(U):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),G=0;V.length>G;G++)o(U,H=V[G])&&!o(I,H)&&E(I,H,v(U,H));(I.prototype=N).constructor=I,j(u,O,I)}},{"../internals/classof-raw":28,"../internals/descriptors":43,"../internals/fails":51,"../internals/global":59,"../internals/has":60,"../internals/inherit-if-required":67,"../internals/is-forced":73,"../internals/object-create":90,"../internals/object-define-property":92,"../internals/object-get-own-property-descriptor":93,"../internals/object-get-own-property-names":95,"../internals/redefine":108,"../internals/string-trim":129,"../internals/to-primitive":140}],172:[function(t,A,y){t("../internals/export")({target:"Number",stat:!0},{isFinite:t("../internals/number-is-finite")})},{"../internals/export":50,"../internals/number-is-finite":88}],173:[function(t,A,y){function d(f,l,m){return l===0?m:l%2==1?d(f,l-1,m*f):d(f*f,l/2,m)}var c=t("../internals/export"),u=t("../internals/to-integer"),x=t("../internals/this-number-value"),j=t("../internals/string-repeat"),o=(t=t("../internals/fails"),1 .toFixed),h=Math.floor;c({target:"Number",proto:!0,forced:o&&(8e-5.toFixed(3)!=="0.000"||.9.toFixed(0)!=="1"||1.255.toFixed(2)!=="1.25"||0xde0b6b3a7640080.toFixed(0)!=="1000000000000000128")||!t(function(){o.call({})})},{toFixed:function(f){function l(N,D){for(var H=-1,I=D;++H<6;)I+=N*C[H],C[H]=I%1e7,I=h(I/1e7)}function m(N){for(var D=6,H=0;0<=--D;)H+=C[D],C[D]=h(H/N),H=H%N*1e7}function _(){for(var N,D=6,H="";0<=--D;)H===""&&D!==0&&C[D]===0||(N=String(C[D]),H=H===""?N:H+j.call("0",7-N.length)+N);return H}var w,v,E=x(this),C=(f=u(f),[0,0,0,0,0,0]),O="",U="0";if(f<0||20<f)throw RangeError("Incorrect fraction digits");if(E!=E)return"NaN";if(E<=-1e21||1e21<=E)return String(E);if(E<0&&(O="-",E=-E),1e-21<E)if(E=(w=function(N){for(var D=0,H=N;4096<=H;)D+=12,H/=4096;for(;2<=H;)D+=1,H/=2;return D}(E*d(2,69,1))-69)<0?E*d(2,-w,1):E/d(2,w,1),E*=4503599627370496,0<(w=52-w)){for(l(0,E),v=f;7<=v;)l(1e7,0),v-=7;for(l(d(10,v,1),0),v=w-1;23<=v;)m(1<<23),v-=23;m(1<<v),l(1,1),m(2),U=_()}else l(0,E),l(1<<-w,0),U=_()+j.call("0",f);return 0<f?O+((E=U.length)<=f?"0."+j.call("0",f-E)+U:U.slice(0,E-f)+"."+U.slice(E-f)):O+U}})},{"../internals/export":50,"../internals/fails":51,"../internals/string-repeat":127,"../internals/this-number-value":131,"../internals/to-integer":135}],174:[function(t,A,y){var d=t("../internals/export");t=t("../internals/object-assign"),d({target:"Object",stat:!0,forced:Object.assign!==t},{assign:t})},{"../internals/export":50,"../internals/object-assign":89}],175:[function(t,A,y){var d=t("../internals/export"),c=t("../internals/iterate"),u=t("../internals/create-property");d({target:"Object",stat:!0},{fromEntries:function(x){var j={};return c(x,function(o,h){u(j,o,h)},void 0,!0),j}})},{"../internals/create-property":40,"../internals/export":50,"../internals/iterate":77}],176:[function(t,A,y){var d=t("../internals/export"),c=t("../internals/fails"),u=t("../internals/to-indexed-object"),x=t("../internals/object-get-own-property-descriptor").f;t=t("../internals/descriptors"),c=c(function(){x(1)}),d({target:"Object",stat:!0,forced:!t||c,sham:!t},{getOwnPropertyDescriptor:function(j,o){return x(u(j),o)}})},{"../internals/descriptors":43,"../internals/export":50,"../internals/fails":51,"../internals/object-get-own-property-descriptor":93,"../internals/to-indexed-object":134}],177:[function(t,A,y){var d=t("../internals/export"),c=t("../internals/fails");t=t("../internals/object-get-own-property-names-external").f,d({target:"Object",stat:!0,forced:c(function(){return!Object.getOwnPropertyNames(1)})},{getOwnPropertyNames:t})},{"../internals/export":50,"../internals/fails":51,"../internals/object-get-own-property-names-external":94}],178:[function(t,A,y){var d=t("../internals/export"),c=t("../internals/fails"),u=t("../internals/to-object"),x=t("../internals/object-get-prototype-of");t=t("../internals/correct-prototype-getter"),d({target:"Object",stat:!0,forced:c(function(){x(1)}),sham:!t},{getPrototypeOf:function(j){return x(u(j))}})},{"../internals/correct-prototype-getter":35,"../internals/export":50,"../internals/fails":51,"../internals/object-get-prototype-of":97,"../internals/to-object":137}],179:[function(t,A,y){var d=t("../internals/export"),c=t("../internals/to-object"),u=t("../internals/object-keys");d({target:"Object",stat:!0,forced:t("../internals/fails")(function(){u(1)})},{keys:function(x){return u(c(x))}})},{"../internals/export":50,"../internals/fails":51,"../internals/object-keys":99,"../internals/to-object":137}],180:[function(t,A,y){var d=t("../internals/to-string-tag-support"),c=t("../internals/redefine");t=t("../internals/object-to-string"),d||c(Object.prototype,"toString",t,{unsafe:!0})},{"../internals/object-to-string":102,"../internals/redefine":108,"../internals/to-string-tag-support":141}],181:[function(t,A,y){var d,c,u,x,j=t("../internals/export"),o=t("../internals/is-pure"),h=t("../internals/global"),f=t("../internals/get-built-in"),l=t("../internals/native-promise-constructor"),m=t("../internals/redefine"),_=t("../internals/redefine-all"),w=t("../internals/set-to-string-tag"),v=t("../internals/set-species"),E=t("../internals/is-object"),C=t("../internals/a-function"),O=t("../internals/an-instance"),U=t("../internals/classof-raw"),N=t("../internals/inspect-source"),D=t("../internals/iterate"),H=t("../internals/check-correctness-of-iteration"),I=t("../internals/species-constructor"),V=t("../internals/task").set,G=t("../internals/microtask"),q=t("../internals/promise-resolve"),X=t("../internals/host-report-errors"),B=t("../internals/new-promise-capability"),W=t("../internals/perform"),K=t("../internals/internal-state"),ee=t("../internals/is-forced"),re=t("../internals/well-known-symbol"),oe=t("../internals/engine-v8-version"),le=re("species"),me="Promise",$=K.get,Q=K.set,se=K.getterFor(me),de=l,ge=h.TypeError,ve=h.document,ae=h.process,ye=f("fetch"),Se=B.f,Me=Se,Ee=U(ae)=="process",Te=!!(ve&&ve.createEvent&&h.dispatchEvent),Pe="unhandledrejection",Ke=(re=(t=ee(me,function(){var je,Ve;return N(de)===String(de)&&(oe===66||!Ee&&typeof PromiseRejectionEvent!="function")?!0:!((!o||de.prototype.finally)&&(51<=oe&&/native code/.test(de)||(Ve=function(He){He(function(){},function(){})},((je=de.resolve(1)).constructor={})[le]=Ve,je.then(function(){})instanceof Ve)))}))||!H(function(je){de.all(je).catch(function(){})}),function(je){var Ve;return!(!E(je)||typeof(Ve=je.then)!="function")&&Ve}),Ge=function(je,Ve,He){var nt;Ve.notified||(Ve.notified=!0,nt=Ve.reactions,G(function(){for(var vt,Lt,xt=Ve.value,mt=Ve.state==1,fe=0;nt.length>fe;){var ue,he,we,Oe=nt[fe++],We=mt?Oe.ok:Oe.fail,lt=Oe.resolve,st=Oe.reject,De=Oe.domain;try{We?(mt||(Ve.rejection===2&&function(ht,_t){V.call(h,function(){Ee?ae.emit("rejectionHandled",ht):et("rejectionhandled",ht,_t.value)})}(je,Ve),Ve.rejection=1),We===!0?ue=xt:(De&&De.enter(),ue=We(xt),De&&(De.exit(),we=!0)),ue===Oe.promise?st(ge("Promise-chain cycle")):(he=Ke(ue))?he.call(ue,lt,st):lt(ue)):st(xt)}catch(ht){De&&!we&&De.exit(),st(ht)}}Ve.reactions=[],Ve.notified=!1,He&&!Ve.rejection&&(vt=je,Lt=Ve,V.call(h,function(){var ht=Lt.value,_t=ft(Lt);if(_t&&(_t=W(function(){Ee?ae.emit("unhandledRejection",ht,vt):et(Pe,vt,ht)}),Lt.rejection=Ee||ft(Lt)?2:1,_t.error))throw _t.value}))}))},et=function(je,Ve,He){var nt;Te?((nt=ve.createEvent("Event")).promise=Ve,nt.reason=He,nt.initEvent(je,!1,!0),h.dispatchEvent(nt)):nt={promise:Ve,reason:He},(Ve=h["on"+je])?Ve(nt):je===Pe&&X("Unhandled promise rejection",He)},ft=function(je){return je.rejection!==1&&!je.parent},ot=function(je,Ve,He,nt){return function(vt){je(Ve,He,vt,nt)}},Pt=function(je,Ve,He,nt){Ve.done||(Ve.done=!0,(Ve=nt||Ve).value=He,Ve.state=2,Ge(je,Ve,!0))},bt=function(je,Ve,He,nt){if(!Ve.done){Ve.done=!0,nt&&(Ve=nt);try{if(je===He)throw ge("Promise can't be resolved itself");var vt=Ke(He);vt?G(function(){var Lt={done:!1};try{vt.call(He,ot(bt,je,Lt,Ve),ot(Pt,je,Lt,Ve))}catch(xt){Pt(je,Lt,xt,Ve)}}):(Ve.value=He,Ve.state=1,Ge(je,Ve,!1))}catch(Lt){Pt(je,{done:!1},Lt,Ve)}}};t&&(de=function(je){O(this,de,me),C(je),d.call(this);var Ve=$(this);try{je(ot(bt,this,Ve),ot(Pt,this,Ve))}catch(He){Pt(this,Ve,He)}},(d=function(je){Q(this,{type:me,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=_(de.prototype,{then:function(je,Ve){var He=se(this),nt=Se(I(this,de));return nt.ok=typeof je!="function"||je,nt.fail=typeof Ve=="function"&&Ve,nt.domain=Ee?ae.domain:void 0,He.parent=!0,He.reactions.push(nt),He.state!=0&&Ge(this,He,!1),nt.promise},catch:function(je){return this.then(void 0,je)}}),c=function(){var je=new d,Ve=$(je);this.promise=je,this.resolve=ot(bt,je,Ve),this.reject=ot(Pt,je,Ve)},B.f=Se=function(je){return je===de||je===u?new c:Me(je)},o||typeof l!="function"||(x=l.prototype.then,m(l.prototype,"then",function(je,Ve){var He=this;return new de(function(nt,vt){x.call(He,nt,vt)}).then(je,Ve)},{unsafe:!0}),typeof ye=="function"&&j({global:!0,enumerable:!0,forced:!0},{fetch:function(je){return q(de,ye.apply(h,arguments))}}))),j({global:!0,wrap:!0,forced:t},{Promise:de}),w(de,me,!1,!0),v(me),u=f(me),j({target:me,stat:!0,forced:t},{reject:function(je){var Ve=Se(this);return Ve.reject.call(void 0,je),Ve.promise}}),j({target:me,stat:!0,forced:o||t},{resolve:function(je){return q(o&&this===u?de:this,je)}}),j({target:me,stat:!0,forced:re},{all:function(je){var Ve=this,He=Se(Ve),nt=He.resolve,vt=He.reject,Lt=W(function(){var xt=C(Ve.resolve),mt=[],fe=0,ue=1;D(je,function(he){var we=fe++,Oe=!1;mt.push(void 0),ue++,xt.call(Ve,he).then(function(We){Oe||(Oe=!0,mt[we]=We,--ue||nt(mt))},vt)}),--ue||nt(mt)});return Lt.error&&vt(Lt.value),He.promise},race:function(je){var Ve=this,He=Se(Ve),nt=He.reject,vt=W(function(){var Lt=C(Ve.resolve);D(je,function(xt){Lt.call(Ve,xt).then(He.resolve,nt)})});return vt.error&&nt(vt.value),He.promise}})},{"../internals/a-function":5,"../internals/an-instance":9,"../internals/check-correctness-of-iteration":27,"../internals/classof-raw":28,"../internals/engine-v8-version":48,"../internals/export":50,"../internals/get-built-in":56,"../internals/global":59,"../internals/host-report-errors":62,"../internals/inspect-source":68,"../internals/internal-state":70,"../internals/is-forced":73,"../internals/is-object":74,"../internals/is-pure":75,"../internals/iterate":77,"../internals/microtask":81,"../internals/native-promise-constructor":82,"../internals/new-promise-capability":86,"../internals/perform":105,"../internals/promise-resolve":106,"../internals/redefine":108,"../internals/redefine-all":107,"../internals/set-species":116,"../internals/set-to-string-tag":117,"../internals/species-constructor":121,"../internals/task":130,"../internals/well-known-symbol":148}],182:[function(t,A,y){var d=t("../internals/export"),c=t("../internals/get-built-in"),u=t("../internals/a-function"),x=t("../internals/an-object"),j=t("../internals/is-object"),o=t("../internals/object-create"),h=t("../internals/function-bind"),f=(t=t("../internals/fails"),c("Reflect","construct")),l=t(function(){function _(){}return!(f(function(){},[],_)instanceof _)}),m=!t(function(){f(function(){})});d({target:"Reflect",stat:!0,forced:c=l||m,sham:c},{construct:function(_,w){u(_),x(w);var v=arguments.length<3?_:u(arguments[2]);if(m&&!l)return f(_,w,v);if(_==v){switch(w.length){case 0:return new _;case 1:return new _(w[0]);case 2:return new _(w[0],w[1]);case 3:return new _(w[0],w[1],w[2]);case 4:return new _(w[0],w[1],w[2],w[3])}var E=[null];return E.push.apply(E,w),new(h.apply(_,E))}return E=v.prototype,v=o(j(E)?E:Object.prototype),E=Function.apply.call(_,v,w),j(E)?E:v}})},{"../internals/a-function":5,"../internals/an-object":10,"../internals/export":50,"../internals/fails":51,"../internals/function-bind":55,"../internals/get-built-in":56,"../internals/is-object":74,"../internals/object-create":90}],183:[function(t,A,y){var d=t("../internals/export"),c=t("../internals/is-object"),u=t("../internals/an-object"),x=t("../internals/has"),j=t("../internals/object-get-own-property-descriptor"),o=t("../internals/object-get-prototype-of");d({target:"Reflect",stat:!0},{get:function h(f,l){var m,_=arguments.length<3?f:arguments[2];return u(f)===_?f[l]:(m=j.f(f,l))?x(m,"value")?m.value:m.get===void 0?void 0:m.get.call(_):c(m=o(f))?h(m,l,_):void 0}})},{"../internals/an-object":10,"../internals/export":50,"../internals/has":60,"../internals/is-object":74,"../internals/object-get-own-property-descriptor":93,"../internals/object-get-prototype-of":97}],184:[function(t,A,y){var d=t("../internals/descriptors"),c=t("../internals/global"),u=t("../internals/is-forced"),x=t("../internals/inherit-if-required"),j=t("../internals/object-define-property").f,o=t("../internals/object-get-own-property-names").f,h=t("../internals/is-regexp"),f=t("../internals/regexp-flags"),l=t("../internals/regexp-sticky-helpers"),m=t("../internals/redefine"),_=t("../internals/fails"),w=t("../internals/internal-state").set,v=t("../internals/set-species"),E=t("../internals/well-known-symbol")("match"),C=c.RegExp,O=C.prototype,U=/a/g,N=/a/g,D=new C(U)!==U,H=l.UNSUPPORTED_Y;if(d&&u("RegExp",!D||H||_(function(){return N[E]=!1,C(U)!=U||C(N)==N||C(U,"i")!="/a/i"}))){for(var I=function(q,X){var B,W=this instanceof I,K=h(q),ee=X===void 0;return!W&&K&&q.constructor===I&&ee?q:(D?K&&!ee&&(q=q.source):q instanceof I&&(ee&&(X=f.call(q)),q=q.source),H&&(B=!!X&&-1<X.indexOf("y"))&&(X=X.replace(/y/g,"")),K=x(D?new C(q,X):C(q,X),W?this:O,I),H&&B&&w(K,{sticky:B}),K)},V=o(C),G=0;V.length>G;)(function(q){q in I||j(I,q,{configurable:!0,get:function(){return C[q]},set:function(X){C[q]=X}})})(V[G++]);(O.constructor=I).prototype=O,m(c,"RegExp",I)}v("RegExp")},{"../internals/descriptors":43,"../internals/fails":51,"../internals/global":59,"../internals/inherit-if-required":67,"../internals/internal-state":70,"../internals/is-forced":73,"../internals/is-regexp":76,"../internals/object-define-property":92,"../internals/object-get-own-property-names":95,"../internals/redefine":108,"../internals/regexp-flags":111,"../internals/regexp-sticky-helpers":112,"../internals/set-species":116,"../internals/well-known-symbol":148}],185:[function(t,A,y){var d=t("../internals/export");t=t("../internals/regexp-exec"),d({target:"RegExp",proto:!0,forced:/./.exec!==t},{exec:t})},{"../internals/export":50,"../internals/regexp-exec":110}],186:[function(t,A,y){var d=t("../internals/redefine"),c=t("../internals/an-object"),u=t("../internals/fails"),x=t("../internals/regexp-flags"),j=(t="toString",RegExp.prototype),o=j[t],h=(u=u(function(){return o.call({source:"a",flags:"b"})!="/a/b"}),o.name!=t);(u||h)&&d(RegExp.prototype,t,function(){var f=c(this),l=String(f.source),m=f.flags;return"/"+l+"/"+String(m===void 0&&f instanceof RegExp&&!("flags"in j)?x.call(f):m)},{unsafe:!0})},{"../internals/an-object":10,"../internals/fails":51,"../internals/redefine":108,"../internals/regexp-flags":111}],187:[function(t,A,y){var d=t("../internals/collection");t=t("../internals/collection-strong"),A.exports=d("Set",function(c){return function(){return c(this,arguments.length?arguments[0]:void 0)}},t)},{"../internals/collection":32,"../internals/collection-strong":30}],188:[function(t,A,y){var d=t("../internals/export"),c=t("../internals/object-get-own-property-descriptor").f,u=t("../internals/to-length"),x=t("../internals/not-a-regexp"),j=t("../internals/require-object-coercible"),o=t("../internals/correct-is-regexp-logic"),h=(t=t("../internals/is-pure"),"".endsWith),f=Math.min;o=o("endsWith"),d({target:"String",proto:!0,forced:!(!t&&!o&&(d=c(String.prototype,"endsWith"))&&!d.writable||o)},{endsWith:function(l){var m=String(j(this)),_=(x(l),1<arguments.length?arguments[1]:void 0),w=u(m.length);return _=_===void 0?w:f(u(_),w),w=String(l),h?h.call(m,w,_):m.slice(_-w.length,_)===w}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/is-pure":75,"../internals/not-a-regexp":87,"../internals/object-get-own-property-descriptor":93,"../internals/require-object-coercible":113,"../internals/to-length":136}],189:[function(t,A,y){var d=t("../internals/export"),c=t("../internals/not-a-regexp"),u=t("../internals/require-object-coercible");d({target:"String",proto:!0,forced:!t("../internals/correct-is-regexp-logic")("includes")},{includes:function(x){return!!~String(u(this)).indexOf(c(x),1<arguments.length?arguments[1]:void 0)}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/not-a-regexp":87,"../internals/require-object-coercible":113}],190:[function(t,A,y){var d=t("../internals/string-multibyte").charAt,c=t("../internals/internal-state"),u=(t=t("../internals/define-iterator"),"String Iterator"),x=c.set,j=c.getterFor(u);t(String,"String",function(o){x(this,{type:u,string:String(o),index:0})},function(){var o=j(this),h=o.string,f=o.index;return f>=h.length?{value:void 0,done:!0}:(h=d(h,f),o.index+=h.length,{value:h,done:!1})})},{"../internals/define-iterator":41,"../internals/internal-state":70,"../internals/string-multibyte":123}],191:[function(t,A,y){var d=t("../internals/fix-regexp-well-known-symbol-logic"),c=t("../internals/an-object"),u=t("../internals/to-length"),x=t("../internals/require-object-coercible"),j=t("../internals/advance-string-index"),o=t("../internals/regexp-exec-abstract");d("match",1,function(h,f,l){return[function(m){var _=x(this),w=m==null?void 0:m[h];return w!==void 0?w.call(m,_):new RegExp(m)[h](String(_))},function(m){var _=l(f,m,this);if(_.done)return _.value;var w=c(m),v=String(this);if(!w.global)return o(w,v);for(var E=w.unicode,C=[],O=w.lastIndex=0;(U=o(w,v))!==null;){var U=String(U[0]);(C[O]=U)===""&&(w.lastIndex=j(v,u(w.lastIndex),E)),O++}return O===0?null:C}]})},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":109,"../internals/require-object-coercible":113,"../internals/to-length":136}],192:[function(t,A,y){var d=t("../internals/export"),c=t("../internals/string-pad").start;d({target:"String",proto:!0,forced:t("../internals/string-pad-webkit-bug")},{padStart:function(u){return c(this,u,1<arguments.length?arguments[1]:void 0)}})},{"../internals/export":50,"../internals/string-pad":125,"../internals/string-pad-webkit-bug":124}],193:[function(t,A,y){t("../internals/export")({target:"String",proto:!0},{repeat:t("../internals/string-repeat")})},{"../internals/export":50,"../internals/string-repeat":127}],194:[function(t,A,y){var d=t("../internals/fix-regexp-well-known-symbol-logic"),c=t("../internals/an-object"),u=t("../internals/to-object"),x=t("../internals/to-length"),j=t("../internals/to-integer"),o=t("../internals/require-object-coercible"),h=t("../internals/advance-string-index"),f=t("../internals/regexp-exec-abstract"),l=Math.max,m=Math.min,_=Math.floor,w=/\$([$&'`]|\d\d?|<[^>]*>)/g,v=/\$([$&'`]|\d\d?)/g;d("replace",2,function(E,C,O,U){var N=U.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,D=U.REPLACE_KEEPS_$0,H=N?"$":"$0";return[function(I,V){var G=o(this),q=I==null?void 0:I[E];return q!==void 0?q.call(I,G,V):C.call(String(G),I,V)},function(I,V){if(!N&&D||typeof V=="string"&&V.indexOf(H)===-1){var G=O(C,I,this,V);if(G.done)return G.value}for(var q,X=c(I),B=String(this),W=typeof V=="function",K=(W||(V=String(V)),X.global),ee=(K&&(q=X.unicode,X.lastIndex=0),[]);($=f(X,B))!==null&&(ee.push($),K);)String($[0])===""&&(X.lastIndex=h(B,x(X.lastIndex),q));for(var re,oe="",le=0,me=0;me<ee.length;me++){for(var $=ee[me],Q=String($[0]),se=l(m(j($.index),B.length),0),de=[],ge=1;ge<$.length;ge++)de.push((re=$[ge])===void 0?re:String(re));var ve=$.groups,ae=W?(ae=[Q].concat(de,se,B),ve!==void 0&&ae.push(ve),String(V.apply(void 0,ae))):function(ye,Se,Me,Ee,Te,Pe){var Ke=Me+ye.length,Ge=Ee.length,et=v;return Te!==void 0&&(Te=u(Te),et=w),C.call(Pe,et,function(ft,ot){var Pt;switch(ot.charAt(0)){case"$":return"$";case"&":return ye;case"`":return Se.slice(0,Me);case"'":return Se.slice(Ke);case"<":Pt=Te[ot.slice(1,-1)];break;default:var bt,je=+ot;if(je==0)return ft;if(Ge<je)return(bt=_(je/10))!==0&&bt<=Ge?Ee[bt-1]===void 0?ot.charAt(1):Ee[bt-1]+ot.charAt(1):ft;Pt=Ee[je-1]}return Pt===void 0?"":Pt})}(Q,B,se,de,ve,V);le<=se&&(oe+=B.slice(le,se)+ae,le=se+Q.length)}return oe+B.slice(le)}]})},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":109,"../internals/require-object-coercible":113,"../internals/to-integer":135,"../internals/to-length":136,"../internals/to-object":137}],195:[function(t,A,y){var d=t("../internals/fix-regexp-well-known-symbol-logic"),c=t("../internals/an-object"),u=t("../internals/require-object-coercible"),x=t("../internals/same-value"),j=t("../internals/regexp-exec-abstract");d("search",1,function(o,h,f){return[function(l){var m=u(this),_=l==null?void 0:l[o];return _!==void 0?_.call(l,m):new RegExp(l)[o](String(m))},function(l){var m,_=f(h,l,this);return _.done?_.value:(_=c(l),l=String(this),m=_.lastIndex,x(m,0)||(_.lastIndex=0),l=j(_,l),x(_.lastIndex,m)||(_.lastIndex=m),l===null?-1:l.index)}]})},{"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":109,"../internals/require-object-coercible":113,"../internals/same-value":114}],196:[function(t,A,y){var d=t("../internals/fix-regexp-well-known-symbol-logic"),c=t("../internals/is-regexp"),u=t("../internals/an-object"),x=t("../internals/require-object-coercible"),j=t("../internals/species-constructor"),o=t("../internals/advance-string-index"),h=t("../internals/to-length"),f=t("../internals/regexp-exec-abstract"),l=t("../internals/regexp-exec"),m=(t=t("../internals/fails"),[].push),_=Math.min,w=4294967295,v=!t(function(){return!RegExp(w,"y")});d("split",2,function(E,C,O){var U="abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||1<".".split(/()()/).length||"".split(/.?/).length?function(N,D){var H=String(x(this)),I=D===void 0?w:D>>>0;if(I==0)return[];if(N===void 0)return[H];if(!c(N))return C.call(H,N,I);for(var V,G,q,X=[],B=(D=(N.ignoreCase?"i":"")+(N.multiline?"m":"")+(N.unicode?"u":"")+(N.sticky?"y":""),0),W=new RegExp(N.source,D+"g");(V=l.call(W,H))&&!(B<(G=W.lastIndex)&&(X.push(H.slice(B,V.index)),1<V.length&&V.index<H.length&&m.apply(X,V.slice(1)),q=V[0].length,B=G,X.length>=I));)W.lastIndex===V.index&&W.lastIndex++;return B===H.length?!q&&W.test("")||X.push(""):X.push(H.slice(B)),X.length>I?X.slice(0,I):X}:"0".split(void 0,0).length?function(N,D){return N===void 0&&D===0?[]:C.call(this,N,D)}:C;return[function(N,D){var H=x(this),I=N==null?void 0:N[E];return I!==void 0?I.call(N,H,D):U.call(String(H),N,D)},function(N,D){if((H=O(U,N,this,D,U!==C)).done)return H.value;var H=u(N),I=String(this),V=(N=j(H,RegExp),H.unicode),G=(H.ignoreCase?"i":"")+(H.multiline?"m":"")+(H.unicode?"u":"")+(v?"y":"g"),q=new N(v?H:"^(?:"+H.source+")",G),X=D===void 0?w:D>>>0;if(X==0)return[];if(I.length===0)return f(q,I)===null?[I]:[];for(var B=0,W=0,K=[];W<I.length;){q.lastIndex=v?W:0;var ee,re=f(q,v?I:I.slice(W));if(re===null||(ee=_(h(q.lastIndex+(v?0:W)),I.length))===B)W=o(I,W,V);else{if(K.push(I.slice(B,W)),K.length===X)return K;for(var oe=1;oe<=re.length-1;oe++)if(K.push(re[oe]),K.length===X)return K;W=B=ee}}return K.push(I.slice(B)),K}]},!v)},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fails":51,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/is-regexp":76,"../internals/regexp-exec":110,"../internals/regexp-exec-abstract":109,"../internals/require-object-coercible":113,"../internals/species-constructor":121,"../internals/to-length":136}],197:[function(t,A,y){var d=t("../internals/export"),c=t("../internals/object-get-own-property-descriptor").f,u=t("../internals/to-length"),x=t("../internals/not-a-regexp"),j=t("../internals/require-object-coercible"),o=t("../internals/correct-is-regexp-logic"),h=(t=t("../internals/is-pure"),"".startsWith),f=Math.min;o=o("startsWith"),d({target:"String",proto:!0,forced:!(!t&&!o&&(d=c(String.prototype,"startsWith"))&&!d.writable||o)},{startsWith:function(l){var m=String(j(this)),_=(x(l),u(f(1<arguments.length?arguments[1]:void 0,m.length)));return l=String(l),h?h.call(m,l,_):m.slice(_,_+l.length)===l}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/is-pure":75,"../internals/not-a-regexp":87,"../internals/object-get-own-property-descriptor":93,"../internals/require-object-coercible":113,"../internals/to-length":136}],198:[function(t,A,y){var d=t("../internals/export"),c=t("../internals/create-html");d({target:"String",proto:!0,forced:t("../internals/string-html-forced")("sub")},{sub:function(){return c(this,"sub","","")}})},{"../internals/create-html":36,"../internals/export":50,"../internals/string-html-forced":122}],199:[function(t,A,y){var d=t("../internals/export"),c=t("../internals/string-trim").trim;d({target:"String",proto:!0,forced:t("../internals/string-trim-forced")("trim")},{trim:function(){return c(this)}})},{"../internals/export":50,"../internals/string-trim":129,"../internals/string-trim-forced":128}],200:[function(t,A,y){var d,c,u,x,j,o=t("../internals/export"),h=t("../internals/descriptors"),f=t("../internals/global"),l=t("../internals/has"),m=t("../internals/is-object"),_=t("../internals/object-define-property").f,w=(t=t("../internals/copy-constructor-properties"),f.Symbol);!h||typeof w!="function"||"description"in w.prototype&&w().description===void 0||(d={},t(c=function(){var v=arguments.length<1||arguments[0]===void 0?void 0:String(arguments[0]),E=this instanceof c?new w(v):v===void 0?w():w(v);return v===""&&(d[E]=!0),E},w),(f=c.prototype=w.prototype).constructor=c,u=f.toString,x=String(w("test"))=="Symbol(test)",j=/^Symbol\((.*)\)[^)]+$/,_(f,"description",{configurable:!0,get:function(){var v=m(this)?this.valueOf():this,E=u.call(v);return l(d,v)?"":(v=x?E.slice(7,-1):E.replace(j,"$1"))===""?void 0:v}}),o({global:!0,forced:!0},{Symbol:c}))},{"../internals/copy-constructor-properties":33,"../internals/descriptors":43,"../internals/export":50,"../internals/global":59,"../internals/has":60,"../internals/is-object":74,"../internals/object-define-property":92}],201:[function(t,A,y){t("../internals/define-well-known-symbol")("iterator")},{"../internals/define-well-known-symbol":42}],202:[function(t,A,y){function d(ue,he){var we=bt[ue]=I(Ke[Me]);return Ee(we,{type:Se,tag:ue,description:he}),l||(we.description=he),we}function c(ue,he){O(ue);var we=N(he);return he=V(we).concat(fe(we)),ae(he,function(Oe){l&&!mt.call(we,Oe)||xt(ue,Oe,we[Oe])}),ue}function u(ue,he){var we;if(ue=N(ue),he=D(he,!0),ue!==Pe||!v(bt,he)||v(je,he))return!(we=et(ue,he))||!v(bt,he)||v(ue,ye)&&ue[ye][he]||(we.enumerable=!0),we}function x(ue){ue=ot(N(ue));var he=[];return ae(ue,function(we){v(bt,we)||v(me,we)||he.push(we)}),he}var j=t("../internals/export"),o=t("../internals/global"),h=t("../internals/get-built-in"),f=t("../internals/is-pure"),l=t("../internals/descriptors"),m=t("../internals/native-symbol"),_=t("../internals/use-symbol-as-uid"),w=t("../internals/fails"),v=t("../internals/has"),E=t("../internals/is-array"),C=t("../internals/is-object"),O=t("../internals/an-object"),U=t("../internals/to-object"),N=t("../internals/to-indexed-object"),D=t("../internals/to-primitive"),H=t("../internals/create-property-descriptor"),I=t("../internals/object-create"),V=t("../internals/object-keys"),G=t("../internals/object-get-own-property-names"),q=t("../internals/object-get-own-property-names-external"),X=t("../internals/object-get-own-property-symbols"),B=t("../internals/object-get-own-property-descriptor"),W=t("../internals/object-define-property"),K=t("../internals/object-property-is-enumerable"),ee=t("../internals/create-non-enumerable-property"),re=t("../internals/redefine"),oe=t("../internals/shared"),le=t("../internals/shared-key"),me=t("../internals/hidden-keys"),$=t("../internals/uid"),Q=t("../internals/well-known-symbol"),se=t("../internals/well-known-symbol-wrapped"),de=t("../internals/define-well-known-symbol"),ge=t("../internals/set-to-string-tag"),ve=t("../internals/internal-state"),ae=t("../internals/array-iteration").forEach,ye=le("hidden"),Se="Symbol",Me="prototype",Ee=(t=Q("toPrimitive"),ve.set),Te=ve.getterFor(Se),Pe=Object[Me],Ke=o.Symbol,Ge=h("JSON","stringify"),et=B.f,ft=W.f,ot=q.f,Pt=K.f,bt=oe("symbols"),je=oe("op-symbols"),Ve=oe("string-to-symbol-registry"),He=oe("symbol-to-string-registry"),nt=(le=oe("wks"),!(ve=o.QObject)||!ve[Me]||!ve[Me].findChild),vt=l&&w(function(){return I(ft({},"a",{get:function(){return ft(this,"a",{value:7}).a}})).a!=7})?function(ue,he,we){var Oe=et(Pe,he);Oe&&delete Pe[he],ft(ue,he,we),Oe&&ue!==Pe&&ft(Pe,he,Oe)}:ft,Lt=_?function(ue){return typeof ue=="symbol"}:function(ue){return Object(ue)instanceof Ke},xt=function(ue,he,we){return ue===Pe&&xt(je,he,we),O(ue),he=D(he,!0),O(we),(v(bt,he)?(we.enumerable?(v(ue,ye)&&ue[ye][he]&&(ue[ye][he]=!1),we=I(we,{enumerable:H(0,!1)})):(v(ue,ye)||ft(ue,ye,H(1,{})),ue[ye][he]=!0),vt):ft)(ue,he,we)},mt=function(ue){ue=D(ue,!0);var he=Pt.call(this,ue);return!(this===Pe&&v(bt,ue)&&!v(je,ue))&&(!(he||!v(this,ue)||!v(bt,ue)||v(this,ye)&&this[ye][ue])||he)},fe=function(ue){var he=ue===Pe,we=(ue=ot(he?je:N(ue)),[]);return ae(ue,function(Oe){!v(bt,Oe)||he&&!v(Pe,Oe)||we.push(bt[Oe])}),we};m||(re((Ke=function(){if(this instanceof Ke)throw TypeError("Symbol is not a constructor");var ue=arguments.length&&arguments[0]!==void 0?String(arguments[0]):void 0,he=$(ue),we=function(Oe){this===Pe&&we.call(je,Oe),v(this,ye)&&v(this[ye],he)&&(this[ye][he]=!1),vt(this,he,H(1,Oe))};return l&&nt&&vt(Pe,he,{configurable:!0,set:we}),d(he,ue)})[Me],"toString",function(){return Te(this).tag}),re(Ke,"withoutSetter",function(ue){return d($(ue),ue)}),K.f=mt,W.f=xt,B.f=u,G.f=q.f=x,X.f=fe,se.f=function(ue){return d(Q(ue),ue)},l&&(ft(Ke[Me],"description",{configurable:!0,get:function(){return Te(this).description}}),f||re(Pe,"propertyIsEnumerable",mt,{unsafe:!0}))),j({global:!0,wrap:!0,forced:!m,sham:!m},{Symbol:Ke}),ae(V(le),function(ue){de(ue)}),j({target:Se,stat:!0,forced:!m},{for:function(ue){var he;return ue=String(ue),v(Ve,ue)?Ve[ue]:(he=Ke(ue),Ve[ue]=he,He[he]=ue,he)},keyFor:function(ue){if(!Lt(ue))throw TypeError(ue+" is not a symbol");if(v(He,ue))return He[ue]},useSetter:function(){nt=!0},useSimple:function(){nt=!1}}),j({target:"Object",stat:!0,forced:!m,sham:!l},{create:function(ue,he){return he===void 0?I(ue):c(I(ue),he)},defineProperty:xt,defineProperties:c,getOwnPropertyDescriptor:u}),j({target:"Object",stat:!0,forced:!m},{getOwnPropertyNames:x,getOwnPropertySymbols:fe}),j({target:"Object",stat:!0,forced:w(function(){X.f(1)})},{getOwnPropertySymbols:function(ue){return X.f(U(ue))}}),Ge&&j({target:"JSON",stat:!0,forced:!m||w(function(){var ue=Ke();return Ge([ue])!="[null]"||Ge({a:ue})!="{}"||Ge(Object(ue))!="{}"})},{stringify:function(ue,he,we){for(var Oe,We=[ue],lt=1;lt<arguments.length;)We.push(arguments[lt++]);if((C(Oe=he)||ue!==void 0)&&!Lt(ue))return E(he)||(he=function(st,De){if(typeof Oe=="function"&&(De=Oe.call(this,st,De)),!Lt(De))return De}),We[1]=he,Ge.apply(null,We)}}),Ke[Me][t]||ee(Ke[Me],t,Ke[Me].valueOf),ge(Ke,Se),me[ye]=!0},{"../internals/an-object":10,"../internals/array-iteration":19,"../internals/create-non-enumerable-property":38,"../internals/create-property-descriptor":39,"../internals/define-well-known-symbol":42,"../internals/descriptors":43,"../internals/export":50,"../internals/fails":51,"../internals/get-built-in":56,"../internals/global":59,"../internals/has":60,"../internals/hidden-keys":61,"../internals/internal-state":70,"../internals/is-array":72,"../internals/is-object":74,"../internals/is-pure":75,"../internals/native-symbol":83,"../internals/object-create":90,"../internals/object-define-property":92,"../internals/object-get-own-property-descriptor":93,"../internals/object-get-own-property-names":95,"../internals/object-get-own-property-names-external":94,"../internals/object-get-own-property-symbols":96,"../internals/object-keys":99,"../internals/object-property-is-enumerable":100,"../internals/redefine":108,"../internals/set-to-string-tag":117,"../internals/shared":120,"../internals/shared-key":118,"../internals/to-indexed-object":134,"../internals/to-object":137,"../internals/to-primitive":140,"../internals/uid":145,"../internals/use-symbol-as-uid":146,"../internals/well-known-symbol":148,"../internals/well-known-symbol-wrapped":147}],203:[function(t,A,y){var d=t("../internals/array-buffer-view-core"),c=t("../internals/array-copy-within"),u=d.aTypedArray;(0,d.exportTypedArrayMethod)("copyWithin",function(x,j){return c.call(u(this),x,j,2<arguments.length?arguments[2]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-copy-within":14}],204:[function(t,A,y){var d=t("../internals/array-buffer-view-core"),c=t("../internals/array-iteration").every,u=d.aTypedArray;(0,d.exportTypedArrayMethod)("every",function(x){return c(u(this),x,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],205:[function(t,A,y){var d=t("../internals/array-buffer-view-core"),c=t("../internals/array-fill"),u=d.aTypedArray;(0,d.exportTypedArrayMethod)("fill",function(x){return c.apply(u(this),arguments)})},{"../internals/array-buffer-view-core":12,"../internals/array-fill":15}],206:[function(t,A,y){var d=t("../internals/array-buffer-view-core"),c=t("../internals/array-iteration").filter,u=t("../internals/species-constructor"),x=d.aTypedArray,j=d.aTypedArrayConstructor;(0,d.exportTypedArrayMethod)("filter",function(o){for(var h=c(x(this),o,1<arguments.length?arguments[1]:void 0),f=(o=u(this,this.constructor),0),l=h.length,m=new(j(o))(l);f<l;)m[f]=h[f++];return m})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/species-constructor":121}],207:[function(t,A,y){var d=t("../internals/array-buffer-view-core"),c=t("../internals/array-iteration").findIndex,u=d.aTypedArray;(0,d.exportTypedArrayMethod)("findIndex",function(x){return c(u(this),x,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],208:[function(t,A,y){var d=t("../internals/array-buffer-view-core"),c=t("../internals/array-iteration").find,u=d.aTypedArray;(0,d.exportTypedArrayMethod)("find",function(x){return c(u(this),x,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],209:[function(t,A,y){t("../internals/typed-array-constructor")("Float32",function(d){return function(c,u,x){return d(this,c,u,x)}})},{"../internals/typed-array-constructor":142}],210:[function(t,A,y){t("../internals/typed-array-constructor")("Float64",function(d){return function(c,u,x){return d(this,c,u,x)}})},{"../internals/typed-array-constructor":142}],211:[function(t,A,y){var d=t("../internals/array-buffer-view-core"),c=t("../internals/array-iteration").forEach,u=d.aTypedArray;(0,d.exportTypedArrayMethod)("forEach",function(x){c(u(this),x,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],212:[function(t,A,y){var d=t("../internals/array-buffer-view-core"),c=t("../internals/array-includes").includes,u=d.aTypedArray;(0,d.exportTypedArrayMethod)("includes",function(x){return c(u(this),x,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-includes":18}],213:[function(t,A,y){var d=t("../internals/array-buffer-view-core"),c=t("../internals/array-includes").indexOf,u=d.aTypedArray;(0,d.exportTypedArrayMethod)("indexOf",function(x){return c(u(this),x,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-includes":18}],214:[function(t,A,y){t("../internals/typed-array-constructor")("Int16",function(d){return function(c,u,x){return d(this,c,u,x)}})},{"../internals/typed-array-constructor":142}],215:[function(t,A,y){t("../internals/typed-array-constructor")("Int32",function(d){return function(c,u,x){return d(this,c,u,x)}})},{"../internals/typed-array-constructor":142}],216:[function(t,A,y){function d(){return j.call(f(this))}var c=t("../internals/global"),u=t("../internals/array-buffer-view-core"),x=t("../modules/es.array.iterator"),j=(t=t("../internals/well-known-symbol")("iterator"),c=c.Uint8Array,x.values),o=x.keys,h=x.entries,f=u.aTypedArray;x=u.exportTypedArrayMethod,c=!!(u=c&&c.prototype[t])&&(u.name=="values"||u.name==null),x("entries",function(){return h.call(f(this))}),x("keys",function(){return o.call(f(this))}),x("values",d,!c),x(t,d,!c)},{"../internals/array-buffer-view-core":12,"../internals/global":59,"../internals/well-known-symbol":148,"../modules/es.array.iterator":160}],217:[function(t,A,y){var d=(t=t("../internals/array-buffer-view-core")).aTypedArray,c=(t=t.exportTypedArrayMethod,[].join);t("join",function(u){return c.apply(d(this),arguments)})},{"../internals/array-buffer-view-core":12}],218:[function(t,A,y){var d=t("../internals/array-buffer-view-core"),c=t("../internals/array-last-index-of"),u=d.aTypedArray;(0,d.exportTypedArrayMethod)("lastIndexOf",function(x){return c.apply(u(this),arguments)})},{"../internals/array-buffer-view-core":12,"../internals/array-last-index-of":20}],219:[function(t,A,y){var d=t("../internals/array-buffer-view-core"),c=t("../internals/array-iteration").map,u=t("../internals/species-constructor"),x=d.aTypedArray,j=d.aTypedArrayConstructor;(0,d.exportTypedArrayMethod)("map",function(o){return c(x(this),o,1<arguments.length?arguments[1]:void 0,function(h,f){return new(j(u(h,h.constructor)))(f)})})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/species-constructor":121}],220:[function(t,A,y){var d=t("../internals/array-buffer-view-core"),c=t("../internals/array-reduce").right,u=d.aTypedArray;(0,d.exportTypedArrayMethod)("reduceRight",function(x){return c(u(this),x,arguments.length,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-reduce":24}],221:[function(t,A,y){var d=t("../internals/array-buffer-view-core"),c=t("../internals/array-reduce").left,u=d.aTypedArray;(0,d.exportTypedArrayMethod)("reduce",function(x){return c(u(this),x,arguments.length,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-reduce":24}],222:[function(t,A,y){var d=(t=t("../internals/array-buffer-view-core")).aTypedArray,c=(t=t.exportTypedArrayMethod,Math.floor);t("reverse",function(){for(var u,x=d(this).length,j=c(x/2),o=0;o<j;)u=this[o],this[o++]=this[--x],this[x]=u;return this})},{"../internals/array-buffer-view-core":12}],223:[function(t,A,y){var d=t("../internals/array-buffer-view-core"),c=t("../internals/to-length"),u=t("../internals/to-offset"),x=t("../internals/to-object"),j=(t=t("../internals/fails"),d.aTypedArray);(0,d.exportTypedArrayMethod)("set",function(o){j(this);var h=u(1<arguments.length?arguments[1]:void 0,1),f=this.length,l=x(o),m=c(l.length),_=0;if(f<m+h)throw RangeError("Wrong length");for(;_<m;)this[h+_]=l[_++]},t(function(){new Int8Array(1).set({})}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/to-length":136,"../internals/to-object":137,"../internals/to-offset":138}],224:[function(t,A,y){var d=t("../internals/array-buffer-view-core"),c=t("../internals/species-constructor"),u=(t=t("../internals/fails"),d.aTypedArray),x=d.aTypedArrayConstructor,j=(d=d.exportTypedArrayMethod,[].slice);d("slice",function(o,h){for(var f=j.call(u(this),o,h),l=(o=c(this,this.constructor),0),m=f.length,_=new(x(o))(m);l<m;)_[l]=f[l++];return _},t(function(){new Int8Array(1).slice()}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/species-constructor":121}],225:[function(t,A,y){var d=t("../internals/array-buffer-view-core"),c=t("../internals/array-iteration").some,u=d.aTypedArray;(0,d.exportTypedArrayMethod)("some",function(x){return c(u(this),x,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],226:[function(t,A,y){var d=(t=t("../internals/array-buffer-view-core")).aTypedArray,c=(t=t.exportTypedArrayMethod,[].sort);t("sort",function(u){return c.call(d(this),u)})},{"../internals/array-buffer-view-core":12}],227:[function(t,A,y){var d=t("../internals/array-buffer-view-core"),c=t("../internals/to-length"),u=t("../internals/to-absolute-index"),x=t("../internals/species-constructor"),j=d.aTypedArray;(0,d.exportTypedArrayMethod)("subarray",function(o,h){var f=j(this),l=f.length;return o=u(o,l),new(x(f,f.constructor))(f.buffer,f.byteOffset+o*f.BYTES_PER_ELEMENT,c((h===void 0?l:u(h,l))-o))})},{"../internals/array-buffer-view-core":12,"../internals/species-constructor":121,"../internals/to-absolute-index":132,"../internals/to-length":136}],228:[function(t,A,y){var d=t("../internals/global"),c=t("../internals/array-buffer-view-core"),u=(t=t("../internals/fails"),d.Int8Array),x=c.aTypedArray,j=(d=c.exportTypedArrayMethod,[].toLocaleString),o=[].slice,h=!!u&&t(function(){j.call(new u(1))});d("toLocaleString",function(){return j.apply(h?o.call(x(this)):x(this),arguments)},t(function(){return[1,2].toLocaleString()!=new u([1,2]).toLocaleString()})||!t(function(){u.prototype.toLocaleString.call([1,2])}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/global":59}],229:[function(t,A,y){var d=t("../internals/array-buffer-view-core").exportTypedArrayMethod,c=t("../internals/fails"),u=(t=(t=t("../internals/global").Uint8Array)&&t.prototype||{},[].toString),x=[].join;c(function(){u.call({})})&&(u=function(){return x.call(this)}),c=t.toString!=u,d("toString",u,c)},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/global":59}],230:[function(t,A,y){t("../internals/typed-array-constructor")("Uint16",function(d){return function(c,u,x){return d(this,c,u,x)}})},{"../internals/typed-array-constructor":142}],231:[function(t,A,y){t("../internals/typed-array-constructor")("Uint32",function(d){return function(c,u,x){return d(this,c,u,x)}})},{"../internals/typed-array-constructor":142}],232:[function(t,A,y){t("../internals/typed-array-constructor")("Uint8",function(d){return function(c,u,x){return d(this,c,u,x)}})},{"../internals/typed-array-constructor":142}],233:[function(t,A,y){t("../internals/typed-array-constructor")("Uint8",function(d){return function(c,u,x){return d(this,c,u,x)}},!0)},{"../internals/typed-array-constructor":142}],234:[function(t,A,y){function d(C){return function(){return C(this,arguments.length?arguments[0]:void 0)}}var c,u,x,j,o,h=t("../internals/global"),f=t("../internals/redefine-all"),l=t("../internals/internal-metadata"),m=t("../internals/collection"),_=t("../internals/collection-weak"),w=t("../internals/is-object"),v=t("../internals/internal-state").enforce,E=(t=t("../internals/native-weak-map"),h=!h.ActiveXObject&&"ActiveXObject"in h,Object.isExtensible);A=A.exports=m("WeakMap",d,_),t&&h&&(c=_.getConstructor(d,"WeakMap",!0),l.REQUIRED=!0,m=A.prototype,u=m.delete,x=m.has,j=m.get,o=m.set,f(m,{delete:function(C){var O;return w(C)&&!E(C)?((O=v(this)).frozen||(O.frozen=new c),u.call(this,C)||O.frozen.delete(C)):u.call(this,C)},has:function(C){var O;return w(C)&&!E(C)?((O=v(this)).frozen||(O.frozen=new c),x.call(this,C)||O.frozen.has(C)):x.call(this,C)},get:function(C){var O;return!w(C)||E(C)||((O=v(this)).frozen||(O.frozen=new c),x.call(this,C))?j.call(this,C):O.frozen.get(C)},set:function(C,O){var U;return!w(C)||E(C)||((U=v(this)).frozen||(U.frozen=new c),x.call(this,C))?o.call(this,C,O):U.frozen.set(C,O),this}}))},{"../internals/collection":32,"../internals/collection-weak":31,"../internals/global":59,"../internals/internal-metadata":69,"../internals/internal-state":70,"../internals/is-object":74,"../internals/native-weak-map":85,"../internals/redefine-all":107}],235:[function(t,A,y){var d,c=t("../internals/global"),u=t("../internals/dom-iterables"),x=t("../internals/array-for-each"),j=t("../internals/create-non-enumerable-property");for(d in u){var o;if((o=(o=c[d])&&o.prototype)&&o.forEach!==x)try{j(o,"forEach",x)}catch{o.forEach=x}}},{"../internals/array-for-each":16,"../internals/create-non-enumerable-property":38,"../internals/dom-iterables":45,"../internals/global":59}],236:[function(t,A,y){var d,c=t("../internals/global"),u=t("../internals/dom-iterables"),x=t("../modules/es.array.iterator"),j=t("../internals/create-non-enumerable-property"),o=(t=t("../internals/well-known-symbol"))("iterator"),h=t("toStringTag"),f=x.values;for(d in u){var l=c[d],m=l&&l.prototype;if(m){if(m[o]!==f)try{j(m,o,f)}catch{m[o]=f}if(m[h]||j(m,h,d),u[d]){for(var _ in x)if(m[_]!==x[_])try{j(m,_,x[_])}catch{m[_]=x[_]}}}}},{"../internals/create-non-enumerable-property":38,"../internals/dom-iterables":45,"../internals/global":59,"../internals/well-known-symbol":148,"../modules/es.array.iterator":160}],237:[function(t,A,y){function d(ve){try{return decodeURIComponent(ve)}catch{return ve}}function c(ve){return se[ve]}function u(ve){return encodeURIComponent(ve).replace(Q,c)}function x(ve){this.entries.length=0,de(this.entries,ve)}function j(ve,ae){if(ve<ae)throw TypeError("Not enough arguments")}function o(){C(this,o,W);var ve,ae,ye,Se,Me,Ee,Te,Pe,Ke=0<arguments.length?arguments[0]:void 0,Ge=[];if(ee(this,{type:W,entries:Ge,updateURL:function(){},updateSearchParams:x}),Ke!==void 0)if(H(Ke))if(typeof(ve=q(Ke))=="function")for(ye=(ae=ve.call(Ke)).next;!(Se=ye.call(ae)).done;){if((Ee=(Me=(Se=G(D(Se.value))).next).call(Se)).done||(Te=Me.call(Se)).done||!Me.call(Se).done)throw TypeError("Expected sequence with length 2");Ge.push({key:Ee.value+"",value:Te.value+""})}else for(Pe in Ke)O(Ke,Pe)&&Ge.push({key:Pe,value:Ke[Pe]+""});else de(Ge,typeof Ke=="string"?Ke.charAt(0)==="?"?Ke.slice(1):Ke:Ke+"")}t("../modules/es.array.iterator");var h=t("../internals/export"),f=t("../internals/get-built-in"),l=t("../internals/native-url"),m=t("../internals/redefine"),_=t("../internals/redefine-all"),w=t("../internals/set-to-string-tag"),v=t("../internals/create-iterator-constructor"),E=t("../internals/internal-state"),C=t("../internals/an-instance"),O=t("../internals/has"),U=t("../internals/function-bind-context"),N=t("../internals/classof"),D=t("../internals/an-object"),H=t("../internals/is-object"),I=t("../internals/object-create"),V=t("../internals/create-property-descriptor"),G=t("../internals/get-iterator"),q=t("../internals/get-iterator-method"),X=(t=t("../internals/well-known-symbol"),f("fetch")),B=f("Headers"),W=(f=t("iterator"),"URLSearchParams"),K=W+"Iterator",ee=E.set,re=E.getterFor(W),oe=E.getterFor(K),le=/\+/g,me=Array(4),$=function(ve){var ae,ye=ve.replace(le," "),Se=4;try{return decodeURIComponent(ye)}catch{for(;Se;)ye=ye.replace((ae=Se--,me[ae-1]||(me[ae-1]=RegExp("((?:%[\\da-f]{2}){"+ae+"})","gi"))),d);return ye}},Q=/[!'()~]|%20/g,se={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},de=function(ve,ae){if(ae)for(var ye,Se=ae.split("&"),Me=0;Me<Se.length;)(ye=Se[Me++]).length&&(ye=ye.split("="),ve.push({key:$(ye.shift()),value:$(ye.join("="))}))},ge=v(function(ve,ae){ee(this,{type:K,iterator:G(re(ve).entries),kind:ae})},"Iterator",function(){var ve,ae=(ve=oe(this)).kind,ye=(ve=ve.iterator.next()).value;return ve.done||(ve.value=ae==="keys"?ye.key:ae==="values"?ye.value:[ye.key,ye.value]),ve});_(t=o.prototype,{append:function(ve,ae){j(arguments.length,2);var ye=re(this);ye.entries.push({key:ve+"",value:ae+""}),ye.updateURL()},delete:function(ve){j(arguments.length,1);for(var ae=re(this),ye=ae.entries,Se=ve+"",Me=0;Me<ye.length;)ye[Me].key===Se?ye.splice(Me,1):Me++;ae.updateURL()},get:function(ve){j(arguments.length,1);for(var ae=re(this).entries,ye=ve+"",Se=0;Se<ae.length;Se++)if(ae[Se].key===ye)return ae[Se].value;return null},getAll:function(ve){j(arguments.length,1);for(var ae=re(this).entries,ye=ve+"",Se=[],Me=0;Me<ae.length;Me++)ae[Me].key===ye&&Se.push(ae[Me].value);return Se},has:function(ve){j(arguments.length,1);for(var ae=re(this).entries,ye=ve+"",Se=0;Se<ae.length;)if(ae[Se++].key===ye)return!0;return!1},set:function(ve,ae){j(arguments.length,1);for(var ye,Se=re(this),Me=Se.entries,Ee=!1,Te=ve+"",Pe=ae+"",Ke=0;Ke<Me.length;Ke++)(ye=Me[Ke]).key===Te&&(Ee?Me.splice(Ke--,1):(Ee=!0,ye.value=Pe));Ee||Me.push({key:Te,value:Pe}),Se.updateURL()},sort:function(){for(var ve,ae,ye=re(this),Se=ye.entries,Me=Se.slice(),Ee=Se.length=0;Ee<Me.length;Ee++){for(ve=Me[Ee],ae=0;ae<Ee;ae++)if(Se[ae].key>ve.key){Se.splice(ae,0,ve);break}ae===Ee&&Se.push(ve)}ye.updateURL()},forEach:function(ve){for(var ae,ye=re(this).entries,Se=U(ve,1<arguments.length?arguments[1]:void 0,3),Me=0;Me<ye.length;)Se((ae=ye[Me++]).value,ae.key,this)},keys:function(){return new ge(this,"keys")},values:function(){return new ge(this,"values")},entries:function(){return new ge(this,"entries")}},{enumerable:!0}),m(t,f,t.entries),m(t,"toString",function(){for(var ve,ae=re(this).entries,ye=[],Se=0;Se<ae.length;)ve=ae[Se++],ye.push(u(ve.key)+"="+u(ve.value));return ye.join("&")},{enumerable:!0}),w(o,W),h({global:!0,forced:!l},{URLSearchParams:o}),l||typeof X!="function"||typeof B!="function"||h({global:!0,enumerable:!0,forced:!0},{fetch:function(ve){var ae,ye,Se;return ve=[ve],1<arguments.length&&(H(ae=arguments[1])&&(ye=ae.body,N(ye)===W&&((Se=ae.headers?new B(ae.headers):new B).has("content-type")||Se.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),ae=I(ae,{body:V(0,String(ye)),headers:V(0,Se)}))),ve.push(ae)),X.apply(this,ve)}}),A.exports={URLSearchParams:o,getState:re}},{"../internals/an-instance":9,"../internals/an-object":10,"../internals/classof":29,"../internals/create-iterator-constructor":37,"../internals/create-property-descriptor":39,"../internals/export":50,"../internals/function-bind-context":54,"../internals/get-built-in":56,"../internals/get-iterator":58,"../internals/get-iterator-method":57,"../internals/has":60,"../internals/internal-state":70,"../internals/is-object":74,"../internals/native-url":84,"../internals/object-create":90,"../internals/redefine":108,"../internals/redefine-all":107,"../internals/set-to-string-tag":117,"../internals/well-known-symbol":148,"../modules/es.array.iterator":160}],238:[function(t,A,y){function d(Ce){var ut,Tt,it,Qt;if(typeof Ce=="number"){for(ut=[],Tt=0;Tt<4;Tt++)ut.unshift(Ce%256),Ce=K(Ce/256);return ut.join(".")}if(typeof Ce!="object")return Ce;for(ut="",it=Pe(Ce),Tt=0;Tt<8;Tt++)Qt&&Ce[Tt]===0||(Qt=Qt&&!1,it===Tt?(ut+=Tt?":":"::",Qt=!0):(ut+=Ce[Tt].toString(16),Tt<7&&(ut+=":")));return"["+ut+"]"}function c(Ce){return!Ce.host||Ce.cannotBeABaseURL||Ce.scheme=="file"}function u(Ce,ut,Tt,it){var Qt,Qe,Rr,Mt=Tt||xt,qt=0,St="",Nr=!1,Un=!1,As=!1;for(Tt||(Ce.scheme="",Ce.username="",Ce.password="",Ce.host=null,Ce.port=null,Ce.path=[],Ce.query=null,Ce.fragment=null,Ce.cannotBeABaseURL=!1,ut=ut.replace(Me,"")),ut=ut.replace(Ee,""),Qt=N(ut);qt<=Qt.length;){switch(Qe=Qt[qt],Mt){case xt:if(!Qe||!$.test(Qe)){if(Tt)return oe;Mt=fe;continue}St+=Qe.toLowerCase(),Mt=mt;break;case mt:if(Qe&&(Q.test(Qe)||Qe=="+"||Qe=="-"||Qe=="."))St+=Qe.toLowerCase();else{if(Qe!=":"){if(Tt)return oe;St="",Mt=fe,qt=0;continue}if(Tt&&(bt(Ce)!=O(Pt,St)||St=="file"&&(je(Ce)||Ce.port!==null)||Ce.scheme=="file"&&!Ce.host))return;if(Ce.scheme=St,Tt)return void(bt(Ce)&&Pt[Ce.scheme]==Ce.port&&(Ce.port=null));St="",Ce.scheme=="file"?Mt=Kt:bt(Ce)&&it&&it.scheme==Ce.scheme?Mt=ue:bt(Ce)?Mt=We:Qt[qt+1]=="/"?(Mt=he,qt++):(Ce.cannotBeABaseURL=!0,Ce.path.push(""),Mt=vr)}break;case fe:if(!it||it.cannotBeABaseURL&&Qe!="#")return oe;if(it.cannotBeABaseURL&&Qe=="#"){Ce.scheme=it.scheme,Ce.path=it.path.slice(),Ce.query=it.query,Ce.fragment="",Ce.cannotBeABaseURL=!0,Mt=Rn;break}Mt=it.scheme=="file"?Kt:we;continue;case ue:if(Qe!="/"||Qt[qt+1]!="/"){Mt=we;continue}Mt=lt,qt++;break;case he:if(Qe=="/"){Mt=st;break}Mt=zt;continue;case we:if(Ce.scheme=it.scheme,Qe==o)Ce.username=it.username,Ce.password=it.password,Ce.host=it.host,Ce.port=it.port,Ce.path=it.path.slice(),Ce.query=it.query;else if(Qe=="/"||Qe=="\\"&&bt(Ce))Mt=Oe;else if(Qe=="?")Ce.username=it.username,Ce.password=it.password,Ce.host=it.host,Ce.port=it.port,Ce.path=it.path.slice(),Ce.query="",Mt=Ar;else{if(Qe!="#"){Ce.username=it.username,Ce.password=it.password,Ce.host=it.host,Ce.port=it.port,Ce.path=it.path.slice(),Ce.path.pop(),Mt=zt;continue}Ce.username=it.username,Ce.password=it.password,Ce.host=it.host,Ce.port=it.port,Ce.path=it.path.slice(),Ce.query=it.query,Ce.fragment="",Mt=Rn}break;case Oe:if(!bt(Ce)||Qe!="/"&&Qe!="\\"){if(Qe!="/"){Ce.username=it.username,Ce.password=it.password,Ce.host=it.host,Ce.port=it.port,Mt=zt;continue}Mt=st}else Mt=lt;break;case We:if(Mt=lt,Qe!="/"||St.charAt(qt+1)!="/")continue;qt++;break;case lt:if(Qe=="/"||Qe=="\\")break;Mt=st;continue;case st:if(Qe=="@"){Nr&&(St="%40"+St),Nr=!0;for(var tn=N(St),rn=0;rn<tn.length;rn++){var Sn=tn[rn];Sn!=":"||As?(Sn=ot(Sn,ft),As?Ce.password+=Sn:Ce.username+=Sn):As=!0}St=""}else if(Qe==o||Qe=="/"||Qe=="?"||Qe=="#"||Qe=="\\"&&bt(Ce)){if(Nr&&St=="")return re;qt-=N(St).length+1,St="",Mt=De}else St+=Qe;break;case De:case ht:if(Tt&&Ce.scheme=="file"){Mt=Yt;continue}if(Qe!=":"||Un){if(Qe==o||Qe=="/"||Qe=="?"||Qe=="#"||Qe=="\\"&&bt(Ce)){if(bt(Ce)&&St=="")return le;if(Tt&&St==""&&(je(Ce)||Ce.port!==null))return;if(Rr=Te(Ce,St))return Rr;if(St="",Mt=Vt,Tt)return;continue}Qe=="["?Un=!0:Qe=="]"&&(Un=!1),St+=Qe}else{if(St=="")return le;if(Rr=Te(Ce,St))return Rr;if(St="",Mt=_t,Tt==ht)return}break;case _t:if(!se.test(Qe)){if(Qe==o||Qe=="/"||Qe=="?"||Qe=="#"||Qe=="\\"&&bt(Ce)||Tt){if(St!=""){var kn=parseInt(St,10);if(65535<kn)return me;Ce.port=bt(Ce)&&kn===Pt[Ce.scheme]?null:kn,St=""}if(Tt)return;Mt=Vt;continue}return me}St+=Qe;break;case Kt:if(Ce.scheme="file",Qe=="/"||Qe=="\\")Mt=sr;else{if(!it||it.scheme!="file"){Mt=zt;continue}if(Qe==o)Ce.host=it.host,Ce.path=it.path.slice(),Ce.query=it.query;else if(Qe=="?")Ce.host=it.host,Ce.path=it.path.slice(),Ce.query="",Mt=Ar;else{if(Qe!="#"){He(Qt.slice(qt).join(""))||(Ce.host=it.host,Ce.path=it.path.slice(),nt(Ce)),Mt=zt;continue}Ce.host=it.host,Ce.path=it.path.slice(),Ce.query=it.query,Ce.fragment="",Mt=Rn}}break;case sr:if(Qe=="/"||Qe=="\\"){Mt=Yt;break}it&&it.scheme=="file"&&!He(Qt.slice(qt).join(""))&&(Ve(it.path[0],!0)?Ce.path.push(it.path[0]):Ce.host=it.host),Mt=zt;continue;case Yt:if(Qe==o||Qe=="/"||Qe=="\\"||Qe=="?"||Qe=="#"){if(!Tt&&Ve(St))Mt=zt;else{if(St==""){if(Ce.host="",Tt)return}else{if(Rr=Te(Ce,St))return Rr;if(Ce.host=="localhost"&&(Ce.host=""),Tt)return;St=""}Mt=Vt}continue}St+=Qe;break;case Vt:if(bt(Ce)){if(Mt=zt,Qe!="/"&&Qe!="\\")continue}else if(Tt||Qe!="?")if(Tt||Qe!="#"){if(Qe!=o&&(Mt=zt,Qe!="/"))continue}else Ce.fragment="",Mt=Rn;else Ce.query="",Mt=Ar;break;case zt:if(Qe==o||Qe=="/"||Qe=="\\"&&bt(Ce)||!Tt&&(Qe=="?"||Qe=="#")){if(Lt(St)?(nt(Ce),Qe=="/"||Qe=="\\"&&bt(Ce)||Ce.path.push("")):vt(St)?Qe=="/"||Qe=="\\"&&bt(Ce)||Ce.path.push(""):(Ce.scheme=="file"&&!Ce.path.length&&Ve(St)&&(Ce.host&&(Ce.host=""),St=St.charAt(0)+":"),Ce.path.push(St)),St="",Ce.scheme=="file"&&(Qe==o||Qe=="?"||Qe=="#"))for(;1<Ce.path.length&&Ce.path[0]==="";)Ce.path.shift();Qe=="?"?(Ce.query="",Mt=Ar):Qe=="#"&&(Ce.fragment="",Mt=Rn)}else St+=ot(Qe,et);break;case vr:Qe=="?"?(Ce.query="",Mt=Ar):Qe=="#"?(Ce.fragment="",Mt=Rn):Qe!=o&&(Ce.path[0]+=ot(Qe,Ke));break;case Ar:Tt||Qe!="#"?Qe!=o&&(Qe=="'"&&bt(Ce)?Ce.query+="%27":Ce.query+=Qe=="#"?"%23":ot(Qe,Ke)):(Ce.fragment="",Mt=Rn);break;case Rn:Qe!=o&&(Ce.fragment+=ot(Qe,Ge))}qt++}}function x(Ce){var ut,Tt,it=C(this,x,"URL"),Qt=1<arguments.length?arguments[1]:void 0,Qe=(Ce=String(Ce),B(it,{type:"URL"}));if(Qt!==void 0){if(Qt instanceof x)ut=W(Qt);else if(Tt=u(ut={},String(Qt)))throw TypeError(Tt)}if(Tt=u(Qe,Ce,null,ut))throw TypeError(Tt);var Rr=Qe.searchParams=new q;(Qt=X(Rr)).updateSearchParams(Qe.query),Qt.updateURL=function(){Qe.query=String(Rr)||null},m||(it.href=Sr.call(it),it.origin=Jr.call(it),it.protocol=Fn.call(it),it.username=Jt.call(it),it.password=gr.call(it),it.host=br.call(it),it.hostname=fr.call(it),it.port=cl.call(it),it.pathname=Sd.call(it),it.search=jd.call(it),it.searchParams=ku.call(it),it.hash=ha.call(it))}function j(Ce,ut){return{get:Ce,set:ut,configurable:!0,enumerable:!0}}t("../modules/es.string.iterator");var o,h,f,l=t("../internals/export"),m=t("../internals/descriptors"),_=t("../internals/native-url"),w=t("../internals/global"),v=t("../internals/object-define-properties"),E=t("../internals/redefine"),C=t("../internals/an-instance"),O=t("../internals/has"),U=t("../internals/object-assign"),N=t("../internals/array-from"),D=t("../internals/string-multibyte").codeAt,H=t("../internals/string-punycode-to-ascii"),I=t("../internals/set-to-string-tag"),V=t("../modules/web.url-search-params"),G=(t=t("../internals/internal-state"),w.URL),q=V.URLSearchParams,X=V.getState,B=t.set,W=t.getterFor("URL"),K=Math.floor,ee=Math.pow,re="Invalid authority",oe="Invalid scheme",le="Invalid host",me="Invalid port",$=/[A-Za-z]/,Q=/[\d+-.A-Za-z]/,se=/\d/,de=/^(0x|0X)/,ge=/^[0-7]+$/,ve=/^\d+$/,ae=/^[\dA-Fa-f]+$/,ye=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,Se=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,Me=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,Ee=/[\u0009\u000A\u000D]/g,Te=function(Ce,ut){var Tt,it,Qt;if(ut.charAt(0)=="[")return ut.charAt(ut.length-1)=="]"&&(Tt=function(Qe){var Rr,Mt,qt,St,Nr,Un,As,tn=[0,0,0,0,0,0,0,0],rn=0,Sn=null,kn=0,Yr=function(){return Qe.charAt(kn)};if(Yr()==":"){if(Qe.charAt(1)!=":")return;kn+=2,Sn=++rn}for(;Yr();){if(rn==8)return;if(Yr()!=":"){for(Rr=Mt=0;Mt<4&&ae.test(Yr());)Rr=16*Rr+parseInt(Yr(),16),kn++,Mt++;if(Yr()=="."){if(Mt==0||(kn-=Mt,rn>6))return;for(qt=0;Yr();){if(St=null,qt>0){if(!(Yr()=="."&&qt<4))return;kn++}if(!se.test(Yr()))return;for(;se.test(Yr());){if(Nr=parseInt(Yr(),10),St===null)St=Nr;else{if(St==0)return;St=10*St+Nr}if(St>255)return;kn++}tn[rn]=256*tn[rn]+St,++qt!=2&&qt!=4||rn++}if(qt!=4)return;break}if(Yr()==":"){if(kn++,!Yr())return}else if(Yr())return;tn[rn++]=Rr}else{if(Sn!==null)return;kn++,Sn=++rn}}if(Sn!==null)for(Un=rn-Sn,rn=7;rn!=0&&Un>0;)As=tn[rn],tn[rn--]=tn[Sn+Un-1],tn[Sn+--Un]=As;else if(rn!=8)return;return tn}(ut.slice(1,-1)))?void(Ce.host=Tt):le;if(bt(Ce))return ut=H(ut),ye.test(ut)||(Tt=function(Qe){var Rr,Mt,qt,St,Nr,Un,As,tn=Qe.split(".");if(tn.length&&tn[tn.length-1]==""&&tn.pop(),(Rr=tn.length)>4)return Qe;for(Mt=[],qt=0;qt<Rr;qt++){if((St=tn[qt])=="")return Qe;if(Nr=10,St.length>1&&St.charAt(0)=="0"&&(Nr=de.test(St)?16:8,St=St.slice(Nr==8?1:2)),St==="")Un=0;else{if(!(Nr==10?ve:Nr==8?ge:ae).test(St))return Qe;Un=parseInt(St,Nr)}Mt.push(Un)}for(qt=0;qt<Rr;qt++)if(Un=Mt[qt],qt==Rr-1){if(Un>=ee(256,5-Rr))return null}else if(Un>255)return null;for(As=Mt.pop(),qt=0;qt<Mt.length;qt++)As+=Mt[qt]*ee(256,3-qt);return As}(ut))===null?le:void(Ce.host=Tt);if(Se.test(ut))return le;for(Tt="",it=N(ut),Qt=0;Qt<it.length;Qt++)Tt+=ot(it[Qt],Ke);Ce.host=Tt},Pe=function(Ce){for(var ut=null,Tt=1,it=null,Qt=0,Qe=0;Qe<8;Qe++)Ce[Qe]!==0?(Tt<Qt&&(ut=it,Tt=Qt),it=null,Qt=0):(it===null&&(it=Qe),++Qt);return Tt<Qt&&(ut=it,Tt=Qt),ut},Ke={},Ge=U({},Ke,{" ":1,'"':1,"<":1,">":1,"`":1}),et=U({},Ge,{"#":1,"?":1,"{":1,"}":1}),ft=U({},et,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),ot=function(Ce,ut){var Tt=D(Ce,0);return 32<Tt&&Tt<127&&!O(ut,Ce)?Ce:encodeURIComponent(Ce)},Pt={ftp:21,file:null,http:80,https:443,ws:80,wss:443},bt=function(Ce){return O(Pt,Ce.scheme)},je=function(Ce){return Ce.username!=""||Ce.password!=""},Ve=function(Ce,ut){return Ce.length==2&&$.test(Ce.charAt(0))&&((Ce=Ce.charAt(1))==":"||!ut&&Ce=="|")},He=function(Ce){return 1<Ce.length&&Ve(Ce.slice(0,2))&&(Ce.length==2||(Ce=Ce.charAt(2))==="/"||Ce==="\\"||Ce==="?"||Ce==="#")},nt=function(Ce){var ut=Ce.path,Tt=ut.length;!Tt||Ce.scheme=="file"&&Tt==1&&Ve(ut[0],!0)||ut.pop()},vt=function(Ce){return Ce==="."||Ce.toLowerCase()==="%2e"},Lt=function(Ce){return(Ce=Ce.toLowerCase())===".."||Ce==="%2e."||Ce===".%2e"||Ce==="%2e%2e"},xt={},mt={},fe={},ue={},he={},we={},Oe={},We={},lt={},st={},De={},ht={},_t={},Kt={},sr={},Yt={},Vt={},zt={},vr={},Ar={},Rn={},Sr=(w=x.prototype,function(){var Ce=W(this),ut=Ce.scheme,Tt=Ce.username,it=Ce.password,Qt=Ce.host,Qe=Ce.port,Rr=Ce.path,Mt=Ce.query,qt=Ce.fragment,St=ut+":";return Qt!==null?(St+="//",je(Ce)&&(St+=Tt+(it?":"+it:"")+"@"),St+=d(Qt),Qe!==null&&(St+=":"+Qe)):ut=="file"&&(St+="//"),St+=Ce.cannotBeABaseURL?Rr[0]:Rr.length?"/"+Rr.join("/"):"",Mt!==null&&(St+="?"+Mt),qt!==null&&(St+="#"+qt),St}),Jr=function(){var Ce=W(this),ut=Ce.scheme,Tt=Ce.port;if(ut=="blob")try{return new URL(ut.path[0]).origin}catch{return"null"}return ut!="file"&&bt(Ce)?ut+"://"+d(Ce.host)+(Tt!==null?":"+Tt:""):"null"},Fn=function(){return W(this).scheme+":"},Jt=function(){return W(this).username},gr=function(){return W(this).password},br=function(){var Ce=(ut=W(this)).host,ut=ut.port;return Ce===null?"":ut===null?d(Ce):d(Ce)+":"+ut},fr=function(){var Ce=W(this).host;return Ce===null?"":d(Ce)},cl=function(){var Ce=W(this).port;return Ce===null?"":String(Ce)},Sd=function(){var Ce=W(this),ut=Ce.path;return Ce.cannotBeABaseURL?ut[0]:ut.length?"/"+ut.join("/"):""},jd=function(){var Ce=W(this).query;return Ce?"?"+Ce:""},ku=function(){return W(this).searchParams},ha=function(){var Ce=W(this).fragment;return Ce?"#"+Ce:""};m&&v(w,{href:j(Sr,function(Ce){var ut=W(this);if(Ce=u(ut,Ce=String(Ce)))throw TypeError(Ce);X(ut.searchParams).updateSearchParams(ut.query)}),origin:j(Jr),protocol:j(Fn,function(Ce){u(W(this),String(Ce)+":",xt)}),username:j(Jt,function(Ce){var ut=W(this),Tt=N(String(Ce));if(!c(ut)){ut.username="";for(var it=0;it<Tt.length;it++)ut.username+=ot(Tt[it],ft)}}),password:j(gr,function(Ce){var ut=W(this),Tt=N(String(Ce));if(!c(ut)){ut.password="";for(var it=0;it<Tt.length;it++)ut.password+=ot(Tt[it],ft)}}),host:j(br,function(Ce){var ut=W(this);ut.cannotBeABaseURL||u(ut,String(Ce),De)}),hostname:j(fr,function(Ce){var ut=W(this);ut.cannotBeABaseURL||u(ut,String(Ce),ht)}),port:j(cl,function(Ce){var ut=W(this);c(ut)||((Ce=String(Ce))==""?ut.port=null:u(ut,Ce,_t))}),pathname:j(Sd,function(Ce){var ut=W(this);ut.cannotBeABaseURL||(ut.path=[],u(ut,Ce+"",Vt))}),search:j(jd,function(Ce){var ut=W(this);(Ce=String(Ce))==""?ut.query=null:(Ce.charAt(0)=="?"&&(Ce=Ce.slice(1)),ut.query="",u(ut,Ce,Ar)),X(ut.searchParams).updateSearchParams(ut.query)}),searchParams:j(ku),hash:j(ha,function(Ce){var ut=W(this);(Ce=String(Ce))==""?ut.fragment=null:(Ce.charAt(0)=="#"&&(Ce=Ce.slice(1)),ut.fragment="",u(ut,Ce,Rn))})}),E(w,"toJSON",function(){return Sr.call(this)},{enumerable:!0}),E(w,"toString",function(){return Sr.call(this)},{enumerable:!0}),G&&(h=G.createObjectURL,f=G.revokeObjectURL,h&&E(x,"createObjectURL",function(Ce){return h.apply(G,arguments)}),f&&E(x,"revokeObjectURL",function(Ce){return f.apply(G,arguments)})),I(x,"URL"),l({global:!0,forced:!_,sham:!m},{URL:x})},{"../internals/an-instance":9,"../internals/array-from":17,"../internals/descriptors":43,"../internals/export":50,"../internals/global":59,"../internals/has":60,"../internals/internal-state":70,"../internals/native-url":84,"../internals/object-assign":89,"../internals/object-define-properties":91,"../internals/redefine":108,"../internals/set-to-string-tag":117,"../internals/string-multibyte":123,"../internals/string-punycode-to-ascii":126,"../modules/es.string.iterator":190,"../modules/web.url-search-params":237}],239:[function(t,A,y){A.exports=t("./").polyfill()},{"./":240}],240:[function(t,A,y){(function(d,c){var u;u=function(){function x(ae){return typeof ae=="function"}var j=Array.isArray||function(ae){return Object.prototype.toString.call(ae)==="[object Array]"},o=0,h=void 0,f=void 0,l=function(ae,ye){C[o]=ae,C[o+1]=ye,(o+=2)===2&&(f?f(O):H())},m=typeof window<"u"?window:void 0,_=(_=m||{}).MutationObserver||_.WebKitMutationObserver,w=typeof self>"u"&&d!==void 0&&{}.toString.call(d)==="[object process]",v=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function E(){var ae=setTimeout;return function(){return ae(O,1)}}var C=new Array(1e3);function O(){for(var ae=0;ae<o;ae+=2)(0,C[ae])(C[ae+1]),C[ae]=void 0,C[ae+1]=void 0;o=0}var U,N,D,H=void 0;function I(ae,ye){var Se,Me=this,Ee=new this.constructor(q),Te=(Ee[G]===void 0&&Q(Ee),Me._state);return Te?(Se=arguments[Te-1],l(function(){return me(Te,Ee,Se,Me._result)})):oe(Me,Ee,ae,ye),Ee}function V(ae){var ye;return ae&&typeof ae=="object"&&ae.constructor===this?ae:(W(ye=new this(q),ae),ye)}H=w?function(){return d.nextTick(O)}:_?(N=0,w=new _(O),D=document.createTextNode(""),w.observe(D,{characterData:!0}),function(){D.data=N=++N%2}):v?((U=new MessageChannel).port1.onmessage=O,function(){return U.port2.postMessage(0)}):(m===void 0&&typeof t=="function"?function(){try{var ae=Function("return this")().require("vertx");return(h=ae.runOnLoop||ae.runOnContext)!==void 0?function(){h(O)}:E()}catch{return E()}}:E)();var G=Math.random().toString(36).substring(2);function q(){}var X=void 0;function B(ae,ye,Se){var Me,Ee;ye.constructor===ae.constructor&&Se===I&&ye.constructor.resolve===V?(Me=ae,(Ee=ye)._state===1?ee(Me,Ee._result):Ee._state===2?re(Me,Ee._result):oe(Ee,void 0,function(Te){return W(Me,Te)},function(Te){return re(Me,Te)})):Se!==void 0&&x(Se)?function(Te,Pe,Ke){l(function(Ge){var et=!1,ft=function(ot,Pt,bt,je){try{ot.call(Pt,bt,je)}catch(Ve){return Ve}}(Ke,Pe,function(ot){et||(et=!0,(Pe!==ot?W:ee)(Ge,ot))},function(ot){et||(et=!0,re(Ge,ot))},Ge._label);!et&&ft&&(et=!0,re(Ge,ft))},Te)}(ae,ye,Se):ee(ae,ye)}function W(ae,ye){if(ae===ye)re(ae,new TypeError("You cannot resolve a promise with itself"));else if(Se=typeof ye,ye===null||Se!="object"&&Se!="function")ee(ae,ye);else{Se=void 0;try{Se=ye.then}catch(Me){return void re(ae,Me)}B(ae,ye,Se)}var Se}function K(ae){ae._onerror&&ae._onerror(ae._result),le(ae)}function ee(ae,ye){ae._state===X&&(ae._result=ye,ae._state=1,ae._subscribers.length!==0&&l(le,ae))}function re(ae,ye){ae._state===X&&(ae._state=2,ae._result=ye,l(K,ae))}function oe(ae,ye,Se,Me){var Ee=ae._subscribers,Te=Ee.length;ae._onerror=null,Ee[Te]=ye,Ee[Te+1]=Se,Ee[Te+2]=Me,Te===0&&ae._state&&l(le,ae)}function le(ae){var ye=ae._subscribers,Se=ae._state;if(ye.length!==0){for(var Me,Ee=void 0,Te=ae._result,Pe=0;Pe<ye.length;Pe+=3)Me=ye[Pe],Ee=ye[Pe+Se],Me?me(Se,Me,Ee,Te):Ee(Te);ae._subscribers.length=0}}function me(ae,ye,Se,Me){var Ee=x(Se),Te=void 0,Pe=void 0,Ke=!0;if(Ee){try{Te=Se(Me)}catch(Ge){Ke=!1,Pe=Ge}if(ye===Te)return void re(ye,new TypeError("A promises callback cannot return that same promise."))}else Te=Me;ye._state===X&&(Ee&&Ke?W(ye,Te):Ke===!1?re(ye,Pe):ae===1?ee(ye,Te):ae===2&&re(ye,Te))}var $=0;function Q(ae){ae[G]=$++,ae._state=void 0,ae._result=void 0,ae._subscribers=[]}de.prototype._enumerate=function(ae){for(var ye=0;this._state===X&&ye<ae.length;ye++)this._eachEntry(ae[ye],ye)},de.prototype._eachEntry=function(ae,ye){var Se=this._instanceConstructor,Me=Se.resolve;if(Me===V){var Ee,Te=void 0,Pe=void 0,Ke=!1;try{Te=ae.then}catch(Ge){Ke=!0,Pe=Ge}Te===I&&ae._state!==X?this._settledAt(ae._state,ye,ae._result):typeof Te!="function"?(this._remaining--,this._result[ye]=ae):Se===ge?(Ee=new Se(q),Ke?re(Ee,Pe):B(Ee,ae,Te),this._willSettleAt(Ee,ye)):this._willSettleAt(new Se(function(Ge){return Ge(ae)}),ye)}else this._willSettleAt(Me(ae),ye)},de.prototype._settledAt=function(ae,ye,Se){var Me=this.promise;Me._state===X&&(this._remaining--,ae===2?re(Me,Se):this._result[ye]=Se),this._remaining===0&&ee(Me,this._result)},de.prototype._willSettleAt=function(ae,ye){var Se=this;oe(ae,void 0,function(Me){return Se._settledAt(1,ye,Me)},function(Me){return Se._settledAt(2,ye,Me)})};var se=de;function de(ae,ye){this._instanceConstructor=ae,this.promise=new ae(q),this.promise[G]||Q(this.promise),j(ye)?(this.length=ye.length,this._remaining=ye.length,this._result=new Array(this.length),this.length!==0&&(this.length=this.length||0,this._enumerate(ye),this._remaining!==0)||ee(this.promise,this._result)):re(this.promise,new Error("Array Methods must be provided an Array"))}ve.prototype.catch=function(ae){return this.then(null,ae)},ve.prototype.finally=function(ae){var ye=this.constructor;return x(ae)?this.then(function(Se){return ye.resolve(ae()).then(function(){return Se})},function(Se){return ye.resolve(ae()).then(function(){throw Se})}):this.then(ae,ae)};var ge=ve;function ve(ae){if(this[G]=$++,this._result=this._state=void 0,this._subscribers=[],q!==ae){if(typeof ae!="function")throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(!(this instanceof ve))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");var ye=this;try{ae(function(Se){W(ye,Se)},function(Se){re(ye,Se)})}catch(Se){re(ye,Se)}}}return ge.prototype.then=I,ge.all=function(ae){return new se(this,ae).promise},ge.race=function(ae){var ye=this;return j(ae)?new ye(function(Se,Me){for(var Ee=ae.length,Te=0;Te<Ee;Te++)ye.resolve(ae[Te]).then(Se,Me)}):new ye(function(Se,Me){return Me(new TypeError("You must pass an array to race."))})},ge.resolve=V,ge.reject=function(ae){var ye=new this(q);return re(ye,ae),ye},ge._setScheduler=function(ae){f=ae},ge._setAsap=function(ae){l=ae},ge._asap=l,ge.polyfill=function(){var ae=void 0;if(c!==void 0)ae=c;else if(typeof self<"u")ae=self;else try{ae=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var ye=ae.Promise;if(ye){var Se=null;try{Se=Object.prototype.toString.call(ye.resolve())}catch{}if(Se==="[object Promise]"&&!ye.cast)return}ae.Promise=ge},ge.Promise=ge},typeof y=="object"&&A!==void 0?A.exports=u():this.ES6Promise=u()}).call(this,t("_process"),M!==void 0?M:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:249}],241:[function(t,A,y){var d;d=function(c,u){var x="callback";function j(h){try{delete window[h]}catch{window[h]=void 0}}function o(h){(h=document.getElementById(h))&&document.getElementsByTagName("head")[0].removeChild(h)}u.exports=function(h){var f=arguments.length<=1||arguments[1]===void 0?{}:arguments[1],l=h,m=f.timeout||5e3,_=f.jsonpCallback||x,w=void 0;return new Promise(function(v,E){var C=f.jsonpCallbackFunction||"jsonp_"+Date.now()+"_"+Math.ceil(1e5*Math.random()),O=_+"_"+C,U=(window[C]=function(N){v({ok:!0,json:function(){return Promise.resolve(N)}}),w&&clearTimeout(w),o(O),j(C)},l+=l.indexOf("?")===-1?"?":"&",document.createElement("script"));U.setAttribute("src",""+l+_+"="+C),f.charset&&U.setAttribute("charset",f.charset),U.id=O,document.getElementsByTagName("head")[0].appendChild(U),w=setTimeout(function(){E(new Error("JSONP request to "+h+" timed out")),j(C),o(O),window[C]=function(){j(C)}},m),U.onerror=function(){E(new Error("JSONP request to "+h+" failed")),j(C),o(O),w&&clearTimeout(w)}})}},y!==void 0&&A!==void 0?d(0,A):(d(d={exports:{}},d),this.fetchJsonp=d.exports)},{}],242:[function(t,A,y){var d=function(c){var u,x,j,o,h,f,l,m,_,w;if(!(c===void 0||typeof navigator<"u"&&/MSIE [1-9]\./.test(navigator.userAgent)))return w=c.document,u=function(){return c.URL||c.webkitURL||c},x=w.createElementNS("http://www.w3.org/1999/xhtml","a"),j="download"in x,o=/constructor/i.test(c.HTMLElement)||c.safari,h=/CriOS\/[\d]+/.test(navigator.userAgent),f=function(v){(c.setImmediate||c.setTimeout)(function(){throw v},0)},l=function(v){setTimeout(function(){typeof v=="string"?u().revokeObjectURL(v):v.remove()},4e4)},m=function(v){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(v.type)?new Blob(["\uFEFF",v],{type:v.type}):v},w=(_=function(v,E,C){C||(v=m(v));var O,U,N=this,D=(C=v.type==="application/octet-stream",function(){for(var H=N,I="writestart progress write writeend".split(" "),V=(I=[].concat(I)).length;V--;){var G=H["on"+I[V]];if(typeof G=="function")try{G.call(H,H)}catch(q){f(q)}}});N.readyState=N.INIT,j?(O=u().createObjectURL(v),setTimeout(function(){var H,I;x.href=O,x.download=E,H=x,I=new MouseEvent("click"),H.dispatchEvent(I),D(),l(O),N.readyState=N.DONE})):(h||C&&o)&&c.FileReader?((U=new FileReader).onloadend=function(){var H=h?U.result:U.result.replace(/^data:[^;]*;/,"data:attachment/file;");c.open(H,"_blank")||(c.location.href=H),H=void 0,N.readyState=N.DONE,D()},U.readAsDataURL(v),N.readyState=N.INIT):(O=O||u().createObjectURL(v),!C&&c.open(O,"_blank")||(c.location.href=O),N.readyState=N.DONE,D(),l(O))}).prototype,typeof navigator<"u"&&navigator.msSaveOrOpenBlob?function(v,E,C){return E=E||v.name||"download",C||(v=m(v)),navigator.msSaveOrOpenBlob(v,E)}:(w.abort=function(){},w.readyState=w.INIT=0,w.WRITING=1,w.DONE=2,w.error=w.onwritestart=w.onprogress=w.onwrite=w.onabort=w.onerror=w.onwriteend=null,function(v,E,C){return new _(v,E||v.name||"download",C)})}(typeof self<"u"&&self||typeof window<"u"&&window||this.content);A!==void 0&&A.exports&&(A.exports.saveAs=d)},{}],243:[function(t,A,y){var d,c=Object.defineProperty,u=(c(y,"__esModule",{value:!0}),y),x={GIFEncoder:()=>D,applyPalette:()=>function(X,B,W="rgb565"){if(!X||!X.buffer)throw new Error("quantize() expected RGBA Uint8Array data");if(!(X instanceof Uint8Array||X instanceof Uint8ClampedArray))throw new Error("quantize() expected RGBA Uint8Array data");if(256<B.length)throw new Error("applyPalette() only works with 256 colors or less");const K=new Uint32Array(X.buffer),ee=K.length,re=W==="rgb444"?4096:65536,oe=new Uint8Array(ee),le=new Array(re);if(W==="rgba4444")for(let Se=0;Se<ee;Se++){var me,$=(me=K[Se])>>24&255,Q=me>>16&255,se=me>>8&255,de=(de=l(me=255&me,se,Q,$))in le?le[de]:le[de]=function(Me,Ee,Te,Pe,Ke){let Ge=0,et=1e100;for(let Pt=0;Pt<Ke.length;Pt++){var ft=Ke[Pt],ot=O(ft[3]-Pe);ot>et||(ot+=O(ft[0]-Me))>et||(ot+=O(ft[1]-Ee))>et||(ot+=O(ft[2]-Te))>et||(et=ot,Ge=Pt)}return Ge}(me,se,Q,$,B);oe[Se]=de}else{const Se=W==="rgb444"?m:f;for(let Me=0;Me<ee;Me++){var ge,ve=(ge=K[Me])>>16&255,ae=ge>>8&255,ye=(ye=Se(ge=255&ge,ae,ve))in le?le[ye]:le[ye]=function(Ee,Te,Pe,Ke){let Ge=0,et=1e100;for(let Pt=0;Pt<Ke.length;Pt++){var ft=Ke[Pt],ot=O(ft[0]-Ee);ot>et||(ot+=O(ft[1]-Te))>et||(ot+=O(ft[2]-Pe))>et||(et=ot,Ge=Pt)}return Ge}(ge,ae,ve,B);oe[Me]=ye}}return oe},default:()=>q,nearestColor:()=>function(X,B,W=E){return X[U(X,B,W)]},nearestColorIndex:()=>U,nearestColorIndexWithDistance:()=>N,prequantize:()=>function(X,{roundRGB:B=5,roundAlpha:W=10,oneBitAlpha:K=null}={}){const ee=new Uint32Array(X.buffer);for(let me=0;me<ee.length;me++){let $=(le=ee[me])>>24&255;var re=le>>16&255,oe=le>>8&255,le=255&le;$=C($,W),K&&($=$<=(typeof K=="number"?K:127)?0:255),le=C(le,B),oe=C(oe,B),re=C(re,B),ee[me]=$<<24|re<<16|oe<<8|le<<0}},quantize:()=>function(X,B,W={}){var{format:K="rgb565",clearAlpha:ee=!0,clearAlphaColor:re=0,clearAlphaThreshold:oe=0,oneBitAlpha:le=!1}=W;if(!X||!X.buffer)throw new Error("quantize() expected RGBA Uint8Array data");if(!(X instanceof Uint8Array||X instanceof Uint8ClampedArray))throw new Error("quantize() expected RGBA Uint8Array data");X=new Uint32Array(X.buffer);let me=W.useSqrt!==!1;const $=K==="rgba4444",Q=function(je,Ve){const He=new Array(Ve==="rgb444"?4096:65536),nt=je.length;if(Ve==="rgba4444")for(let ht=0;ht<nt;++ht){var vt,Lt=(vt=je[ht])>>24&255,xt=vt>>16&255,mt=vt>>8&255,fe=l(vt=255&vt,mt,xt,Lt);let _t=fe in He?He[fe]:He[fe]={ac:0,rc:0,gc:0,bc:0,cnt:0,nn:0,fw:0,bk:0,tm:0,mtm:0,err:0};_t.rc+=vt,_t.gc+=mt,_t.bc+=xt,_t.ac+=Lt,_t.cnt++}else if(Ve==="rgb444")for(let ht=0;ht<nt;++ht){var ue,he=(ue=je[ht])>>16&255,we=ue>>8&255,Oe=m(ue=255&ue,we,he);let _t=Oe in He?He[Oe]:He[Oe]={ac:0,rc:0,gc:0,bc:0,cnt:0,nn:0,fw:0,bk:0,tm:0,mtm:0,err:0};_t.rc+=ue,_t.gc+=we,_t.bc+=he,_t.cnt++}else for(let ht=0;ht<nt;++ht){var We,lt=(We=je[ht])>>16&255,st=We>>8&255,De=f(We=255&We,st,lt);let _t=De in He?He[De]:He[De]={ac:0,rc:0,gc:0,bc:0,cnt:0,nn:0,fw:0,bk:0,tm:0,mtm:0,err:0};_t.rc+=We,_t.gc+=st,_t.bc+=lt,_t.cnt++}return He}(X,K),se=Q.length,de=se-1,ge=new Uint32Array(se+1);for(var ve=0,ae=0;ae<se;++ae){const je=Q[ae];je!=null&&(ot=1/je.cnt,$&&(je.ac*=ot),je.rc*=ot,je.gc*=ot,je.bc*=ot,Q[ve++]=je)}w(B)/ve<.022&&(me=!1);var ye,Se,Me;for(ae=0;ae<ve-1;++ae)Q[ae].fw=ae+1,Q[ae+1].bk=ae,me&&(Q[ae].cnt=Math.sqrt(Q[ae].cnt));for(me&&(Q[ae].cnt=Math.sqrt(Q[ae].cnt)),ae=0;ae<ve;++ae){v(Q,ae);var Ee=Q[ae].err;for(Se=++ge[0];1<Se&&!(Q[ye=ge[Me=Se>>1]].err<=Ee);Se=Me)ge[Se]=ye;ge[Se]=ae}var Te,Pe=ve-B;for(ae=0;ae<Pe;){for(;;){var Ke=ge[1];if((Te=Q[Ke]).tm>=Te.mtm&&Q[Te.nn].mtm<=Te.tm)break;for(Te.mtm==de?Ke=ge[1]=ge[ge[0]--]:(v(Q,Ke),Te.tm=ae),Ee=Q[Ke].err,Se=1;(Me=Se+Se)<=ge[0]&&(Me<ge[0]&&Q[ge[Me]].err>Q[ge[Me+1]].err&&Me++,!(Ee<=Q[ye=ge[Me]].err));Se=Me)ge[Se]=ye;ge[Se]=Ke}var Ge=Q[Te.nn],et=Te.cnt,ft=Ge.cnt,ot=1/(et+ft);$&&(Te.ac=ot*(et*Te.ac+ft*Ge.ac)),Te.rc=ot*(et*Te.rc+ft*Ge.rc),Te.gc=ot*(et*Te.gc+ft*Ge.gc),Te.bc=ot*(et*Te.bc+ft*Ge.bc),Te.cnt+=Ge.cnt,Te.mtm=++ae,Q[Ge.bk].fw=Ge.fw,Q[Ge.fw].bk=Ge.bk,Ge.mtm=de}let Pt=[];for(ae=0;;0){let je=_(Math.round(Q[ae].rc),0,255),Ve=_(Math.round(Q[ae].gc),0,255),He=_(Math.round(Q[ae].bc),0,255),nt=255;$&&(nt=_(Math.round(Q[ae].ac),0,255),le&&(nt=nt<=(bt=typeof le=="number"?le:127)?0:255),ee&&nt<=oe&&(je=Ve=He=re,nt=0));var bt=$?[je,Ve,He,nt]:[je,Ve,He];if(function(vt,Lt){for(let fe=0;fe<vt.length;fe++){var xt=(mt=vt[fe])[0]===Lt[0]&&mt[1]===Lt[1]&&mt[2]===Lt[2],mt=!(4<=mt.length&&4<=Lt.length)||mt[3]===Lt[3];if(xt&&mt)return!0}return!1}(Pt,bt)||Pt.push(bt),(ae=Q[ae].fw)==0)break}return Pt},snapColorsToPalette:()=>function(X,B,W=5){if(X.length&&B.length){var K=X.map(me=>me.slice(0,3)),ee=W*W,re=X[0].length;for(let me=0;me<B.length;me++){let $=B[me];$=$.length<re?[$[0],$[1],$[2],255]:$.length>re?$.slice(0,3):$.slice();var oe,le=(oe=N(K,$.slice(0,3),E))[0];0<(oe=oe[1])&&oe<=ee&&(X[le]=$)}}}};for(d in x)c(u,d,{get:x[d],enumerable:!0});var j=59;function o(X=256){let B=0,W=new Uint8Array(X);return{get buffer(){return W.buffer},reset(){B=0},bytesView:()=>W.subarray(0,B),bytes:()=>W.slice(0,B),writeByte(ee){K(B+1),W[B]=ee,B++},writeBytes(ee,re=0,oe=ee.length){K(B+oe);for(let le=0;le<oe;le++)W[B++]=ee[le+re]},writeBytesView(ee,re=0,oe=ee.byteLength){K(B+oe),W.set(ee.subarray(re,re+oe),B),B+=oe}};function K(ee){var re=W.length;if(!(ee<=re)){ee=Math.max(ee,re*(re<1048576?2:1.125)>>>0),re!=0&&(ee=Math.max(ee,256));const oe=W;W=new Uint8Array(ee),0<B&&W.set(oe.subarray(0,B),0)}}}var h=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535];function f(X,B,W){return X<<8&63488|B<<2&992|W>>3}function l(X,B,W,K){return X>>4|240&B|(240&W)<<4|(240&K)<<8}function m(X,B,W){return X>>4<<8|240&B|W>>4}function _(X,B,W){return X<B?B:W<X?W:X}function w(X){return X*X}function v(X,B,W){var K=0,ee=1e100;const re=X[B];for(var oe=re.cnt,le=re.ac,me=re.rc,$=re.gc,Q=re.bc,se=re.fw;se!=0;se=X[se].fw){var de,ge,ve=X[se];ee<=(ge=oe*(ge=ve.cnt)/(oe+ge))||(de=0,ee<=(de+=ge*w(ve.rc-me))||ee<=(de+=ge*w(ve.gc-$))||ee<=(de+=ge*w(ve.bc-Q))||(ee=de,K=se))}re.err=ee,re.nn=K}function E(X,B){for(var W=0,K=0;K<X.length;K++){var ee=X[K]-B[K];W+=ee*ee}return W}function C(X,B){return 1<B?Math.round(X/B)*B:X}function O(X){return X*X}function U(X,B,W=E){let K=1/0,ee=-1;for(let oe=0;oe<X.length;oe++){var re=W(B,X[oe]);re<K&&(K=re,ee=oe)}return ee}function N(X,B,W=E){let K=1/0,ee=-1;for(let oe=0;oe<X.length;oe++){var re=W(B,X[oe]);re<K&&(K=re,ee=oe)}return[ee,K]}function D(X={}){const{initialCapacity:B=4096,auto:W=!0}=X,K=o(B),ee=new Uint8Array(256),re=new Int32Array(5003),oe=new Int32Array(5003);let le=!1;return{reset(){K.reset(),le=!1},finish(){K.writeByte(j)},bytes:()=>K.bytes(),bytesView:()=>K.bytesView(),get buffer(){return K.buffer},get stream(){return K},writeHeader:me,writeFrame($,Q,se,de={}){var{transparent:ge=!1,transparentIndex:ve=0,delay:ft=0,palette:ae=null,repeat:Ke=0,colorDepth:ye=8,dispose:Se=-1}=de;let Me=!1;if(W?le||(Me=!0,me(),le=!0):Me=!!de.first,Q=Math.max(0,Math.floor(Q)),se=Math.max(0,Math.floor(se)),Me){if(!ae)throw new Error("First frame must include a { palette } option");var[de,Ge,Te,et,Pe=8]=[K,Q,se,ae,ye];Pe=128|Pe-1<<4|(et=G(et.length)-1),I(de,Ge),I(de,Te),de.writeBytes([Pe,0,0]),H(K,ae),0<=Ke&&(Ge=Ke,(et=K).writeByte(33),et.writeByte(255),et.writeByte(11),V(et,"NETSCAPE2.0"),et.writeByte(3),et.writeByte(1),I(et,Ge),et.writeByte(0))}var Ee,Te,Pe=Se,Ke=Te=Math.round(ft/10),Ge=ge,et=ve,ft=((de=K).writeByte(33),de.writeByte(249),de.writeByte(4),et<0&&(et=0,Ge=!1),Ge=Ge?(Ee=1,2):Ee=0,0<=Pe&&(Ge=7&Pe),Ge<<=2,de.writeByte(0|Ge|Ee),I(de,Ke),de.writeByte(et||0),de.writeByte(0),!!ae&&!Me);ge=Q,ve=se,Ee=ft?ae:null,(Se=K).writeByte(44),I(Se,0),I(Se,0),I(Se,ge),I(Se,ve),Ee?(ge=G(Ee.length)-1,Se.writeByte(128|ge)):Se.writeByte(0),ft&&H(K,ae),[Ke,de,ve,ge,Se=8,ft,ae,$]=[K,$,Q,se,ye,ee,re,oe],function(ot,Pt,bt,je,Ve=o(512),He=new Uint8Array(256),nt=new Int32Array(5003),vt=new Int32Array(5003)){var Lt=nt.length;je=Math.max(2,je),He.fill(0),vt.fill(0),nt.fill(-1);let xt=0,mt=0;var fe=je+1;const ue=fe;let he=!1,we=ue,Oe=(1<<we)-1;var We=1<<fe-1;const lt=1+We;let st=2+We,De=0,ht=bt[0],_t=0;for(let vr=Lt;vr<65536;vr*=2)++_t;_t=8-_t,Ve.writeByte(je),zt(We);var Kt=bt.length;for(let vr=1;vr<Kt;vr++)e:{var sr=bt[vr],Yt=(sr<<12)+ht;let Ar=sr<<_t^ht;if(nt[Ar]===Yt)ht=vt[Ar];else{for(var Vt=Ar===0?1:Lt-Ar;0<=nt[Ar];)if((Ar-=Vt)<0&&(Ar+=Lt),nt[Ar]===Yt){ht=vt[Ar];break e}zt(ht),ht=sr,st<4096?(vt[Ar]=st++,nt[Ar]=Yt):(nt.fill(-1),st=2+We,he=!0,zt(We))}}return zt(ht),zt(lt),Ve.writeByte(0),Ve.bytesView();function zt(vr){for(xt&=h[mt],0<mt?xt|=vr<<mt:xt=vr,mt+=we;8<=mt;)He[De++]=255&xt,254<=De&&(Ve.writeByte(De),Ve.writeBytesView(He,0,De),De=0),xt>>=8,mt-=8;if((st>Oe||he)&&(he?(we=ue,Oe=(1<<we)-1,he=!1):(++we,Oe=we===12?1<<we:(1<<we)-1)),vr==lt){for(;0<mt;)He[De++]=255&xt,254<=De&&(Ve.writeByte(De),Ve.writeBytesView(He,0,De),De=0),xt>>=8,mt-=8;0<De&&(Ve.writeByte(De),Ve.writeBytesView(He,0,De),De=0)}}}(0,0,de,Se,Ke,ft,ae,$)}};function me(){V(K,"GIF89a")}}function H(X,B){var W=1<<G(B.length);for(let K=0;K<W;K++){let ee=[0,0,0];K<B.length&&(ee=B[K]),X.writeByte(ee[0]),X.writeByte(ee[1]),X.writeByte(ee[2])}}function I(X,B){X.writeByte(255&B),X.writeByte(B>>8&255)}function V(X,B){for(var W=0;W<B.length;W++)X.writeByte(B.charCodeAt(W))}function G(X){return Math.max(Math.ceil(Math.log2(X)),1)}var q=D},{}],244:[function(t,A,y){y.read=function(d,c,u,x,j){var o,h,f=8*j-x-1,l=(1<<f)-1,m=l>>1,_=-7,w=u?j-1:0,v=u?-1:1;for(j=d[c+w],w+=v,o=j&(1<<-_)-1,j>>=-_,_+=f;0<_;o=256*o+d[c+w],w+=v,_-=8);for(h=o&(1<<-_)-1,o>>=-_,_+=x;0<_;h=256*h+d[c+w],w+=v,_-=8);if(o===0)o=1-m;else{if(o===l)return h?NaN:1/0*(j?-1:1);h+=Math.pow(2,x),o-=m}return(j?-1:1)*h*Math.pow(2,o-x)},y.write=function(d,c,u,x,j,o){var h,f,l=8*o-j-1,m=(1<<l)-1,_=m>>1,w=j===23?Math.pow(2,-24)-Math.pow(2,-77):0,v=x?0:o-1,E=x?1:-1;for(o=c<0||c===0&&1/c<0?1:0,c=Math.abs(c),isNaN(c)||c===1/0?(f=isNaN(c)?1:0,h=m):(h=Math.floor(Math.log(c)/Math.LN2),c*(x=Math.pow(2,-h))<1&&(h--,x*=2),2<=(c+=1<=h+_?w/x:w*Math.pow(2,1-_))*x&&(h++,x/=2),m<=h+_?(f=0,h=m):1<=h+_?(f=(c*x-1)*Math.pow(2,j),h+=_):(f=c*Math.pow(2,_-1)*Math.pow(2,j),h=0));8<=j;d[u+v]=255&f,v+=E,f/=256,j-=8);for(h=h<<j|f,l+=j;0<l;d[u+v]=255&h,v+=E,h/=256,l-=8);d[u+v-E]|=128*o}},{}],245:[function(t,A,y){var d;function c(fe,ue){return fe.b===ue.b&&fe.a===ue.a}function u(fe,ue){return fe.b<ue.b||fe.b===ue.b&&fe.a<=ue.a}function x(fe,ue,he){var we=ue.b-fe.b,Oe=he.b-ue.b;return 0<we+Oe?we<Oe?ue.a-fe.a+we/(we+Oe)*(fe.a-he.a):ue.a-he.a+Oe/(we+Oe)*(he.a-fe.a):0}function j(fe,ue,he){var we=ue.b-fe.b,Oe=he.b-ue.b;return 0<we+Oe?(ue.a-he.a)*we+(ue.a-fe.a)*Oe:0}function o(fe,ue){return fe.a<ue.a||fe.a===ue.a&&fe.b<=ue.b}function h(fe,ue,he){var we=ue.a-fe.a,Oe=he.a-ue.a;return 0<we+Oe?we<Oe?ue.b-fe.b+we/(we+Oe)*(fe.b-he.b):ue.b-he.b+Oe/(we+Oe)*(he.b-fe.b):0}function f(fe,ue,he){var we=ue.a-fe.a,Oe=he.a-ue.a;return 0<we+Oe?(ue.b-he.b)*we+(ue.b-fe.b)*Oe:0}function l(fe,ue,he,we){return(fe=fe<0?0:fe)<=(he=he<0?0:he)?he===0?(ue+we)/2:ue+fe/(fe+he)*(we-ue):we+he/(fe+he)*(ue-we)}function m(fe){var ue=C(fe.b);return U(ue,fe.c),U(ue.b,fe.c),N(ue,fe.a),ue}function _(fe,ue){var he=!1,we=!1;fe!==ue&&(ue.a!==fe.a&&(we=!0,H(ue.a,fe.a)),ue.d!==fe.d&&(he=!0,I(ue.d,fe.d)),O(ue,fe),we||(U(ue,fe.a),fe.a.c=fe),he||(N(ue,fe.d),fe.d.a=fe))}function w(fe){var ue=fe.b,he=!1;fe.d!==fe.b.d&&(he=!0,I(fe.d,fe.b.d)),fe.c===fe?H(fe.a,null):(fe.b.d.a=fe.b.e,fe.a.c=fe.c,O(fe,fe.b.e),he||N(fe,fe.d)),ue.c===ue?(H(ue.a,null),I(ue.d,null)):(fe.d.a=ue.b.e,ue.a.c=ue.c,O(ue,ue.b.e)),D(fe)}function v(fe){var ue=C(fe),he=ue.b;return O(ue,fe.e),ue.a=fe.b.a,U(he,ue.a),ue.d=he.d=fe.d,ue=ue.b,O(fe.b,fe.b.b.e),O(fe.b,ue),fe.b.a=ue.a,ue.b.a.c=ue.b,ue.b.d=fe.b.d,ue.f=fe.f,ue.b.f=fe.b.f,ue}function E(fe,ue){var he=!1,we=C(fe),Oe=we.b;return ue.d!==fe.d&&(he=!0,I(ue.d,fe.d)),O(we,fe.e),O(Oe,ue),we.a=fe.b.a,Oe.a=ue.a,we.d=Oe.d=fe.d,fe.d.a=Oe,he||N(we,fe.d),we}function C(fe){var ue=new Ke,he=new Ke,we=fe.b.h;return(((he.h=we).b.h=ue).h=fe).b.h=he,ue.b=he,((ue.c=ue).e=he).b=ue,(he.c=he).e=ue}function O(fe,ue){var he=fe.c,we=ue.c;he.b.e=ue,(we.b.e=fe).c=we,ue.c=he}function U(fe,ue){var he=ue.f,we=new et(ue,he);for(he.e=we,he=(ue.f=we).c=fe;he.a=we,(he=he.c)!==fe;);}function N(fe,ue){var he=ue.d,we=new Pe(ue,he);for(he.b=we,(ue.d=we).a=fe,we.c=ue.c,he=fe;he.d=we,(he=he.e)!==fe;);}function D(fe){var ue=fe.h;fe=fe.b.h,(ue.b.h=fe).b.h=ue}function H(fe,ue){for(var he=fe.c,we=he;we.a=ue,(we=we.c)!==he;);he=fe.f,((we=fe.e).f=he).e=we}function I(fe,ue){for(var he=fe.a,we=he;we.d=ue,(we=we.e)!==he;);he=fe.d,((we=fe.b).d=he).b=we}function V(fe){var ue=0;return Math.abs(fe[1])>Math.abs(fe[0])&&(ue=1),Math.abs(fe[2])>Math.abs(fe[ue])?2:ue}function G(fe,ue){fe.f+=ue.f,fe.b.f+=ue.b.f}function q(fe,ue,he){return fe=fe.a,ue=ue.a,he=he.a,ue.b.a===fe?he.b.a===fe?u(ue.a,he.a)?j(he.b.a,ue.a,he.a)<=0:0<=j(ue.b.a,he.a,ue.a):j(he.b.a,fe,he.a)<=0:he.b.a===fe?0<=j(ue.b.a,fe,ue.a):(ue=x(ue.b.a,fe,ue.a),(fe=x(he.b.a,fe,he.a))<=ue)}function X(fe){fe.a.i=null;var ue=fe.e;ue.a.c=ue.c,ue.c.a=ue.a,fe.e=null}function B(fe,ue){w(fe.a),fe.c=!1,(fe.a=ue).i=fe}function W(fe){for(var ue=fe.a.a;(fe=mt(fe)).a.a===ue;);return fe.c&&(B(fe,ue=E(xt(fe).a.b,fe.a.e)),fe=mt(fe)),fe}function K(fe,ue,he){var we=new Lt;return we.a=he,we.e=ye(fe.f,ue.e,we),he.i=we}function ee(fe,ue){switch(fe.s){case 100130:return(1&ue)!=0;case 100131:return ue!==0;case 100132:return 0<ue;case 100133:return ue<0;case 100134:return 2<=ue||ue<=-2}return!1}function re(fe){var ue=fe.a,he=ue.d;he.c=fe.d,he.a=ue,X(fe)}function oe(fe,ue,he){for(ue=(fe=ue).a;fe!==he;){fe.c=!1;var we=xt(fe),Oe=we.a;if(Oe.a!==ue.a){if(!we.c){re(fe);break}B(we,Oe=E(ue.c.b,Oe.b))}ue.c!==Oe&&(_(Oe.b.e,Oe),_(ue,Oe)),re(fe),ue=we.a,fe=we}return ue}function le(fe,ue,he,we,Oe,We){for(var lt=!0;K(fe,ue,he.b),(he=he.c)!==we;);for(Oe===null&&(Oe=xt(ue).a.b.c);(he=(we=xt(ue)).a.b).a===Oe.a;)he.c!==Oe&&(_(he.b.e,he),_(Oe.b.e,he)),we.f=ue.f-he.f,we.d=ee(fe,we.f),ue.b=!0,!lt&&se(fe,ue)&&(G(he,Oe),X(ue),w(Oe)),lt=!1,ue=we,Oe=he;ue.b=!0,We&&ge(fe,ue)}function me(fe,ue,he,we,Oe){var We=[ue.g[0],ue.g[1],ue.g[2]];ue.d=null,ue.d=fe.o&&fe.o(We,he,we,fe.c)||null,ue.d===null&&(Oe?fe.n||(Te(fe,100156),fe.n=!0):ue.d=he[0])}function $(fe,ue,he){var we=[null,null,null,null];we[0]=ue.a.d,we[1]=he.a.d,me(fe,ue.a,we,[.5,.5,0,0],!1),_(ue,he)}function Q(fe,ue,he,we,Oe){var We=Math.abs(ue.b-fe.b)+Math.abs(ue.a-fe.a),lt=Math.abs(he.b-fe.b)+Math.abs(he.a-fe.a),st=Oe+1;we[Oe]=.5*lt/(We+lt),we[st]=.5*We/(We+lt),fe.g[0]+=we[Oe]*ue.g[0]+we[st]*he.g[0],fe.g[1]+=we[Oe]*ue.g[1]+we[st]*he.g[1],fe.g[2]+=we[Oe]*ue.g[2]+we[st]*he.g[2]}function se(fe,ue){var he=xt(ue),we=ue.a,Oe=he.a;if(u(we.a,Oe.a)){if(0<j(Oe.b.a,we.a,Oe.a))return;if(c(we.a,Oe.a)){if(we.a!==Oe.a){he=fe.e;var We=we.a.h;if(0<=We){var lt=(he=he.b).d,st=he.e,De=he.c,ht=De[We];lt[ht]=lt[he.a],(De[lt[ht]]=ht)<=--he.a&&(ht<=1||u(st[lt[ht>>1]],st[lt[ht]])?nt:vt)(he,ht),st[We]=null,De[We]=he.b,he.b=We}else for(he.c[-(We+1)]=null;0<he.a&&he.c[he.d[he.a-1]]===null;)--he.a;$(fe,Oe.b.e,we)}}else v(Oe.b),_(we,Oe.b.e),ue.b=he.b=!0}else{if(j(we.b.a,Oe.a,we.a)<0)return;mt(ue).b=ue.b=!0,v(we.b),_(Oe.b.e,we)}return 1}function de(fe,ue){var he=xt(ue),we=ue.a,Oe=he.a,We=we.a,lt=Oe.a,st=we.b.a,De=Oe.b.a,ht=new et;if(j(st,fe.a,We),j(De,fe.a,lt),!(We===lt||Math.min(We.a,st.a)>Math.max(lt.a,De.a))){if(u(We,lt)){if(0<j(De,We,lt))return}else if(j(st,lt,We)<0)return;var _t,Kt,sr=st,Yt=We,Vt=De,zt=lt;if(u(sr,Yt)||(_t=sr,sr=Yt,Yt=_t),u(Vt,zt)||(_t=Vt,Vt=zt,zt=_t),u(sr,Vt)||(_t=sr,sr=Vt,Vt=_t,_t=Yt,Yt=zt,zt=_t),u(Vt,Yt)?u(Yt,zt)?((_t=x(sr,Vt,Yt))+(Kt=x(Vt,Yt,zt))<0&&(_t=-_t,Kt=-Kt),ht.b=l(_t,Vt.b,Kt,Yt.b)):((_t=j(sr,Vt,Yt))+(Kt=-j(sr,zt,Yt))<0&&(_t=-_t,Kt=-Kt),ht.b=l(_t,Vt.b,Kt,zt.b)):ht.b=(Vt.b+Yt.b)/2,o(sr,Yt)||(_t=sr,sr=Yt,Yt=_t),o(Vt,zt)||(_t=Vt,Vt=zt,zt=_t),o(sr,Vt)||(_t=sr,sr=Vt,Vt=_t,_t=Yt,Yt=zt,zt=_t),o(Vt,Yt)?o(Yt,zt)?((_t=h(sr,Vt,Yt))+(Kt=h(Vt,Yt,zt))<0&&(_t=-_t,Kt=-Kt),ht.a=l(_t,Vt.a,Kt,Yt.a)):((_t=f(sr,Vt,Yt))+(Kt=-f(sr,zt,Yt))<0&&(_t=-_t,Kt=-Kt),ht.a=l(_t,Vt.a,Kt,zt.a)):ht.a=(Vt.a+Yt.a)/2,u(ht,fe.a)&&(ht.b=fe.a.b,ht.a=fe.a.a),sr=u(We,lt)?We:lt,u(sr,ht)&&(ht.b=sr.b,ht.a=sr.a),c(ht,We)||c(ht,lt))return se(fe,ue),0;if(!c(st,fe.a)&&0<=j(st,fe.a,ht)||!c(De,fe.a)&&j(De,fe.a,ht)<=0){if(De===fe.a)v(we.b),_(Oe.b,we),we=xt(ue=W(ue)).a,oe(fe,xt(ue),he),le(fe,ue,we.b.e,we,we,!0);else{if(st!==fe.a)return 0<=j(st,fe.a,ht)&&(mt(ue).b=ue.b=!0,v(we.b),we.a.b=fe.a.b,we.a.a=fe.a.a),void(j(De,fe.a,ht)<=0&&(ue.b=he.b=!0,v(Oe.b),Oe.a.b=fe.a.b,Oe.a.a=fe.a.a));for(v(Oe.b),_(we.e,Oe.b.e),lt=(We=he=ue).a.b.a;(We=mt(We)).a.b.a===lt;);We=xt(ue=We).a.b.c,he.a=Oe.b.e,le(fe,ue,(Oe=oe(fe,he,null)).c,we.b.c,We,!0)}return 1}v(we.b),v(Oe.b),_(Oe.b.e,we),we.a.b=ht.b,we.a.a=ht.a,we.a.h=ot(fe.e,we.a),we=we.a,Oe=[0,0,0,0],ht=[We.d,st.d,lt.d,De.d],we.g[0]=we.g[1]=we.g[2]=0,Q(we,We,st,Oe,0),Q(we,lt,De,Oe,2),me(fe,we,ht,Oe,!0),mt(ue).b=ue.b=he.b=!0}}function ge(fe,ue){for(var he=xt(ue);;){for(;he.b;)he=xt(ue=he);if(!(ue.b||(ue=mt(he=ue))!==null&&ue.b))break;ue.b=!1;var we=ue.a,Oe=he.a;if(We=we.b.a!==Oe.b.a)e:{var We,lt=xt(We=ue),st=We.a,De=lt.a,ht=void 0;if(u(st.b.a,De.b.a)){if(j(st.b.a,De.b.a,st.a)<0){We=!1;break e}mt(We).b=We.b=!0,ht=v(st),_(De.b,ht),ht.d.c=We.d}else{if(0<j(De.b.a,st.b.a,De.a)){We=!1;break e}We.b=lt.b=!0,ht=v(De),_(st.e,De.b),ht.b.d.c=We.d}We=!0}if(We&&(he.c?(X(he),w(Oe),Oe=(he=xt(ue)).a):ue.c&&(X(ue),w(we),we=(ue=mt(he)).a)),we.a!==Oe.a){if(we.b.a===Oe.b.a||ue.c||he.c||we.b.a!==fe.a&&Oe.b.a!==fe.a)se(fe,ue);else if(de(fe,ue))break}we.a===Oe.a&&we.b.a===Oe.b.a&&(G(Oe,we),X(ue),w(we),ue=mt(he))}}function ve(fe,ue){var he=new Lt,we=m(fe.b);we.a.b=4e150,we.a.a=ue,we.b.a.b=-4e150,we.b.a.a=ue,fe.a=we.b.a,he.a=we,he.f=0,he.d=!1,he.c=!1,he.h=!0,he.b=!1,we=ye(we=fe.f,we.a,he),he.e=we}function ae(fe){this.a=new Se,this.b=fe,this.c=q}function ye(fe,ue,he){for(;(ue=ue.c).b!==null&&!fe.c(fe.b,ue.b,he););return fe=new Se(he,ue.a,ue),ue.a.c=fe,ue.a=fe}function Se(fe,ue,he){this.b=fe||null,this.a=ue||this,this.c=he||this}function Me(){this.d=0,this.p=this.b=this.q=null,this.j=[0,0,0],this.s=100130,this.n=!1,this.o=this.a=this.e=this.f=null,this.m=!1,this.c=this.r=this.i=this.k=this.l=this.h=null}function Ee(fe,ue){if(fe.d!==ue)for(;fe.d!==ue;)if(fe.d<ue)switch(fe.d){case 0:Te(fe,100151),fe.u(null);break;case 1:Te(fe,100152),fe.t()}else switch(fe.d){case 2:Te(fe,100154),fe.v();break;case 1:Te(fe,100153),fe.w()}}function Te(fe,ue){fe.p&&fe.p(ue,fe.c)}function Pe(fe,ue){this.b=fe||this,this.d=ue||this,this.a=null,this.c=!1}function Ke(){(this.h=this).i=this.d=this.a=this.e=this.c=this.b=null,this.f=0}function Ge(){this.c=new et,this.a=new Pe,this.b=new Ke,this.d=new Ke,this.b.b=this.d,this.d.b=this.b}function et(fe,ue){this.e=fe||this,this.f=ue||this,this.d=this.c=null,this.g=[0,0,0],this.h=this.a=this.b=0}function ft(){this.c=[],this.d=null,this.a=0,this.e=!1,this.b=new bt}function ot(fe,ue){var he,we,Oe;return fe.e?(2*(we=++(he=fe.b).a)>he.f&&(he.f*=2,he.c=je(he.c,he.f+1)),he.b===0?Oe=we:(Oe=he.b,he.b=he.c[he.b]),he.e[Oe]=ue,he.c[Oe]=we,he.d[we]=Oe,he.h&&vt(he,we),Oe):(he=fe.a++,fe.c[he]=ue,-(he+1))}function Pt(fe){if(fe.a===0)return He(fe.b);var ue=fe.c[fe.d[fe.a-1]];if(fe.b.a!==0&&u(Ve(fe.b),ue))return He(fe.b);for(;--fe.a,0<fe.a&&fe.c[fe.d[fe.a-1]]===null;);return ue}function bt(){this.d=je([0],33),this.e=[null,null],this.c=[0,0],this.a=0,this.f=32,this.b=0,this.h=!1,this.d[1]=1}function je(fe,ue){for(var he=Array(ue),we=0;we<fe.length;we++)he[we]=fe[we];for(;we<ue;we++)he[we]=0;return he}function Ve(fe){return fe.e[fe.d[1]]}function He(fe){var ue=fe.d,he=fe.e,we=fe.c,Oe=ue[1],We=he[Oe];return 0<fe.a&&(ue[1]=ue[fe.a],we[ue[1]]=1,he[Oe]=null,we[Oe]=fe.b,fe.b=Oe,0<--fe.a&&nt(fe,1)),We}function nt(fe,ue){for(var he=fe.d,we=fe.e,Oe=fe.c,We=ue,lt=he[We];;){var st=We<<1,De=(st<fe.a&&u(we[he[st+1]],we[he[st]])&&(st+=1),he[st]);if(st>fe.a||u(we[lt],we[De])){Oe[he[We]=lt]=We;break}Oe[he[We]=De]=We,We=st}}function vt(fe,ue){for(var he=fe.d,we=fe.e,Oe=fe.c,We=ue,lt=he[We];;){var st=We>>1,De=he[st];if(st==0||u(we[De],we[lt])){Oe[he[We]=lt]=We;break}Oe[he[We]=De]=We,We=st}}function Lt(){this.e=this.a=null,this.f=0,this.c=this.b=this.h=this.d=!1}function xt(fe){return fe.e.c.b}function mt(fe){return fe.e.a.b}(d=Me.prototype).x=function(){Ee(this,0)},d.B=function(fe,ue){switch(fe){case 100142:return;case 100140:switch(ue){case 100130:case 100131:case 100132:case 100133:case 100134:return void(this.s=ue)}break;case 100141:return void(this.m=!!ue);default:return void Te(this,100900)}Te(this,100901)},d.y=function(fe){switch(fe){case 100142:return 0;case 100140:return this.s;case 100141:return this.m;default:Te(this,100900)}return!1},d.A=function(fe,ue,he){this.j[0]=fe,this.j[1]=ue,this.j[2]=he},d.z=function(fe,ue){var he=ue||null;switch(fe){case 100100:case 100106:this.h=he;break;case 100104:case 100110:this.l=he;break;case 100101:case 100107:this.k=he;break;case 100102:case 100108:this.i=he;break;case 100103:case 100109:this.p=he;break;case 100105:case 100111:this.o=he;break;case 100112:this.r=he;break;default:Te(this,100900)}},d.C=function(fe,ue){var he=!1,we=[0,0,0];Ee(this,2);for(var Oe=0;Oe<3;++Oe){var We=fe[Oe];We<-1e150&&(We=-1e150,he=!0),1e150<We&&(We=1e150,he=!0),we[Oe]=We}he&&Te(this,100155),(he=this.q)===null?_(he=m(this.b),he.b):(v(he),he=he.e),he.a.d=ue,he.a.g[0]=we[0],he.a.g[1]=we[1],he.a.g[2]=we[2],he.f=1,he.b.f=-1,this.q=he},d.u=function(fe){Ee(this,0),this.d=1,this.b=new Ge,this.c=fe},d.t=function(){Ee(this,1),this.d=2,this.q=null},d.v=function(){Ee(this,2),this.d=1},d.w=function(){Ee(this,1),this.d=0;var fe,ue,he=!1,we=[De=this.j[0],Oe=this.j[1],lt=this.j[2]];if(De===0&&Oe===0&&lt===0){for(var Oe=[-2e150,-2e150,-2e150],We=[2e150,2e150,2e150],lt=[],st=[],De=(he=this.b.c).e;De!==he;De=De.e)for(var ht=0;ht<3;++ht){var _t=De.g[ht];_t<We[ht]&&(We[ht]=_t,st[ht]=De),_t>Oe[ht]&&(Oe[ht]=_t,lt[ht]=De)}if(Oe[1]-We[1]>Oe[De=0]-We[0]&&(De=1),We[De=Oe[2]-We[2]>Oe[De]-We[De]?2:De]>=Oe[De])we[0]=0,we[1]=0,we[2]=1;else{for(We=st[De],lt=lt[De],st=[Oe=0,0,0],We=[We.g[0]-lt.g[0],We.g[1]-lt.g[1],We.g[2]-lt.g[2]],ht=[0,0,0],De=he.e;De!==he;De=De.e)ht[0]=De.g[0]-lt.g[0],ht[1]=De.g[1]-lt.g[1],ht[2]=De.g[2]-lt.g[2],st[0]=We[1]*ht[2]-We[2]*ht[1],st[1]=We[2]*ht[0]-We[0]*ht[2],st[2]=We[0]*ht[1]-We[1]*ht[0],Oe<(_t=st[0]*st[0]+st[1]*st[1]+st[2]*st[2])&&(Oe=_t,we[0]=st[0],we[1]=st[1],we[2]=st[2]);Oe<=0&&(we[0]=we[1]=we[2]=0,we[V(We)]=1)}he=!0}for(st=V(we),De=this.b.c,Oe=(st+1)%3,lt=(st+2)%3,st=0<we[st]?1:-1,we=De.e;we!==De;we=we.e)we.b=we.g[Oe],we.a=st*we.g[lt];if(he){for(we=0,De=(he=this.b.a).b;De!==he;De=De.b)if(!((Oe=De.a).f<=0))for(;we+=(Oe.a.b-Oe.b.a.b)*(Oe.a.a+Oe.b.a.a),(Oe=Oe.e)!==De.a;);if(we<0)for(he=(we=this.b.c).e;he!==we;he=he.e)he.a=-he.a}for(this.n=!1,De=(we=this.b.b).h;De!==we;De=he)he=De.h,Oe=De.e,c(De.a,De.b.a)&&De.e.e!==De&&($(this,Oe,De),w(De),Oe=(De=Oe).e),Oe.e===De&&(Oe!==De&&(Oe!==he&&Oe!==he.b||(he=he.h),w(Oe)),De!==he&&De!==he.b||(he=he.h),w(De));for(this.e=we=new ft,De=(he=this.b.c).e;De!==he;De=De.e)De.h=ot(we,De);var Kt=we;Kt.d=[];for(var sr=0;sr<Kt.a;sr++)Kt.d[sr]=sr;Kt.d.sort(function(zt){return function(vr,Ar){return u(zt[vr],zt[Ar])?1:-1}}(Kt.c)),Kt.e=!0;for(var Yt=Kt.b,Vt=Yt.a;1<=Vt;--Vt)nt(Yt,Vt);for(Yt.h=!0,this.f=new ae(this),ve(this,-4e150),ve(this,4e150);(we=Pt(this.e))!==null;){for(;;){e:if((De=this.e).a===0)he=Ve(De.b);else if(he=De.c[De.d[De.a-1]],De.b.a!==0&&u(De=Ve(De.b),he)){he=De;break e}if(he===null||!c(he,we))break;he=Pt(this.e),$(this,we.c,he.c)}(function zt(vr,Ar){for(var Rn,Sr=(vr.a=Ar).c;Sr.i===null;)if((Sr=Sr.c)===Ar.c){Sr=vr;var Jr=Ar;(fr=new Lt).a=Jr.c.b;for(var Fn=(Jt=Sr.f).a;(Fn=Fn.a).b!==null&&!Jt.c(Jt.b,fr,Fn.b););var Jt,gr,br=xt(Jt=Fn.b),fr=Jt.a;return Fn=br.a,void(j(fr.b.a,Jr,fr.a)===0?c((fr=Jt.a).a,Jr)||c(fr.b.a,Jr)||(v(fr.b),Jt.c&&(w(fr.c),Jt.c=!1),_(Jr.c,fr),zt(Sr,Jr)):(gr=u(Fn.b.a,fr.b.a)?Jt:br,br=void 0,Jt.d||gr.c?(br=gr===Jt?E(Jr.c.b,fr.e):E(Fn.b.c.b,Jr.c).b,gr.c?B(gr,br):((Jt=K(fr=Sr,Jt,br)).f=mt(Jt).f+Jt.a.f,Jt.d=ee(fr,Jt.f)),zt(Sr,Jr)):le(Sr,Jt,Jr.c,Jr.c,null,!0)))}Jt=(fr=xt(Sr=W(Sr.i))).a,(fr=oe(vr,fr,null)).c===Jt?(fr=(Jt=fr).c,Fn=xt(Sr),br=Sr.a,gr=Fn.a,Rn=!1,br.b.a!==gr.b.a&&de(vr,Sr),c(br.a,vr.a)&&(_(fr.b.e,br),fr=xt(Sr=W(Sr)).a,oe(vr,xt(Sr),Fn),Rn=!0),c(gr.a,vr.a)&&(_(Jt,gr.b.e),Jt=oe(vr,Fn,null),Rn=!0),Rn?le(vr,Sr,Jt.c,fr,fr,!0):(Jr=u(gr.a,br.a)?gr.b.e:br,le(vr,Sr,Jr=E(Jt.c.b,Jr),Jr.c,Jr.c,!1),Jr.b.i.c=!0,ge(vr,Sr))):le(vr,Sr,fr.c,Jt,Jt,!0)})(this,we)}for(this.a=this.f.a.a.b.a.a,we=0;(he=this.f.a.a.b)!==null;)he.h||++we,X(he);for(this.f=null,(we=this.e).b=null,we.d=null,this.e=we.c=null,De=(we=this.b).a.b;De!==we.a;De=he)he=De.b,(De=De.a).e.e===De&&(G(De.c,De),w(De));if(!this.n){if(we=this.b,this.m)for(De=we.b.h;De!==we.b;De=he)he=De.h,De.b.d.c!==De.d.c?De.f=De.d.c?1:-1:w(De);else for(De=we.a.b;De!==we.a;De=he)if(he=De.b,De.c){for(De=De.a;u(De.b.a,De.a);De=De.c.b);for(;u(De.a,De.b.a);De=De.e);for(Oe=De.c.b,lt=void 0;De.e!==Oe;)if(u(De.b.a,Oe.a)){for(;Oe.e!==De&&(u((ue=Oe.e).b.a,ue.a)||j(Oe.a,Oe.b.a,Oe.e.b.a)<=0);)Oe=(lt=E(Oe.e,Oe)).b;Oe=Oe.c.b}else{for(;Oe.e!==De&&(u((fe=De.c.b).a,fe.b.a)||0<=j(De.b.a,De.a,De.c.b.a));)De=(lt=E(De,De.c.b)).b;De=De.e}for(;Oe.e.e!==De;)Oe=(lt=E(Oe.e,Oe)).b}if(this.h||this.i||this.k||this.l)if(this.m){for(he=(we=this.b).a.b;he!==we.a;he=he.b)if(he.c){for(this.h&&this.h(2,this.c),De=he.a;this.k&&this.k(De.a.d,this.c),(De=De.e)!==he.a;);this.i&&this.i(this.c)}}else{for(we=this.b,he=!!this.l,De=!1,Oe=-1,lt=we.a.d;lt!==we.a;lt=lt.d)if(lt.c)for(De||(this.h&&this.h(4,this.c),De=!0),st=lt.a;he&&Oe!==(We=st.b.d.c?0:1)&&(Oe=We,this.l&&this.l(!!Oe,this.c)),this.k&&this.k(st.a.d,this.c),(st=st.e)!==lt.a;);De&&this.i&&this.i(this.c)}if(this.r){for(De=(we=this.b).a.b;De!==we.a;De=he)if(he=De.b,!De.c){for(lt=(Oe=De.a).e,st=void 0;lt=(st=lt).e,(st.d=null)===st.b.d&&(st.c===st?H(st.a,null):(st.a.c=st.c,O(st,st.b.e)),(We=st.b).c===We?H(We.a,null):(We.a.c=We.c,O(We,We.b.e)),D(st)),st!==Oe;);Oe=De.d,((De=De.b).d=Oe).b=De}return this.r(this.b),void(this.c=this.b=null)}}this.b=this.c=null},this.libtess={GluTesselator:Me,windingRule:{GLU_TESS_WINDING_ODD:100130,GLU_TESS_WINDING_NONZERO:100131,GLU_TESS_WINDING_POSITIVE:100132,GLU_TESS_WINDING_NEGATIVE:100133,GLU_TESS_WINDING_ABS_GEQ_TWO:100134},primitiveType:{GL_LINE_LOOP:2,GL_TRIANGLES:4,GL_TRIANGLE_STRIP:5,GL_TRIANGLE_FAN:6},errorType:{GLU_TESS_MISSING_BEGIN_POLYGON:100151,GLU_TESS_MISSING_END_POLYGON:100153,GLU_TESS_MISSING_BEGIN_CONTOUR:100152,GLU_TESS_MISSING_END_CONTOUR:100154,GLU_TESS_COORD_TOO_LARGE:100155,GLU_TESS_NEED_COMBINE_CALLBACK:100156},gluEnum:{GLU_TESS_MESH:100112,GLU_TESS_TOLERANCE:100142,GLU_TESS_WINDING_RULE:100140,GLU_TESS_BOUNDARY_ONLY:100141,GLU_INVALID_ENUM:100900,GLU_INVALID_VALUE:100901,GLU_TESS_BEGIN:100100,GLU_TESS_VERTEX:100101,GLU_TESS_END:100102,GLU_TESS_ERROR:100103,GLU_TESS_EDGE_FLAG:100104,GLU_TESS_COMBINE:100105,GLU_TESS_BEGIN_DATA:100106,GLU_TESS_VERTEX_DATA:100107,GLU_TESS_END_DATA:100108,GLU_TESS_ERROR_DATA:100109,GLU_TESS_EDGE_FLAG_DATA:100110,GLU_TESS_COMBINE_DATA:100111}},Me.prototype.gluDeleteTess=Me.prototype.x,Me.prototype.gluTessProperty=Me.prototype.B,Me.prototype.gluGetTessProperty=Me.prototype.y,Me.prototype.gluTessNormal=Me.prototype.A,Me.prototype.gluTessCallback=Me.prototype.z,Me.prototype.gluTessVertex=Me.prototype.C,Me.prototype.gluTessBeginPolygon=Me.prototype.u,Me.prototype.gluTessBeginContour=Me.prototype.t,Me.prototype.gluTessEndContour=Me.prototype.v,Me.prototype.gluTessEndPolygon=Me.prototype.w,A!==void 0&&(A.exports=this.libtess)},{}],246:[function(t,A,y){function d(c,u,x,j){for(var o=c[u++],h=1<<o,f=1+h,l=1+f,m=o+1,_=(1<<m)-1,w=0,v=0,E=0,C=c[u++],O=new Int32Array(4096),U=null;;){for(;w<16&&C!==0;)v|=c[u++]<<w,w+=8,C===1?C=c[u++]:--C;if(w<m)break;var N=v&_;if(v>>=m,w-=m,N==h)l=1+f,_=(1<<(m=o+1))-1,U=null;else{if(N==f)break;for(var D=N<l?N:U,H=0,I=D;h<I;)I=O[I]>>8,++H;var V=I;if(j<E+H+(D!==N?1:0))return void console.log("Warning, gif stream longer than expected.");x[E++]=V;var G=E+=H;for(D!==N&&(x[E++]=V),I=D;H--;)I=O[I],x[--G]=255&I,I>>=8;U!==null&&l<4096&&(O[l++]=U<<8|V,_+1<=l&&m<12&&(++m,_=_<<1|1)),U=N}}E!==j&&console.log("Warning, gif stream shorter than expected.")}try{y.GifWriter=function(c,u,x,j){var o=0,h=(j=j===void 0?{}:j).loop===void 0?null:j.loop,f=j.palette===void 0?null:j.palette;if(u<=0||x<=0||65535<u||65535<x)throw new Error("Width/Height invalid.");function l(U){if((U=U.length)<2||256<U||U&U-1)throw new Error("Invalid code/color length, must be power of 2 and 2 .. 256.");return U}c[o++]=71,c[o++]=73,c[o++]=70,c[o++]=56,c[o++]=57,c[o++]=97;var m=0,_=0;if(f!==null){for(var w=l(f);w>>=1;)++m;if(w=1<<m,--m,j.background!==void 0){if(w<=(_=j.background))throw new Error("Background index out of range.");if(_===0)throw new Error("Background index explicitly passed as 0.")}}if(c[o++]=255&u,c[o++]=u>>8&255,c[o++]=255&x,c[o++]=x>>8&255,c[o++]=(f!==null?128:0)|m,c[o++]=_,c[o++]=0,f!==null)for(var v=0,E=f.length;v<E;++v){var C=f[v];c[o++]=C>>16&255,c[o++]=C>>8&255,c[o++]=255&C}if(h!==null){if(h<0||65535<h)throw new Error("Loop count invalid.");c[o++]=33,c[o++]=255,c[o++]=11,c[o++]=78,c[o++]=69,c[o++]=84,c[o++]=83,c[o++]=67,c[o++]=65,c[o++]=80,c[o++]=69,c[o++]=50,c[o++]=46,c[o++]=48,c[o++]=3,c[o++]=1,c[o++]=255&h,c[o++]=h>>8&255,c[o++]=0}var O=!1;this.addFrame=function(U,N,D,H,I,V){if(O===!0&&(--o,O=!1),V=V===void 0?{}:V,U<0||N<0||65535<U||65535<N)throw new Error("x/y invalid.");if(D<=0||H<=0||65535<D||65535<H)throw new Error("Width/Height invalid.");if(I.length<D*H)throw new Error("Not enough pixels for the frame size.");var G=!0,q=V.palette;if(q==null&&(G=!1,q=f),q==null)throw new Error("Must supply either a local or global palette.");for(var X=l(q),B=0;X>>=1;)++B;X=1<<B;var W=V.delay===void 0?0:V.delay,K=V.disposal===void 0?0:V.disposal;if(K<0||3<K)throw new Error("Disposal out of range.");var ee=!1,re=0;if(V.transparent!==void 0&&V.transparent!==null&&(ee=!0,(re=V.transparent)<0||X<=re))throw new Error("Transparent color index.");if(K===0&&!ee&&W===0||(c[o++]=33,c[o++]=249,c[o++]=4,c[o++]=K<<2|(ee===!0?1:0),c[o++]=255&W,c[o++]=W>>8&255,c[o++]=re,c[o++]=0),c[o++]=44,c[o++]=255&U,c[o++]=U>>8&255,c[o++]=255&N,c[o++]=N>>8&255,c[o++]=255&D,c[o++]=D>>8&255,c[o++]=255&H,c[o++]=H>>8&255,c[o++]=G===!0?128|B-1:0,G===!0)for(var oe=0,le=q.length;oe<le;++oe){var me=q[oe];c[o++]=me>>16&255,c[o++]=me>>8&255,c[o++]=255&me}return o=function($,Q,se,de){$[Q++]=se;var ge=Q++,ve=1<<se,ae=ve-1,ye=1+ve,Se=1+ye,Me=se+1,Ee=0,Te=0;function Pe(Ve){for(;Ve<=Ee;)$[Q++]=255&Te,Te>>=8,Ee-=8,Q===ge+256&&($[ge]=255,ge=Q++)}function Ke(Ve){Te|=Ve<<Ee,Ee+=Me,Pe(8)}var Ge=de[0]&ae,et={};Ke(ve);for(var ft=1,ot=de.length;ft<ot;++ft){var Pt=de[ft]&ae,bt=Ge<<8|Pt,je=et[bt];if(je===void 0){for(Te|=Ge<<Ee,Ee+=Me;8<=Ee;)$[Q++]=255&Te,Te>>=8,Ee-=8,Q===ge+256&&($[ge]=255,ge=Q++);Se===4096?(Ke(ve),Se=1+ye,Me=se+1,et={}):(1<<Me<=Se&&++Me,et[bt]=Se++),Ge=Pt}else Ge=je}return Ke(Ge),Ke(ye),Pe(1),ge+1===Q?$[ge]=0:($[ge]=Q-ge-1,$[Q++]=0),Q}(c,o,B<2?2:B,I)},this.end=function(){return O===!1&&(c[o++]=59,O=!0),o},this.getOutputBuffer=function(){return c},this.setOutputBuffer=function(U){c=U},this.getOutputBufferPosition=function(){return o},this.setOutputBufferPosition=function(U){o=U}},y.GifReader=function(c){var u=0;if(c[u++]!==71||c[u++]!==73||c[u++]!==70||c[u++]!==56||(c[u++]+1&253)!=56||c[u++]!==97)throw new Error("Invalid GIF 87a/89a header.");var x=c[u++]|c[u++]<<8,j=c[u++]|c[u++]<<8,o=c[u++],h=1<<1+(7&o),f=(c[u++],c[u++],null),l=null,m=(o>>7&&(f=u,u+=3*(l=h)),!0),_=[],w=0,v=null,E=0,C=null;for(this.width=x,this.height=j;m&&u<c.length;)switch(c[u++]){case 33:switch(c[u++]){case 255:if(c[u]!==11||c[u+1]==78&&c[u+2]==69&&c[u+3]==84&&c[u+4]==83&&c[u+5]==67&&c[u+6]==65&&c[u+7]==80&&c[u+8]==69&&c[u+9]==50&&c[u+10]==46&&c[u+11]==48&&c[u+12]==3&&c[u+13]==1&&c[u+16]==0)u+=14,C=c[u++]|c[u++]<<8,u++;else for(u+=12;;){if(!(0<=(U=c[u++])))throw Error("Invalid block size");if(U===0)break;u+=U}break;case 249:if(c[u++]!==4||c[u+4]!==0)throw new Error("Invalid graphics extension block.");var O=c[u++];w=c[u++]|c[u++]<<8,v=c[u++],(1&O)==0&&(v=null),E=O>>2&7,u++;break;case 254:for(;;){if(!(0<=(U=c[u++])))throw Error("Invalid block size");if(U===0)break;u+=U}break;default:throw new Error("Unknown graphic control label: 0x"+c[u-1].toString(16))}break;case 44:var U,N=c[u++]|c[u++]<<8,D=c[u++]|c[u++]<<8,H=c[u++]|c[u++]<<8,I=c[u++]|c[u++]<<8,V=(B=c[u++])>>6&1,G=f,q=l,X=!1,B=(B>>7&&(X=!0,G=u,u+=3*(q=1<<1+(7&B))),u);for(u++;;){if(!(0<=(U=c[u++])))throw Error("Invalid block size");if(U===0)break;u+=U}_.push({x:N,y:D,width:H,height:I,has_local_palette:X,palette_offset:G,palette_size:q,data_offset:B,data_length:u-B,transparent_index:v,interlaced:!!V,delay:w,disposal:E});break;case 59:m=!1;break;default:throw new Error("Unknown gif block: 0x"+c[u-1].toString(16))}this.numFrames=function(){return _.length},this.loopCount=function(){return C},this.frameInfo=function(W){if(W<0||W>=_.length)throw new Error("Frame index out of range.");return _[W]},this.decodeAndBlitFrameBGRA=function(W,K){for(var ee=(W=this.frameInfo(W)).width*W.height,re=new Uint8Array(ee),oe=(d(c,W.data_offset,re,ee),W.palette_offset),le=W.transparent_index,me=(le===null&&(le=256),W.width),$=x-me,Q=me,se=4*(W.y*x+W.x),de=4*((W.y+W.height)*x+W.x),ge=se,ve=4*$,ae=(W.interlaced===!0&&(ve+=4*x*7),8),ye=0,Se=re.length;ye<Se;++ye){var Me,Ee,Te=re[ye];Q===0&&(Q=me,de<=(ge+=ve)&&(ve=4*$+4*x*(ae-1),ge=se+(me+$)*(ae<<1),ae>>=1)),Te===le?ge+=4:(Me=c[oe+3*Te],Ee=c[oe+3*Te+1],Te=c[oe+3*Te+2],K[ge++]=Te,K[ge++]=Ee,K[ge++]=Me,K[ge++]=255),--Q}},this.decodeAndBlitFrameRGBA=function(W,K){for(var ee=(W=this.frameInfo(W)).width*W.height,re=new Uint8Array(ee),oe=(d(c,W.data_offset,re,ee),W.palette_offset),le=W.transparent_index,me=(le===null&&(le=256),W.width),$=x-me,Q=me,se=4*(W.y*x+W.x),de=4*((W.y+W.height)*x+W.x),ge=se,ve=4*$,ae=(W.interlaced===!0&&(ve+=4*x*7),8),ye=0,Se=re.length;ye<Se;++ye){var Me,Ee,Te=re[ye];Q===0&&(Q=me,de<=(ge+=ve)&&(ve=4*$+4*x*(ae-1),ge=se+(me+$)*(ae<<1),ae>>=1)),Te===le?ge+=4:(Me=c[oe+3*Te],Ee=c[oe+3*Te+1],Te=c[oe+3*Te+2],K[ge++]=Me,K[ge++]=Ee,K[ge++]=Te,K[ge++]=255),--Q}}}}catch{}},{}],247:[function(t,A,y){(function(d){(function(c){function u(S){if(this==null)throw TypeError();var L,P=String(this),z=P.length;if(!((S=(S=S?Number(S):0)!=S?0:S)<0||z<=S))return 55296<=(L=P.charCodeAt(S))&&L<=56319&&S+1<z&&56320<=(z=P.charCodeAt(S+1))&&z<=57343?1024*(L-55296)+z-56320+65536:L}String.prototype.codePointAt||((x=function(){try{var S={},L=Object.defineProperty,P=L(S,S,S)&&L}catch{}return P}())?x(String.prototype,"codePointAt",{value:u,configurable:!0,writable:!0}):String.prototype.codePointAt=u);var x;function j(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}function o(S,L){this.source=S,this.sourceIndex=0,this.tag=0,this.bitcount=0,this.dest=L,this.destLen=0,this.ltree=new j,this.dtree=new j}var h=new j,f=new j,l=new Uint8Array(30),m=new Uint16Array(30),_=new Uint8Array(30),w=new Uint16Array(30),v=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),E=new j,C=new Uint8Array(320);function O(S,L,P,z){for(var Z,J=0;J<P;++J)S[J]=0;for(J=0;J<30-P;++J)S[J+P]=J/P|0;for(Z=z,J=0;J<30;++J)L[J]=Z,Z+=1<<S[J]}var U=new Uint16Array(16);function N(S,L,P,z){for(var Z,J=0;J<16;++J)S.table[J]=0;for(J=0;J<z;++J)S.table[L[P+J]]++;for(J=Z=S.table[0]=0;J<16;++J)U[J]=Z,Z+=S.table[J];for(J=0;J<z;++J)L[P+J]&&(S.trans[U[L[P+J]]++]=J)}function D(S,L,P){if(!L)return P;for(;S.bitcount<24;)S.tag|=S.source[S.sourceIndex++]<<S.bitcount,S.bitcount+=8;var z=S.tag&65535>>>16-L;return S.tag>>>=L,S.bitcount-=L,z+P}function H(S,L){for(;S.bitcount<24;)S.tag|=S.source[S.sourceIndex++]<<S.bitcount,S.bitcount+=8;for(var P=0,z=0,Z=0,J=S.tag;z=2*z+(1&J),J>>>=1,P+=L.table[++Z],0<=(z-=L.table[Z]););return S.tag=J,S.bitcount-=Z,L.trans[P+z]}function I(S,L,P){for(;;){if((J=H(S,L))===256)return 0;if(J<256)S.dest[S.destLen++]=J;else for(var z,Z=D(S,l[J-=257],m[J]),J=H(S,P),te=z=S.destLen-D(S,_[J],w[J]);te<z+Z;++te)S.dest[S.destLen++]=S.dest[te]}}for(var V=h,G=f,q=0;q<7;++q)V.table[q]=0;for(V.table[7]=24,V.table[8]=152,V.table[9]=112,q=0;q<24;++q)V.trans[q]=256+q;for(q=0;q<144;++q)V.trans[24+q]=q;for(q=0;q<8;++q)V.trans[168+q]=280+q;for(q=0;q<112;++q)V.trans[176+q]=144+q;for(q=0;q<5;++q)G.table[q]=0;for(G.table[5]=32,q=0;q<32;++q)G.trans[q]=q;O(l,m,4,3),O(_,w,2,1),l[28]=0,m[28]=258;function X(S,L,P,z,Z){return Math.pow(1-Z,3)*S+3*Math.pow(1-Z,2)*Z*L+3*(1-Z)*Math.pow(Z,2)*P+Math.pow(Z,3)*z}function B(){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN}function W(){this.commands=[],this.fill="black",this.stroke=null,this.strokeWidth=1}function K(S){throw new Error(S)}function ee(S,L){S||K(L)}B.prototype.isEmpty=function(){return isNaN(this.x1)||isNaN(this.y1)||isNaN(this.x2)||isNaN(this.y2)},B.prototype.addPoint=function(S,L){typeof S=="number"&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=S,this.x2=S),S<this.x1&&(this.x1=S),S>this.x2&&(this.x2=S)),typeof L=="number"&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=L,this.y2=L),L<this.y1&&(this.y1=L),L>this.y2&&(this.y2=L))},B.prototype.addX=function(S){this.addPoint(S,null)},B.prototype.addY=function(S){this.addPoint(null,S)},B.prototype.addBezier=function(S,L,P,z,Z,J,te,_e){var xe=[S,L],Ae=[P,z],Le=[Z,J],Fe=[te,_e];this.addPoint(S,L),this.addPoint(te,_e);for(var Ue=0;Ue<=1;Ue++){var Re,ct=6*xe[Ue]-12*Ae[Ue]+6*Le[Ue],Ye=-3*xe[Ue]+9*Ae[Ue]-9*Le[Ue]+3*Fe[Ue],Xe=3*Ae[Ue]-3*xe[Ue];Ye==0?ct==0||0<(Re=-Xe/ct)&&Re<1&&(Ue===0&&this.addX(X(xe[Ue],Ae[Ue],Le[Ue],Fe[Ue],Re)),Ue===1&&this.addY(X(xe[Ue],Ae[Ue],Le[Ue],Fe[Ue],Re))):(Re=Math.pow(ct,2)-4*Xe*Ye)<0||(0<(Xe=(-ct+Math.sqrt(Re))/(2*Ye))&&Xe<1&&(Ue===0&&this.addX(X(xe[Ue],Ae[Ue],Le[Ue],Fe[Ue],Xe)),Ue===1&&this.addY(X(xe[Ue],Ae[Ue],Le[Ue],Fe[Ue],Xe))),0<(Xe=(-ct-Math.sqrt(Re))/(2*Ye))&&Xe<1&&(Ue===0&&this.addX(X(xe[Ue],Ae[Ue],Le[Ue],Fe[Ue],Xe)),Ue===1&&this.addY(X(xe[Ue],Ae[Ue],Le[Ue],Fe[Ue],Xe))))}},B.prototype.addQuad=function(S,L,P,z,Z,J){P=S+2/3*(P-S),z=L+2/3*(z-L),this.addBezier(S,L,P,z,P+1/3*(Z-S),z+1/3*(J-L),Z,J)},W.prototype.moveTo=function(S,L){this.commands.push({type:"M",x:S,y:L})},W.prototype.lineTo=function(S,L){this.commands.push({type:"L",x:S,y:L})},W.prototype.curveTo=W.prototype.bezierCurveTo=function(S,L,P,z,Z,J){this.commands.push({type:"C",x1:S,y1:L,x2:P,y2:z,x:Z,y:J})},W.prototype.quadTo=W.prototype.quadraticCurveTo=function(S,L,P,z){this.commands.push({type:"Q",x1:S,y1:L,x:P,y:z})},W.prototype.close=W.prototype.closePath=function(){this.commands.push({type:"Z"})},W.prototype.extend=function(S){var L;if(S.commands)S=S.commands;else if(S instanceof B)return L=S,this.moveTo(L.x1,L.y1),this.lineTo(L.x2,L.y1),this.lineTo(L.x2,L.y2),this.lineTo(L.x1,L.y2),void this.close();Array.prototype.push.apply(this.commands,S)},W.prototype.getBoundingBox=function(){for(var S=new B,L=0,P=0,z=0,Z=0,J=0;J<this.commands.length;J++){var te=this.commands[J];switch(te.type){case"M":S.addPoint(te.x,te.y),L=z=te.x,P=Z=te.y;break;case"L":S.addPoint(te.x,te.y),z=te.x,Z=te.y;break;case"Q":S.addQuad(z,Z,te.x1,te.y1,te.x,te.y),z=te.x,Z=te.y;break;case"C":S.addBezier(z,Z,te.x1,te.y1,te.x2,te.y2,te.x,te.y),z=te.x,Z=te.y;break;case"Z":z=L,Z=P;break;default:throw new Error("Unexpected path command "+te.type)}}return S.isEmpty()&&S.addPoint(0,0),S},W.prototype.draw=function(S){S.beginPath();for(var L=0;L<this.commands.length;L+=1){var P=this.commands[L];P.type==="M"?S.moveTo(P.x,P.y):P.type==="L"?S.lineTo(P.x,P.y):P.type==="C"?S.bezierCurveTo(P.x1,P.y1,P.x2,P.y2,P.x,P.y):P.type==="Q"?S.quadraticCurveTo(P.x1,P.y1,P.x,P.y):P.type==="Z"&&S.closePath()}this.fill&&(S.fillStyle=this.fill,S.fill()),this.stroke&&(S.strokeStyle=this.stroke,S.lineWidth=this.strokeWidth,S.stroke())},W.prototype.toPathData=function(S){function L(){for(var J=arguments,te="",_e=0;_e<arguments.length;_e+=1){var xe=J[_e];0<=xe&&0<_e&&(te+=" "),te+=(xe=xe,Math.round(xe)===xe?""+Math.round(xe):xe.toFixed(S))}return te}S=S!==void 0?S:2;for(var P="",z=0;z<this.commands.length;z+=1){var Z=this.commands[z];Z.type==="M"?P+="M"+L(Z.x,Z.y):Z.type==="L"?P+="L"+L(Z.x,Z.y):Z.type==="C"?P+="C"+L(Z.x1,Z.y1,Z.x2,Z.y2,Z.x,Z.y):Z.type==="Q"?P+="Q"+L(Z.x1,Z.y1,Z.x,Z.y):Z.type==="Z"&&(P+="Z")}return P},W.prototype.toSVG=function(S){var L=(L='<path d="')+this.toPathData(S)+'"';return this.fill&&this.fill!=="black"&&(this.fill===null?L+=' fill="none"':L+=' fill="'+this.fill+'"'),this.stroke&&(L+=' stroke="'+this.stroke+'" stroke-width="'+this.strokeWidth+'"'),L+"/>"},W.prototype.toDOMElement=function(S){S=this.toPathData(S);var L=document.createElementNS("http://www.w3.org/2000/svg","path");return L.setAttribute("d",S),L};var re={fail:K,argument:ee,assert:ee},oe={},le={},me={};function $(S){return function(){return S}}le.BYTE=function(S){return re.argument(0<=S&&S<=255,"Byte value should be between 0 and 255."),[S]},me.BYTE=$(1),le.CHAR=function(S){return[S.charCodeAt(0)]},me.CHAR=$(1),le.CHARARRAY=function(S){for(var L=[],P=0;P<S.length;P+=1)L[P]=S.charCodeAt(P);return L},me.CHARARRAY=function(S){return S.length},le.USHORT=function(S){return[S>>8&255,255&S]},me.USHORT=$(2),le.SHORT=function(S){return[(S=32768<=S?-(65536-S):S)>>8&255,255&S]},me.SHORT=$(2),le.UINT24=function(S){return[S>>16&255,S>>8&255,255&S]},me.UINT24=$(3),le.ULONG=function(S){return[S>>24&255,S>>16&255,S>>8&255,255&S]},me.ULONG=$(4),le.LONG=function(S){return[(S=2147483648<=S?-(4294967296-S):S)>>24&255,S>>16&255,S>>8&255,255&S]},me.LONG=$(4),le.FIXED=le.ULONG,me.FIXED=me.ULONG,le.FWORD=le.SHORT,me.FWORD=me.SHORT,le.UFWORD=le.USHORT,me.UFWORD=me.USHORT,le.LONGDATETIME=function(S){return[0,0,0,0,S>>24&255,S>>16&255,S>>8&255,255&S]},me.LONGDATETIME=$(8),le.TAG=function(S){return re.argument(S.length===4,"Tag should be exactly 4 ASCII characters."),[S.charCodeAt(0),S.charCodeAt(1),S.charCodeAt(2),S.charCodeAt(3)]},me.TAG=$(4),le.Card8=le.BYTE,me.Card8=me.BYTE,le.Card16=le.USHORT,me.Card16=me.USHORT,le.OffSize=le.BYTE,me.OffSize=me.BYTE,le.SID=le.USHORT,me.SID=me.USHORT,le.NUMBER=function(S){return-107<=S&&S<=107?[S+139]:108<=S&&S<=1131?[247+((S-=108)>>8),255&S]:-1131<=S&&S<=-108?[251+((S=-S-108)>>8),255&S]:-32768<=S&&S<=32767?le.NUMBER16(S):le.NUMBER32(S)},me.NUMBER=function(S){return le.NUMBER(S).length},le.NUMBER16=function(S){return[28,S>>8&255,255&S]},me.NUMBER16=$(3),le.NUMBER32=function(S){return[29,S>>24&255,S>>16&255,S>>8&255,255&S]},me.NUMBER32=$(5),le.REAL=function(S){for(var L=S.toString(),P=/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/.exec(L),z=(P&&(P=parseFloat("1e"+((P[2]?+P[2]:0)+P[1].length)),L=(Math.round(S*P)/P).toString()),""),Z=0,J=L.length;Z<J;Z+=1){var te=L[Z];z+=te==="e"?L[++Z]==="-"?"c":"b":te==="."?"a":te==="-"?"e":te}for(var _e=[30],xe=0,Ae=(z+=1&z.length?"f":"ff").length;xe<Ae;xe+=2)_e.push(parseInt(z.substr(xe,2),16));return _e},me.REAL=function(S){return le.REAL(S).length},le.NAME=le.CHARARRAY,me.NAME=me.CHARARRAY,le.STRING=le.CHARARRAY,me.STRING=me.CHARARRAY,oe.UTF8=function(S,L,P){for(var z=[],Z=P,J=0;J<Z;J++,L+=1)z[J]=S.getUint8(L);return String.fromCharCode.apply(null,z)},oe.UTF16=function(S,L,P){for(var z=[],Z=P/2,J=0;J<Z;J++,L+=2)z[J]=S.getUint16(L);return String.fromCharCode.apply(null,z)},le.UTF16=function(S){for(var L=[],P=0;P<S.length;P+=1){var z=S.charCodeAt(P);L[L.length]=z>>8&255,L[L.length]=255&z}return L},me.UTF16=function(S){return 2*S.length};var Q,se={"x-mac-croatian":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®Š™´¨≠ŽØ∞±≤≥∆µ∂∑∏š∫ªºΩžø¿¡¬√ƒ≈Ć«Č… ÀÃÕŒœĐ—“”‘’÷◊©⁄€‹›Æ»–·‚„‰ÂćÁčÈÍÎÏÌÓÔđÒÚÛÙıˆ˜¯πË˚¸Êæˇ","x-mac-cyrillic":"АБВГДЕЖЗИЙКЛМНОПРСТУФХЦЧШЩЪЫЬЭЮЯ†°Ґ£§•¶І®©™Ђђ≠Ѓѓ∞±≤≥іµґЈЄєЇїЉљЊњјЅ¬√ƒ≈∆«»… ЋћЌќѕ–—“”‘’÷„ЎўЏџ№Ёёяабвгдежзийклмнопрстуфхцчшщъыьэю","x-mac-gaelic":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ÆØḂ±≤≥ḃĊċḊḋḞḟĠġṀæøṁṖṗɼƒſṠ«»… ÀÃÕŒœ–—“”‘’ṡẛÿŸṪ€‹›Ŷŷṫ·Ỳỳ⁊ÂÊÁËÈÍÎÏÌÓÔ♣ÒÚÛÙıÝýŴŵẄẅẀẁẂẃ","x-mac-greek":"Ä¹²É³ÖÜ΅àâä΄¨çéèêë£™îï•½‰ôö¦€ùûü†ΓΔΘΛΞΠß®©ΣΪ§≠°·Α±≤≥¥ΒΕΖΗΙΚΜΦΫΨΩάΝ¬ΟΡ≈Τ«»… ΥΧΆΈœ–―“”‘’÷ΉΊΌΎέήίόΏύαβψδεφγηιξκλμνοπώρστθωςχυζϊϋΐΰ­","x-mac-icelandic":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûüÝ°¢£§•¶ß®©™´¨≠ÆØ∞±≤≥¥µ∂∑∏π∫ªºΩæø¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸ⁄€ÐðÞþý·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙıˆ˜¯˘˙˚¸˝˛ˇ","x-mac-inuit":"ᐃᐄᐅᐆᐊᐋᐱᐲᐳᐴᐸᐹᑉᑎᑏᑐᑑᑕᑖᑦᑭᑮᑯᑰᑲᑳᒃᒋᒌᒍᒎᒐᒑ°ᒡᒥᒦ•¶ᒧ®©™ᒨᒪᒫᒻᓂᓃᓄᓅᓇᓈᓐᓯᓰᓱᓲᓴᓵᔅᓕᓖᓗᓘᓚᓛᓪᔨᔩᔪᔫᔭ… ᔮᔾᕕᕖᕗ–—“”‘’ᕘᕙᕚᕝᕆᕇᕈᕉᕋᕌᕐᕿᖀᖁᖂᖃᖄᖅᖏᖐᖑᖒᖓᖔᖕᙱᙲᙳᙴᙵᙶᖖᖠᖡᖢᖣᖤᖥᖦᕼŁł","x-mac-ce":"ÄĀāÉĄÖÜáąČäčĆćéŹźĎíďĒēĖóėôöõúĚěü†°Ę£§•¶ß®©™ę¨≠ģĮįĪ≤≥īĶ∂∑łĻļĽľĹĺŅņŃ¬√ńŇ∆«»… ňŐÕőŌ–—“”‘’÷◊ōŔŕŘ‹›řŖŗŠ‚„šŚśÁŤťÍŽžŪÓÔūŮÚůŰűŲųÝýķŻŁżĢˇ",macintosh:"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ÆØ∞±≤≥¥µ∂∑∏π∫ªºΩæø¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸ⁄€‹›ﬁﬂ‡·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙıˆ˜¯˘˙˚¸˝˛ˇ","x-mac-romanian":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ĂȘ∞±≤≥¥µ∂∑∏π∫ªºΩăș¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸ⁄€‹›Țț‡·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙıˆ˜¯˘˙˚¸˝˛ˇ","x-mac-turkish":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ÆØ∞±≤≥¥µ∂∑∏π∫ªºΩæø¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸĞğİıŞş‡·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙˆ˜¯˘˙˚¸˝˛ˇ"},de=(oe.MACSTRING=function(S,L,P,z){var Z=se[z];if(Z!==void 0){for(var J="",te=0;te<P;te++){var _e=S.getUint8(L+te);J+=_e<=127?String.fromCharCode(_e):Z[127&_e]}return J}},typeof WeakMap=="function"&&new WeakMap);function ge(S){return-128<=S&&S<=127}le.MACSTRING=function(S,L){var P=function(te){if(!Q)for(var _e in Q={},se)Q[_e]=new String(_e);var xe=Q[te];if(xe!==void 0){if(de){var Ae=de.get(xe);if(Ae!==void 0)return Ae}var Le=se[te];if(Le!==void 0){for(var Fe={},Ue=0;Ue<Le.length;Ue++)Fe[Le.charCodeAt(Ue)]=Ue+128;return de&&de.set(xe,Fe),Fe}}}(L);if(P!==void 0){for(var z=[],Z=0;Z<S.length;Z++){var J=S.charCodeAt(Z);if(128<=J&&(J=P[J])===void 0)return;z[Z]=J}return z}},me.MACSTRING=function(S,L){return(S=le.MACSTRING(S,L))!==void 0?S.length:0},le.VARDELTAS=function(S){for(var L=0,P=[];L<S.length;){var z=S[L];L=(z===0?function(Z,J,te){for(var _e=0,xe=Z.length;J<xe&&_e<64&&Z[J]===0;)++J,++_e;return te.push(128|_e-1),J}:-128<=z&&z<=127?function(Z,J,te){for(var _e=0,xe=Z.length,Ae=J;Ae<xe&&_e<64;){var Le=Z[Ae];if(!ge(Le)||Le===0&&Ae+1<xe&&Z[Ae+1]===0)break;++Ae,++_e}te.push(_e-1);for(var Fe=J;Fe<Ae;++Fe)te.push(Z[Fe]+256&255);return Ae}:function(Z,J,te){for(var _e=0,xe=Z.length,Ae=J;Ae<xe&&_e<64;){var Le=Z[Ae];if(Le===0||ge(Le)&&Ae+1<xe&&ge(Z[Ae+1]))break;++Ae,++_e}te.push(64|_e-1);for(var Fe=J;Fe<Ae;++Fe){var Ue=Z[Fe];te.push(Ue+65536>>8&255,Ue+256&255)}return Ae})(S,L,P)}return P},le.INDEX=function(S){for(var L=1,P=[L],z=[],Z=0;Z<S.length;Z+=1){var J=le.OBJECT(S[Z]);Array.prototype.push.apply(z,J),L+=J.length,P.push(L)}if(z.length===0)return[0,0];for(var te=[],_e=1+Math.floor(Math.log(L)/Math.log(2))/8|0,xe=[void 0,le.BYTE,le.USHORT,le.UINT24,le.ULONG][_e],Ae=0;Ae<P.length;Ae+=1){var Le=xe(P[Ae]);Array.prototype.push.apply(te,Le)}return Array.prototype.concat(le.Card16(S.length),le.OffSize(_e),te,z)},me.INDEX=function(S){return le.INDEX(S).length},le.DICT=function(S){for(var L=[],P=Object.keys(S),z=P.length,Z=0;Z<z;Z+=1){var J=parseInt(P[Z],0),te=S[J];L=(L=L.concat(le.OPERAND(te.value,te.type))).concat(le.OPERATOR(J))}return L},me.DICT=function(S){return le.DICT(S).length},le.OPERATOR=function(S){return S<1200?[S]:[12,S-1200]},le.OPERAND=function(S,L){var P=[];if(Array.isArray(L))for(var z=0;z<L.length;z+=1)re.argument(S.length===L.length,"Not enough arguments given for type"+L),P=P.concat(le.OPERAND(S[z],L[z]));else if(L==="SID")P=P.concat(le.NUMBER(S));else if(L==="offset")P=P.concat(le.NUMBER32(S));else if(L==="number")P=P.concat(le.NUMBER(S));else{if(L!=="real")throw new Error("Unknown operand type "+L);P=P.concat(le.REAL(S))}return P},le.OP=le.BYTE,me.OP=me.BYTE;var ve=typeof WeakMap=="function"&&new WeakMap;function ae(S,L,P){for(var z=0;z<L.length;z+=1){var Z=L[z];this[Z.name]=Z.value}if(this.tableName=S,this.fields=L,P)for(var J=Object.keys(P),te=0;te<J.length;te+=1){var _e=J[te],xe=P[_e];this[_e]!==void 0&&(this[_e]=xe)}}function ye(S,L,P){P===void 0&&(P=L.length);var z=new Array(L.length+1);z[0]={name:S+"Count",type:"USHORT",value:P};for(var Z=0;Z<L.length;Z++)z[Z+1]={name:S+Z,type:"USHORT",value:L[Z]};return z}function Se(S,L,P){var z=L.length,Z=new Array(z+1);Z[0]={name:S+"Count",type:"USHORT",value:z};for(var J=0;J<z;J++)Z[J+1]={name:S+J,type:"TABLE",value:P(L[J],J)};return Z}function Me(S,L,P){var z=L.length,Z=[];Z[0]={name:S+"Count",type:"USHORT",value:z};for(var J=0;J<z;J++)Z=Z.concat(P(L[J],J));return Z}function Ee(S){S.format===1?ae.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:1}].concat(ye("glyph",S.glyphs))):re.assert(!1,"Can't create coverage table format 2 yet.")}function Te(S){ae.call(this,"scriptListTable",Me("scriptRecord",S,function(L,P){var z=L.script,Z=z.defaultLangSys;return re.assert(!!Z,"Unable to write GSUB: script "+L.tag+" has no default language system."),[{name:"scriptTag"+P,type:"TAG",value:L.tag},{name:"script"+P,type:"TABLE",value:new ae("scriptTable",[{name:"defaultLangSys",type:"TABLE",value:new ae("defaultLangSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:Z.reqFeatureIndex}].concat(ye("featureIndex",Z.featureIndexes)))}].concat(Me("langSys",z.langSysRecords,function(J,te){var _e=J.langSys;return[{name:"langSysTag"+te,type:"TAG",value:J.tag},{name:"langSys"+te,type:"TABLE",value:new ae("langSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:_e.reqFeatureIndex}].concat(ye("featureIndex",_e.featureIndexes)))}]})))}]}))}function Pe(S){ae.call(this,"featureListTable",Me("featureRecord",S,function(L,P){var z=L.feature;return[{name:"featureTag"+P,type:"TAG",value:L.tag},{name:"feature"+P,type:"TABLE",value:new ae("featureTable",[{name:"featureParams",type:"USHORT",value:z.featureParams}].concat(ye("lookupListIndex",z.lookupListIndexes)))}]}))}function Ke(S,L){ae.call(this,"lookupListTable",Se("lookup",S,function(P){var z=L[P.lookupType];return re.assert(!!z,"Unable to write GSUB lookup type "+P.lookupType+" tables."),new ae("lookupTable",[{name:"lookupType",type:"USHORT",value:P.lookupType},{name:"lookupFlag",type:"USHORT",value:P.lookupFlag}].concat(Se("subtable",P.subtables,z)))}))}le.CHARSTRING=function(S){if(ve){var L=ve.get(S);if(L!==void 0)return L}for(var P=[],z=S.length,Z=0;Z<z;Z+=1){var J=S[Z];P=P.concat(le[J.type](J.value))}return ve&&ve.set(S,P),P},me.CHARSTRING=function(S){return le.CHARSTRING(S).length},le.OBJECT=function(S){var L=le[S.type];return re.argument(L!==void 0,"No encoding function for type "+S.type),L(S.value)},me.OBJECT=function(S){var L=me[S.type];return re.argument(L!==void 0,"No sizeOf function for type "+S.type),L(S.value)},le.TABLE=function(S){for(var L=[],P=S.fields.length,z=[],Z=[],J=0;J<P;J+=1){var te=S.fields[J],_e=le[te.type],xe=(re.argument(_e!==void 0,"No encoding function for field type "+te.type+" ("+te.name+")"),S[te.name]);_e=_e(xe=xe===void 0?te.value:xe),te.type==="TABLE"?(Z.push(L.length),L=L.concat([0,0]),z.push(_e)):L=L.concat(_e)}for(var Ae=0;Ae<z.length;Ae+=1){var Le=Z[Ae],Fe=L.length;re.argument(Fe<65536,"Table "+S.tableName+" too big."),L[Le]=Fe>>8,L[Le+1]=255&Fe,L=L.concat(z[Ae])}return L},me.TABLE=function(S){for(var L=0,P=S.fields.length,z=0;z<P;z+=1){var Z=S.fields[z],J=me[Z.type],te=(re.argument(J!==void 0,"No sizeOf function for field type "+Z.type+" ("+Z.name+")"),S[Z.name]);L+=J(te=te===void 0?Z.value:te),Z.type==="TABLE"&&(L+=2)}return L},le.RECORD=le.TABLE,me.RECORD=me.TABLE,le.LITERAL=function(S){return S},me.LITERAL=function(S){return S.length},ae.prototype.encode=function(){return le.TABLE(this)},ae.prototype.sizeOf=function(){return me.TABLE(this)};var Ge={Table:ae,Record:ae,Coverage:(Ee.prototype=Object.create(ae.prototype)).constructor=Ee,ScriptList:(Te.prototype=Object.create(ae.prototype)).constructor=Te,FeatureList:(Pe.prototype=Object.create(ae.prototype)).constructor=Pe,LookupList:(Ke.prototype=Object.create(ae.prototype)).constructor=Ke,ushortList:ye,tableList:Se,recordList:Me};function et(S,L){return S.getUint8(L)}function ft(S,L){return S.getUint16(L,!1)}function ot(S,L){return S.getUint32(L,!1)}function Pt(S,L){return S.getInt16(L,!1)+S.getUint16(L+2,!1)/65535}var bt={byte:1,uShort:2,short:2,uLong:4,fixed:4,longDateTime:8,tag:4};function je(S,L){this.data=S,this.offset=L,this.relativeOffset=0}je.prototype.parseByte=function(){var S=this.data.getUint8(this.offset+this.relativeOffset);return this.relativeOffset+=1,S},je.prototype.parseChar=function(){var S=this.data.getInt8(this.offset+this.relativeOffset);return this.relativeOffset+=1,S},je.prototype.parseCard8=je.prototype.parseByte,je.prototype.parseCard16=je.prototype.parseUShort=function(){var S=this.data.getUint16(this.offset+this.relativeOffset);return this.relativeOffset+=2,S},je.prototype.parseSID=je.prototype.parseUShort,je.prototype.parseOffset16=je.prototype.parseUShort,je.prototype.parseShort=function(){var S=this.data.getInt16(this.offset+this.relativeOffset);return this.relativeOffset+=2,S},je.prototype.parseF2Dot14=function(){var S=this.data.getInt16(this.offset+this.relativeOffset)/16384;return this.relativeOffset+=2,S},je.prototype.parseOffset32=je.prototype.parseULong=function(){var S=ot(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,S},je.prototype.parseFixed=function(){var S=Pt(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,S},je.prototype.parseString=function(S){var L=this.data,P=this.offset+this.relativeOffset,z="";this.relativeOffset+=S;for(var Z=0;Z<S;Z++)z+=String.fromCharCode(L.getUint8(P+Z));return z},je.prototype.parseTag=function(){return this.parseString(4)},je.prototype.parseLongDateTime=function(){var S=ot(this.data,this.offset+this.relativeOffset+4);return S-=2082844800,this.relativeOffset+=8,S},je.prototype.parseVersion=function(S){var L=ft(this.data,this.offset+this.relativeOffset),P=ft(this.data,this.offset+this.relativeOffset+2);return this.relativeOffset+=4,L+P/(S=S===void 0?4096:S)/10},je.prototype.skip=function(S,L){this.relativeOffset+=bt[S]*(L=L===void 0?1:L)},je.prototype.parseULongList=function(S){S===void 0&&(S=this.parseULong());for(var L=new Array(S),P=this.data,z=this.offset+this.relativeOffset,Z=0;Z<S;Z++)L[Z]=P.getUint32(z),z+=4;return this.relativeOffset+=4*S,L},je.prototype.parseOffset16List=je.prototype.parseUShortList=function(S){S===void 0&&(S=this.parseUShort());for(var L=new Array(S),P=this.data,z=this.offset+this.relativeOffset,Z=0;Z<S;Z++)L[Z]=P.getUint16(z),z+=2;return this.relativeOffset+=2*S,L},je.prototype.parseShortList=function(S){for(var L=new Array(S),P=this.data,z=this.offset+this.relativeOffset,Z=0;Z<S;Z++)L[Z]=P.getInt16(z),z+=2;return this.relativeOffset+=2*S,L},je.prototype.parseByteList=function(S){for(var L=new Array(S),P=this.data,z=this.offset+this.relativeOffset,Z=0;Z<S;Z++)L[Z]=P.getUint8(z++);return this.relativeOffset+=S,L},je.prototype.parseList=function(S,L){L||(L=S,S=this.parseUShort());for(var P=new Array(S),z=0;z<S;z++)P[z]=L.call(this);return P},je.prototype.parseList32=function(S,L){L||(L=S,S=this.parseULong());for(var P=new Array(S),z=0;z<S;z++)P[z]=L.call(this);return P},je.prototype.parseRecordList=function(S,L){L||(L=S,S=this.parseUShort());for(var P=new Array(S),z=Object.keys(L),Z=0;Z<S;Z++){for(var J={},te=0;te<z.length;te++){var _e=z[te],xe=L[_e];J[_e]=xe.call(this)}P[Z]=J}return P},je.prototype.parseRecordList32=function(S,L){L||(L=S,S=this.parseULong());for(var P=new Array(S),z=Object.keys(L),Z=0;Z<S;Z++){for(var J={},te=0;te<z.length;te++){var _e=z[te],xe=L[_e];J[_e]=xe.call(this)}P[Z]=J}return P},je.prototype.parseStruct=function(S){if(typeof S=="function")return S.call(this);for(var L=Object.keys(S),P={},z=0;z<L.length;z++){var Z=L[z],J=S[Z];P[Z]=J.call(this)}return P},je.prototype.parseValueRecord=function(S){var L;if((S=S===void 0?this.parseUShort():S)!==0)return L={},1&S&&(L.xPlacement=this.parseShort()),2&S&&(L.yPlacement=this.parseShort()),4&S&&(L.xAdvance=this.parseShort()),8&S&&(L.yAdvance=this.parseShort()),16&S&&(L.xPlaDevice=void 0,this.parseShort()),32&S&&(L.yPlaDevice=void 0,this.parseShort()),64&S&&(L.xAdvDevice=void 0,this.parseShort()),128&S&&(L.yAdvDevice=void 0,this.parseShort()),L},je.prototype.parseValueRecordList=function(){for(var S=this.parseUShort(),L=this.parseUShort(),P=new Array(L),z=0;z<L;z++)P[z]=this.parseValueRecord(S);return P},je.prototype.parsePointer=function(S){var L=this.parseOffset16();if(0<L)return new je(this.data,this.offset+L).parseStruct(S)},je.prototype.parsePointer32=function(S){var L=this.parseOffset32();if(0<L)return new je(this.data,this.offset+L).parseStruct(S)},je.prototype.parseListOfLists=function(S){for(var L=this.parseOffset16List(),P=L.length,z=this.relativeOffset,Z=new Array(P),J=0;J<P;J++){var te=L[J];if(te===0)Z[J]=void 0;else if(this.relativeOffset=te,S){for(var _e=this.parseOffset16List(),xe=new Array(_e.length),Ae=0;Ae<_e.length;Ae++)this.relativeOffset=te+_e[Ae],xe[Ae]=S.call(this);Z[J]=xe}else Z[J]=this.parseUShortList()}return this.relativeOffset=z,Z},je.prototype.parseCoverage=function(){var S=this.offset+this.relativeOffset,L=this.parseUShort(),P=this.parseUShort();if(L===1)return{format:1,glyphs:this.parseUShortList(P)};if(L!==2)throw new Error("0x"+S.toString(16)+": Coverage format must be 1 or 2.");for(var z=new Array(P),Z=0;Z<P;Z++)z[Z]={start:this.parseUShort(),end:this.parseUShort(),index:this.parseUShort()};return{format:2,ranges:z}},je.prototype.parseClassDef=function(){var S=this.offset+this.relativeOffset,L=this.parseUShort();if(L===1)return{format:1,startGlyph:this.parseUShort(),classes:this.parseUShortList()};if(L===2)return{format:2,ranges:this.parseRecordList({start:je.uShort,end:je.uShort,classId:je.uShort})};throw new Error("0x"+S.toString(16)+": ClassDef format must be 1 or 2.")},je.list=function(S,L){return function(){return this.parseList(S,L)}},je.list32=function(S,L){return function(){return this.parseList32(S,L)}},je.recordList=function(S,L){return function(){return this.parseRecordList(S,L)}},je.recordList32=function(S,L){return function(){return this.parseRecordList32(S,L)}},je.pointer=function(S){return function(){return this.parsePointer(S)}},je.pointer32=function(S){return function(){return this.parsePointer32(S)}},je.tag=je.prototype.parseTag,je.byte=je.prototype.parseByte,je.uShort=je.offset16=je.prototype.parseUShort,je.uShortList=je.prototype.parseUShortList,je.uLong=je.offset32=je.prototype.parseULong,je.uLongList=je.prototype.parseULongList,je.struct=je.prototype.parseStruct,je.coverage=je.prototype.parseCoverage,je.classDef=je.prototype.parseClassDef;var Ve={reserved:je.uShort,reqFeatureIndex:je.uShort,featureIndexes:je.uShortList},He=(je.prototype.parseScriptList=function(){return this.parsePointer(je.recordList({tag:je.tag,script:je.pointer({defaultLangSys:je.pointer(Ve),langSysRecords:je.recordList({tag:je.tag,langSys:je.pointer(Ve)})})}))||[]},je.prototype.parseFeatureList=function(){return this.parsePointer(je.recordList({tag:je.tag,feature:je.pointer({featureParams:je.offset16,lookupListIndexes:je.uShortList})}))||[]},je.prototype.parseLookupList=function(S){return this.parsePointer(je.list(je.pointer(function(){var L=this.parseUShort(),P=(re.argument(1<=L&&L<=9,"GPOS/GSUB lookup type "+L+" unknown."),this.parseUShort()),z=16&P;return{lookupType:L,lookupFlag:P,subtables:this.parseList(je.pointer(S[L])),markFilteringSet:z?this.parseUShort():void 0}})))||[]},je.prototype.parseFeatureVariationsList=function(){return this.parsePointer32(function(){var S=this.parseUShort(),L=this.parseUShort();return re.argument(S===1&&L<1,"GPOS/GSUB feature variations table unknown."),this.parseRecordList32({conditionSetOffset:je.offset32,featureTableSubstitutionOffset:je.offset32})})||[]},{getByte:et,getCard8:et,getUShort:ft,getCard16:ft,getShort:function(S,L){return S.getInt16(L,!1)},getULong:ot,getFixed:Pt,getTag:function(S,L){for(var P="",z=L;z<L+4;z+=1)P+=String.fromCharCode(S.getInt8(z));return P},getOffset:function(S,L,P){for(var z=0,Z=0;Z<P;Z+=1)z=(z<<=8)+S.getUint8(L+Z);return z},getBytes:function(S,L,P){for(var z=[],Z=L;Z<P;Z+=1)z.push(S.getUint8(Z));return z},bytesToString:function(S){for(var L="",P=0;P<S.length;P+=1)L+=String.fromCharCode(S[P]);return L},Parser:je}),nt=function(S,L){for(var P={},z=(P.version=He.getUShort(S,L),re.argument(P.version===0,"cmap table version should be 0."),P.numTables=He.getUShort(S,L+2),-1),Z=P.numTables-1;0<=Z;--Z){var J=He.getUShort(S,L+4+8*Z),te=He.getUShort(S,L+4+8*Z+2);if(J===3&&(te===0||te===1||te===10)||J===0&&(te===0||te===1||te===2||te===3||te===4)){z=He.getULong(S,L+4+8*Z+4);break}}if(z===-1)throw new Error("No valid cmap sub-tables found.");var _e=new He.Parser(S,L+z);if(P.format=_e.parseUShort(),P.format===12){var xe,Ae=P,Le=_e;Le.parseUShort(),Ae.length=Le.parseULong(),Ae.language=Le.parseULong(),Ae.groupCount=xe=Le.parseULong(),Ae.glyphIndexMap={};for(var Fe=0;Fe<xe;Fe+=1)for(var Ue=Le.parseULong(),Re=Le.parseULong(),ct=Le.parseULong(),Ye=Ue;Ye<=Re;Ye+=1)Ae.glyphIndexMap[Ye]=ct,ct++}else{if(P.format!==4)throw new Error("Only format 4 and 12 cmap tables are supported (found format "+P.format+").");var Xe=P,$e=S,Je=L,jt=z;Xe.length=_e.parseUShort(),Xe.language=_e.parseUShort(),Xe.segCount=wt=_e.parseUShort()>>1,_e.skip("uShort",3),Xe.glyphIndexMap={};for(var wt,Et=new He.Parser($e,Je+jt+14),er=new He.Parser($e,Je+jt+16+2*wt),ir=new He.Parser($e,Je+jt+16+4*wt),Tr=new He.Parser($e,Je+jt+16+6*wt),Mr=Je+jt+16+8*wt,Dr=0;Dr<wt-1;Dr+=1)for(var pr=void 0,Wt=Et.parseUShort(),cn=er.parseUShort(),Or=ir.parseShort(),Ir=Tr.parseUShort(),_r=cn;_r<=Wt;_r+=1)Ir!==0?(Mr=(Mr=Tr.offset+Tr.relativeOffset-2)+Ir+2*(_r-cn),(pr=He.getUShort($e,Mr))!==0&&(pr=pr+Or&65535)):pr=_r+Or&65535,Xe.glyphIndexMap[_r]=pr}return P},vt=function(S){for(var L=!0,P=S.length-1;0<P;--P)if(65535<S.get(P).unicode){console.log("Adding CMAP format 12 (needed!)"),L=!1;break}var z,Z,J=[{name:"version",type:"USHORT",value:0},{name:"numTables",type:"USHORT",value:L?1:2},{name:"platformID",type:"USHORT",value:3},{name:"encodingID",type:"USHORT",value:1},{name:"offset",type:"ULONG",value:L?12:20}],te=(J=(J=L?J:J.concat([{name:"cmap12PlatformID",type:"USHORT",value:3},{name:"cmap12EncodingID",type:"USHORT",value:10},{name:"cmap12Offset",type:"ULONG",value:0}])).concat([{name:"format",type:"USHORT",value:4},{name:"cmap4Length",type:"USHORT",value:0},{name:"language",type:"USHORT",value:0},{name:"segCountX2",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]),new Ge.Table("cmap",J));for(te.segments=[],P=0;P<S.length;P+=1){for(var _e=S.get(P),xe=0;xe<_e.unicodes.length;xe+=1)z=_e.unicodes[xe],Z=P,te.segments.push({end:z,start:z,delta:-(z-Z),offset:0,glyphIndex:Z});te.segments=te.segments.sort(function(Je,jt){return Je.start-jt.start})}te.segments.push({end:65535,start:65535,delta:1,offset:0});var Ae=te.segments.length,Le=0,Fe=[],Ue=[],Re=[],ct=[],Ye=[],Xe=[];for(P=0;P<Ae;P+=1){var $e=te.segments[P];$e.end<=65535&&$e.start<=65535?(Fe=Fe.concat({name:"end_"+P,type:"USHORT",value:$e.end}),Ue=Ue.concat({name:"start_"+P,type:"USHORT",value:$e.start}),Re=Re.concat({name:"idDelta_"+P,type:"SHORT",value:$e.delta}),ct=ct.concat({name:"idRangeOffset_"+P,type:"USHORT",value:$e.offset}),$e.glyphId!==void 0&&(Ye=Ye.concat({name:"glyph_"+P,type:"USHORT",value:$e.glyphId}))):Le+=1,L||$e.glyphIndex===void 0||(Xe=(Xe=(Xe=Xe.concat({name:"cmap12Start_"+P,type:"ULONG",value:$e.start})).concat({name:"cmap12End_"+P,type:"ULONG",value:$e.end})).concat({name:"cmap12Glyph_"+P,type:"ULONG",value:$e.glyphIndex}))}return te.segCountX2=2*(Ae-Le),te.searchRange=2*Math.pow(2,Math.floor(Math.log(Ae-Le)/Math.log(2))),te.entrySelector=Math.log(te.searchRange/2)/Math.log(2),te.rangeShift=te.segCountX2-te.searchRange,te.fields=te.fields.concat(Fe),te.fields.push({name:"reservedPad",type:"USHORT",value:0}),te.fields=te.fields.concat(Ue),te.fields=te.fields.concat(Re),te.fields=te.fields.concat(ct),te.fields=te.fields.concat(Ye),te.cmap4Length=14+2*Fe.length+2+2*Ue.length+2*Re.length+2*ct.length+2*Ye.length,L||(J=16+4*Xe.length,te.cmap12Offset=20+te.cmap4Length,te.fields=te.fields.concat([{name:"cmap12Format",type:"USHORT",value:12},{name:"cmap12Reserved",type:"USHORT",value:0},{name:"cmap12Length",type:"ULONG",value:J},{name:"cmap12Language",type:"ULONG",value:0},{name:"cmap12nGroups",type:"ULONG",value:Xe.length/3}]),te.fields=te.fields.concat(Xe)),te},Lt=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","266 ff","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"],xt=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls"],mt=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],fe=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];function ue(S){this.font=S}function he(S){this.cmap=S}function we(S,L){this.encoding=S,this.charset=L}function Oe(S){switch(S.version){case 1:this.names=fe.slice();break;case 2:this.names=new Array(S.numberOfGlyphs);for(var L=0;L<S.numberOfGlyphs;L++)S.glyphNameIndex[L]<fe.length?this.names[L]=fe[S.glyphNameIndex[L]]:this.names[L]=S.names[S.glyphNameIndex[L]-fe.length];break;case 2.5:this.names=new Array(S.numberOfGlyphs);for(var P=0;P<S.numberOfGlyphs;P++)this.names[P]=fe[P+S.glyphNameIndex[P]];break;default:this.names=[]}}ue.prototype.charToGlyphIndex=function(S){var L=S.codePointAt(0),P=this.font.glyphs;if(P){for(var z=0;z<P.length;z+=1)for(var Z=P.get(z),J=0;J<Z.unicodes.length;J+=1)if(Z.unicodes[J]===L)return z}return null},he.prototype.charToGlyphIndex=function(S){return this.cmap.glyphIndexMap[S.codePointAt(0)]||0},we.prototype.charToGlyphIndex=function(S){return S=S.codePointAt(0),S=this.encoding[S],this.charset.indexOf(S)},Oe.prototype.nameToGlyphIndex=function(S){return this.names.indexOf(S)},Oe.prototype.glyphIndexToName=function(S){return this.names[S]};var We=function(S,L,P,z,Z){S.beginPath(),S.moveTo(L,P),S.lineTo(z,Z),S.stroke()};function lt(S){this.bindConstructorValues(S)}function st(S,L,P){Object.defineProperty(S,L,{get:function(){return S.path,S[P]},set:function(z){S[P]=z},enumerable:!0,configurable:!0})}function De(S,L){if(this.font=S,this.glyphs={},Array.isArray(L))for(var P=0;P<L.length;P++)this.glyphs[P]=L[P];this.length=L&&L.length||0}lt.prototype.bindConstructorValues=function(S){var L;this.index=S.index||0,this.name=S.name||null,this.unicode=S.unicode||void 0,this.unicodes=S.unicodes||S.unicode!==void 0?[S.unicode]:[],S.xMin&&(this.xMin=S.xMin),S.yMin&&(this.yMin=S.yMin),S.xMax&&(this.xMax=S.xMax),S.yMax&&(this.yMax=S.yMax),S.advanceWidth&&(this.advanceWidth=S.advanceWidth),Object.defineProperty(this,"path",(S=S.path,L=S||new W,{configurable:!0,get:function(){return L=typeof L=="function"?L():L},set:function(P){L=P}}))},lt.prototype.addUnicode=function(S){this.unicodes.length===0&&(this.unicode=S),this.unicodes.push(S)},lt.prototype.getBoundingBox=function(){return this.path.getBoundingBox()},lt.prototype.getPath=function(S,L,P,z,Z){S=S!==void 0?S:0,L=L!==void 0?L:0,P=P!==void 0?P:72;for(var J,te,_e=(z=z||{}).xScale,xe=z.yScale,Ae=((J=z.hinting&&Z&&Z.hinting?this.path&&Z.hinting.exec(this,P):J)?(te=Z.hinting.getCommands(J),S=Math.round(S),L=Math.round(L),_e=xe=1):(te=this.path.commands,z=1/this.path.unitsPerEm*P,_e===void 0&&(_e=z),xe===void 0&&(xe=z)),new W),Le=0;Le<te.length;Le+=1){var Fe=te[Le];Fe.type==="M"?Ae.moveTo(S+Fe.x*_e,L+-Fe.y*xe):Fe.type==="L"?Ae.lineTo(S+Fe.x*_e,L+-Fe.y*xe):Fe.type==="Q"?Ae.quadraticCurveTo(S+Fe.x1*_e,L+-Fe.y1*xe,S+Fe.x*_e,L+-Fe.y*xe):Fe.type==="C"?Ae.curveTo(S+Fe.x1*_e,L+-Fe.y1*xe,S+Fe.x2*_e,L+-Fe.y2*xe,S+Fe.x*_e,L+-Fe.y*xe):Fe.type==="Z"&&Ae.closePath()}return Ae},lt.prototype.getContours=function(){if(this.points===void 0)return[];for(var S=[],L=[],P=0;P<this.points.length;P+=1){var z=this.points[P];L.push(z),z.lastPointOfContour&&(S.push(L),L=[])}return re.argument(L.length===0,"There are still points left in the current contour."),S},lt.prototype.getMetrics=function(){for(var S=this.path.commands,L=[],P=[],z=0;z<S.length;z+=1){var Z=S[z];Z.type!=="Z"&&(L.push(Z.x),P.push(Z.y)),Z.type!=="Q"&&Z.type!=="C"||(L.push(Z.x1),P.push(Z.y1)),Z.type==="C"&&(L.push(Z.x2),P.push(Z.y2))}var J={xMin:Math.min.apply(null,L),yMin:Math.min.apply(null,P),xMax:Math.max.apply(null,L),yMax:Math.max.apply(null,P),leftSideBearing:this.leftSideBearing};return isFinite(J.xMin)||(J.xMin=0),isFinite(J.xMax)||(J.xMax=this.advanceWidth),isFinite(J.yMin)||(J.yMin=0),isFinite(J.yMax)||(J.yMax=0),J.rightSideBearing=this.advanceWidth-J.leftSideBearing-(J.xMax-J.xMin),J},lt.prototype.draw=function(S,L,P,z,Z){this.getPath(L,P,z,Z).draw(S)},lt.prototype.drawPoints=function(S,L,P,z){function Z(Le,Fe,Ue,Re){var ct=2*Math.PI;S.beginPath();for(var Ye=0;Ye<Le.length;Ye+=1)S.moveTo(Fe+Le[Ye].x*Re,Ue+Le[Ye].y*Re),S.arc(Fe+Le[Ye].x*Re,Ue+Le[Ye].y*Re,2,0,ct,!1);S.closePath(),S.fill()}L=L!==void 0?L:0,P=P!==void 0?P:0,z=1/this.path.unitsPerEm*(z=z!==void 0?z:24);for(var J=[],te=[],_e=this.path,xe=0;xe<_e.commands.length;xe+=1){var Ae=_e.commands[xe];Ae.x!==void 0&&J.push({x:Ae.x,y:-Ae.y}),Ae.x1!==void 0&&te.push({x:Ae.x1,y:-Ae.y1}),Ae.x2!==void 0&&te.push({x:Ae.x2,y:-Ae.y2})}S.fillStyle="blue",Z(J,L,P,z),S.fillStyle="red",Z(te,L,P,z)},lt.prototype.drawMetrics=function(S,L,P,z){L=L!==void 0?L:0,P=P!==void 0?P:0,z=1/this.path.unitsPerEm*(z=z!==void 0?z:24),S.lineWidth=1,S.strokeStyle="black",We(S,L,-1e4,L,1e4),We(S,-1e4,P,1e4,P);var Z=this.xMin||0,J=this.yMin||0,te=this.xMax||0,_e=this.yMax||0,xe=this.advanceWidth||0;S.strokeStyle="blue",We(S,L+Z*z,-1e4,L+Z*z,1e4),We(S,L+te*z,-1e4,L+te*z,1e4),We(S,-1e4,P+-J*z,1e4,P+-J*z),We(S,-1e4,P+-_e*z,1e4,P+-_e*z),S.strokeStyle="green",We(S,L+xe*z,-1e4,L+xe*z,1e4)},De.prototype.get=function(S){return typeof this.glyphs[S]=="function"&&(this.glyphs[S]=this.glyphs[S]()),this.glyphs[S]},De.prototype.push=function(S,L){this.glyphs[S]=L,this.length++};var ht={GlyphSet:De,glyphLoader:function(S,L){return new lt({index:L,font:S})},ttfGlyphLoader:function(S,L,P,z,Z,J){return function(){var te=new lt({index:L,font:S});return te.path=function(){P(te,z,Z);var _e=J(S.glyphs,te);return _e.unitsPerEm=S.unitsPerEm,_e},st(te,"xMin","_xMin"),st(te,"xMax","_xMax"),st(te,"yMin","_yMin"),st(te,"yMax","_yMax"),te}},cffGlyphLoader:function(S,L,P,z){return function(){var Z=new lt({index:L,font:S});return Z.path=function(){var J=P(S,Z,z);return J.unitsPerEm=S.unitsPerEm,J},Z}}};function _t(S){return S=S.length<1240?107:S.length<33900?1131:32768}function Kt(S,L,P){var z,Z=[],J=[],te=He.getCard16(S,L);if(te!==0){for(var _e=He.getByte(S,L+2),xe=L+(te+1)*_e+2,Ae=L+3,Le=0;Le<te+1;Le+=1)Z.push(He.getOffset(S,Ae,_e)),Ae+=_e;z=xe+Z[te]}else z=L+2;for(var Fe=0;Fe<Z.length-1;Fe+=1){var Ue=He.getBytes(S,xe+Z[Fe],xe+Z[Fe+1]);P&&(Ue=P(Ue)),J.push(Ue)}return{objects:J,startOffset:L,endOffset:z}}function sr(S,L){if(L===28)return S.parseByte()<<8|S.parseByte();if(L===29)return S.parseByte()<<24|S.parseByte()<<16|S.parseByte()<<8|S.parseByte();if(L===30){for(var P=S,z="",Z=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"];;){var J=(te=P.parseByte())>>4,te=15&te;if(J==15||(z+=Z[J],te==15))break;z+=Z[te]}return parseFloat(z)}if(32<=L&&L<=246)return L-139;if(247<=L&&L<=250)return 256*(L-247)+S.parseByte()+108;if(251<=L&&L<=254)return 256*-(L-251)-S.parseByte()-108;throw new Error("Invalid b0 "+L)}function Yt(S,L,P){var z=new He.Parser(S,L=L!==void 0?L:0),Z=[],J=[];for(P=P!==void 0?P:S.length;z.relativeOffset<P;){var te=z.parseByte();te<=21?(te===12&&(te=1200+z.parseByte()),Z.push([te,J]),J=[]):J.push(sr(z,te))}for(var _e=Z,xe={},Ae=0;Ae<_e.length;Ae+=1){var Le=_e[Ae][0],Fe=_e[Ae][1],Ue=Fe.length===1?Fe[0]:Fe;if(xe.hasOwnProperty(Le)&&!isNaN(xe[Le]))throw new Error("Object "+xe+" already has key "+Le);xe[Le]=Ue}return xe}function Vt(S,L){return L<=390?Lt[L]:S[L-391]}function zt(S,L,P){for(var z,Z={},J=0;J<L.length;J+=1){var te=L[J];if(Array.isArray(te.type)){var _e=[];_e.length=te.type.length;for(var xe=0;xe<te.type.length;xe++)(z=S[te.op]!==void 0?S[te.op][xe]:void 0)===void 0&&(z=te.value!==void 0&&te.value[xe]!==void 0?te.value[xe]:null),te.type[xe]==="SID"&&(z=Vt(P,z)),_e[xe]=z;Z[te.name]=_e}else(z=S[te.op])===void 0&&(z=te.value!==void 0?te.value:null),te.type==="SID"&&(z=Vt(P,z)),Z[te.name]=z}return Z}var vr=[{name:"version",op:0,type:"SID"},{name:"notice",op:1,type:"SID"},{name:"copyright",op:1200,type:"SID"},{name:"fullName",op:2,type:"SID"},{name:"familyName",op:3,type:"SID"},{name:"weight",op:4,type:"SID"},{name:"isFixedPitch",op:1201,type:"number",value:0},{name:"italicAngle",op:1202,type:"number",value:0},{name:"underlinePosition",op:1203,type:"number",value:-100},{name:"underlineThickness",op:1204,type:"number",value:50},{name:"paintType",op:1205,type:"number",value:0},{name:"charstringType",op:1206,type:"number",value:2},{name:"fontMatrix",op:1207,type:["real","real","real","real","real","real"],value:[.001,0,0,.001,0,0]},{name:"uniqueId",op:13,type:"number"},{name:"fontBBox",op:5,type:["number","number","number","number"],value:[0,0,0,0]},{name:"strokeWidth",op:1208,type:"number",value:0},{name:"xuid",op:14,type:[],value:null},{name:"charset",op:15,type:"offset",value:0},{name:"encoding",op:16,type:"offset",value:0},{name:"charStrings",op:17,type:"offset",value:0},{name:"private",op:18,type:["number","offset"],value:[0,0]},{name:"ros",op:1230,type:["SID","SID","number"]},{name:"cidFontVersion",op:1231,type:"number",value:0},{name:"cidFontRevision",op:1232,type:"number",value:0},{name:"cidFontType",op:1233,type:"number",value:0},{name:"cidCount",op:1234,type:"number",value:8720},{name:"uidBase",op:1235,type:"number"},{name:"fdArray",op:1236,type:"offset"},{name:"fdSelect",op:1237,type:"offset"},{name:"fontName",op:1238,type:"SID"}],Ar=[{name:"subrs",op:19,type:"offset",value:0},{name:"defaultWidthX",op:20,type:"number",value:0},{name:"nominalWidthX",op:21,type:"number",value:0}];function Rn(S,L,P,z){return zt(Yt(S,L,P),Ar,z)}function Sr(S,L,P,z){for(var Z=[],J=0;J<P.length;J+=1){var te,_e=((te=(_e=z,zt(Yt(te=new DataView(new Uint8Array(P[J]).buffer),0,te.byteLength),vr,_e)))._subrs=[],te._subrsBias=0,te.private[0]),xe=te.private[1];_e!==0&&xe!==0&&(_e=Rn(S,xe+L,_e,z),te._defaultWidthX=_e.defaultWidthX,te._nominalWidthX=_e.nominalWidthX,_e.subrs!==0&&(xe=Kt(S,xe+_e.subrs+L),te._subrs=xe.objects,te._subrsBias=_t(te._subrs)),te._privateDict=_e),Z.push(te)}return Z}function Jr(S,L,P){var z,Z,J,te,_e,xe,Ae,Le,Fe,Ue=new W,Re=[],ct=0,Ye=!1,Xe=!1,$e=0,Je=0,jt=(Fe=(S.isCIDFont?(_e=S.tables.cff.topDict._fdSelect[L.index],_e=S.tables.cff.topDict._fdArray[_e],xe=_e._subrs,Ae=_e._subrsBias,Le=_e._defaultWidthX,_e):(xe=S.tables.cff.topDict._subrs,Ae=S.tables.cff.topDict._subrsBias,Le=S.tables.cff.topDict._defaultWidthX,S.tables.cff.topDict))._nominalWidthX,Le);function wt(er,ir){Xe&&Ue.closePath(),Ue.moveTo(er,ir),Xe=!0}function Et(){Re.length%2==0||Ye||(jt=Re.shift()+Fe),ct+=Re.length>>1,Re.length=0,Ye=!0}return function er(ir){for(var Tr,Mr,Dr,pr,Wt,cn,Or,Ir,_r,gn,Fr,Bn,Ur=0;Ur<ir.length;){var yn=ir[Ur];switch(Ur+=1,yn){case 1:case 3:Et();break;case 4:1<Re.length&&!Ye&&(jt=Re.shift()+Fe,Ye=!0),Je+=Re.pop(),wt($e,Je);break;case 5:for(;0<Re.length;)$e+=Re.shift(),Je+=Re.shift(),Ue.lineTo($e,Je);break;case 6:for(;0<Re.length&&($e+=Re.shift(),Ue.lineTo($e,Je),Re.length!==0);)Je+=Re.shift(),Ue.lineTo($e,Je);break;case 7:for(;0<Re.length&&(Je+=Re.shift(),Ue.lineTo($e,Je),Re.length!==0);)$e+=Re.shift(),Ue.lineTo($e,Je);break;case 8:for(;0<Re.length;)z=$e+Re.shift(),Z=Je+Re.shift(),J=z+Re.shift(),te=Z+Re.shift(),$e=J+Re.shift(),Je=te+Re.shift(),Ue.curveTo(z,Z,J,te,$e,Je);break;case 10:Wt=Re.pop()+Ae,(cn=xe[Wt])&&er(cn);break;case 11:return;case 12:switch(yn=ir[Ur],Ur+=1,yn){case 35:z=$e+Re.shift(),Z=Je+Re.shift(),J=z+Re.shift(),te=Z+Re.shift(),Or=J+Re.shift(),Ir=te+Re.shift(),_r=Or+Re.shift(),gn=Ir+Re.shift(),Fr=_r+Re.shift(),Bn=gn+Re.shift(),$e=Fr+Re.shift(),Je=Bn+Re.shift(),Re.shift(),Ue.curveTo(z,Z,J,te,Or,Ir),Ue.curveTo(_r,gn,Fr,Bn,$e,Je);break;case 34:z=$e+Re.shift(),Z=Je,J=z+Re.shift(),te=Z+Re.shift(),Or=J+Re.shift(),Ir=te,_r=Or+Re.shift(),gn=te,Fr=_r+Re.shift(),Bn=Je,$e=Fr+Re.shift(),Ue.curveTo(z,Z,J,te,Or,Ir),Ue.curveTo(_r,gn,Fr,Bn,$e,Je);break;case 36:z=$e+Re.shift(),Z=Je+Re.shift(),J=z+Re.shift(),te=Z+Re.shift(),Or=J+Re.shift(),Ir=te,_r=Or+Re.shift(),gn=te,Fr=_r+Re.shift(),Bn=gn+Re.shift(),$e=Fr+Re.shift(),Ue.curveTo(z,Z,J,te,Or,Ir),Ue.curveTo(_r,gn,Fr,Bn,$e,Je);break;case 37:z=$e+Re.shift(),Z=Je+Re.shift(),J=z+Re.shift(),te=Z+Re.shift(),Or=J+Re.shift(),Ir=te+Re.shift(),_r=Or+Re.shift(),gn=Ir+Re.shift(),Fr=_r+Re.shift(),Bn=gn+Re.shift(),Math.abs(Fr-$e)>Math.abs(Bn-Je)?$e=Fr+Re.shift():Je=Bn+Re.shift(),Ue.curveTo(z,Z,J,te,Or,Ir),Ue.curveTo(_r,gn,Fr,Bn,$e,Je);break;default:console.log("Glyph "+L.index+": unknown operator 1200"+yn),Re.length=0}break;case 14:0<Re.length&&!Ye&&(jt=Re.shift()+Fe,Ye=!0),Xe&&(Ue.closePath(),Xe=!1);break;case 18:Et();break;case 19:case 20:Et(),Ur+=ct+7>>3;break;case 21:2<Re.length&&!Ye&&(jt=Re.shift()+Fe,Ye=!0),Je+=Re.pop(),wt($e+=Re.pop(),Je);break;case 22:1<Re.length&&!Ye&&(jt=Re.shift()+Fe,Ye=!0),wt($e+=Re.pop(),Je);break;case 23:Et();break;case 24:for(;2<Re.length;)z=$e+Re.shift(),Z=Je+Re.shift(),J=z+Re.shift(),te=Z+Re.shift(),$e=J+Re.shift(),Je=te+Re.shift(),Ue.curveTo(z,Z,J,te,$e,Je);$e+=Re.shift(),Je+=Re.shift(),Ue.lineTo($e,Je);break;case 25:for(;6<Re.length;)$e+=Re.shift(),Je+=Re.shift(),Ue.lineTo($e,Je);z=$e+Re.shift(),Z=Je+Re.shift(),J=z+Re.shift(),te=Z+Re.shift(),$e=J+Re.shift(),Je=te+Re.shift(),Ue.curveTo(z,Z,J,te,$e,Je);break;case 26:for(Re.length%2&&($e+=Re.shift());0<Re.length;)z=$e,Z=Je+Re.shift(),J=z+Re.shift(),te=Z+Re.shift(),$e=J,Je=te+Re.shift(),Ue.curveTo(z,Z,J,te,$e,Je);break;case 27:for(Re.length%2&&(Je+=Re.shift());0<Re.length;)z=$e+Re.shift(),Z=Je,J=z+Re.shift(),te=Z+Re.shift(),$e=J+Re.shift(),Je=te,Ue.curveTo(z,Z,J,te,$e,Je);break;case 28:Tr=ir[Ur],Mr=ir[Ur+1],Re.push((Tr<<24|Mr<<16)>>16),Ur+=2;break;case 29:Wt=Re.pop()+S.gsubrsBias,(cn=S.gsubrs[Wt])&&er(cn);break;case 30:for(;0<Re.length&&(z=$e,Z=Je+Re.shift(),J=z+Re.shift(),te=Z+Re.shift(),$e=J+Re.shift(),Je=te+(Re.length===1?Re.shift():0),Ue.curveTo(z,Z,J,te,$e,Je),Re.length!==0);)z=$e+Re.shift(),Z=Je,J=z+Re.shift(),te=Z+Re.shift(),Je=te+Re.shift(),$e=J+(Re.length===1?Re.shift():0),Ue.curveTo(z,Z,J,te,$e,Je);break;case 31:for(;0<Re.length&&(z=$e+Re.shift(),Z=Je,J=z+Re.shift(),te=Z+Re.shift(),Je=te+Re.shift(),$e=J+(Re.length===1?Re.shift():0),Ue.curveTo(z,Z,J,te,$e,Je),Re.length!==0);)z=$e,Z=Je+Re.shift(),J=z+Re.shift(),te=Z+Re.shift(),$e=J+Re.shift(),Je=te+(Re.length===1?Re.shift():0),Ue.curveTo(z,Z,J,te,$e,Je);break;default:yn<32?console.log("Glyph "+L.index+": unknown operator "+yn):yn<247?Re.push(yn-139):yn<251?(Tr=ir[Ur],Ur+=1,Re.push(256*(yn-247)+Tr+108)):yn<255?(Tr=ir[Ur],Ur+=1,Re.push(256*-(yn-251)-Tr-108)):(Tr=ir[Ur],Mr=ir[Ur+1],Dr=ir[Ur+2],pr=ir[Ur+3],Ur+=4,Re.push((Tr<<24|Mr<<16|Dr<<8|pr)/65536))}}}(P),L.advanceWidth=jt,Ue}function Fn(S,L){var P,z=Lt.indexOf(S);return 0<=z&&(P=z),0<=(z=L.indexOf(S))?P=z+Lt.length:(P=Lt.length+L.length,L.push(S)),P}function Jt(S,L,P){for(var z={},Z=0;Z<S.length;Z+=1){var J=S[Z],te=L[J.name];te===void 0||function _e(xe,Ae){if(xe===Ae)return 1;if(Array.isArray(xe)&&Array.isArray(Ae)&&xe.length===Ae.length){for(var Le=0;Le<xe.length;Le+=1)if(!_e(xe[Le],Ae[Le]))return;return 1}}(te,J.value)||(J.type==="SID"&&(te=Fn(te,P)),z[J.op]={name:J.name,type:J.type,value:te})}return z}function gr(S,L){var P=new Ge.Record("Top DICT",[{name:"dict",type:"DICT",value:{}}]);return P.dict=Jt(vr,S,L),P}function br(S){var L=new Ge.Record("Top DICT INDEX",[{name:"topDicts",type:"INDEX",value:[]}]);return L.topDicts=[{name:"topDict_0",type:"TABLE",value:S}],L}var fr=function(S,L,P){P.tables.cff={},z=S,Z=L,(J={}).formatMajor=He.getCard8(z,Z),J.formatMinor=He.getCard8(z,Z+1),J.size=He.getCard8(z,Z+2),J.offsetSize=He.getCard8(z,Z+3),J.startOffset=Z,J.endOffset=Z+4;var z=Kt(S,J.endOffset,He.bytesToString),Z=Kt(S,z.endOffset),J=Kt(S,Z.endOffset,He.bytesToString);if(z=Kt(S,J.endOffset),P.gsubrs=z.objects,P.gsubrsBias=_t(P.gsubrs),(z=Sr(S,L,Z.objects,J.objects)).length!==1)throw new Error("CFF table has too many fonts in 'FontSet' - count of fonts NameIndex.length = "+z.length);if(Z=z[0],(P.tables.cff.topDict=Z)._privateDict&&(P.defaultWidthX=Z._privateDict.defaultWidthX,P.nominalWidthX=Z._privateDict.nominalWidthX),Z.ros[0]!==void 0&&Z.ros[1]!==void 0&&(P.isCIDFont=!0),P.isCIDFont){z=Z.fdArray;var te=Z.fdSelect;if(z===0||te===0)throw new Error("Font is marked as a CID font, but FDArray and/or FDSelect information is missing");z=Sr(S,L,Kt(S,z+=L).objects,J.objects),Z._fdArray=z,Z._fdSelect=function(Le,Fe,Ue,Re){var ct,Ye=[],Xe=new He.Parser(Le,Fe);if((Le=Xe.parseCard8())===0)for(var $e=0;$e<Ue;$e++){if(Re<=(ct=Xe.parseCard8()))throw new Error("CFF table CID Font FDSelect has bad FD index value "+ct+" (FD count "+Re+")");Ye.push(ct)}else{if(Le!==3)throw new Error("CFF Table CID Font FDSelect table has unsupported format "+Le);var Je,jt=Xe.parseCard16(),wt=Xe.parseCard16();if(wt!==0)throw new Error("CFF Table CID Font FDSelect format 3 range has bad initial GID "+wt);for(var Et=0;Et<jt;Et++){if(ct=Xe.parseCard8(),Je=Xe.parseCard16(),Re<=ct)throw new Error("CFF table CID Font FDSelect has bad FD index value "+ct+" (FD count "+Re+")");if(Ue<Je)throw new Error("CFF Table CID Font FDSelect format 3 range has bad GID "+Je);for(;wt<Je;wt++)Ye.push(ct);wt=Je}if(Je!==Ue)throw new Error("CFF Table CID Font FDSelect format 3 range has bad final GID "+Je)}return Ye}(S,te+=L,P.numGlyphs,z.length)}z=Rn(S,te=L+Z.private[1],Z.private[0],J.objects);var _e=(P.defaultWidthX=z.defaultWidthX,P.nominalWidthX=z.nominalWidthX,z.subrs!==0?(te=Kt(S,te+z.subrs),P.subrs=te.objects,P.subrsBias=_t(P.subrs)):(P.subrs=[],P.subrsBias=0),Kt(S,L+Z.charStrings));P.nGlyphs=_e.objects.length,z=function(Le,Fe,Ue,Re){var ct=new He.Parser(Le,Fe),Ye=(--Ue,[".notdef"]);if((Le=ct.parseCard8())===0)for(var Xe=0;Xe<Ue;Xe+=1)$e=ct.parseSID(),Ye.push(Vt(Re,$e));else if(Le===1)for(;Ye.length<=Ue;)for(var $e=ct.parseSID(),Je=ct.parseCard8(),jt=0;jt<=Je;jt+=1)Ye.push(Vt(Re,$e)),$e+=1;else{if(Le!==2)throw new Error("Unknown charset format "+Le);for(;Ye.length<=Ue;){$e=ct.parseSID(),Je=ct.parseCard16();for(var wt=0;wt<=Je;wt+=1)Ye.push(Vt(Re,$e)),$e+=1}}return Ye}(S,L+Z.charset,P.nGlyphs,J.objects),Z.encoding===0?P.cffEncoding=new we(xt,z):Z.encoding===1?P.cffEncoding=new we(mt,z):P.cffEncoding=function(Le,Fe,Ue){var Re={},ct=new He.Parser(Le,Fe);if((Le=ct.parseCard8())===0)for(var Ye=ct.parseCard8(),Xe=0;Xe<Ye;Xe+=1)Re[Je=ct.parseCard8()]=Xe;else{if(Le!==1)throw new Error("Unknown encoding format "+Le);for(var $e=ct.parseCard8(),Je=1,jt=0;jt<$e;jt+=1)for(var wt=ct.parseCard8(),Et=ct.parseCard8(),er=wt;er<=wt+Et;er+=1)Re[er]=Je,Je+=1}return new we(Re,Ue)}(S,L+Z.encoding,z),P.encoding=P.encoding||P.cffEncoding,P.glyphs=new ht.GlyphSet(P);for(var xe=0;xe<P.nGlyphs;xe+=1){var Ae=_e.objects[xe];P.glyphs.push(xe,ht.cffGlyphLoader(P,xe,Jr,Ae))}},cl=function(S,L){for(var P,z=new Ge.Table("CFF ",[{name:"header",type:"RECORD"},{name:"nameIndex",type:"RECORD"},{name:"topDictIndex",type:"RECORD"},{name:"stringIndex",type:"RECORD"},{name:"globalSubrIndex",type:"RECORD"},{name:"charsets",type:"RECORD"},{name:"charStringsIndex",type:"RECORD"},{name:"privateDict",type:"RECORD"}]),Z=1/L.unitsPerEm,J=(Z={version:L.version,fullName:L.fullName,familyName:L.familyName,weight:L.weightName,fontBBox:L.fontBBox||[0,0,0,0],fontMatrix:[Z,0,0,Z,0,0],charset:999,encoding:0,charStrings:999,private:[0,999]},[]),te=1;te<S.length;te+=1)P=S.get(te),J.push(P.name);var _e,xe,Ae=[],Le=(L=(z.header=new Ge.Record("Header",[{name:"major",type:"Card8",value:1},{name:"minor",type:"Card8",value:0},{name:"hdrSize",type:"Card8",value:4},{name:"major",type:"Card8",value:1}]),z.nameIndex=function(Fe){var Ue=new Ge.Record("Name INDEX",[{name:"names",type:"INDEX",value:[]}]);Ue.names=[];for(var Re=0;Re<Fe.length;Re+=1)Ue.names.push({name:"name_"+Re,type:"NAME",value:Fe[Re]});return Ue}([L.postScriptName]),gr(Z,Ae)),z.topDictIndex=br(L),z.globalSubrIndex=new Ge.Record("Global Subr INDEX",[{name:"subrs",type:"INDEX",value:[]}]),z.charsets=function(Fe,Ue){for(var Re=new Ge.Record("Charsets",[{name:"format",type:"Card8",value:0}]),ct=0;ct<Fe.length;ct+=1){var Ye=Fn(Fe[ct],Ue);Re.fields.push({name:"glyph_"+ct,type:"SID",value:Ye})}return Re}(J,Ae),z.charStringsIndex=function(Fe){for(var Ue=new Ge.Record("CharStrings INDEX",[{name:"charStrings",type:"INDEX",value:[]}]),Re=0;Re<Fe.length;Re+=1){var ct=Fe.get(Re),Ye=function(Xe){for(var $e=[],Je=Xe.path,jt=($e.push({name:"width",type:"NUMBER",value:Xe.advanceWidth}),0),wt=0,Et=0;Et<Je.commands.length;Et+=1){var er,ir,Tr,Mr,Dr=void 0,pr=void 0,Wt=Je.commands[Et];(Wt=Wt.type==="Q"?{type:"C",x:Wt.x,y:Wt.y,x1:1/3*jt+2/3*Wt.x1,y1:1/3*wt+2/3*Wt.y1,x2:1/3*Wt.x+2/3*Wt.x1,y2:1/3*Wt.y+2/3*Wt.y1}:Wt).type==="M"?(Dr=Math.round(Wt.x-jt),pr=Math.round(Wt.y-wt),$e.push({name:"dx",type:"NUMBER",value:Dr}),$e.push({name:"dy",type:"NUMBER",value:pr}),$e.push({name:"rmoveto",type:"OP",value:21}),jt=Math.round(Wt.x),wt=Math.round(Wt.y)):Wt.type==="L"?(Dr=Math.round(Wt.x-jt),pr=Math.round(Wt.y-wt),$e.push({name:"dx",type:"NUMBER",value:Dr}),$e.push({name:"dy",type:"NUMBER",value:pr}),$e.push({name:"rlineto",type:"OP",value:5}),jt=Math.round(Wt.x),wt=Math.round(Wt.y)):Wt.type==="C"&&(er=Math.round(Wt.x1-jt),ir=Math.round(Wt.y1-wt),Tr=Math.round(Wt.x2-Wt.x1),Mr=Math.round(Wt.y2-Wt.y1),Dr=Math.round(Wt.x-Wt.x2),pr=Math.round(Wt.y-Wt.y2),$e.push({name:"dx1",type:"NUMBER",value:er}),$e.push({name:"dy1",type:"NUMBER",value:ir}),$e.push({name:"dx2",type:"NUMBER",value:Tr}),$e.push({name:"dy2",type:"NUMBER",value:Mr}),$e.push({name:"dx",type:"NUMBER",value:Dr}),$e.push({name:"dy",type:"NUMBER",value:pr}),$e.push({name:"rrcurveto",type:"OP",value:8}),jt=Math.round(Wt.x),wt=Math.round(Wt.y))}return $e.push({name:"endchar",type:"OP",value:14}),$e}(ct);Ue.charStrings.push({name:ct.name,type:"CHARSTRING",value:Ye})}return Ue}(S),z.privateDict=(Le={},_e=Ae,(xe=new Ge.Record("Private DICT",[{name:"dict",type:"DICT",value:{}}])).dict=Jt(Ar,Le,_e),xe),z.stringIndex=function(Fe){var Ue=new Ge.Record("String INDEX",[{name:"strings",type:"INDEX",value:[]}]);Ue.strings=[];for(var Re=0;Re<Fe.length;Re+=1)Ue.strings.push({name:"string_"+Re,type:"STRING",value:Fe[Re]});return Ue}(Ae),z.header.sizeOf()+z.nameIndex.sizeOf()+z.topDictIndex.sizeOf()+z.stringIndex.sizeOf()+z.globalSubrIndex.sizeOf());return Z.charset=Le,Z.encoding=0,Z.charStrings=Z.charset+z.charsets.sizeOf(),Z.private[1]=Z.charStrings+z.charStringsIndex.sizeOf(),L=gr(Z,Ae),z.topDictIndex=br(L),z},Sd=function(S,L){var P={};return S=new He.Parser(S,L),P.version=S.parseVersion(),P.fontRevision=Math.round(1e3*S.parseFixed())/1e3,P.checkSumAdjustment=S.parseULong(),P.magicNumber=S.parseULong(),re.argument(P.magicNumber===1594834165,"Font header has wrong magic number."),P.flags=S.parseUShort(),P.unitsPerEm=S.parseUShort(),P.created=S.parseLongDateTime(),P.modified=S.parseLongDateTime(),P.xMin=S.parseShort(),P.yMin=S.parseShort(),P.xMax=S.parseShort(),P.yMax=S.parseShort(),P.macStyle=S.parseUShort(),P.lowestRecPPEM=S.parseUShort(),P.fontDirectionHint=S.parseShort(),P.indexToLocFormat=S.parseShort(),P.glyphDataFormat=S.parseShort(),P},jd=function(S){var L=Math.round(new Date().getTime()/1e3)+2082844800,P=L;return S.createdTimestamp&&(P=S.createdTimestamp+2082844800),new Ge.Table("head",[{name:"version",type:"FIXED",value:65536},{name:"fontRevision",type:"FIXED",value:65536},{name:"checkSumAdjustment",type:"ULONG",value:0},{name:"magicNumber",type:"ULONG",value:1594834165},{name:"flags",type:"USHORT",value:0},{name:"unitsPerEm",type:"USHORT",value:1e3},{name:"created",type:"LONGDATETIME",value:P},{name:"modified",type:"LONGDATETIME",value:L},{name:"xMin",type:"SHORT",value:0},{name:"yMin",type:"SHORT",value:0},{name:"xMax",type:"SHORT",value:0},{name:"yMax",type:"SHORT",value:0},{name:"macStyle",type:"USHORT",value:0},{name:"lowestRecPPEM",type:"USHORT",value:0},{name:"fontDirectionHint",type:"SHORT",value:2},{name:"indexToLocFormat",type:"SHORT",value:0},{name:"glyphDataFormat",type:"SHORT",value:0}],S)},ku=function(S,L){var P={};return S=new He.Parser(S,L),P.version=S.parseVersion(),P.ascender=S.parseShort(),P.descender=S.parseShort(),P.lineGap=S.parseShort(),P.advanceWidthMax=S.parseUShort(),P.minLeftSideBearing=S.parseShort(),P.minRightSideBearing=S.parseShort(),P.xMaxExtent=S.parseShort(),P.caretSlopeRise=S.parseShort(),P.caretSlopeRun=S.parseShort(),P.caretOffset=S.parseShort(),S.relativeOffset+=8,P.metricDataFormat=S.parseShort(),P.numberOfHMetrics=S.parseUShort(),P},ha=function(S){return new Ge.Table("hhea",[{name:"version",type:"FIXED",value:65536},{name:"ascender",type:"FWORD",value:0},{name:"descender",type:"FWORD",value:0},{name:"lineGap",type:"FWORD",value:0},{name:"advanceWidthMax",type:"UFWORD",value:0},{name:"minLeftSideBearing",type:"FWORD",value:0},{name:"minRightSideBearing",type:"FWORD",value:0},{name:"xMaxExtent",type:"FWORD",value:0},{name:"caretSlopeRise",type:"SHORT",value:1},{name:"caretSlopeRun",type:"SHORT",value:0},{name:"caretOffset",type:"SHORT",value:0},{name:"reserved1",type:"SHORT",value:0},{name:"reserved2",type:"SHORT",value:0},{name:"reserved3",type:"SHORT",value:0},{name:"reserved4",type:"SHORT",value:0},{name:"metricDataFormat",type:"SHORT",value:0},{name:"numberOfHMetrics",type:"USHORT",value:0}],S)},Ce=function(S,L,P,z,Z){for(var J,te,_e=new He.Parser(S,L),xe=0;xe<z;xe+=1){xe<P&&(J=_e.parseUShort(),te=_e.parseShort());var Ae=Z.get(xe);Ae.advanceWidth=J,Ae.leftSideBearing=te}},ut=function(S){for(var L=new Ge.Table("hmtx",[]),P=0;P<S.length;P+=1){var z=(Z=S.get(P)).advanceWidth||0,Z=Z.leftSideBearing||0;L.fields.push({name:"advanceWidth_"+P,type:"USHORT",value:z}),L.fields.push({name:"leftSideBearing_"+P,type:"SHORT",value:Z})}return L},Tt=function(S){for(var L=new Ge.Table("ltag",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"numTags",type:"ULONG",value:S.length}]),P="",z=12+4*S.length,Z=0;Z<S.length;++Z){var J=P.indexOf(S[Z]);J<0&&(J=P.length,P+=S[Z]),L.fields.push({name:"offset "+Z,type:"USHORT",value:z+J}),L.fields.push({name:"length "+Z,type:"USHORT",value:S[Z].length})}return L.fields.push({name:"stringPool",type:"CHARARRAY",value:P}),L},it=function(S,L){for(var P=new He.Parser(S,L),z=P.parseULong(),Z=(re.argument(z===1,"Unsupported ltag table version."),P.skip("uLong",1),P.parseULong()),J=[],te=0;te<Z;te++){for(var _e="",xe=L+P.parseUShort(),Ae=P.parseUShort(),Le=xe;Le<xe+Ae;++Le)_e+=String.fromCharCode(S.getInt8(Le));J.push(_e)}return J},Qt=function(S,L){var P={};return S=new He.Parser(S,L),P.version=S.parseVersion(),P.numGlyphs=S.parseUShort(),P.version===1&&(P.maxPoints=S.parseUShort(),P.maxContours=S.parseUShort(),P.maxCompositePoints=S.parseUShort(),P.maxCompositeContours=S.parseUShort(),P.maxZones=S.parseUShort(),P.maxTwilightPoints=S.parseUShort(),P.maxStorage=S.parseUShort(),P.maxFunctionDefs=S.parseUShort(),P.maxInstructionDefs=S.parseUShort(),P.maxStackElements=S.parseUShort(),P.maxSizeOfInstructions=S.parseUShort(),P.maxComponentElements=S.parseUShort(),P.maxComponentDepth=S.parseUShort()),P},Qe=function(S){return new Ge.Table("maxp",[{name:"version",type:"FIXED",value:20480},{name:"numGlyphs",type:"USHORT",value:S}])},Rr=["copyright","fontFamily","fontSubfamily","uniqueID","fullName","version","postScriptName","trademark","manufacturer","designer","description","manufacturerURL","designerURL","license","licenseURL","reserved","preferredFamily","preferredSubfamily","compatibleFullName","sampleText","postScriptFindFontName","wwsFamily","wwsSubfamily"],Mt={0:"en",1:"fr",2:"de",3:"it",4:"nl",5:"sv",6:"es",7:"da",8:"pt",9:"no",10:"he",11:"ja",12:"ar",13:"fi",14:"el",15:"is",16:"mt",17:"tr",18:"hr",19:"zh-Hant",20:"ur",21:"hi",22:"th",23:"ko",24:"lt",25:"pl",26:"hu",27:"es",28:"lv",29:"se",30:"fo",31:"fa",32:"ru",33:"zh",34:"nl-BE",35:"ga",36:"sq",37:"ro",38:"cz",39:"sk",40:"si",41:"yi",42:"sr",43:"mk",44:"bg",45:"uk",46:"be",47:"uz",48:"kk",49:"az-Cyrl",50:"az-Arab",51:"hy",52:"ka",53:"mo",54:"ky",55:"tg",56:"tk",57:"mn-CN",58:"mn",59:"ps",60:"ks",61:"ku",62:"sd",63:"bo",64:"ne",65:"sa",66:"mr",67:"bn",68:"as",69:"gu",70:"pa",71:"or",72:"ml",73:"kn",74:"ta",75:"te",76:"si",77:"my",78:"km",79:"lo",80:"vi",81:"id",82:"tl",83:"ms",84:"ms-Arab",85:"am",86:"ti",87:"om",88:"so",89:"sw",90:"rw",91:"rn",92:"ny",93:"mg",94:"eo",128:"cy",129:"eu",130:"ca",131:"la",132:"qu",133:"gn",134:"ay",135:"tt",136:"ug",137:"dz",138:"jv",139:"su",140:"gl",141:"af",142:"br",143:"iu",144:"gd",145:"gv",146:"ga",147:"to",148:"el-polyton",149:"kl",150:"az",151:"nn"},qt={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:5,11:1,12:4,13:0,14:6,15:0,16:0,17:0,18:0,19:2,20:4,21:9,22:21,23:3,24:29,25:29,26:29,27:29,28:29,29:0,30:0,31:4,32:7,33:25,34:0,35:0,36:0,37:0,38:29,39:29,40:0,41:5,42:7,43:7,44:7,45:7,46:7,47:7,48:7,49:7,50:4,51:24,52:23,53:7,54:7,55:7,56:7,57:27,58:7,59:4,60:4,61:4,62:4,63:26,64:9,65:9,66:9,67:13,68:13,69:11,70:10,71:12,72:17,73:16,74:14,75:15,76:18,77:19,78:20,79:22,80:30,81:0,82:0,83:0,84:4,85:28,86:28,87:28,88:0,89:0,90:0,91:0,92:0,93:0,94:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:7,136:4,137:26,138:0,139:0,140:0,141:0,142:0,143:28,144:0,145:0,146:0,147:0,148:6,149:0,150:0,151:0},St={1078:"af",1052:"sq",1156:"gsw",1118:"am",5121:"ar-DZ",15361:"ar-BH",3073:"ar",2049:"ar-IQ",11265:"ar-JO",13313:"ar-KW",12289:"ar-LB",4097:"ar-LY",6145:"ary",8193:"ar-OM",16385:"ar-QA",1025:"ar-SA",10241:"ar-SY",7169:"aeb",14337:"ar-AE",9217:"ar-YE",1067:"hy",1101:"as",2092:"az-Cyrl",1068:"az",1133:"ba",1069:"eu",1059:"be",2117:"bn",1093:"bn-IN",8218:"bs-Cyrl",5146:"bs",1150:"br",1026:"bg",1027:"ca",3076:"zh-HK",5124:"zh-MO",2052:"zh",4100:"zh-SG",1028:"zh-TW",1155:"co",1050:"hr",4122:"hr-BA",1029:"cs",1030:"da",1164:"prs",1125:"dv",2067:"nl-BE",1043:"nl",3081:"en-AU",10249:"en-BZ",4105:"en-CA",9225:"en-029",16393:"en-IN",6153:"en-IE",8201:"en-JM",17417:"en-MY",5129:"en-NZ",13321:"en-PH",18441:"en-SG",7177:"en-ZA",11273:"en-TT",2057:"en-GB",1033:"en",12297:"en-ZW",1061:"et",1080:"fo",1124:"fil",1035:"fi",2060:"fr-BE",3084:"fr-CA",1036:"fr",5132:"fr-LU",6156:"fr-MC",4108:"fr-CH",1122:"fy",1110:"gl",1079:"ka",3079:"de-AT",1031:"de",5127:"de-LI",4103:"de-LU",2055:"de-CH",1032:"el",1135:"kl",1095:"gu",1128:"ha",1037:"he",1081:"hi",1038:"hu",1039:"is",1136:"ig",1057:"id",1117:"iu",2141:"iu-Latn",2108:"ga",1076:"xh",1077:"zu",1040:"it",2064:"it-CH",1041:"ja",1099:"kn",1087:"kk",1107:"km",1158:"quc",1159:"rw",1089:"sw",1111:"kok",1042:"ko",1088:"ky",1108:"lo",1062:"lv",1063:"lt",2094:"dsb",1134:"lb",1071:"mk",2110:"ms-BN",1086:"ms",1100:"ml",1082:"mt",1153:"mi",1146:"arn",1102:"mr",1148:"moh",1104:"mn",2128:"mn-CN",1121:"ne",1044:"nb",2068:"nn",1154:"oc",1096:"or",1123:"ps",1045:"pl",1046:"pt",2070:"pt-PT",1094:"pa",1131:"qu-BO",2155:"qu-EC",3179:"qu",1048:"ro",1047:"rm",1049:"ru",9275:"smn",4155:"smj-NO",5179:"smj",3131:"se-FI",1083:"se",2107:"se-SE",8251:"sms",6203:"sma-NO",7227:"sms",1103:"sa",7194:"sr-Cyrl-BA",3098:"sr",6170:"sr-Latn-BA",2074:"sr-Latn",1132:"nso",1074:"tn",1115:"si",1051:"sk",1060:"sl",11274:"es-AR",16394:"es-BO",13322:"es-CL",9226:"es-CO",5130:"es-CR",7178:"es-DO",12298:"es-EC",17418:"es-SV",4106:"es-GT",18442:"es-HN",2058:"es-MX",19466:"es-NI",6154:"es-PA",15370:"es-PY",10250:"es-PE",20490:"es-PR",3082:"es",1034:"es",21514:"es-US",14346:"es-UY",8202:"es-VE",2077:"sv-FI",1053:"sv",1114:"syr",1064:"tg",2143:"tzm",1097:"ta",1092:"tt",1098:"te",1054:"th",1105:"bo",1055:"tr",1090:"tk",1152:"ug",1058:"uk",1070:"hsb",1056:"ur",2115:"uz-Cyrl",1091:"uz",1066:"vi",1106:"cy",1160:"wo",1157:"sah",1144:"ii",1130:"yo"},Nr="utf-16",Un={0:"macintosh",1:"x-mac-japanese",2:"x-mac-chinesetrad",3:"x-mac-korean",6:"x-mac-greek",7:"x-mac-cyrillic",9:"x-mac-devanagai",10:"x-mac-gurmukhi",11:"x-mac-gujarati",12:"x-mac-oriya",13:"x-mac-bengali",14:"x-mac-tamil",15:"x-mac-telugu",16:"x-mac-kannada",17:"x-mac-malayalam",18:"x-mac-sinhalese",19:"x-mac-burmese",20:"x-mac-khmer",21:"x-mac-thai",22:"x-mac-lao",23:"x-mac-georgian",24:"x-mac-armenian",25:"x-mac-chinesesimp",26:"x-mac-tibetan",27:"x-mac-mongolian",28:"x-mac-ethiopic",29:"x-mac-ce",30:"x-mac-vietnamese",31:"x-mac-extarabic"},As={15:"x-mac-icelandic",17:"x-mac-turkish",18:"x-mac-croatian",24:"x-mac-ce",25:"x-mac-ce",26:"x-mac-ce",27:"x-mac-ce",28:"x-mac-ce",30:"x-mac-icelandic",37:"x-mac-romanian",38:"x-mac-ce",39:"x-mac-ce",40:"x-mac-ce",143:"x-mac-inuit",146:"x-mac-gaelic"};function tn(S,L,P){switch(S){case 0:return Nr;case 1:return As[P]||Un[L];case 3:if(L===1||L===10)return Nr}}function rn(S){var L,P={};for(L in S)P[S[L]]=parseInt(L);return P}function Sn(S,L,P,z,Z,J){return new Ge.Record("NameRecord",[{name:"platformID",type:"USHORT",value:S},{name:"encodingID",type:"USHORT",value:L},{name:"languageID",type:"USHORT",value:P},{name:"nameID",type:"USHORT",value:z},{name:"length",type:"USHORT",value:Z},{name:"offset",type:"USHORT",value:J}])}function kn(S,L){if((P=function(J,te){var _e=J.length,xe=te.length-_e+1;e:for(var Ae=0;Ae<xe;Ae++)for(;Ae<xe;Ae++){for(var Le=0;Le<_e;Le++)if(te[Ae+Le]!==J[Le])continue e;return Ae}return-1}(S,L))<0)for(var P=L.length,z=0,Z=S.length;z<Z;++z)L.push(S[z]);return P}var Yr=function(S,L,P){for(var z={},Z=new He.Parser(S,L),J=(L=Z.parseUShort(),Z.parseUShort()),te=Z.offset+Z.parseUShort(),_e=0;_e<J;_e++){var xe=Z.parseUShort(),Ae=Z.parseUShort(),Le=Z.parseUShort(),Fe=Z.parseUShort(),Ue=(Fe=Rr[Fe]||Fe,Z.parseUShort()),Re=Z.parseUShort(),ct=function(Ye,Xe,$e){switch(Ye){case 0:if(Xe===65535)return"und";if($e)return $e[Xe];break;case 1:return Mt[Xe];case 3:return St[Xe]}}(xe,Le,P);(xe=tn(xe,Ae,Le))!==void 0&&ct!==void 0&&(Ae=void 0,(Ae=xe===Nr?oe.UTF16(S,te+Re,Ue):oe.MACSTRING(S,te+Re,Ue,xe))&&((Le=(Le=z[Fe])===void 0?z[Fe]={}:Le)[ct]=Ae))}return L===1&&Z.parseUShort(),z},Us=function(S,L){var P,z=[],Z={},J=rn(Rr);for(P in S){var te=J[P];if(te===void 0&&(te=P),Ue=parseInt(te),isNaN(Ue))throw new Error('Name table entry "'+P+'" does not exist, see nameTableNames for complete list.');Z[Ue]=S[P],z.push(Ue)}for(var _e=rn(Mt),xe=rn(St),Ae=[],Le=[],Fe=0;Fe<z.length;Fe++){var Ue,Re,ct=Z[Ue=z[Fe]];for(Re in ct){var Ye=ct[Re],Xe=1,$e=_e[Re],Je=qt[$e],jt=tn(Xe,Je,$e),wt=((jt=le.MACSTRING(Ye,jt))===void 0&&(Xe=0,($e=L.indexOf(Re))<0&&($e=L.length,L.push(Re)),Je=4,jt=le.UTF16(Ye)),kn(jt,Le));(Xe=(Ae.push(Sn(Xe,Je,$e,Ue,jt.length,wt)),xe[Re]))!==void 0&&($e=kn(Je=le.UTF16(Ye),Le),Ae.push(Sn(3,1,Xe,Ue,Je.length,$e)))}}Ae.sort(function(ir,Tr){return ir.platformID-Tr.platformID||ir.encodingID-Tr.encodingID||ir.languageID-Tr.languageID||ir.nameID-Tr.nameID});for(var Et=new Ge.Table("name",[{name:"format",type:"USHORT",value:0},{name:"count",type:"USHORT",value:Ae.length},{name:"stringOffset",type:"USHORT",value:6+12*Ae.length}]),er=0;er<Ae.length;er++)Et.fields.push({name:"record_"+er,type:"RECORD",value:Ae[er]});return Et.fields.push({name:"strings",type:"LITERAL",value:Le}),Et},Ff=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}],mb=function(S,L){var P={},z=new He.Parser(S,L);P.version=z.parseUShort(),P.xAvgCharWidth=z.parseShort(),P.usWeightClass=z.parseUShort(),P.usWidthClass=z.parseUShort(),P.fsType=z.parseUShort(),P.ySubscriptXSize=z.parseShort(),P.ySubscriptYSize=z.parseShort(),P.ySubscriptXOffset=z.parseShort(),P.ySubscriptYOffset=z.parseShort(),P.ySuperscriptXSize=z.parseShort(),P.ySuperscriptYSize=z.parseShort(),P.ySuperscriptXOffset=z.parseShort(),P.ySuperscriptYOffset=z.parseShort(),P.yStrikeoutSize=z.parseShort(),P.yStrikeoutPosition=z.parseShort(),P.sFamilyClass=z.parseShort(),P.panose=[];for(var Z=0;Z<10;Z++)P.panose[Z]=z.parseByte();return P.ulUnicodeRange1=z.parseULong(),P.ulUnicodeRange2=z.parseULong(),P.ulUnicodeRange3=z.parseULong(),P.ulUnicodeRange4=z.parseULong(),P.achVendID=String.fromCharCode(z.parseByte(),z.parseByte(),z.parseByte(),z.parseByte()),P.fsSelection=z.parseUShort(),P.usFirstCharIndex=z.parseUShort(),P.usLastCharIndex=z.parseUShort(),P.sTypoAscender=z.parseShort(),P.sTypoDescender=z.parseShort(),P.sTypoLineGap=z.parseShort(),P.usWinAscent=z.parseUShort(),P.usWinDescent=z.parseUShort(),1<=P.version&&(P.ulCodePageRange1=z.parseULong(),P.ulCodePageRange2=z.parseULong()),2<=P.version&&(P.sxHeight=z.parseShort(),P.sCapHeight=z.parseShort(),P.usDefaultChar=z.parseUShort(),P.usBreakChar=z.parseUShort(),P.usMaxContent=z.parseUShort()),P},Ed=function(S){return new Ge.Table("OS/2",[{name:"version",type:"USHORT",value:3},{name:"xAvgCharWidth",type:"SHORT",value:0},{name:"usWeightClass",type:"USHORT",value:0},{name:"usWidthClass",type:"USHORT",value:0},{name:"fsType",type:"USHORT",value:0},{name:"ySubscriptXSize",type:"SHORT",value:650},{name:"ySubscriptYSize",type:"SHORT",value:699},{name:"ySubscriptXOffset",type:"SHORT",value:0},{name:"ySubscriptYOffset",type:"SHORT",value:140},{name:"ySuperscriptXSize",type:"SHORT",value:650},{name:"ySuperscriptYSize",type:"SHORT",value:699},{name:"ySuperscriptXOffset",type:"SHORT",value:0},{name:"ySuperscriptYOffset",type:"SHORT",value:479},{name:"yStrikeoutSize",type:"SHORT",value:49},{name:"yStrikeoutPosition",type:"SHORT",value:258},{name:"sFamilyClass",type:"SHORT",value:0},{name:"bFamilyType",type:"BYTE",value:0},{name:"bSerifStyle",type:"BYTE",value:0},{name:"bWeight",type:"BYTE",value:0},{name:"bProportion",type:"BYTE",value:0},{name:"bContrast",type:"BYTE",value:0},{name:"bStrokeVariation",type:"BYTE",value:0},{name:"bArmStyle",type:"BYTE",value:0},{name:"bLetterform",type:"BYTE",value:0},{name:"bMidline",type:"BYTE",value:0},{name:"bXHeight",type:"BYTE",value:0},{name:"ulUnicodeRange1",type:"ULONG",value:0},{name:"ulUnicodeRange2",type:"ULONG",value:0},{name:"ulUnicodeRange3",type:"ULONG",value:0},{name:"ulUnicodeRange4",type:"ULONG",value:0},{name:"achVendID",type:"CHARARRAY",value:"XXXX"},{name:"fsSelection",type:"USHORT",value:0},{name:"usFirstCharIndex",type:"USHORT",value:0},{name:"usLastCharIndex",type:"USHORT",value:0},{name:"sTypoAscender",type:"SHORT",value:0},{name:"sTypoDescender",type:"SHORT",value:0},{name:"sTypoLineGap",type:"SHORT",value:0},{name:"usWinAscent",type:"USHORT",value:0},{name:"usWinDescent",type:"USHORT",value:0},{name:"ulCodePageRange1",type:"ULONG",value:0},{name:"ulCodePageRange2",type:"ULONG",value:0},{name:"sxHeight",type:"SHORT",value:0},{name:"sCapHeight",type:"SHORT",value:0},{name:"usDefaultChar",type:"USHORT",value:0},{name:"usBreakChar",type:"USHORT",value:0},{name:"usMaxContext",type:"USHORT",value:0}],S)},iy=function(S){for(var L=0;L<Ff.length;L+=1){var P=Ff[L];if(S>=P.begin&&S<P.end)return L}return-1},Ad=function(S,L){var P={},z=new He.Parser(S,L);switch(P.version=z.parseVersion(),P.italicAngle=z.parseFixed(),P.underlinePosition=z.parseShort(),P.underlineThickness=z.parseShort(),P.isFixedPitch=z.parseULong(),P.minMemType42=z.parseULong(),P.maxMemType42=z.parseULong(),P.minMemType1=z.parseULong(),P.maxMemType1=z.parseULong(),P.version){case 1:P.names=fe.slice();break;case 2:P.numberOfGlyphs=z.parseUShort(),P.glyphNameIndex=new Array(P.numberOfGlyphs);for(var Z=0;Z<P.numberOfGlyphs;Z++)P.glyphNameIndex[Z]=z.parseUShort();P.names=[];for(var J,te=0;te<P.numberOfGlyphs;te++)P.glyphNameIndex[te]>=fe.length&&(J=z.parseChar(),P.names.push(z.parseString(J)));break;case 2.5:P.numberOfGlyphs=z.parseUShort(),P.offset=new Array(P.numberOfGlyphs);for(var _e=0;_e<P.numberOfGlyphs;_e++)P.offset[_e]=z.parseChar()}return P},gb=function(){return new Ge.Table("post",[{name:"version",type:"FIXED",value:196608},{name:"italicAngle",type:"FIXED",value:0},{name:"underlinePosition",type:"FWORD",value:0},{name:"underlineThickness",type:"FWORD",value:0},{name:"isFixedPitch",type:"ULONG",value:0},{name:"minMemType42",type:"ULONG",value:0},{name:"maxMemType42",type:"ULONG",value:0},{name:"minMemType1",type:"ULONG",value:0},{name:"maxMemType1",type:"ULONG",value:0}])},nn=new Array(9),fa=(nn[1]=function(){var S=this.offset+this.relativeOffset,L=this.parseUShort();return L===1?{substFormat:1,coverage:this.parsePointer(je.coverage),deltaGlyphId:this.parseUShort()}:L===2?{substFormat:2,coverage:this.parsePointer(je.coverage),substitute:this.parseOffset16List()}:void re.assert(!1,"0x"+S.toString(16)+": lookup type 1 format must be 1 or 2.")},nn[2]=function(){var S=this.parseUShort();return re.argument(S===1,"GSUB Multiple Substitution Subtable identifier-format must be 1"),{substFormat:S,coverage:this.parsePointer(je.coverage),sequences:this.parseListOfLists()}},nn[3]=function(){var S=this.parseUShort();return re.argument(S===1,"GSUB Alternate Substitution Subtable identifier-format must be 1"),{substFormat:S,coverage:this.parsePointer(je.coverage),alternateSets:this.parseListOfLists()}},nn[4]=function(){var S=this.parseUShort();return re.argument(S===1,"GSUB ligature table identifier-format must be 1"),{substFormat:S,coverage:this.parsePointer(je.coverage),ligatureSets:this.parseListOfLists(function(){return{ligGlyph:this.parseUShort(),components:this.parseUShortList(this.parseUShort()-1)}})}},{sequenceIndex:je.uShort,lookupListIndex:je.uShort});nn[5]=function(){var S,L,P=this.offset+this.relativeOffset,z=this.parseUShort();return z===1?{substFormat:z,coverage:this.parsePointer(je.coverage),ruleSets:this.parseListOfLists(function(){var Z=this.parseUShort(),J=this.parseUShort();return{input:this.parseUShortList(Z-1),lookupRecords:this.parseRecordList(J,fa)}})}:z===2?{substFormat:z,coverage:this.parsePointer(je.coverage),classDef:this.parsePointer(je.classDef),classSets:this.parseListOfLists(function(){var Z=this.parseUShort(),J=this.parseUShort();return{classes:this.parseUShortList(Z-1),lookupRecords:this.parseRecordList(J,fa)}})}:z===3?(S=this.parseUShort(),L=this.parseUShort(),{substFormat:z,coverages:this.parseList(S,je.pointer(je.coverage)),lookupRecords:this.parseRecordList(L,fa)}):void re.assert(!1,"0x"+P.toString(16)+": lookup type 5 format must be 1, 2 or 3.")},nn[6]=function(){var S=this.offset+this.relativeOffset,L=this.parseUShort();return L===1?{substFormat:1,coverage:this.parsePointer(je.coverage),chainRuleSets:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(fa)}})}:L===2?{substFormat:2,coverage:this.parsePointer(je.coverage),backtrackClassDef:this.parsePointer(je.classDef),inputClassDef:this.parsePointer(je.classDef),lookaheadClassDef:this.parsePointer(je.classDef),chainClassSet:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(fa)}})}:L===3?{substFormat:3,backtrackCoverage:this.parseList(je.pointer(je.coverage)),inputCoverage:this.parseList(je.pointer(je.coverage)),lookaheadCoverage:this.parseList(je.pointer(je.coverage)),lookupRecords:this.parseRecordList(fa)}:void re.assert(!1,"0x"+S.toString(16)+": lookup type 6 format must be 1, 2 or 3.")},nn[7]=function(){var S=this.parseUShort(),L=(S=(re.argument(S===1,"GSUB Extension Substitution subtable identifier-format must be 1"),this.parseUShort()),new je(this.data,this.offset+this.parseULong()));return{substFormat:1,lookupType:S,extension:nn[S].call(L)}},nn[8]=function(){var S=this.parseUShort();return re.argument(S===1,"GSUB Reverse Chaining Contextual Single Substitution Subtable identifier-format must be 1"),{substFormat:S,coverage:this.parsePointer(je.coverage),backtrackCoverage:this.parseList(je.pointer(je.coverage)),lookaheadCoverage:this.parseList(je.pointer(je.coverage)),substitutes:this.parseUShortList()}};var Ou=new Array(9);Ou[1]=function(S){return S.substFormat===1?new Ge.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Ge.Coverage(S.coverage)},{name:"deltaGlyphID",type:"USHORT",value:S.deltaGlyphId}]):new Ge.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:2},{name:"coverage",type:"TABLE",value:new Ge.Coverage(S.coverage)}].concat(Ge.ushortList("substitute",S.substitute)))},Ou[3]=function(S){return re.assert(S.substFormat===1,"Lookup type 3 substFormat must be 1."),new Ge.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Ge.Coverage(S.coverage)}].concat(Ge.tableList("altSet",S.alternateSets,function(L){return new Ge.Table("alternateSetTable",Ge.ushortList("alternate",L))})))},Ou[4]=function(S){return re.assert(S.substFormat===1,"Lookup type 4 substFormat must be 1."),new Ge.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Ge.Coverage(S.coverage)}].concat(Ge.tableList("ligSet",S.ligatureSets,function(L){return new Ge.Table("ligatureSetTable",Ge.tableList("ligature",L,function(P){return new Ge.Table("ligatureTable",[{name:"ligGlyph",type:"USHORT",value:P.ligGlyph}].concat(Ge.ushortList("component",P.components,P.components.length+1)))}))})))};var Uf=function(S,L){return L=(S=new je(S,L=L||0)).parseVersion(1),re.argument(L===1||L===1.1,"Unsupported GSUB table version."),L===1?{version:L,scripts:S.parseScriptList(),features:S.parseFeatureList(),lookups:S.parseLookupList(nn)}:{version:L,scripts:S.parseScriptList(),features:S.parseFeatureList(),lookups:S.parseLookupList(nn),variations:S.parseFeatureVariationsList()}},dl=function(S){return new Ge.Table("GSUB",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new Ge.ScriptList(S.scripts)},{name:"features",type:"TABLE",value:new Ge.FeatureList(S.features)},{name:"lookups",type:"TABLE",value:new Ge.LookupList(S.lookups,Ou)}])},ay=function(S,L){for(var P=new He.Parser(S,L),z=P.parseULong(),Z=(re.argument(z===1,"Unsupported META table version."),P.parseULong(),P.parseULong(),P.parseULong()),J={},te=0;te<Z;te++){var _e=P.parseTag(),xe=P.parseULong(),Ae=P.parseULong();xe=oe.UTF8(S,L+xe,Ae),J[_e]=xe}return J},oy=function(S){var L,P=Object.keys(S).length,z="",Z=16+12*P,J=new Ge.Table("meta",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"offset",type:"ULONG",value:Z},{name:"numTags",type:"ULONG",value:P}]);for(L in S){var te=z.length;z+=S[L],J.fields.push({name:"tag "+L,type:"TAG",value:L}),J.fields.push({name:"offset "+L,type:"ULONG",value:Z+te}),J.fields.push({name:"length "+L,type:"ULONG",value:S[L].length})}return J.fields.push({name:"stringPool",type:"CHARARRAY",value:z}),J};function Qa(S){return Math.log(S)/Math.log(2)|0}function ly(S){for(;S.length%4!=0;)S.push(0);for(var L=0,P=0;P<S.length;P+=4)L+=(S[P]<<24)+(S[P+1]<<16)+(S[P+2]<<8)+S[P+3];return L%Math.pow(2,32)}function Bf(S,L,P,z){return new Ge.Record("Table Record",[{name:"tag",type:"TAG",value:S!==void 0?S:""},{name:"checkSum",type:"ULONG",value:L!==void 0?L:0},{name:"offset",type:"ULONG",value:P!==void 0?P:0},{name:"length",type:"ULONG",value:z!==void 0?z:0}])}function uy(S){for(var L=new Ge.Table("sfnt",[{name:"version",type:"TAG",value:"OTTO"},{name:"numTables",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]),P=(L.tables=S,L.numTables=S.length,Math.pow(2,Qa(L.numTables))),z=(L.searchRange=16*P,L.entrySelector=Qa(P),L.rangeShift=16*L.numTables-L.searchRange,[]),Z=[],J=L.sizeOf()+Bf().sizeOf()*L.numTables;J%4!=0;)J+=1,Z.push({name:"padding",type:"BYTE",value:0});for(var te=0;te<S.length;te+=1){var _e=S[te],xe=(re.argument(_e.tableName.length===4,"Table name"+_e.tableName+" is invalid."),_e.sizeOf()),Ae=Bf(_e.tableName,ly(_e.encode()),J,xe);for(z.push({name:Ae.tag+" Table Record",type:"RECORD",value:Ae}),Z.push({name:_e.tableName+" table",type:"RECORD",value:_e}),J+=xe,re.argument(!isNaN(J),"Something went wrong calculating the offset.");J%4!=0;)J+=1,Z.push({name:"padding",type:"BYTE",value:0})}return z.sort(function(Le,Fe){return Le.value.tag>Fe.value.tag?1:-1}),L.fields=L.fields.concat(z),L.fields=L.fields.concat(Z),L}function Td(S,L,P){for(var z=0;z<L.length;z+=1){var Z=S.charToGlyphIndex(L[z]);if(0<Z)return S.glyphs.get(Z).getMetrics()}return P}var yb=function(S){for(var L,P=[],z=[],Z=[],J=[],te=[],_e=[],xe=[],Ae=0,Le=0,Fe=0,Ue=0,Re=0,ct=0;ct<S.glyphs.length;ct+=1){var Ye=S.glyphs.get(ct),Xe=0|Ye.unicode;if(isNaN(Ye.advanceWidth))throw new Error("Glyph "+Ye.name+" ("+ct+"): advanceWidth is not a number.");if((Xe<L||L===void 0)&&0<Xe&&(L=Xe),Ae<Xe&&(Ae=Xe),(Xe=iy(Xe))<32)Le|=1<<Xe;else if(Xe<64)Fe|=1<<Xe-32;else if(Xe<96)Ue|=1<<Xe-64;else{if(!(Xe<123))throw new Error("Unicode ranges bits > 123 are reserved for internal usage");Re|=1<<Xe-96}Ye.name!==".notdef"&&(Xe=Ye.getMetrics(),P.push(Xe.xMin),z.push(Xe.yMin),Z.push(Xe.xMax),J.push(Xe.yMax),_e.push(Xe.leftSideBearing),xe.push(Xe.rightSideBearing),te.push(Ye.advanceWidth))}var $e,Je={xMin:Math.min.apply(null,P),yMin:Math.min.apply(null,z),xMax:Math.max.apply(null,Z),yMax:Math.max.apply(null,J),advanceWidthMax:Math.max.apply(null,te),advanceWidthAvg:function(yn){for(var Iu=0,Fu=0;Fu<yn.length;Fu+=1)Iu+=yn[Fu];return Iu/yn.length}(te),minLeftSideBearing:Math.min.apply(null,_e),maxLeftSideBearing:Math.max.apply(null,_e),minRightSideBearing:Math.min.apply(null,xe)},jt=(Je.ascender=S.ascender,Je.descender=S.descender,jd({flags:3,unitsPerEm:S.unitsPerEm,xMin:Je.xMin,yMin:Je.yMin,xMax:Je.xMax,yMax:Je.yMax,lowestRecPPEM:3,createdTimestamp:S.createdTimestamp})),wt=ha({ascender:Je.ascender,descender:Je.descender,advanceWidthMax:Je.advanceWidthMax,minLeftSideBearing:Je.minLeftSideBearing,minRightSideBearing:Je.minRightSideBearing,xMaxExtent:Je.maxLeftSideBearing+(Je.xMax-Je.xMin),numberOfHMetrics:S.glyphs.length}),Et=Qe(S.glyphs.length),er=Ed({xAvgCharWidth:Math.round(Je.advanceWidthAvg),usWeightClass:S.tables.os2.usWeightClass,usWidthClass:S.tables.os2.usWidthClass,usFirstCharIndex:L,usLastCharIndex:Ae,ulUnicodeRange1:Le,ulUnicodeRange2:Fe,ulUnicodeRange3:Ue,ulUnicodeRange4:Re,fsSelection:S.tables.os2.fsSelection,sTypoAscender:Je.ascender,sTypoDescender:Je.descender,sTypoLineGap:0,usWinAscent:Je.yMax,usWinDescent:Math.abs(Je.yMin),ulCodePageRange1:1,sxHeight:Td(S,"xyvw",{yMax:Math.round(Je.ascender/2)}).yMax,sCapHeight:Td(S,"HIKLEFJMNTZBDPRAGOQSUVWXY",Je).yMax,usDefaultChar:S.hasChar(" ")?32:0,usBreakChar:S.hasChar(" ")?32:0}),ir=ut(S.glyphs),Tr=vt(S.glyphs),Mr=(Ir=S.getEnglishName("fontFamily"))+" "+(_r=S.getEnglishName("fontSubfamily")),Dr=(Dr=S.getEnglishName("postScriptName"))||Ir.replace(/\s/g,"")+"-"+_r,pr={};for($e in S.names)pr[$e]=S.names[$e];pr.uniqueID||(pr.uniqueID={en:S.getEnglishName("manufacturer")+":"+Mr}),pr.postScriptName||(pr.postScriptName={en:Dr}),pr.preferredFamily||(pr.preferredFamily=S.names.fontFamily),pr.preferredSubfamily||(pr.preferredSubfamily=S.names.fontSubfamily);var Wt=Us(pr,cn=[]),cn=0<cn.length?Tt(cn):void 0,Or=gb(),Ir=(Mr=cl(S.glyphs,{version:S.getEnglishName("version"),fullName:Mr,familyName:Ir,weightName:_r,postScriptName:Dr,unitsPerEm:S.unitsPerEm,fontBBox:[0,Je.yMin,Je.ascender,Je.advanceWidthMax]}),S.metas&&0<Object.keys(S.metas).length?oy(S.metas):void 0),_r=[jt,wt,Et,er,Wt,Tr,Or,Mr,ir];cn&&_r.push(cn),S.tables.gsub&&_r.push(dl(S.tables.gsub)),Ir&&_r.push(Ir);for(var gn=ly((Dr=uy(_r)).encode()),Fr=Dr.fields,Bn=!1,Ur=0;Ur<Fr.length;Ur+=1)if(Fr[Ur].name==="head table"){Fr[Ur].value.checkSumAdjustment=2981146554-gn,Bn=!0;break}if(Bn)return Dr;throw new Error("Could not find head table with checkSum to adjust.")};function Gf(S,L){for(var P=0,z=S.length-1;P<=z;){var Z=P+z>>>1,J=S[Z].tag;if(J===L)return Z;J<L?P=1+Z:z=Z-1}return-P-1}function Lu(S,L){for(var P=0,z=S.length-1;P<=z;){var Z=P+z>>>1,J=S[Z];if(J===L)return Z;J<L?P=1+Z:z=Z-1}return-P-1}function Md(S,L){for(var P=0,z=S.length-1;P<=z;){var Z,J=P+z>>>1,te=(Z=S[J]).start;if(te===L)return Z;te<L?P=1+J:z=J-1}if(0<P)return L>(Z=S[P-1]).end?0:Z}function hl(S,L){this.font=S,this.tableName=L}function Hi(S){hl.call(this,S,"gpos")}function ss(S){hl.call(this,S,"gsub")}function zf(S,L,P){for(var z=S.subtables,Z=0;Z<z.length;Z++){var J=z[Z];if(J.substFormat===L)return J}if(P)return z.push(P),P}function Cd(S){for(var L=new ArrayBuffer(S.length),P=new Uint8Array(L),z=0;z<S.length;++z)P[z]=S[z];return L}function Ja(S,L){if(!S)throw L}function fl(S,L,P,z,Z){var J=0<(L&z)?(J=S.parseByte(),P+(J=(L&Z)==0?-J:J)):0<(L&Z)?P:P+S.parseShort();return J}function Hf(S,L,P){var z,Z=new He.Parser(L,P);if(S.numberOfContours=Z.parseShort(),S._xMin=Z.parseShort(),S._yMin=Z.parseShort(),S._xMax=Z.parseShort(),S._yMax=Z.parseShort(),0<S.numberOfContours){for(var J=S.endPointIndices=[],te=0;te<S.numberOfContours;te+=1)J.push(Z.parseUShort());S.instructionLength=Z.parseUShort(),S.instructions=[];for(var _e=0;_e<S.instructionLength;_e+=1)S.instructions.push(Z.parseByte());for(var xe=J[J.length-1]+1,Ae=[],Le=0;Le<xe;Le+=1)if(z=Z.parseByte(),Ae.push(z),0<(8&z))for(var Fe=Z.parseByte(),Ue=0;Ue<Fe;Ue+=1)Ae.push(z),Le+=1;if(re.argument(Ae.length===xe,"Bad flags."),0<J.length){var Re,ct=[];if(0<xe){for(var Ye=0;Ye<xe;Ye+=1)z=Ae[Ye],(Re={}).onCurve=!!(1&z),Re.lastPointOfContour=0<=J.indexOf(Ye),ct.push(Re);for(var Xe=0,$e=0;$e<xe;$e+=1)z=Ae[$e],(Re=ct[$e]).x=fl(Z,z,Xe,2,16),Xe=Re.x;for(var Je=0,jt=0;jt<xe;jt+=1)z=Ae[jt],(Re=ct[jt]).y=fl(Z,z,Je,4,32),Je=Re.y}S.points=ct}else S.points=[]}else if(S.numberOfContours===0)S.points=[];else{S.isComposite=!0,S.points=[],S.components=[];for(var wt=!0;wt;){Ae=Z.parseUShort();var Et={glyphIndex:Z.parseUShort(),xScale:1,scale01:0,scale10:0,yScale:1,dx:0,dy:0};0<(1&Ae)?0<(2&Ae)?(Et.dx=Z.parseShort(),Et.dy=Z.parseShort()):Et.matchedPoints=[Z.parseUShort(),Z.parseUShort()]:0<(2&Ae)?(Et.dx=Z.parseChar(),Et.dy=Z.parseChar()):Et.matchedPoints=[Z.parseByte(),Z.parseByte()],0<(8&Ae)?Et.xScale=Et.yScale=Z.parseF2Dot14():0<(64&Ae)?(Et.xScale=Z.parseF2Dot14(),Et.yScale=Z.parseF2Dot14()):0<(128&Ae)&&(Et.xScale=Z.parseF2Dot14(),Et.scale01=Z.parseF2Dot14(),Et.scale10=Z.parseF2Dot14(),Et.yScale=Z.parseF2Dot14()),S.components.push(Et),wt=!!(32&Ae)}if(256&Ae){S.instructionLength=Z.parseUShort(),S.instructions=[];for(var er=0;er<S.instructionLength;er+=1)S.instructions.push(Z.parseByte())}}}function eo(S,L){for(var P=[],z=0;z<S.length;z+=1){var Z=S[z];Z={x:L.xScale*Z.x+L.scale01*Z.y+L.dx,y:L.scale10*Z.x+L.yScale*Z.y+L.dy,onCurve:Z.onCurve,lastPointOfContour:Z.lastPointOfContour},P.push(Z)}return P}function Vi(S){var L=new W;if(S)for(var P=function(Fe){for(var Ue=[],Re=[],ct=0;ct<Fe.length;ct+=1){var Ye=Fe[ct];Re.push(Ye),Ye.lastPointOfContour&&(Ue.push(Re),Re=[])}return re.argument(Re.length===0,"There are still points left in the current contour."),Ue}(S),z=0;z<P.length;++z){var Z,J=P[z],te=J[J.length-1],_e=J[0];te.onCurve?L.moveTo(te.x,te.y):_e.onCurve?L.moveTo(_e.x,_e.y):(Z={x:.5*(te.x+_e.x),y:.5*(te.y+_e.y)},L.moveTo(Z.x,Z.y));for(var xe=0;xe<J.length;++xe){var Ae,Le=te;te=_e,_e=J[(xe+1)%J.length],te.onCurve?L.lineTo(te.x,te.y):(Ae=_e,Le.onCurve||(te.x,Le.x,te.y,Le.y),_e.onCurve||(Ae={x:.5*(te.x+_e.x),y:.5*(te.y+_e.y)}),L.quadraticCurveTo(te.x,te.y,Ae.x,Ae.y))}L.closePath()}return L}function Vf(S,L){if(L.isComposite)for(var P=0;P<L.components.length;P+=1){var z=L.components[P],Z=S.get(z.glyphIndex);if(Z.getPath(),Z.points){var J=void 0;if(z.matchedPoints===void 0)J=eo(Z.points,z);else{if(z.matchedPoints[0]>L.points.length-1||z.matchedPoints[1]>Z.points.length-1)throw Error("Matched points out of range in "+L.name);var te=L.points[z.matchedPoints[0]],_e=eo([_e=Z.points[z.matchedPoints[1]]],z={xScale:z.xScale,scale01:z.scale01,scale10:z.scale10,yScale:z.yScale,dx:0,dy:0})[0];z.dx=te.x-_e.x,z.dy=te.y-_e.y,J=eo(Z.points,z)}L.points=L.points.concat(J)}}return Vi(L.points)}(Hi.prototype=hl.prototype={searchTag:Gf,binSearch:Lu,getTable:function(S){var L=this.font.tables[this.tableName];return!L&&S?this.font.tables[this.tableName]=this.createDefaultTable():L},getScriptNames:function(){var S=this.getTable();return S?S.scripts.map(function(L){return L.tag}):[]},getDefaultScriptName:function(){var S=this.getTable();if(S){for(var L=!1,P=0;P<S.scripts.length;P++){var z=S.scripts[P].tag;if(z==="DFLT")return z;z==="latn"&&(L=!0)}return L?"latn":void 0}},getScriptTable:function(S,L){var P,z=this.getTable(L);if(z)return P=z.scripts,0<=(z=Gf(z.scripts,S=S||"DFLT"))?P[z].script:L?(P.splice(-1-z,0,L={tag:S,script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}),L.script):void 0},getLangSysTable:function(S,L,P){var z;if(S=this.getScriptTable(S,P))return L&&L!=="dflt"&&L!=="DFLT"?0<=(z=Gf(S.langSysRecords,L))?S.langSysRecords[z].langSys:P?(S.langSysRecords.splice(-1-z,0,P={tag:L,langSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]}}),P.langSys):void 0:S.defaultLangSys},getFeatureTable:function(S,L,P,z){if(S=this.getLangSysTable(S,L,z)){for(var Z,J=S.featureIndexes,te=this.font.tables[this.tableName].features,_e=0;_e<J.length;_e++)if((Z=te[J[_e]]).tag===P)return Z.feature;if(z)return L=te.length,re.assert(L===0||P>=te[L-1].tag,"Features must be added in alphabetical order."),te.push(Z={tag:P,feature:{params:0,lookupListIndexes:[]}}),J.push(L),Z.feature}},getLookupTables:function(S,L,P,z,Z){var J=[];if(S=this.getFeatureTable(S,L,P,Z)){for(var te,_e=S.lookupListIndexes,xe=this.font.tables[this.tableName].lookups,Ae=0;Ae<_e.length;Ae++)(te=xe[_e[Ae]]).lookupType===z&&J.push(te);if(J.length===0&&Z)return L=xe.length,xe.push(te={lookupType:z,lookupFlag:0,subtables:[],markFilteringSet:void 0}),_e.push(L),[te]}return J},getGlyphClass:function(S,L){switch(S.format){case 1:return S.startGlyph<=L&&L<S.startGlyph+S.classes.length?S.classes[L-S.startGlyph]:0;case 2:var P=Md(S.ranges,L);return P?P.classId:0}},getCoverageIndex:function(S,L){switch(S.format){case 1:var P=Lu(S.glyphs,L);return 0<=P?P:-1;case 2:return(P=Md(S.ranges,L))?P.index+L-P.start:-1}},expandCoverage:function(S){if(S.format===1)return S.glyphs;for(var L=[],P=S.ranges,z=0;z<P.length;z++)for(var Z=P[z],J=Z.start,te=Z.end,_e=J;_e<=te;_e++)L.push(_e);return L}}).init=function(){var S=this.getDefaultScriptName();this.defaultKerningTables=this.getKerningTables(S)},Hi.prototype.getKerningValue=function(S,L,P){for(var z=0;z<S.length;z++)for(var Z=S[z].subtables,J=0;J<Z.length;J++){var te=Z[J],_e=this.getCoverageIndex(te.coverage,L);if(!(_e<0))switch(te.posFormat){case 1:for(var xe=te.pairSets[_e],Ae=0;Ae<xe.length;Ae++){var Le=xe[Ae];if(Le.secondGlyph===P)return Le.value1&&Le.value1.xAdvance||0}break;case 2:var Fe=this.getGlyphClass(te.classDef1,L),Ue=this.getGlyphClass(te.classDef2,P);return(Fe=te.classRecords[Fe][Ue]).value1&&Fe.value1.xAdvance||0}}return 0},Hi.prototype.getKerningTables=function(S,L){if(this.font.tables.gpos)return this.getLookupTables(S,L,"kern",2)},(ss.prototype=hl.prototype).createDefaultTable=function(){return{version:1,scripts:[{tag:"DFLT",script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}],features:[],lookups:[]}},ss.prototype.getSingle=function(S,L,P){for(var z=[],Z=this.getLookupTables(L,P,S,1),J=0;J<Z.length;J++)for(var te=Z[J].subtables,_e=0;_e<te.length;_e++){var xe=te[_e],Ae=this.expandCoverage(xe.coverage),Le=void 0;if(xe.substFormat===1){var Fe=xe.deltaGlyphId;for(Le=0;Le<Ae.length;Le++){var Ue=Ae[Le];z.push({sub:Ue,by:Ue+Fe})}}else{var Re=xe.substitute;for(Le=0;Le<Ae.length;Le++)z.push({sub:Ae[Le],by:Re[Le]})}}return z},ss.prototype.getAlternates=function(S,L,P){for(var z=[],Z=this.getLookupTables(L,P,S,3),J=0;J<Z.length;J++)for(var te=Z[J].subtables,_e=0;_e<te.length;_e++)for(var xe=te[_e],Ae=this.expandCoverage(xe.coverage),Le=xe.alternateSets,Fe=0;Fe<Ae.length;Fe++)z.push({sub:Ae[Fe],by:Le[Fe]});return z},ss.prototype.getLigatures=function(S,L,P){for(var z=[],Z=this.getLookupTables(L,P,S,4),J=0;J<Z.length;J++)for(var te=Z[J].subtables,_e=0;_e<te.length;_e++)for(var xe=te[_e],Ae=this.expandCoverage(xe.coverage),Le=xe.ligatureSets,Fe=0;Fe<Ae.length;Fe++)for(var Ue=Ae[Fe],Re=Le[Fe],ct=0;ct<Re.length;ct++){var Ye=Re[ct];z.push({sub:[Ue].concat(Ye.components),by:Ye.ligGlyph})}return z},ss.prototype.addSingle=function(S,L,P,z){P=zf(this.getLookupTables(P,z,S,1,!0)[0],2,{substFormat:2,coverage:{format:1,glyphs:[]},substitute:[]}),re.assert(P.coverage.format===1,"Ligature: unable to modify coverage table format "+P.coverage.format),z=L.sub,(S=this.binSearch(P.coverage.glyphs,z))<0&&(P.coverage.glyphs.splice(S=-1-S,0,z),P.substitute.splice(S,0,0)),P.substitute[S]=L.by},ss.prototype.addAlternate=function(S,L,P,z){P=zf(this.getLookupTables(P,z,S,3,!0)[0],1,{substFormat:1,coverage:{format:1,glyphs:[]},alternateSets:[]}),re.assert(P.coverage.format===1,"Ligature: unable to modify coverage table format "+P.coverage.format),z=L.sub,(S=this.binSearch(P.coverage.glyphs,z))<0&&(P.coverage.glyphs.splice(S=-1-S,0,z),P.alternateSets.splice(S,0,0)),P.alternateSets[S]=L.by},ss.prototype.addLigature=function(S,L,P,z){(z=(P=this.getLookupTables(P,z,S,4,!0)[0]).subtables[0])||(P.subtables[0]=z={substFormat:1,coverage:{format:1,glyphs:[]},ligatureSets:[]}),re.assert(z.coverage.format===1,"Ligature: unable to modify coverage table format "+z.coverage.format),S=L.sub[0];var Z=L.sub.slice(1);if(P={ligGlyph:L.by,components:Z},0<=(L=this.binSearch(z.coverage.glyphs,S))){for(var J=z.ligatureSets[L],te=0;te<J.length;te++)if(function(_e,xe){var Ae=_e.length;if(Ae===xe.length){for(var Le=0;Le<Ae;Le++)if(_e[Le]!==xe[Le])return;return 1}}(J[te].components,Z))return;J.push(P)}else z.coverage.glyphs.splice(L=-1-L,0,S),z.ligatureSets.splice(L,0,[P])},ss.prototype.getFeature=function(S,L,P){if(/ss\d\d/.test(S))return this.getSingle(S,L,P);switch(S){case"aalt":case"salt":return this.getSingle(S,L,P).concat(this.getAlternates(S,L,P));case"dlig":case"liga":case"rlig":return this.getLigatures(S,L,P)}},ss.prototype.add=function(S,L,P,z){if(/ss\d\d/.test(S))return this.addSingle(S,L,P,z);switch(S){case"aalt":case"salt":return typeof L.by=="number"?this.addSingle(S,L,P,z):this.addAlternate(S,L,P,z);case"dlig":case"liga":case"rlig":return this.addLigature(S,L,P,z)}};var Du={getPath:Vi,parse:function(S,L,P,z){for(var Z=new ht.GlyphSet(z),J=0;J<P.length-1;J+=1){var te=P[J];te!==P[J+1]?Z.push(J,ht.ttfGlyphLoader(z,J,Hf,S,L+te,Vf)):Z.push(J,ht.glyphLoader(z,J))}return Z}};function qf(S){this.font=S,this.getCommands=function(L){return Du.getPath(L).commands},this._fpgmState=this._prepState=void 0,this._errorState=0}function Rd(S){return S}function Pu(S){return Math.sign(S)*Math.round(Math.abs(S))}function cy(S){return Math.sign(S)*Math.round(Math.abs(2*S))/2}function ms(S){return Math.sign(S)*(Math.round(Math.abs(S)+.5)-.5)}function to(S){return Math.sign(S)*Math.ceil(Math.abs(S))}function kd(S){return Math.sign(S)*Math.floor(Math.abs(S))}function pl(S){var L=this.srPeriod,P=this.srPhase,z=1;return S<0&&(S=-S,z=-1),S+=this.srThreshold-P,S=Math.trunc(S/L)*L,(S+=P)<0?P*z:S*z}var _i={x:1,y:0,axis:"x",distance:function(S,L,P,z){return(P?S.xo:S.x)-(z?L.xo:L.x)},interpolate:function(S,L,P,z){var Z,J,te,_e,xe,Ae,Le;if(!z||z===this)return Z=S.xo-L.xo,J=S.xo-P.xo,xe=L.x-L.xo,Ae=P.x-P.xo,(Le=(te=Math.abs(Z))+(_e=Math.abs(J)))===0?void(S.x=S.xo+(xe+Ae)/2):void(S.x=S.xo+(xe*_e+Ae*te)/Le);Z=z.distance(S,L,!0,!0),J=z.distance(S,P,!0,!0),xe=z.distance(L,L,!1,!0),Ae=z.distance(P,P,!1,!0),(Le=(te=Math.abs(Z))+(_e=Math.abs(J)))===0?_i.setRelative(S,S,(xe+Ae)/2,z,!0):_i.setRelative(S,S,(xe*_e+Ae*te)/Le,z,!0)},normalSlope:Number.NEGATIVE_INFINITY,setRelative:function(S,L,P,z,Z){var J,te;z&&z!==this?(J=Z?L.xo:L.x,te=Z?L.yo:L.y,J+=P*z.x,te+=P*z.y,S.x=J+(S.y-te)/z.normalSlope):S.x=(Z?L.xo:L.x)+P},slope:0,touch:function(S){S.xTouched=!0},touched:function(S){return S.xTouched},untouch:function(S){S.xTouched=!1}},$s={x:0,y:1,axis:"y",distance:function(S,L,P,z){return(P?S.yo:S.y)-(z?L.yo:L.y)},interpolate:function(S,L,P,z){var Z,J,te,_e,xe,Ae,Le;if(!z||z===this)return Z=S.yo-L.yo,J=S.yo-P.yo,xe=L.y-L.yo,Ae=P.y-P.yo,(Le=(te=Math.abs(Z))+(_e=Math.abs(J)))===0?void(S.y=S.yo+(xe+Ae)/2):void(S.y=S.yo+(xe*_e+Ae*te)/Le);Z=z.distance(S,L,!0,!0),J=z.distance(S,P,!0,!0),xe=z.distance(L,L,!1,!0),Ae=z.distance(P,P,!1,!0),(Le=(te=Math.abs(Z))+(_e=Math.abs(J)))===0?$s.setRelative(S,S,(xe+Ae)/2,z,!0):$s.setRelative(S,S,(xe*_e+Ae*te)/Le,z,!0)},normalSlope:0,setRelative:function(S,L,P,z,Z){var J,te;z&&z!==this?(J=Z?L.xo:L.x,te=Z?L.yo:L.y,J+=P*z.x,te+=P*z.y,S.y=te+z.normalSlope*(S.x-J)):S.y=(Z?L.yo:L.y)+P},slope:Number.POSITIVE_INFINITY,touch:function(S){S.yTouched=!0},touched:function(S){return S.yTouched},untouch:function(S){S.yTouched=!1}};function ro(S,L){this.x=S,this.y=L,this.axis=void 0,this.slope=L/S,this.normalSlope=-S/L,Object.freeze(this)}function qi(S,L){var P=Math.sqrt(S*S+L*L);return L/=P,(S/=P)==1&&L===0?_i:S===0&&L===1?$s:new ro(S,L)}function Bs(S,L,P,z){this.x=this.xo=Math.round(64*S)/64,this.y=this.yo=Math.round(64*L)/64,this.lastPointOfContour=P,this.onCurve=z,this.prevPointOnContour=void 0,this.nextPointOnContour=void 0,this.xTouched=!1,this.yTouched=!1,Object.preventExtensions(this)}Object.freeze(_i),Object.freeze($s),ro.prototype.distance=function(S,L,P,z){return this.x*_i.distance(S,L,P,z)+this.y*$s.distance(S,L,P,z)},ro.prototype.interpolate=function(S,L,P,z){var Z=z.distance(S,L,!0,!0),J=z.distance(S,P,!0,!0),te=(L=z.distance(L,L,!1,!0),P=z.distance(P,P,!1,!0),(Z=Math.abs(Z))+(J=Math.abs(J)));te===0?this.setRelative(S,S,(L+P)/2,z,!0):this.setRelative(S,S,(L*J+P*Z)/te,z,!0)},ro.prototype.setRelative=function(S,L,P,z,Z){var J=Z?L.xo:L.x,te=(Z=Z?L.yo:L.y,L=J+P*(z=z||this).x,J=Z+P*z.y,Z=z.normalSlope,P=this.slope,z=S.x,S.y);S.x=(P*z-Z*L+J-te)/(P-Z),S.y=P*(S.x-z)+te},ro.prototype.touch=function(S){S.xTouched=!0,S.yTouched=!0},Bs.prototype.nextTouched=function(S){for(var L=this.nextPointOnContour;!S.touched(L)&&L!==this;)L=L.nextPointOnContour;return L},Bs.prototype.prevTouched=function(S){for(var L=this.prevPointOnContour;!S.touched(L)&&L!==this;)L=L.prevPointOnContour;return L};var ml=Object.freeze(new Bs(0,0)),vb={cvCutIn:17/16,deltaBase:9,deltaShift:.125,loop:1,minDis:1,autoFlip:!0};function pa(S,L){switch(this.env=S,this.stack=[],this.prog=L,S){case"glyf":this.zp0=this.zp1=this.zp2=1,this.rp0=this.rp1=this.rp2=0;case"prep":this.fv=this.pv=this.dpv=_i,this.round=Pu}}function Od(S){for(var L=S.tZone=new Array(S.gZone.length),P=0;P<L.length;P++)L[P]=new Bs(0,0)}function Ld(S,L){var P,z=S.prog,Z=S.ip,J=1;do if((P=z[++Z])===88)J++;else if(P===89)J--;else if(P===64)Z+=z[Z+1]+1;else if(P===65)Z+=2*z[Z+1]+1;else if(176<=P&&P<=183)Z+=P-176+1;else if(184<=P&&P<=191)Z+=2*(P-184+1);else if(L&&J===1&&P===27)break;while(0<J);S.ip=Z}function dy(S,L){c.DEBUG&&console.log(L.step,"SVTCA["+S.axis+"]"),L.fv=L.pv=L.dpv=S}function hy(S,L){c.DEBUG&&console.log(L.step,"SPVTCA["+S.axis+"]"),L.pv=L.dpv=S}function fy(S,L){c.DEBUG&&console.log(L.step,"SFVTCA["+S.axis+"]"),L.fv=S}function py(S,L){var P,z=(Z=L.stack).pop(),Z=Z.pop(),J=L.z2[z],te=L.z1[Z];c.DEBUG&&console.log("SPVTL["+S+"]",z,Z),z=S?(P=J.y-te.y,te.x-J.x):(P=te.x-J.x,te.y-J.y),L.pv=L.dpv=qi(P,z)}function my(S,L){var P,z=(Z=L.stack).pop(),Z=Z.pop(),J=L.z2[z],te=L.z1[Z];c.DEBUG&&console.log("SFVTL["+S+"]",z,Z),z=S?(P=J.y-te.y,te.x-J.x):(P=te.x-J.x,te.y-J.y),L.fv=qi(P,z)}function Dd(S){c.DEBUG&&console.log(S.step,"POP[]"),S.stack.pop()}function gy(S,L){var P=L.stack.pop(),z=L.z0[P],Z=L.fv,J=L.pv,te=(c.DEBUG&&console.log(L.step,"MDAP["+S+"]",P),J.distance(z,ml));S&&(te=L.round(te)),Z.setRelative(z,ml,te,J),Z.touch(z),L.rp0=L.rp1=P}function yy(S,L){var P,z,Z,J=L.z2,te=J.length-2;c.DEBUG&&console.log(L.step,"IUP["+S.axis+"]");for(var _e=0;_e<te;_e++)P=J[_e],S.touched(P)||(z=P.prevTouched(S))!==P&&(z===(Z=P.nextTouched(S))&&S.setRelative(P,P,S.distance(z,z,!1,!0),S,!0),S.interpolate(P,z,Z,S))}function vy(S,L){for(var P=L.stack,z=S?L.rp1:L.rp2,Z=(S?L.z0:L.z1)[z],J=L.fv,te=L.pv,_e=L.loop,xe=L.z2;_e--;){var Ae=P.pop(),Le=xe[Ae],Fe=te.distance(Z,Z,!1,!0);J.setRelative(Le,Le,Fe,te),J.touch(Le),c.DEBUG&&console.log(L.step,(1<L.loop?"loop "+(L.loop-_e)+": ":"")+"SHP["+(S?"rp1":"rp2")+"]",Ae)}L.loop=1}function by(S,L){for(var P=L.stack,z=S?L.rp1:L.rp2,Z=(S?L.z0:L.z1)[z],J=L.fv,te=L.pv,_e=(z=P.pop(),L.z2[L.contours[z]]),xe=_e,Ae=(c.DEBUG&&console.log(L.step,"SHC["+S+"]",z),te.distance(Z,Z,!1,!0));xe!==Z&&J.setRelative(xe,xe,Ae,te),(xe=xe.nextPointOnContour)!==_e;);}function Pd(S,L){var P,z,Z=L.stack,J=S?L.rp1:L.rp2,te=(J=(S?L.z0:L.z1)[J],L.fv),_e=L.pv;switch(Z=Z.pop(),c.DEBUG&&console.log(L.step,"SHZ["+S+"]",Z),Z){case 0:P=L.tZone;break;case 1:P=L.gZone;break;default:throw new Error("Invalid zone")}for(var xe=_e.distance(J,J,!1,!0),Ae=P.length-2,Le=0;Le<Ae;Le++)z=P[Le],te.setRelative(z,z,xe,_e)}function _y(S,L){var P=(z=L.stack).pop()/64,z=z.pop(),Z=L.z1[z],J=L.z0[L.rp0],te=L.fv,_e=L.pv;te.setRelative(Z,J,P,_e),te.touch(Z),c.DEBUG&&console.log(L.step,"MSIRP["+S+"]",P,z),L.rp1=L.rp0,L.rp2=z,S&&(L.rp0=z)}function wy(S,L){var P=(z=L.stack).pop(),z=z.pop(),Z=L.z0[z],J=L.fv,te=L.pv,_e=L.cvt[P];c.DEBUG&&console.log(L.step,"MIAP["+S+"]",P,"(",_e,")",z),P=te.distance(Z,ml),S&&(Math.abs(P-_e)<L.cvCutIn&&(P=_e),P=L.round(P)),J.setRelative(Z,ml,P,te),L.zp0===0&&(Z.xo=Z.x,Z.yo=Z.y),J.touch(Z),L.rp0=L.rp1=z}function xy(S,L){var P=L.stack,z=P.pop(),Z=L.z2[z];c.DEBUG&&console.log(L.step,"GC["+S+"]",z),P.push(64*L.dpv.distance(Z,ml,S,!1))}function Wf(S,L){var P=(z=L.stack).pop(),z=z.pop(),Z=L.z1[P],J=L.z0[z];J=L.dpv.distance(J,Z,S,S),c.DEBUG&&console.log(L.step,"MD["+S+"]",P,z,"->",J),L.stack.push(Math.round(64*J))}function Xf(S,L){var P=L.stack,z=P.pop(),Z=L.fv,J=L.pv,te=L.ppem,_e=L.deltaBase+16*(S-1),xe=L.deltaShift,Ae=L.z0;c.DEBUG&&console.log(L.step,"DELTAP["+S+"]",z,P);for(var Le=0;Le<z;Le++){var Fe=P.pop(),Ue=P.pop();_e+((240&Ue)>>4)===te&&(0<=(Ue=(15&Ue)-8)&&Ue++,c.DEBUG&&console.log(L.step,"DELTAPFIX",Fe,"by",Ue*xe),Fe=Ae[Fe],Z.setRelative(Fe,Fe,Ue*xe,J))}}function Nd(S,L){var P=L.stack,z=P.pop();c.DEBUG&&console.log(L.step,"ROUND[]"),P.push(64*L.round(z/64))}function Yf(S,L){var P=L.stack,z=P.pop(),Z=L.ppem,J=L.deltaBase+16*(S-1),te=L.deltaShift;c.DEBUG&&console.log(L.step,"DELTAC["+S+"]",z,P);for(var _e=0;_e<z;_e++){var xe=P.pop(),Ae=P.pop();J+((240&Ae)>>4)===Z&&(0<=(Ae=(15&Ae)-8)&&Ae++,Ae*=te,c.DEBUG&&console.log(L.step,"DELTACFIX",xe,"by",Ae),L.cvt[xe]+=Ae)}}function Sy(S,L){var P,z=(Z=L.stack).pop(),Z=Z.pop(),J=L.z2[z],te=L.z1[Z];c.DEBUG&&console.log(L.step,"SDPVTL["+S+"]",z,Z),z=S?(P=J.y-te.y,te.x-J.x):(P=te.x-J.x,te.y-J.y),L.dpv=qi(P,z)}function ma(S,L){var P=L.stack,z=L.prog,Z=L.ip;c.DEBUG&&console.log(L.step,"PUSHB["+S+"]");for(var J=0;J<S;J++)P.push(z[++Z]);L.ip=Z}function ga(S,L){var P=L.ip,z=L.prog,Z=L.stack;c.DEBUG&&console.log(L.ip,"PUSHW["+S+"]");for(var J=0;J<S;J++){var te=z[++P]<<8|z[++P];32768&te&&(te=-(1+(65535^te))),Z.push(te)}L.ip=P}function kt(S,L,P,z,Z,J){var te,_e,xe=J.stack,Ae=S&&xe.pop(),Le=(xe=xe.pop(),J.rp0),Fe=(Le=J.z0[Le],J.z1[xe]),Ue=J.minDis,Re=J.fv,ct=J.dpv,Ye=te=ct.distance(Fe,Le,!0,!0),Xe=0<=Ye?1:-1;Ye=Math.abs(Ye),S&&(_e=J.cvt[Ae],z&&Math.abs(Ye-_e)<J.cvCutIn&&(Ye=_e)),P&&Ye<Ue&&(Ye=Ue),z&&(Ye=J.round(Ye)),Re.setRelative(Fe,Le,Xe*Ye,ct),Re.touch(Fe),c.DEBUG&&console.log(J.step,(S?"MIRP[":"MDRP[")+(L?"M":"m")+(P?">":"_")+(z?"R":"_")+(Z===0?"Gr":Z===1?"Bl":Z===2?"Wh":"")+"]",S?Ae+"("+J.cvt[Ae]+","+_e+")":"",xe,"(d =",te,"->",Xe*Ye,")"),J.rp1=J.rp0,J.rp2=xe,L&&(J.rp0=xe)}qf.prototype.exec=function(S,L){if(typeof L!="number")throw new Error("Point size is not a number!");if(!(2<this._errorState)){var P=this.font,z=this._prepState;if(!z||z.ppem!==L){var Z=this._fpgmState;if(!Z){pa.prototype=vb,(Z=this._fpgmState=new pa("fpgm",P.tables.fpgm)).funcs=[],Z.font=P,c.DEBUG&&(console.log("---EXEC FPGM---"),Z.step=-1);try{ya(Z)}catch(Ae){return console.log("Hinting error in FPGM:"+Ae),void(this._errorState=3)}}pa.prototype=Z,(z=this._prepState=new pa("prep",P.tables.prep)).ppem=L;var J=P.tables.cvt;if(J)for(var te=z.cvt=new Array(J.length),_e=L/P.unitsPerEm,xe=0;xe<J.length;xe++)te[xe]=J[xe]*_e;else z.cvt=[];c.DEBUG&&(console.log("---EXEC PREP---"),z.step=-1);try{ya(z)}catch(Ae){this._errorState<2&&console.log("Hinting error in PREP:"+Ae),this._errorState=2}}if(!(1<this._errorState))try{return bb(S,z)}catch(Ae){this._errorState<1&&(console.log("Hinting error:"+Ae),console.log("Note: further hinting errors are silenced")),this._errorState=1}}};var bb=function(S,L){var P=L.ppem/L.font.unitsPerEm,z=P,Z=S.components;if(pa.prototype=L,Z){for(var J=L.font,te=[],_e=[],xe=0;xe<Z.length;xe++){var Ae=Z[xe],Le=J.glyphs.get(Ae.glyphIndex),Fe=new pa("glyf",Le.instructions);c.DEBUG&&(console.log("---EXEC COMP "+xe+"---"),Fe.step=-1),jy(Le,Fe,P,z);for(var Ue=Math.round(Ae.dx*P),Re=Math.round(Ae.dy*z),ct=Fe.gZone,Ye=Fe.contours,Xe=0;Xe<ct.length;Xe++){var $e=ct[Xe];$e.xTouched=$e.yTouched=!1,$e.xo=$e.x=$e.x+Ue,$e.yo=$e.y=$e.y+Re}var Je=te.length;te.push.apply(te,ct);for(var jt=0;jt<Ye.length;jt++)_e.push(Ye[jt]+Je)}S.instructions&&!Fe.inhibitGridFit&&((Fe=new pa("glyf",S.instructions)).gZone=Fe.z0=Fe.z1=Fe.z2=te,Fe.contours=_e,te.push(new Bs(0,0),new Bs(Math.round(S.advanceWidth*P),0)),c.DEBUG&&(console.log("---EXEC COMPOSITE---"),Fe.step=-1),ya(Fe),te.length-=2)}else Fe=new pa("glyf",S.instructions),c.DEBUG&&(console.log("---EXEC GLYPH---"),Fe.step=-1),jy(S,Fe,P,z),te=Fe.gZone;return te},jy=function(S,L,P,z){for(var Z,J,te,_e=S.points||[],xe=_e.length,Ae=L.gZone=L.z0=L.z1=L.z2=[],Le=L.contours=[],Fe=0;Fe<xe;Fe++)Z=_e[Fe],Ae[Fe]=new Bs(Z.x*P,Z.y*z,Z.lastPointOfContour,Z.onCurve);for(var Ue=0;Ue<xe;Ue++)Z=Ae[Ue],J||(J=Z,Le.push(Ue)),Z.lastPointOfContour?((Z.nextPointOnContour=J).prevPointOnContour=Z,J=void 0):(te=Ae[Ue+1],(Z.nextPointOnContour=te).prevPointOnContour=Z);if(!L.inhibitGridFit){if(c.DEBUG){console.log("PROCESSING GLYPH",L.stack);for(var Re=0;Re<xe;Re++)console.log(Re,Ae[Re].x,Ae[Re].y)}if(Ae.push(new Bs(0,0),new Bs(Math.round(S.advanceWidth*P),0)),ya(L),Ae.length-=2,c.DEBUG){console.log("FINISHED GLYPH",L.stack);for(var ct=0;ct<xe;ct++)console.log(ct,Ae[ct].x,Ae[ct].y)}}},ya=function(S){var L=S.prog;if(L){var P,z=L.length;for(S.ip=0;S.ip<z;S.ip++){if(c.DEBUG&&S.step++,!(P=Nu[L[S.ip]]))throw new Error("unknown instruction: 0x"+Number(L[S.ip]).toString(16));P(S)}}},Nu=[dy.bind(void 0,$s),dy.bind(void 0,_i),hy.bind(void 0,$s),hy.bind(void 0,_i),fy.bind(void 0,$s),fy.bind(void 0,_i),py.bind(void 0,0),py.bind(void 0,1),my.bind(void 0,0),my.bind(void 0,1),function(S){var L=(P=S.stack).pop(),P=P.pop();c.DEBUG&&console.log(S.step,"SPVFS[]",L,P),S.pv=S.dpv=qi(P,L)},function(S){var L=(P=S.stack).pop(),P=P.pop();c.DEBUG&&console.log(S.step,"SPVFS[]",L,P),S.fv=qi(P,L)},function(S){var L=S.stack,P=S.pv;c.DEBUG&&console.log(S.step,"GPV[]"),L.push(16384*P.x),L.push(16384*P.y)},function(S){var L=S.stack,P=S.fv;c.DEBUG&&console.log(S.step,"GFV[]"),L.push(16384*P.x),L.push(16384*P.y)},function(S){S.fv=S.pv,c.DEBUG&&console.log(S.step,"SFVTPV[]")},function(S){var L=(J=S.stack).pop(),P=J.pop(),z=J.pop(),Z=J.pop(),J=J.pop(),te=S.z0,_e=S.z1,xe=te[L],Ae=(te=te[P],_e[z]),Le=(_e=_e[Z],S=S.z2[J],L=(c.DEBUG&&console.log("ISECT[], ",L,P,z,Z,J),xe.x),P=xe.y,z=te.x,Z=te.y,J=Ae.x,xe=Ae.y,te=_e.x,_e=(L-z)*(xe-(Ae=_e.y))-(P-Z)*(J-te),L*Z-P*z),Fe=J*Ae-xe*te;S.x=(Le*(J-te)-Fe*(L-z))/_e,S.y=(Le*(xe-Ae)-Fe*(P-Z))/_e},function(S){S.rp0=S.stack.pop(),c.DEBUG&&console.log(S.step,"SRP0[]",S.rp0)},function(S){S.rp1=S.stack.pop(),c.DEBUG&&console.log(S.step,"SRP1[]",S.rp1)},function(S){S.rp2=S.stack.pop(),c.DEBUG&&console.log(S.step,"SRP2[]",S.rp2)},function(S){var L=S.stack.pop();switch(c.DEBUG&&console.log(S.step,"SZP0[]",L),S.zp0=L){case 0:S.tZone||Od(S),S.z0=S.tZone;break;case 1:S.z0=S.gZone;break;default:throw new Error("Invalid zone pointer")}},function(S){var L=S.stack.pop();switch(c.DEBUG&&console.log(S.step,"SZP1[]",L),S.zp1=L){case 0:S.tZone||Od(S),S.z1=S.tZone;break;case 1:S.z1=S.gZone;break;default:throw new Error("Invalid zone pointer")}},function(S){var L=S.stack.pop();switch(c.DEBUG&&console.log(S.step,"SZP2[]",L),S.zp2=L){case 0:S.tZone||Od(S),S.z2=S.tZone;break;case 1:S.z2=S.gZone;break;default:throw new Error("Invalid zone pointer")}},function(S){var L=S.stack.pop();switch(c.DEBUG&&console.log(S.step,"SZPS[]",L),S.zp0=S.zp1=S.zp2=L){case 0:S.tZone||Od(S),S.z0=S.z1=S.z2=S.tZone;break;case 1:S.z0=S.z1=S.z2=S.gZone;break;default:throw new Error("Invalid zone pointer")}},function(S){S.loop=S.stack.pop(),c.DEBUG&&console.log(S.step,"SLOOP[]",S.loop)},function(S){c.DEBUG&&console.log(S.step,"RTG[]"),S.round=Pu},function(S){c.DEBUG&&console.log(S.step,"RTHG[]"),S.round=ms},function(S){var L=S.stack.pop();c.DEBUG&&console.log(S.step,"SMD[]",L),S.minDis=L/64},function(S){c.DEBUG&&console.log(S.step,"ELSE[]"),Ld(S,!1)},function(S){var L=S.stack.pop();c.DEBUG&&console.log(S.step,"JMPR[]",L),S.ip+=L-1},function(S){var L=S.stack.pop();c.DEBUG&&console.log(S.step,"SCVTCI[]",L),S.cvCutIn=L/64},void 0,void 0,function(S){var L=S.stack;c.DEBUG&&console.log(S.step,"DUP[]"),L.push(L[L.length-1])},Dd,function(S){c.DEBUG&&console.log(S.step,"CLEAR[]"),S.stack.length=0},function(S){var L=S.stack,P=L.pop(),z=L.pop();c.DEBUG&&console.log(S.step,"SWAP[]"),L.push(P),L.push(z)},function(S){var L=S.stack;c.DEBUG&&console.log(S.step,"DEPTH[]"),L.push(L.length)},function(S){var L=S.stack,P=L.pop();c.DEBUG&&console.log(S.step,"CINDEX[]",P),L.push(L[L.length-P])},function(S){var L=S.stack,P=L.pop();c.DEBUG&&console.log(S.step,"MINDEX[]",P),L.push(L.splice(L.length-P,1)[0])},void 0,void 0,void 0,function(S){var L=(z=S.stack).pop(),P=z.pop(),z=(c.DEBUG&&console.log(S.step,"LOOPCALL[]",L,P),S.ip),Z=S.prog;S.prog=S.funcs[L];for(var J=0;J<P;J++)ya(S),c.DEBUG&&console.log(++S.step,J+1<P?"next loopcall":"done loopcall",J);S.ip=z,S.prog=Z},function(S){var L=S.stack.pop(),P=(c.DEBUG&&console.log(S.step,"CALL[]",L),S.ip),z=S.prog;S.prog=S.funcs[L],ya(S),S.ip=P,S.prog=z,c.DEBUG&&console.log(++S.step,"returning from",L)},function(S){if(S.env!=="fpgm")throw new Error("FDEF not allowed here");var L=S.stack,P=S.prog,z=S.ip,Z=(L=L.pop(),z);for(c.DEBUG&&console.log(S.step,"FDEF[]",L);P[++z]!==45;);S.ip=z,S.funcs[L]=P.slice(Z+1,z)},void 0,gy.bind(void 0,0),gy.bind(void 0,1),yy.bind(void 0,$s),yy.bind(void 0,_i),vy.bind(void 0,0),vy.bind(void 0,1),by.bind(void 0,0),by.bind(void 0,1),Pd.bind(void 0,0),Pd.bind(void 0,1),function(S){for(var L=S.stack,P=S.loop,z=S.fv,Z=L.pop()/64,J=S.z2;P--;){var te=L.pop(),_e=J[te];c.DEBUG&&console.log(S.step,(1<S.loop?"loop "+(S.loop-P)+": ":"")+"SHPIX[]",te,Z),z.setRelative(_e,_e,Z),z.touch(_e)}S.loop=1},function(S){for(var L=S.stack,P=S.rp1,z=S.rp2,Z=S.loop,J=S.z0[P],te=S.z1[z],_e=S.fv,xe=S.dpv,Ae=S.z2;Z--;){var Le=L.pop(),Fe=Ae[Le];c.DEBUG&&console.log(S.step,(1<S.loop?"loop "+(S.loop-Z)+": ":"")+"IP[]",Le,P,"<->",z),_e.interpolate(Fe,J,te,xe),_e.touch(Fe)}S.loop=1},_y.bind(void 0,0),_y.bind(void 0,1),function(S){for(var L=S.stack,P=S.rp0,z=S.z0[P],Z=S.loop,J=S.fv,te=S.pv,_e=S.z1;Z--;){var xe=L.pop(),Ae=_e[xe];c.DEBUG&&console.log(S.step,(1<S.loop?"loop "+(S.loop-Z)+": ":"")+"ALIGNRP[]",xe),J.setRelative(Ae,z,0,te),J.touch(Ae)}S.loop=1},function(S){c.DEBUG&&console.log(S.step,"RTDG[]"),S.round=cy},wy.bind(void 0,0),wy.bind(void 0,1),function(S){var L=S.prog,P=S.ip,z=S.stack,Z=L[++P];c.DEBUG&&console.log(S.step,"NPUSHB[]",Z);for(var J=0;J<Z;J++)z.push(L[++P]);S.ip=P},function(S){var L=S.ip,P=S.prog,z=S.stack,Z=P[++L];c.DEBUG&&console.log(S.step,"NPUSHW[]",Z);for(var J=0;J<Z;J++){var te=P[++L]<<8|P[++L];32768&te&&(te=-(1+(65535^te))),z.push(te)}S.ip=L},function(S){var L=S.stack,P=(P=S.store)||(S.store=[]),z=L.pop();L=L.pop(),c.DEBUG&&console.log(S.step,"WS",z,L),P[L]=z},function(S){var L=S.stack,P=S.store,z=L.pop();c.DEBUG&&console.log(S.step,"RS",z),S=P&&P[z]||0,L.push(S)},function(S){var L=(P=S.stack).pop(),P=P.pop();c.DEBUG&&console.log(S.step,"WCVTP",L,P),S.cvt[P]=L/64},function(S){var L=S.stack,P=L.pop();c.DEBUG&&console.log(S.step,"RCVT",P),L.push(64*S.cvt[P])},xy.bind(void 0,0),xy.bind(void 0,1),void 0,Wf.bind(void 0,0),Wf.bind(void 0,1),function(S){c.DEBUG&&console.log(S.step,"MPPEM[]"),S.stack.push(S.ppem)},void 0,function(S){c.DEBUG&&console.log(S.step,"FLIPON[]"),S.autoFlip=!0},void 0,void 0,function(S){var L=S.stack,P=L.pop(),z=L.pop();c.DEBUG&&console.log(S.step,"LT[]",P,z),L.push(z<P?1:0)},function(S){var L=S.stack,P=L.pop(),z=L.pop();c.DEBUG&&console.log(S.step,"LTEQ[]",P,z),L.push(z<=P?1:0)},function(S){var L=S.stack,P=L.pop(),z=L.pop();c.DEBUG&&console.log(S.step,"GT[]",P,z),L.push(P<z?1:0)},function(S){var L=S.stack,P=L.pop(),z=L.pop();c.DEBUG&&console.log(S.step,"GTEQ[]",P,z),L.push(P<=z?1:0)},function(S){var L=S.stack,P=L.pop(),z=L.pop();c.DEBUG&&console.log(S.step,"EQ[]",P,z),L.push(P===z?1:0)},function(S){var L=S.stack,P=L.pop(),z=L.pop();c.DEBUG&&console.log(S.step,"NEQ[]",P,z),L.push(P!==z?1:0)},function(S){var L=S.stack,P=L.pop();c.DEBUG&&console.log(S.step,"ODD[]",P),L.push(Math.trunc(P)%2?1:0)},function(S){var L=S.stack,P=L.pop();c.DEBUG&&console.log(S.step,"EVEN[]",P),L.push(Math.trunc(P)%2?0:1)},function(S){var L=S.stack.pop();c.DEBUG&&console.log(S.step,"IF[]",L),L||(Ld(S,!0),c.DEBUG&&console.log(S.step,"EIF[]"))},function(S){c.DEBUG&&console.log(S.step,"EIF[]")},function(S){var L=S.stack,P=L.pop(),z=L.pop();c.DEBUG&&console.log(S.step,"AND[]",P,z),L.push(P&&z?1:0)},function(S){var L=S.stack,P=L.pop(),z=L.pop();c.DEBUG&&console.log(S.step,"OR[]",P,z),L.push(P||z?1:0)},function(S){var L=S.stack,P=L.pop();c.DEBUG&&console.log(S.step,"NOT[]",P),L.push(P?0:1)},Xf.bind(void 0,1),function(S){var L=S.stack.pop();c.DEBUG&&console.log(S.step,"SDB[]",L),S.deltaBase=L},function(S){var L=S.stack.pop();c.DEBUG&&console.log(S.step,"SDS[]",L),S.deltaShift=Math.pow(.5,L)},function(S){var L=S.stack,P=L.pop(),z=L.pop();c.DEBUG&&console.log(S.step,"ADD[]",P,z),L.push(z+P)},function(S){var L=S.stack,P=L.pop(),z=L.pop();c.DEBUG&&console.log(S.step,"SUB[]",P,z),L.push(z-P)},function(S){var L=S.stack,P=L.pop(),z=L.pop();c.DEBUG&&console.log(S.step,"DIV[]",P,z),L.push(64*z/P)},function(S){var L=S.stack,P=L.pop(),z=L.pop();c.DEBUG&&console.log(S.step,"MUL[]",P,z),L.push(z*P/64)},function(S){var L=S.stack,P=L.pop();c.DEBUG&&console.log(S.step,"ABS[]",P),L.push(Math.abs(P))},function(S){var L=S.stack,P=L.pop();c.DEBUG&&console.log(S.step,"NEG[]",P),L.push(-P)},function(S){var L=S.stack,P=L.pop();c.DEBUG&&console.log(S.step,"FLOOR[]",P),L.push(64*Math.floor(P/64))},function(S){var L=S.stack,P=L.pop();c.DEBUG&&console.log(S.step,"CEILING[]",P),L.push(64*Math.ceil(P/64))},Nd.bind(void 0,0),Nd.bind(void 0,1),Nd.bind(void 0,2),Nd.bind(void 0,3),void 0,void 0,void 0,void 0,function(S){var L=(P=S.stack).pop(),P=P.pop();c.DEBUG&&console.log(S.step,"WCVTF[]",L,P),S.cvt[P]=L*S.ppem/S.font.unitsPerEm},Xf.bind(void 0,2),Xf.bind(void 0,3),Yf.bind(void 0,1),Yf.bind(void 0,2),Yf.bind(void 0,3),function(S){var L,P=S.stack.pop();switch(c.DEBUG&&console.log(S.step,"SROUND[]",P),S.round=pl,192&P){case 0:L=.5;break;case 64:L=1;break;case 128:L=2;break;default:throw new Error("invalid SROUND value")}switch(S.srPeriod=L,48&P){case 0:S.srPhase=0;break;case 16:S.srPhase=.25*L;break;case 32:S.srPhase=.5*L;break;case 48:S.srPhase=.75*L;break;default:throw new Error("invalid SROUND value")}S.srThreshold=(P&=15)==0?0:(P/8-.5)*L},function(S){var L,P=S.stack.pop();switch(c.DEBUG&&console.log(S.step,"S45ROUND[]",P),S.round=pl,192&P){case 0:L=Math.sqrt(2)/2;break;case 64:L=Math.sqrt(2);break;case 128:L=2*Math.sqrt(2);break;default:throw new Error("invalid S45ROUND value")}switch(S.srPeriod=L,48&P){case 0:S.srPhase=0;break;case 16:S.srPhase=.25*L;break;case 32:S.srPhase=.5*L;break;case 48:S.srPhase=.75*L;break;default:throw new Error("invalid S45ROUND value")}S.srThreshold=(P&=15)==0?0:(P/8-.5)*L},void 0,void 0,function(S){c.DEBUG&&console.log(S.step,"ROFF[]"),S.round=Rd},void 0,function(S){c.DEBUG&&console.log(S.step,"RUTG[]"),S.round=to},function(S){c.DEBUG&&console.log(S.step,"RDTG[]"),S.round=kd},Dd,Dd,void 0,void 0,void 0,void 0,void 0,function(S){var L=S.stack.pop();c.DEBUG&&console.log(S.step,"SCANCTRL[]",L)},Sy.bind(void 0,0),Sy.bind(void 0,1),function(S){var L=S.stack,P=L.pop(),z=0;c.DEBUG&&console.log(S.step,"GETINFO[]",P),1&P&&(z=35),32&P&&(z|=4096),L.push(z)},void 0,function(S){var L=S.stack,P=L.pop(),z=L.pop(),Z=L.pop();c.DEBUG&&console.log(S.step,"ROLL[]"),L.push(z),L.push(P),L.push(Z)},function(S){var L=S.stack,P=L.pop(),z=L.pop();c.DEBUG&&console.log(S.step,"MAX[]",P,z),L.push(Math.max(z,P))},function(S){var L=S.stack,P=L.pop(),z=L.pop();c.DEBUG&&console.log(S.step,"MIN[]",P,z),L.push(Math.min(z,P))},function(S){var L=S.stack.pop();c.DEBUG&&console.log(S.step,"SCANTYPE[]",L)},function(S){var L=S.stack.pop(),P=S.stack.pop();switch(c.DEBUG&&console.log(S.step,"INSTCTRL[]",L,P),L){case 1:return void(S.inhibitGridFit=!!P);case 2:return void(S.ignoreCvt=!!P);default:throw new Error("invalid INSTCTRL[] selector")}},void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,ma.bind(void 0,1),ma.bind(void 0,2),ma.bind(void 0,3),ma.bind(void 0,4),ma.bind(void 0,5),ma.bind(void 0,6),ma.bind(void 0,7),ma.bind(void 0,8),ga.bind(void 0,1),ga.bind(void 0,2),ga.bind(void 0,3),ga.bind(void 0,4),ga.bind(void 0,5),ga.bind(void 0,6),ga.bind(void 0,7),ga.bind(void 0,8),kt.bind(void 0,0,0,0,0,0),kt.bind(void 0,0,0,0,0,1),kt.bind(void 0,0,0,0,0,2),kt.bind(void 0,0,0,0,0,3),kt.bind(void 0,0,0,0,1,0),kt.bind(void 0,0,0,0,1,1),kt.bind(void 0,0,0,0,1,2),kt.bind(void 0,0,0,0,1,3),kt.bind(void 0,0,0,1,0,0),kt.bind(void 0,0,0,1,0,1),kt.bind(void 0,0,0,1,0,2),kt.bind(void 0,0,0,1,0,3),kt.bind(void 0,0,0,1,1,0),kt.bind(void 0,0,0,1,1,1),kt.bind(void 0,0,0,1,1,2),kt.bind(void 0,0,0,1,1,3),kt.bind(void 0,0,1,0,0,0),kt.bind(void 0,0,1,0,0,1),kt.bind(void 0,0,1,0,0,2),kt.bind(void 0,0,1,0,0,3),kt.bind(void 0,0,1,0,1,0),kt.bind(void 0,0,1,0,1,1),kt.bind(void 0,0,1,0,1,2),kt.bind(void 0,0,1,0,1,3),kt.bind(void 0,0,1,1,0,0),kt.bind(void 0,0,1,1,0,1),kt.bind(void 0,0,1,1,0,2),kt.bind(void 0,0,1,1,0,3),kt.bind(void 0,0,1,1,1,0),kt.bind(void 0,0,1,1,1,1),kt.bind(void 0,0,1,1,1,2),kt.bind(void 0,0,1,1,1,3),kt.bind(void 0,1,0,0,0,0),kt.bind(void 0,1,0,0,0,1),kt.bind(void 0,1,0,0,0,2),kt.bind(void 0,1,0,0,0,3),kt.bind(void 0,1,0,0,1,0),kt.bind(void 0,1,0,0,1,1),kt.bind(void 0,1,0,0,1,2),kt.bind(void 0,1,0,0,1,3),kt.bind(void 0,1,0,1,0,0),kt.bind(void 0,1,0,1,0,1),kt.bind(void 0,1,0,1,0,2),kt.bind(void 0,1,0,1,0,3),kt.bind(void 0,1,0,1,1,0),kt.bind(void 0,1,0,1,1,1),kt.bind(void 0,1,0,1,1,2),kt.bind(void 0,1,0,1,1,3),kt.bind(void 0,1,1,0,0,0),kt.bind(void 0,1,1,0,0,1),kt.bind(void 0,1,1,0,0,2),kt.bind(void 0,1,1,0,0,3),kt.bind(void 0,1,1,0,1,0),kt.bind(void 0,1,1,0,1,1),kt.bind(void 0,1,1,0,1,2),kt.bind(void 0,1,1,0,1,3),kt.bind(void 0,1,1,1,0,0),kt.bind(void 0,1,1,1,0,1),kt.bind(void 0,1,1,1,0,2),kt.bind(void 0,1,1,1,0,3),kt.bind(void 0,1,1,1,1,0),kt.bind(void 0,1,1,1,1,1),kt.bind(void 0,1,1,1,1,2),kt.bind(void 0,1,1,1,1,3)],_b=Array.from||function(S){return S.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]?|[^\uD800-\uDFFF]|./g)||[]};function kr(S){(S=S||{}).empty||(Ja(S.familyName,"When creating a new Font object, familyName is required."),Ja(S.styleName,"When creating a new Font object, styleName is required."),Ja(S.unitsPerEm,"When creating a new Font object, unitsPerEm is required."),Ja(S.ascender,"When creating a new Font object, ascender is required."),Ja(S.descender,"When creating a new Font object, descender is required."),Ja(S.descender<0,"Descender should be negative (e.g. -512)."),this.names={fontFamily:{en:S.familyName||" "},fontSubfamily:{en:S.styleName||" "},fullName:{en:S.fullName||S.familyName+" "+S.styleName},postScriptName:{en:S.postScriptName||(S.familyName+S.styleName).replace(/\s/g,"")},designer:{en:S.designer||" "},designerURL:{en:S.designerURL||" "},manufacturer:{en:S.manufacturer||" "},manufacturerURL:{en:S.manufacturerURL||" "},license:{en:S.license||" "},licenseURL:{en:S.licenseURL||" "},version:{en:S.version||"Version 0.1"},description:{en:S.description||" "},copyright:{en:S.copyright||" "},trademark:{en:S.trademark||" "}},this.unitsPerEm=S.unitsPerEm||1e3,this.ascender=S.ascender,this.descender=S.descender,this.createdTimestamp=S.createdTimestamp,this.tables={os2:{usWeightClass:S.weightClass||this.usWeightClasses.MEDIUM,usWidthClass:S.widthClass||this.usWidthClasses.MEDIUM,fsSelection:S.fsSelection||this.fsSelectionValues.REGULAR}}),this.supported=!0,this.glyphs=new ht.GlyphSet(this,S.glyphs||[]),this.encoding=new ue(this),this.position=new Hi(this),this.substitution=new ss(this),this.tables=this.tables||{},Object.defineProperty(this,"hinting",{get:function(){return this._hinting||(this.outlinesFormat==="truetype"?this._hinting=new qf(this):void 0)}})}kr.prototype.hasChar=function(S){return this.encoding.charToGlyphIndex(S)!==null},kr.prototype.charToGlyphIndex=function(S){return this.encoding.charToGlyphIndex(S)},kr.prototype.charToGlyph=function(S){return S=this.charToGlyphIndex(S),this.glyphs.get(S)||this.glyphs.get(0)},kr.prototype.stringToGlyphs=function(S,L){L=L||this.defaultRenderOptions;for(var P=_b(S),z=[],Z=0;Z<P.length;Z+=1){var J=P[Z];z.push(this.charToGlyphIndex(J))}var te=z.length;if(L.features){S=L.script||this.substitution.getDefaultScriptName();var _e=[];L.features.liga&&(_e=_e.concat(this.substitution.getFeature("liga",S,L.language))),L.features.rlig&&(_e=_e.concat(this.substitution.getFeature("rlig",S,L.language)));for(var xe=0;xe<te;xe+=1)for(var Ae=0;Ae<_e.length;Ae++){for(var Le=_e[Ae],Fe=Le.sub,Ue=Fe.length,Re=0;Re<Ue&&Fe[Re]===z[xe+Re];)Re++;Re===Ue&&(z.splice(xe,Ue,Le.by),te=te-Ue+1)}}for(var ct=new Array(te),Ye=this.glyphs.get(0),Xe=0;Xe<te;Xe+=1)ct[Xe]=this.glyphs.get(z[Xe])||Ye;return ct},kr.prototype.nameToGlyphIndex=function(S){return this.glyphNames.nameToGlyphIndex(S)},kr.prototype.nameToGlyph=function(S){return S=this.nameToGlyphIndex(S),this.glyphs.get(S)||this.glyphs.get(0)},kr.prototype.glyphIndexToName=function(S){return this.glyphNames.glyphIndexToName?this.glyphNames.glyphIndexToName(S):""},kr.prototype.getKerningValue=function(S,L){S=S.index||S,L=L.index||L;var P=this.position.defaultKerningTables;return P?this.position.getKerningValue(P,S,L):this.kerningPairs[S+","+L]||0},kr.prototype.defaultRenderOptions={kerning:!0,features:{liga:!0,rlig:!0}},kr.prototype.forEachGlyph=function(S,L,P,z,Z,J){L=L!==void 0?L:0,P=P!==void 0?P:0,Z=Z||this.defaultRenderOptions;var te,_e=1/this.unitsPerEm*(z=z!==void 0?z:72),xe=this.stringToGlyphs(S,Z);Z.kerning&&(S=Z.script||this.position.getDefaultScriptName(),te=this.position.getKerningTables(S,Z.language));for(var Ae=0;Ae<xe.length;Ae+=1){var Le=xe[Ae];J.call(this,Le,L,P,z,Z),Le.advanceWidth&&(L+=Le.advanceWidth*_e),Z.kerning&&Ae<xe.length-1&&(L+=(te?this.position.getKerningValue(te,Le.index,xe[Ae+1].index):this.getKerningValue(Le,xe[Ae+1]))*_e),Z.letterSpacing?L+=Z.letterSpacing*z:Z.tracking&&(L+=Z.tracking/1e3*z)}return L},kr.prototype.getPath=function(S,L,P,z,Z){var J=new W;return this.forEachGlyph(S,L,P,z,Z,function(te,_e,xe,Ae){te=te.getPath(_e,xe,Ae,Z,this),J.extend(te)}),J},kr.prototype.getPaths=function(S,L,P,z,Z){var J=[];return this.forEachGlyph(S,L,P,z,Z,function(te,_e,xe,Ae){te=te.getPath(_e,xe,Ae,Z,this),J.push(te)}),J},kr.prototype.getAdvanceWidth=function(S,L,P){return this.forEachGlyph(S,0,0,L,P,function(){})},kr.prototype.draw=function(S,L,P,z,Z,J){this.getPath(L,P,z,Z,J).draw(S)},kr.prototype.drawPoints=function(S,L,P,z,Z,J){this.forEachGlyph(L,P,z,Z,J,function(te,_e,xe,Ae){te.drawPoints(S,_e,xe,Ae)})},kr.prototype.drawMetrics=function(S,L,P,z,Z,J){this.forEachGlyph(L,P,z,Z,J,function(te,_e,xe,Ae){te.drawMetrics(S,_e,xe,Ae)})},kr.prototype.getEnglishName=function(S){if(S=this.names[S])return S.en},kr.prototype.validate=function(){var S=this;function L(P){(P=S.getEnglishName(P))&&P.trim().length}L("fontFamily"),L("weightName"),L("manufacturer"),L("copyright"),L("version"),this.unitsPerEm},kr.prototype.toTables=function(){return yb(this)},kr.prototype.toBuffer=function(){return console.warn("Font.toBuffer is deprecated. Use Font.toArrayBuffer instead."),this.toArrayBuffer()},kr.prototype.toArrayBuffer=function(){for(var S=this.toTables().encode(),L=new ArrayBuffer(S.length),P=new Uint8Array(L),z=0;z<S.length;z++)P[z]=S[z];return L},kr.prototype.download=function(S){var L=this.getEnglishName("fontFamily"),P=this.getEnglishName("fontSubfamily"),z=(S=S||L.replace(/\s/g,"")+"-"+P+".otf",this.toArrayBuffer());typeof window<"u"?(window.requestFileSystem=window.requestFileSystem||window.webkitRequestFileSystem,window.requestFileSystem(window.TEMPORARY,z.byteLength,function(Z){Z.root.getFile(S,{create:!0},function(J){J.createWriter(function(te){var _e=new DataView(z);_e=new Blob([_e],{type:"font/opentype"}),te.write(_e),te.addEventListener("writeend",function(){location.href=J.toURL()},!1)})})},function(Z){throw new Error(Z.name+": "+Z.message)})):(L=t("fs"),P=function(Z){for(var J=new d(Z.byteLength),te=new Uint8Array(Z),_e=0;_e<J.length;++_e)J[_e]=te[_e];return J}(z),L.writeFileSync(S,P))},kr.prototype.fsSelectionValues={ITALIC:1,UNDERSCORE:2,NEGATIVE:4,OUTLINED:8,STRIKEOUT:16,BOLD:32,REGULAR:64,USER_TYPO_METRICS:128,WWS:256,OBLIQUE:512},kr.prototype.usWidthClasses={ULTRA_CONDENSED:1,EXTRA_CONDENSED:2,CONDENSED:3,SEMI_CONDENSED:4,MEDIUM:5,SEMI_EXPANDED:6,EXPANDED:7,EXTRA_EXPANDED:8,ULTRA_EXPANDED:9},kr.prototype.usWeightClasses={THIN:100,EXTRA_LIGHT:200,LIGHT:300,NORMAL:400,MEDIUM:500,SEMI_BOLD:600,BOLD:700,EXTRA_BOLD:800,BLACK:900};var Ey=function(S,L,P){for(var z,Z,J,te,_e=new He.Parser(S,L),xe=_e.parseULong(),Ae=(re.argument(xe===65536,"Unsupported fvar table version."),_e.parseOffset16()),Le=(_e.skip("uShort",1),_e.parseUShort()),Fe=_e.parseUShort(),Ue=_e.parseUShort(),Re=_e.parseUShort(),ct=[],Ye=0;Ye<Le;Ye++)ct.push((z=S,Z=L+Ae+Ye*Fe,J=P,te={},z=new He.Parser(z,Z),te.tag=z.parseTag(),te.minValue=z.parseFixed(),te.defaultValue=z.parseFixed(),te.maxValue=z.parseFixed(),z.skip("uShort",1),te.name=J[z.parseUShort()]||{},te));for(var Xe=[],$e=L+Ae+Le*Fe,Je=0;Je<Ue;Je++)Xe.push(function(jt,wt,Et,er){var ir={},Tr=new He.Parser(jt,wt);ir.name=er[Tr.parseUShort()]||{},Tr.skip("uShort",1),ir.coordinates={};for(var Mr=0;Mr<Et.length;++Mr)ir.coordinates[Et[Mr].tag]=Tr.parseFixed();return ir}(S,$e+Je*Re,ct,P));return{axes:ct,instances:Xe}},Gs=new Array(10);Gs[1]=function(){var S=this.offset+this.relativeOffset,L=this.parseUShort();return L===1?{posFormat:1,coverage:this.parsePointer(je.coverage),value:this.parseValueRecord()}:L===2?{posFormat:2,coverage:this.parsePointer(je.coverage),values:this.parseValueRecordList()}:void re.assert(!1,"0x"+S.toString(16)+": GPOS lookup type 1 format must be 1 or 2.")},Gs[2]=function(){var S,L,P,z,Z=this.offset+this.relativeOffset,J=this.parseUShort(),te=(Z=(re.assert(J===1||J===2,"0x"+Z.toString(16)+": GPOS lookup type 2 format must be 1 or 2."),this.parsePointer(je.coverage)),this.parseUShort()),_e=this.parseUShort();return J===1?{posFormat:J,coverage:Z,valueFormat1:te,valueFormat2:_e,pairSets:this.parseList(je.pointer(je.list(function(){return{secondGlyph:this.parseUShort(),value1:this.parseValueRecord(te),value2:this.parseValueRecord(_e)}})))}:J===2?(S=this.parsePointer(je.classDef),L=this.parsePointer(je.classDef),P=this.parseUShort(),z=this.parseUShort(),{posFormat:J,coverage:Z,valueFormat1:te,valueFormat2:_e,classDef1:S,classDef2:L,class1Count:P,class2Count:z,classRecords:this.parseList(P,je.list(z,function(){return{value1:this.parseValueRecord(te),value2:this.parseValueRecord(_e)}}))}):void 0},Gs[3]=function(){return{error:"GPOS Lookup 3 not supported"}},Gs[4]=function(){return{error:"GPOS Lookup 4 not supported"}},Gs[5]=function(){return{error:"GPOS Lookup 5 not supported"}},Gs[6]=function(){return{error:"GPOS Lookup 6 not supported"}},Gs[7]=function(){return{error:"GPOS Lookup 7 not supported"}},Gs[8]=function(){return{error:"GPOS Lookup 8 not supported"}},Gs[9]=function(){return{error:"GPOS Lookup 9 not supported"}},new Array(10);var Ay=function(S,L){return L=(S=new je(S,L=L||0)).parseVersion(1),re.argument(L===1||L===1.1,"Unsupported GPOS table version "+L),L===1?{version:L,scripts:S.parseScriptList(),features:S.parseFeatureList(),lookups:S.parseLookupList(Gs)}:{version:L,scripts:S.parseScriptList(),features:S.parseFeatureList(),lookups:S.parseLookupList(Gs),variations:S.parseFeatureVariationsList()}},Ty=function(S,L){if((L=(S=new He.Parser(S,L)).parseUShort())===0){var P=S,z={},Z=(P.skip("uShort"),P.parseUShort()),J=(re.argument(Z===0,"Unsupported kern sub-table version."),P.skip("uShort",2),P.parseUShort());P.skip("uShort",3);for(var te=0;te<J;te+=1){var _e=P.parseUShort(),xe=P.parseUShort(),Ae=P.parseShort();z[_e+","+xe]=Ae}return z}if(L!==1)throw new Error("Unsupported kern table version ("+L+").");var Le=S,Fe={};if(Le.skip("uShort"),1<Le.parseULong()&&console.warn("Only the first kern subtable is supported."),Le.skip("uLong"),Z=255&Le.parseUShort(),Le.skip("uShort"),Z==0){var Ue=Le.parseUShort();Le.skip("uShort",3);for(var Re=0;Re<Ue;Re+=1){var ct=Le.parseUShort(),Ye=Le.parseUShort(),Xe=Le.parseShort();Fe[ct+","+Ye]=Xe}}return Fe},gl=function(S,L,P,z){for(var Z=new He.Parser(S,L),J=z?Z.parseUShort:Z.parseULong,te=[],_e=0;_e<P+1;_e+=1){var xe=J.call(Z);z&&(xe*=2),te.push(xe)}return te};function wb(S,L){t("fs").readFile(S,function(P,z){if(P)return L(P.message);L(null,Cd(z))})}function xb(S,L){var P=new XMLHttpRequest;P.open("get",S,!0),P.responseType="arraybuffer",P.onload=function(){return P.response?L(null,P.response):L("Font could not be loaded: "+P.statusText)},P.onerror=function(){L("Font could not be loaded")},P.send()}function My(S,L){for(var P=[],z=12,Z=0;Z<L;Z+=1){var J=He.getTag(S,z),te=He.getULong(S,z+4),_e=He.getULong(S,z+8),xe=He.getULong(S,z+12);P.push({tag:J,checksum:te,offset:_e,length:xe,compression:!1}),z+=16}return P}function un(S,L){if(L.compression!=="WOFF")return{data:S,offset:L.offset};S=new Uint8Array(S.buffer,L.offset+2,L.compressedLength-2);var P=new Uint8Array(L.length);if(function(z,Z){var J,te,_e,xe=new o(z,Z);do{switch((te=xe).bitcount--||(te.tag=te.source[te.sourceIndex++],te.bitcount=7),_e=1&te.tag,te.tag>>>=1,te=_e,D(xe,2,0)){case 0:J=function(Et){for(var er,ir;8<Et.bitcount;)Et.sourceIndex--,Et.bitcount-=8;if((er=256*Et.source[Et.sourceIndex+1]+Et.source[Et.sourceIndex])!==(65535&~(256*Et.source[Et.sourceIndex+3]+Et.source[Et.sourceIndex+2])))return-3;for(Et.sourceIndex+=4,ir=er;ir;--ir)Et.dest[Et.destLen++]=Et.source[Et.sourceIndex++];return Et.bitcount=0,0}(xe);break;case 1:J=I(xe,h,f);break;case 2:jt=Je=$e=wt=Ae=Xe=void 0;for(var Ae,Le=xe,Fe=xe.ltree,Ue=xe.dtree,Re=D(Le,5,257),ct=D(Le,5,1),Ye=D(Le,4,4),Xe=0;Xe<19;++Xe)C[Xe]=0;for(Xe=0;Xe<Ye;++Xe){var $e=D(Le,3,0);C[v[Xe]]=$e}for(N(E,C,0,19),Ae=0;Ae<Re+ct;){var Je=H(Le,E);switch(Je){case 16:for(var jt=C[Ae-1],wt=D(Le,2,3);wt;--wt)C[Ae++]=jt;break;case 17:for(wt=D(Le,3,3);wt;--wt)C[Ae++]=0;break;case 18:for(wt=D(Le,7,11);wt;--wt)C[Ae++]=0;break;default:C[Ae++]=Je}}N(Fe,C,0,Re),N(Ue,C,Re,ct),J=I(xe,xe.ltree,xe.dtree);break;default:J=-3}if(J!==0)throw new Error("Data error")}while(!te);xe.destLen<xe.dest.length?typeof xe.dest.slice=="function"?xe.dest.slice(0,xe.destLen):xe.dest.subarray(0,xe.destLen):xe.dest}(S,P),P.byteLength!==L.length)throw new Error("Decompression error: "+L.tag+" decompressed length doesn't match recorded length");return{data:new DataView(P.buffer,0),offset:0}}function Id(S){var L,P,z,Z,J,te,_e,xe,Ae,Le,Fe,Ue,Re,ct,Ye=new kr({empty:!0}),Xe=new DataView(S,0),$e=[];if((S=He.getTag(Xe,0))==="\0\0\0"||S==="true"||S==="typ1")Ye.outlinesFormat="truetype",$e=My(Xe,z=He.getUShort(Xe,4));else if(S==="OTTO")Ye.outlinesFormat="cff",$e=My(Xe,z=He.getUShort(Xe,4));else{if(S!=="wOFF")throw new Error("Unsupported OpenType signature "+S);if((Et=He.getTag(Xe,4))==="\0\0\0")Ye.outlinesFormat="truetype";else{if(Et!=="OTTO")throw new Error("Unsupported OpenType flavor "+S);Ye.outlinesFormat="cff"}$e=function(Or,Ir){for(var _r=[],gn=44,Fr=0;Fr<Ir;Fr+=1){var Bn=He.getTag(Or,gn),Ur=He.getULong(Or,gn+4),yn=He.getULong(Or,gn+8),Iu=He.getULong(Or,gn+12),Fu=yn<Iu&&"WOFF";_r.push({tag:Bn,offset:Ur,compression:Fu,compressedLength:yn,length:Iu}),gn+=20}return _r}(Xe,z=He.getUShort(Xe,12))}for(var Je=0;Je<z;Je+=1){var jt=$e[Je],wt=void 0;switch(jt.tag){case"cmap":wt=un(Xe,jt),Ye.tables.cmap=nt(wt.data,wt.offset),Ye.encoding=new he(Ye.tables.cmap);break;case"cvt ":wt=un(Xe,jt),ct=new He.Parser(wt.data,wt.offset),Ye.tables.cvt=ct.parseShortList(jt.length/2);break;case"fvar":J=jt;break;case"fpgm":wt=un(Xe,jt),ct=new He.Parser(wt.data,wt.offset),Ye.tables.fpgm=ct.parseByteList(jt.length);break;case"head":wt=un(Xe,jt),Ye.tables.head=Sd(wt.data,wt.offset),Ye.unitsPerEm=Ye.tables.head.unitsPerEm,L=Ye.tables.head.indexToLocFormat;break;case"hhea":wt=un(Xe,jt),Ye.tables.hhea=ku(wt.data,wt.offset),Ye.ascender=Ye.tables.hhea.ascender,Ye.descender=Ye.tables.hhea.descender,Ye.numberOfHMetrics=Ye.tables.hhea.numberOfHMetrics;break;case"hmtx":Ae=jt;break;case"ltag":wt=un(Xe,jt),P=it(wt.data,wt.offset);break;case"maxp":wt=un(Xe,jt),Ye.tables.maxp=Qt(wt.data,wt.offset),Ye.numGlyphs=Ye.tables.maxp.numGlyphs;break;case"name":Ue=jt;break;case"OS/2":wt=un(Xe,jt),Ye.tables.os2=mb(wt.data,wt.offset);break;case"post":wt=un(Xe,jt),Ye.tables.post=Ad(wt.data,wt.offset),Ye.glyphNames=new Oe(Ye.tables.post);break;case"prep":wt=un(Xe,jt),ct=new He.Parser(wt.data,wt.offset),Ye.tables.prep=ct.parseByteList(jt.length);break;case"glyf":te=jt;break;case"loca":Fe=jt;break;case"CFF ":Z=jt;break;case"kern":Le=jt;break;case"GPOS":_e=jt;break;case"GSUB":xe=jt;break;case"meta":Re=jt}}if(Et=un(Xe,Ue),Ye.tables.name=Yr(Et.data,Et.offset,P),Ye.names=Ye.tables.name,te&&Fe)S=L===0,Et=un(Xe,Fe),Et=gl(Et.data,Et.offset,Ye.numGlyphs,S),S=un(Xe,te),Ye.glyphs=Du.parse(S.data,S.offset,Et,Ye);else{if(!Z)throw new Error("Font doesn't contain TrueType or CFF outlines.");S=un(Xe,Z),fr(S.data,S.offset,Ye)}for(var Et=un(Xe,Ae),er=(Ce(Et.data,Et.offset,Ye.numberOfHMetrics,Ye.numGlyphs,Ye.glyphs),Ye),ir=er.tables.cmap.glyphIndexMap,Tr=Object.keys(ir),Mr=0;Mr<Tr.length;Mr+=1){var Dr,pr=Tr[Mr],Wt=ir[pr];(Dr=er.glyphs.get(Wt)).addUnicode(parseInt(pr))}for(var cn=0;cn<er.glyphs.length;cn+=1)Dr=er.glyphs.get(cn),er.cffEncoding?er.isCIDFont?Dr.name="gid"+cn:Dr.name=er.cffEncoding.charset[cn]:er.glyphNames.names&&(Dr.name=er.glyphNames.glyphIndexToName(cn));return Le?(S=un(Xe,Le),Ye.kerningPairs=Ty(S.data,S.offset)):Ye.kerningPairs={},_e&&(Et=un(Xe,_e),Ye.tables.gpos=Ay(Et.data,Et.offset),Ye.position.init()),xe&&(S=un(Xe,xe),Ye.tables.gsub=Uf(S.data,S.offset)),J&&(Et=un(Xe,J),Ye.tables.fvar=Ey(Et.data,Et.offset,Ye.names)),Re&&(S=un(Xe,Re),Ye.tables.meta=ay(S.data,S.offset),Ye.metas=Ye.tables.meta),Ye}c.Font=kr,c.Glyph=lt,c.Path=W,c.BoundingBox=B,c._parse=He,c.parse=Id,c.load=function(S,L){(typeof window>"u"?wb:xb)(S,function(P,z){if(P)return L(P);var Z;try{Z=Id(z)}catch(J){return L(J,null)}return L(null,Z)})},c.loadSync=function(S){return Id(Cd(t("fs").readFileSync(S)))},Object.defineProperty(c,"__esModule",{value:!0})})(typeof y=="object"&&A!==void 0?y:this.opentype={})}).call(this,t("buffer").Buffer)},{buffer:4,fs:2}],248:[function(t,A,y){(function(d){function c(j,o){for(var h=0,f=j.length-1;0<=f;f--){var l=j[f];l==="."?j.splice(f,1):l===".."?(j.splice(f,1),h++):h&&(j.splice(f,1),h--)}if(o)for(;h--;)j.unshift("..");return j}function u(j,o){if(j.filter)return j.filter(o);for(var h=[],f=0;f<j.length;f++)o(j[f],f,j)&&h.push(j[f]);return h}y.resolve=function(){for(var j="",o=!1,h=arguments.length-1;-1<=h&&!o;h--){var f=0<=h?arguments[h]:d.cwd();if(typeof f!="string")throw new TypeError("Arguments to path.resolve must be strings");f&&(j=f+"/"+j,o=f.charAt(0)==="/")}return(o?"/":"")+(j=c(u(j.split("/"),function(l){return!!l}),!o).join("/"))||"."},y.normalize=function(j){var o=y.isAbsolute(j),h=x(j,-1)==="/";return(j=(j=c(u(j.split("/"),function(f){return!!f}),!o).join("/"))||o?j:".")&&h&&(j+="/"),(o?"/":"")+j},y.isAbsolute=function(j){return j.charAt(0)==="/"},y.join=function(){var j=Array.prototype.slice.call(arguments,0);return y.normalize(u(j,function(o,h){if(typeof o!="string")throw new TypeError("Arguments to path.join must be strings");return o}).join("/"))},y.relative=function(j,o){function h(E){for(var C=0;C<E.length&&E[C]==="";C++);for(var O=E.length-1;0<=O&&E[O]==="";O--);return O<C?[]:E.slice(C,O-C+1)}j=y.resolve(j).substr(1),o=y.resolve(o).substr(1);for(var f=h(j.split("/")),l=h(o.split("/")),m=Math.min(f.length,l.length),_=m,w=0;w<m;w++)if(f[w]!==l[w]){_=w;break}var v=[];for(w=_;w<f.length;w++)v.push("..");return(v=v.concat(l.slice(_))).join("/")},y.sep="/",y.delimiter=":",y.dirname=function(j){if(typeof j!="string"&&(j+=""),j.length===0)return".";for(var o=j.charCodeAt(0)===47,h=-1,f=!0,l=j.length-1;1<=l;--l)if(j.charCodeAt(l)===47){if(!f){h=l;break}}else f=!1;return h===-1?o?"/":".":o&&h===1?"/":j.slice(0,h)},y.basename=function(j,o){return j=function(h){typeof h!="string"&&(h+="");for(var f=0,l=-1,m=!0,_=h.length-1;0<=_;--_)if(h.charCodeAt(_)===47){if(!m){f=_+1;break}}else l===-1&&(m=!1,l=_+1);return l===-1?"":h.slice(f,l)}(j),o&&j.substr(-1*o.length)===o?j.substr(0,j.length-o.length):j},y.extname=function(j){typeof j!="string"&&(j+="");for(var o=-1,h=0,f=-1,l=!0,m=0,_=j.length-1;0<=_;--_){var w=j.charCodeAt(_);if(w===47){if(l)continue;h=_+1;break}f===-1&&(l=!1,f=_+1),w===46?o===-1?o=_:m!==1&&(m=1):o!==-1&&(m=-1)}return o===-1||f===-1||m===0||m===1&&o===f-1&&o===h+1?"":j.slice(o,f)};var x="ab".substr(-1)==="b"?function(j,o,h){return j.substr(o,h)}:function(j,o,h){return o<0&&(o=j.length+o),j.substr(o,h)}}).call(this,t("_process"))},{_process:249}],249:[function(t,A,y){var d,c;A=A.exports={};function u(){throw new Error("setTimeout has not been defined")}function x(){throw new Error("clearTimeout has not been defined")}try{d=typeof setTimeout=="function"?setTimeout:u}catch{d=u}try{c=typeof clearTimeout=="function"?clearTimeout:x}catch{c=x}function j(E){if(d===setTimeout)return setTimeout(E,0);if((d===u||!d)&&setTimeout)return(d=setTimeout)(E,0);try{return d(E,0)}catch{try{return d.call(null,E,0)}catch{return d.call(this,E,0)}}}var o,h=[],f=!1,l=-1;function m(){f&&o&&(f=!1,o.length?h=o.concat(h):l=-1,h.length&&_())}function _(){if(!f){for(var E=j(m),C=(f=!0,h.length);C;){for(o=h,h=[];++l<C;)o&&o[l].run();l=-1,C=h.length}o=null,f=!1,function(O){if(c===clearTimeout)return clearTimeout(O);if((c===x||!c)&&clearTimeout)return(c=clearTimeout)(O);try{c(O)}catch{try{return c.call(null,O)}catch{return c.call(this,O)}}}(E)}}function w(E,C){this.fun=E,this.array=C}function v(){}A.nextTick=function(E){var C=new Array(arguments.length-1);if(1<arguments.length)for(var O=1;O<arguments.length;O++)C[O-1]=arguments[O];h.push(new w(E,C)),h.length!==1||f||j(_)},w.prototype.run=function(){this.fun.apply(null,this.array)},A.title="browser",A.browser=!0,A.env={},A.argv=[],A.version="",A.versions={},A.on=v,A.addListener=v,A.once=v,A.off=v,A.removeListener=v,A.removeAllListeners=v,A.emit=v,A.prependListener=v,A.prependOnceListener=v,A.listeners=function(E){return[]},A.binding=function(E){throw new Error("process.binding is not supported")},A.cwd=function(){return"/"},A.chdir=function(E){throw new Error("process.chdir is not supported")},A.umask=function(){return 0}},{}],250:[function(t,A,y){A=function(d){var c,u=Object.prototype,x=u.hasOwnProperty,j=(N=typeof Symbol=="function"?Symbol:{}).iterator||"@@iterator",o=N.asyncIterator||"@@asyncIterator",h=N.toStringTag||"@@toStringTag";function f(K,ee,re,oe){var le,me,$,Q;return ee=ee&&ee.prototype instanceof C?ee:C,ee=Object.create(ee.prototype),oe=new X(oe||[]),ee._invoke=(le=K,me=re,$=oe,Q=m,function(se,de){if(Q===w)throw new Error("Generator is already running");if(Q===v){if(se==="throw")throw de;return W()}for($.method=se,$.arg=de;;){var ge=$.delegate;if(ge&&(ge=function ve(ae,ye){var Se=ae.iterator[ye.method];if(Se===c){if(ye.delegate=null,ye.method==="throw"){if(ae.iterator.return&&(ye.method="return",ye.arg=c,ve(ae,ye),ye.method==="throw"))return E;ye.method="throw",ye.arg=new TypeError("The iterator does not provide a 'throw' method")}return E}return(Se=l(Se,ae.iterator,ye.arg)).type==="throw"?(ye.method="throw",ye.arg=Se.arg,ye.delegate=null,E):(Se=Se.arg)?Se.done?(ye[ae.resultName]=Se.value,ye.next=ae.nextLoc,ye.method!=="return"&&(ye.method="next",ye.arg=c),ye.delegate=null,E):Se:(ye.method="throw",ye.arg=new TypeError("iterator result is not an object"),ye.delegate=null,E)}(ge,$))){if(ge===E)continue;return ge}if($.method==="next")$.sent=$._sent=$.arg;else if($.method==="throw"){if(Q===m)throw Q=v,$.arg;$.dispatchException($.arg)}else $.method==="return"&&$.abrupt("return",$.arg);if(Q=w,(ge=l(le,me,$)).type==="normal"){if(Q=$.done?v:_,ge.arg!==E)return{value:ge.arg,done:$.done}}else ge.type==="throw"&&(Q=v,$.method="throw",$.arg=ge.arg)}}),ee}function l(K,ee,re){try{return{type:"normal",arg:K.call(ee,re)}}catch(oe){return{type:"throw",arg:oe}}}d.wrap=f;var m="suspendedStart",_="suspendedYield",w="executing",v="completed",E={};function C(){}function O(){}function U(){}var N,D,H=((D=(D=((N={})[j]=function(){return this},Object.getPrototypeOf))&&D(D(B([]))))&&D!==u&&x.call(D,j)&&(N=D),U.prototype=C.prototype=Object.create(N));function I(K){["next","throw","return"].forEach(function(ee){K[ee]=function(re){return this._invoke(ee,re)}})}function V(K){var ee;this._invoke=function(re,oe){function le(){return new Promise(function(me,$){(function Q(se,de,ge,ve){var ae;if((se=l(K[se],K,de)).type!=="throw")return(de=(ae=se.arg).value)&&typeof de=="object"&&x.call(de,"__await")?Promise.resolve(de.__await).then(function(ye){Q("next",ye,ge,ve)},function(ye){Q("throw",ye,ge,ve)}):Promise.resolve(de).then(function(ye){ae.value=ye,ge(ae)},function(ye){return Q("throw",ye,ge,ve)});ve(se.arg)})(re,oe,me,$)})}return ee=ee?ee.then(le,le):le()}}function G(K){var ee={tryLoc:K[0]};1 in K&&(ee.catchLoc=K[1]),2 in K&&(ee.finallyLoc=K[2],ee.afterLoc=K[3]),this.tryEntries.push(ee)}function q(K){var ee=K.completion||{};ee.type="normal",delete ee.arg,K.completion=ee}function X(K){this.tryEntries=[{tryLoc:"root"}],K.forEach(G,this),this.reset(!0)}function B(K){if(K){var ee,re=K[j];if(re)return re.call(K);if(typeof K.next=="function")return K;if(!isNaN(K.length))return ee=-1,(re=function oe(){for(;++ee<K.length;)if(x.call(K,ee))return oe.value=K[ee],oe.done=!1,oe;return oe.value=c,oe.done=!0,oe}).next=re}return{next:W}}function W(){return{value:c,done:!0}}return(O.prototype=H.constructor=U).constructor=O,U[h]=O.displayName="GeneratorFunction",d.isGeneratorFunction=function(K){return!!(K=typeof K=="function"&&K.constructor)&&(K===O||(K.displayName||K.name)==="GeneratorFunction")},d.mark=function(K){return Object.setPrototypeOf?Object.setPrototypeOf(K,U):(K.__proto__=U,h in K||(K[h]="GeneratorFunction")),K.prototype=Object.create(H),K},d.awrap=function(K){return{__await:K}},I(V.prototype),V.prototype[o]=function(){return this},d.AsyncIterator=V,d.async=function(K,ee,re,oe){var le=new V(f(K,ee,re,oe));return d.isGeneratorFunction(ee)?le:le.next().then(function(me){return me.done?me.value:le.next()})},I(H),H[h]="Generator",H[j]=function(){return this},H.toString=function(){return"[object Generator]"},d.keys=function(K){var ee,re=[];for(ee in K)re.push(ee);return re.reverse(),function oe(){for(;re.length;){var le=re.pop();if(le in K)return oe.value=le,oe.done=!1,oe}return oe.done=!0,oe}},d.values=B,X.prototype={constructor:X,reset:function(K){if(this.prev=0,this.next=0,this.sent=this._sent=c,this.done=!1,this.delegate=null,this.method="next",this.arg=c,this.tryEntries.forEach(q),!K)for(var ee in this)ee.charAt(0)==="t"&&x.call(this,ee)&&!isNaN(+ee.slice(1))&&(this[ee]=c)},stop:function(){this.done=!0;var K=this.tryEntries[0].completion;if(K.type==="throw")throw K.arg;return this.rval},dispatchException:function(K){if(this.done)throw K;var ee=this;function re(se,de){return me.type="throw",me.arg=K,ee.next=se,de&&(ee.method="next",ee.arg=c),!!de}for(var oe=this.tryEntries.length-1;0<=oe;--oe){var le=this.tryEntries[oe],me=le.completion;if(le.tryLoc==="root")return re("end");if(le.tryLoc<=this.prev){var $=x.call(le,"catchLoc"),Q=x.call(le,"finallyLoc");if($&&Q){if(this.prev<le.catchLoc)return re(le.catchLoc,!0);if(this.prev<le.finallyLoc)return re(le.finallyLoc)}else if($){if(this.prev<le.catchLoc)return re(le.catchLoc,!0)}else{if(!Q)throw new Error("try statement without catch or finally");if(this.prev<le.finallyLoc)return re(le.finallyLoc)}}}},abrupt:function(K,ee){for(var re=this.tryEntries.length-1;0<=re;--re){var oe=this.tryEntries[re];if(oe.tryLoc<=this.prev&&x.call(oe,"finallyLoc")&&this.prev<oe.finallyLoc){var le=oe;break}}var me=(le=le&&(K==="break"||K==="continue")&&le.tryLoc<=ee&&ee<=le.finallyLoc?null:le)?le.completion:{};return me.type=K,me.arg=ee,le?(this.method="next",this.next=le.finallyLoc,E):this.complete(me)},complete:function(K,ee){if(K.type==="throw")throw K.arg;return K.type==="break"||K.type==="continue"?this.next=K.arg:K.type==="return"?(this.rval=this.arg=K.arg,this.method="return",this.next="end"):K.type==="normal"&&ee&&(this.next=ee),E},finish:function(K){for(var ee=this.tryEntries.length-1;0<=ee;--ee){var re=this.tryEntries[ee];if(re.finallyLoc===K)return this.complete(re.completion,re.afterLoc),q(re),E}},catch:function(K){for(var ee=this.tryEntries.length-1;0<=ee;--ee){var re,oe,le=this.tryEntries[ee];if(le.tryLoc===K)return(re=le.completion).type==="throw"&&(oe=re.arg,q(le)),oe}throw new Error("illegal catch attempt")},delegateYield:function(K,ee,re){return this.delegate={iterator:B(K),resultName:ee,nextLoc:re},this.method==="next"&&(this.arg=c),E}},d}(typeof A=="object"?A.exports:{});try{regeneratorRuntime=A}catch{Function("r","regeneratorRuntime = r")(A)}},{}],251:[function(t,A,y){(function(d){var c,u,x,j,o,h,f,l,m,_;function w(q){if(typeof q!="string"&&(q=String(q)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(q))throw new TypeError("Invalid character in header field name");return q.toLowerCase()}function v(q){return typeof q!="string"?String(q):q}function E(q){var X={next:function(){var B=q.shift();return{done:B===void 0,value:B}}};return u&&(X[Symbol.iterator]=function(){return X}),X}function C(q){this.map={},q instanceof C?q.forEach(function(X,B){this.append(B,X)},this):Array.isArray(q)?q.forEach(function(X){this.append(X[0],X[1])},this):q&&Object.getOwnPropertyNames(q).forEach(function(X){this.append(X,q[X])},this)}function O(q){if(q.bodyUsed)return Promise.reject(new TypeError("Already read"));q.bodyUsed=!0}function U(q){return new Promise(function(X,B){q.onload=function(){X(q.result)},q.onerror=function(){B(q.error)}})}function N(q){var X=new FileReader,B=U(X);return X.readAsArrayBuffer(q),B}function D(q){var X;return q.slice?q.slice(0):((X=new Uint8Array(q.byteLength)).set(new Uint8Array(q)),X.buffer)}function H(){return this.bodyUsed=!1,this._initBody=function(q){if(this._bodyInit=q)if(typeof q=="string")this._bodyText=q;else if(x&&Blob.prototype.isPrototypeOf(q))this._bodyBlob=q;else if(j&&FormData.prototype.isPrototypeOf(q))this._bodyFormData=q;else if(c&&URLSearchParams.prototype.isPrototypeOf(q))this._bodyText=q.toString();else if(o&&x&&f(q))this._bodyArrayBuffer=D(q.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!o||!ArrayBuffer.prototype.isPrototypeOf(q)&&!l(q))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=D(q)}else this._bodyText="";this.headers.get("content-type")||(typeof q=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):c&&URLSearchParams.prototype.isPrototypeOf(q)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},x&&(this.blob=function(){var q=O(this);if(q)return q;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?O(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(N)}),this.text=function(){var q,X,B=O(this);if(B)return B;if(this._bodyBlob)return B=this._bodyBlob,X=U(q=new FileReader),q.readAsText(B),X;if(this._bodyArrayBuffer)return Promise.resolve(function(W){for(var K=new Uint8Array(W),ee=new Array(K.length),re=0;re<K.length;re++)ee[re]=String.fromCharCode(K[re]);return ee.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},j&&(this.formData=function(){return this.text().then(V)}),this.json=function(){return this.text().then(JSON.parse)},this}function I(q,X){var B,W=(X=X||{}).body;if(q instanceof I){if(q.bodyUsed)throw new TypeError("Already read");this.url=q.url,this.credentials=q.credentials,X.headers||(this.headers=new C(q.headers)),this.method=q.method,this.mode=q.mode,W||q._bodyInit==null||(W=q._bodyInit,q.bodyUsed=!0)}else this.url=String(q);if(this.credentials=X.credentials||this.credentials||"omit",!X.headers&&this.headers||(this.headers=new C(X.headers)),this.method=(B=(q=X.method||this.method||"GET").toUpperCase(),-1<m.indexOf(B)?B:q),this.mode=X.mode||this.mode||null,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&W)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(W)}function V(q){var X=new FormData;return q.trim().split("&").forEach(function(B){var W;B&&(W=(B=B.split("=")).shift().replace(/\+/g," "),B=B.join("=").replace(/\+/g," "),X.append(decodeURIComponent(W),decodeURIComponent(B)))}),X}function G(q,X){X=X||{},this.type="default",this.status=X.status===void 0?200:X.status,this.ok=200<=this.status&&this.status<300,this.statusText="statusText"in X?X.statusText:"OK",this.headers=new C(X.headers),this.url=X.url||"",this._initBody(q)}d.fetch||(c="URLSearchParams"in d,u="Symbol"in d&&"iterator"in Symbol,x="FileReader"in d&&"Blob"in d&&function(){try{return new Blob,!0}catch{return!1}}(),j="FormData"in d,(o="ArrayBuffer"in d)&&(h=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],f=function(q){return q&&DataView.prototype.isPrototypeOf(q)},l=ArrayBuffer.isView||function(q){return q&&-1<h.indexOf(Object.prototype.toString.call(q))}),C.prototype.append=function(q,X){q=w(q),X=v(X);var B=this.map[q];this.map[q]=B?B+","+X:X},C.prototype.delete=function(q){delete this.map[w(q)]},C.prototype.get=function(q){return q=w(q),this.has(q)?this.map[q]:null},C.prototype.has=function(q){return this.map.hasOwnProperty(w(q))},C.prototype.set=function(q,X){this.map[w(q)]=v(X)},C.prototype.forEach=function(q,X){for(var B in this.map)this.map.hasOwnProperty(B)&&q.call(X,this.map[B],B,this)},C.prototype.keys=function(){var q=[];return this.forEach(function(X,B){q.push(B)}),E(q)},C.prototype.values=function(){var q=[];return this.forEach(function(X){q.push(X)}),E(q)},C.prototype.entries=function(){var q=[];return this.forEach(function(X,B){q.push([B,X])}),E(q)},u&&(C.prototype[Symbol.iterator]=C.prototype.entries),m=["DELETE","GET","HEAD","OPTIONS","POST","PUT"],I.prototype.clone=function(){return new I(this,{body:this._bodyInit})},H.call(I.prototype),H.call(G.prototype),G.prototype.clone=function(){return new G(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new C(this.headers),url:this.url})},G.error=function(){var q=new G(null,{status:0,statusText:""});return q.type="error",q},_=[301,302,303,307,308],G.redirect=function(q,X){if(_.indexOf(X)===-1)throw new RangeError("Invalid status code");return new G(null,{status:X,headers:{location:q}})},d.Headers=C,d.Request=I,d.Response=G,d.fetch=function(q,X){return new Promise(function(B,W){var K=new I(q,X),ee=new XMLHttpRequest;ee.onload=function(){var re,oe={status:ee.status,statusText:ee.statusText,headers:(oe=ee.getAllResponseHeaders()||"",re=new C,oe.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(me){var $=(me=me.split(":")).shift().trim();$&&(me=me.join(":").trim(),re.append($,me))}),re)},le=(oe.url="responseURL"in ee?ee.responseURL:oe.headers.get("X-Request-URL"),"response"in ee?ee.response:ee.responseText);B(new G(le,oe))},ee.onerror=function(){W(new TypeError("Network request failed"))},ee.ontimeout=function(){W(new TypeError("Network request failed"))},ee.open(K.method,K.url,!0),K.credentials==="include"?ee.withCredentials=!0:K.credentials==="omit"&&(ee.withCredentials=!1),"responseType"in ee&&x&&(ee.responseType="blob"),K.headers.forEach(function(re,oe){ee.setRequestHeader(oe,re)}),ee.send(K._bodyInit===void 0?null:K._bodyInit)})},d.fetch.polyfill=!0)})(typeof self<"u"?self:this)},{}],252:[function(t,A,y){t("core-js/modules/es.function.name"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.split"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.split"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var d,c=x(t("../core/main")),u=x(t("../color/color_conversion"));function x(h){return h&&h.__esModule?h:{default:h}}var j=[{h:0,s:0,b:.8275,name:"gray"},{h:0,s:0,b:.8627,name:"gray"},{h:0,s:0,b:.7529,name:"gray"},{h:.0167,s:.1176,b:1,name:"light pink"}],o=[{h:0,s:0,b:0,name:"black"},{h:0,s:0,b:.5,name:"gray"},{h:0,s:0,b:1,name:"white"},{h:0,s:.5,b:.5,name:"dark maroon"},{h:0,s:.5,b:1,name:"salmon pink"},{h:0,s:1,b:0,name:"black"},{h:0,s:1,b:.5,name:"dark red"},{h:0,s:1,b:1,name:"red"},{h:5,s:0,b:1,name:"very light peach"},{h:5,s:.5,b:.5,name:"brown"},{h:5,s:.5,b:1,name:"peach"},{h:5,s:1,b:.5,name:"brick red"},{h:5,s:1,b:1,name:"crimson"},{h:10,s:0,b:1,name:"light peach"},{h:10,s:.5,b:.5,name:"brown"},{h:10,s:.5,b:1,name:"light orange"},{h:10,s:1,b:.5,name:"brown"},{h:10,s:1,b:1,name:"orange"},{h:15,s:0,b:1,name:"very light yellow"},{h:15,s:.5,b:.5,name:"olive green"},{h:15,s:.5,b:1,name:"light yellow"},{h:15,s:1,b:0,name:"dark olive green"},{h:15,s:1,b:.5,name:"olive green"},{h:15,s:1,b:1,name:"yellow"},{h:20,s:0,b:1,name:"very light yellow"},{h:20,s:.5,b:.5,name:"olive green"},{h:20,s:.5,b:1,name:"light yellow green"},{h:20,s:1,b:0,name:"dark olive green"},{h:20,s:1,b:.5,name:"dark yellow green"},{h:20,s:1,b:1,name:"yellow green"},{h:25,s:.5,b:.5,name:"dark yellow green"},{h:25,s:.5,b:1,name:"light green"},{h:25,s:1,b:.5,name:"dark green"},{h:25,s:1,b:1,name:"green"},{h:30,s:.5,b:1,name:"light green"},{h:30,s:1,b:.5,name:"dark green"},{h:30,s:1,b:1,name:"green"},{h:35,s:0,b:.5,name:"light green"},{h:35,s:0,b:1,name:"very light green"},{h:35,s:.5,b:.5,name:"dark green"},{h:35,s:.5,b:1,name:"light green"},{h:35,s:1,b:0,name:"very dark green"},{h:35,s:1,b:.5,name:"dark green"},{h:35,s:1,b:1,name:"green"},{h:40,s:0,b:1,name:"very light green"},{h:40,s:.5,b:.5,name:"dark green"},{h:40,s:.5,b:1,name:"light green"},{h:40,s:1,b:.5,name:"dark green"},{h:40,s:1,b:1,name:"green"},{h:45,s:.5,b:1,name:"light turquoise"},{h:45,s:1,b:.5,name:"dark turquoise"},{h:45,s:1,b:1,name:"turquoise"},{h:50,s:0,b:1,name:"light sky blue"},{h:50,s:.5,b:.5,name:"dark cyan"},{h:50,s:.5,b:1,name:"light cyan"},{h:50,s:1,b:.5,name:"dark cyan"},{h:50,s:1,b:1,name:"cyan"},{h:55,s:0,b:1,name:"light sky blue"},{h:55,s:.5,b:1,name:"light sky blue"},{h:55,s:1,b:.5,name:"dark blue"},{h:55,s:1,b:1,name:"sky blue"},{h:60,s:0,b:.5,name:"gray"},{h:60,s:0,b:1,name:"very light blue"},{h:60,s:.5,b:.5,name:"blue"},{h:60,s:.5,b:1,name:"light blue"},{h:60,s:1,b:.5,name:"navy blue"},{h:60,s:1,b:1,name:"blue"},{h:65,s:0,b:1,name:"lavender"},{h:65,s:.5,b:.5,name:"navy blue"},{h:65,s:.5,b:1,name:"light purple"},{h:65,s:1,b:.5,name:"dark navy blue"},{h:65,s:1,b:1,name:"blue"},{h:70,s:0,b:1,name:"lavender"},{h:70,s:.5,b:.5,name:"navy blue"},{h:70,s:.5,b:1,name:"lavender blue"},{h:70,s:1,b:.5,name:"dark navy blue"},{h:70,s:1,b:1,name:"blue"},{h:75,s:.5,b:1,name:"lavender"},{h:75,s:1,b:.5,name:"dark purple"},{h:75,s:1,b:1,name:"purple"},{h:80,s:.5,b:1,name:"pinkish purple"},{h:80,s:1,b:.5,name:"dark purple"},{h:80,s:1,b:1,name:"purple"},{h:85,s:0,b:1,name:"light pink"},{h:85,s:.5,b:.5,name:"purple"},{h:85,s:.5,b:1,name:"light fuchsia"},{h:85,s:1,b:.5,name:"dark fuchsia"},{h:85,s:1,b:1,name:"fuchsia"},{h:90,s:.5,b:.5,name:"dark fuchsia"},{h:90,s:.5,b:1,name:"hot pink"},{h:90,s:1,b:.5,name:"dark fuchsia"},{h:90,s:1,b:1,name:"fuchsia"},{h:95,s:0,b:1,name:"pink"},{h:95,s:.5,b:1,name:"light pink"},{h:95,s:1,b:.5,name:"dark magenta"},{h:95,s:1,b:1,name:"magenta"}];c.default.prototype._rgbColorName=function(h){h=u.default._rgbaToHSBA(h);var f,l,m=[(d=h)[0],h[1],h[2]];m[0]!==0&&(m[0]=Math.round(100*m[0]),(h=m[0].toString().split(""))[l=h.length-1]=parseInt(h[l]),h[l]<2.5?h[l]=0:2.5<=h[l]&&h[l]<7.5&&(h[l]=5),h.length===2?(h[0]=parseInt(h[0]),7.5<=h[l]&&(h[l]=0,h[0]=h[0]+1),m[0]=10*h[0]+h[1]):7.5<=h[l]?m[0]=10:m[0]=h[l]),m[2]=m[2]/255;for(var _=m.length-1;1<=_;_--)m[_]<=.25?m[_]=0:.25<m[_]&&m[_]<.75?m[_]=.5:m[_]=1;if(m[0]===0&&m[1]===0&&m[2]===1){for(var w=2;0<=w;w--)d[w]=Math.round(1e4*d[w])/1e4;for(var v=0;v<j.length;v++){if(j[v].h===d[0]&&j[v].s===d[1]&&j[v].b===d[2]){f=j[v].name;break}f="white"}}else for(var E=0;E<o.length;E++)if(o[E].h===m[0]&&o[E].s===m[1]&&o[E].b===m[2]){f=o[E].name;break}return f},t=c.default,y.default=t},{"../color/color_conversion":258,"../core/main":273,"core-js/modules/es.function.name":167,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.split":196}],253:[function(t,A,y){t("core-js/modules/es.array.concat"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.ends-with"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.ends-with"),t("core-js/modules/es.string.replace"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var d=(t=t("../core/main"))&&t.__esModule?t:{default:t},c="_Description",u="_fallbackDesc",x="_fallbackTable",j="_Label",o="_labelDesc",h="_labelTable";function f(l){if(l==="label"||l==="fallback")throw new Error("description should not be LABEL or FALLBACK");return l.endsWith(".")||l.endsWith(";")||l.endsWith(",")||l.endsWith("?")||l.endsWith("!")||(l+="."),l}d.default.prototype.describe=function(l,m){var _;d.default._validateParameters("describe",arguments),typeof l=="string"&&(_=this.canvas.id,l=f(l),this.dummyDOM||(this.dummyDOM=document.getElementById(_).parentNode),this.descriptions||(this.descriptions={}),this.descriptions.fallback?this.descriptions.fallback.innerHTML!==l&&(this.descriptions.fallback.innerHTML=l):this._describeHTML("fallback",l),m===this.LABEL&&(this.descriptions.label?this.descriptions.label.innerHTML!==l&&(this.descriptions.label.innerHTML=l):this._describeHTML("label",l)))},d.default.prototype.describeElement=function(l,m,_){var w,v;d.default._validateParameters("describeElement",arguments),typeof m=="string"&&typeof l=="string"&&(w=this.canvas.id,m=f(m),v=function(E){if(E==="label"||E==="fallback")throw new Error("element name should not be LABEL or FALLBACK");return E.endsWith(".")||E.endsWith(";")||E.endsWith(",")?E=E.replace(/.$/,":"):E.endsWith(":")||(E+=":"),E}(l),l=l.replace(/[^a-zA-Z0-9]/g,""),v='<th scope="row">'.concat(v,"</th><td>").concat(m,"</td>"),this.dummyDOM||(this.dummyDOM=document.getElementById(w).parentNode),this.descriptions?this.descriptions.fallbackElements||(this.descriptions.fallbackElements={}):this.descriptions={fallbackElements:{}},this.descriptions.fallbackElements[l]?this.descriptions.fallbackElements[l].innerHTML!==v&&(this.descriptions.fallbackElements[l].innerHTML=v):this._describeElementHTML("fallback",l,v),_===this.LABEL&&(this.descriptions.labelElements||(this.descriptions.labelElements={}),this.descriptions.labelElements[l]?this.descriptions.labelElements[l].innerHTML!==v&&(this.descriptions.labelElements[l].innerHTML=v):this._describeElementHTML("label",l,v)))},d.default.prototype._describeHTML=function(l,m){var _,w=this.canvas.id;l==="fallback"?(this.dummyDOM.querySelector("#".concat(w+c))?this.dummyDOM.querySelector("#"+w+x).insertAdjacentHTML("beforebegin",'<p id="'.concat(w+u,'"></p>')):(_='<div id="'.concat(w).concat(c,'" role="region" aria-label="Canvas Description"><p id="').concat(w).concat(u,'"></p></div>'),this.dummyDOM.querySelector("#".concat(w,"accessibleOutput"))?this.dummyDOM.querySelector("#".concat(w,"accessibleOutput")).insertAdjacentHTML("beforebegin",_):this.dummyDOM.querySelector("#".concat(w)).innerHTML=_),this.descriptions.fallback=this.dummyDOM.querySelector("#".concat(w).concat(u)),this.descriptions.fallback.innerHTML=m):l==="label"&&(this.dummyDOM.querySelector("#".concat(w+j))?this.dummyDOM.querySelector("#".concat(w+h))&&this.dummyDOM.querySelector("#".concat(w+h)).insertAdjacentHTML("beforebegin",'<p id="'.concat(w).concat(o,'"></p>')):(_='<div id="'.concat(w).concat(j,'" class="p5Label"><p id="').concat(w).concat(o,'"></p></div>'),this.dummyDOM.querySelector("#".concat(w,"accessibleOutputLabel"))?this.dummyDOM.querySelector("#".concat(w,"accessibleOutputLabel")).insertAdjacentHTML("beforebegin",_):this.dummyDOM.querySelector("#"+w).insertAdjacentHTML("afterend",_)),this.descriptions.label=this.dummyDOM.querySelector("#"+w+o),this.descriptions.label.innerHTML=m)},d.default.prototype._describeElementHTML=function(l,m,_){var w,v=this.canvas.id;l==="fallback"?(this.dummyDOM.querySelector("#".concat(v+c))?this.dummyDOM.querySelector("#"+v+x)||this.dummyDOM.querySelector("#"+v+u).insertAdjacentHTML("afterend",'<table id="'.concat(v).concat(x,'"><caption>Canvas elements and their descriptions</caption></table>')):(w='<div id="'.concat(v).concat(c,'" role="region" aria-label="Canvas Description"><table id="').concat(v).concat(x,'"><caption>Canvas elements and their descriptions</caption></table></div>'),this.dummyDOM.querySelector("#".concat(v,"accessibleOutput"))?this.dummyDOM.querySelector("#".concat(v,"accessibleOutput")).insertAdjacentHTML("beforebegin",w):this.dummyDOM.querySelector("#"+v).innerHTML=w),(w=document.createElement("tr")).id=v+"_fte_"+m,this.dummyDOM.querySelector("#"+v+x).appendChild(w),this.descriptions.fallbackElements[m]=this.dummyDOM.querySelector("#".concat(v).concat("_fte_").concat(m)),this.descriptions.fallbackElements[m].innerHTML=_):l==="label"&&(this.dummyDOM.querySelector("#".concat(v+j))?this.dummyDOM.querySelector("#".concat(v+h))||this.dummyDOM.querySelector("#"+v+o).insertAdjacentHTML("afterend",'<table id="'.concat(v+h,'"></table>')):(w='<div id="'.concat(v).concat(j,'" class="p5Label"><table id="').concat(v).concat(h,'"></table></div>'),this.dummyDOM.querySelector("#".concat(v,"accessibleOutputLabel"))?this.dummyDOM.querySelector("#".concat(v,"accessibleOutputLabel")).insertAdjacentHTML("beforebegin",w):this.dummyDOM.querySelector("#"+v).insertAdjacentHTML("afterend",w)),(l=document.createElement("tr")).id=v+"_lte_"+m,this.dummyDOM.querySelector("#"+v+h).appendChild(l),this.descriptions.labelElements[m]=this.dummyDOM.querySelector("#".concat(v).concat("_lte_").concat(m)),this.descriptions.labelElements[m].innerHTML=_)},t=d.default,y.default=t},{"../core/main":273,"core-js/modules/es.array.concat":151,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.string.ends-with":188,"core-js/modules/es.string.replace":194}],254:[function(t,A,y){t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.map"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.map"),t("core-js/modules/es.string.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0,(t=(t=t("../core/main"))&&t.__esModule?t:{default:t}).default.prototype._updateGridOutput=function(d){var c,u,x,j;this.dummyDOM.querySelector("#".concat(d,"_summary"))&&(c=this._accessibleOutputs[d],x=function(o,h,f,l){return h="".concat(h," canvas, ").concat(f," by ").concat(l," pixels, contains ").concat(o[0]),h=(o[0]===1?"".concat(h," shape: "):"".concat(h," shapes: ")).concat(o[1])}((u=function(o,h){var f,l="",m="",_=0;for(f in h){var w,v=0;for(w in h[f]){var E='<li id="'.concat(o,"shape").concat(_,'">').concat(h[f][w].color," ").concat(f,",");f==="line"?E+=" location = ".concat(h[f][w].pos,", length = ").concat(h[f][w].length," pixels"):(E+=" location = ".concat(h[f][w].pos),f!=="point"&&(E+=", area = ".concat(h[f][w].area," %")),E+="</li>"),l+=E,v++,_++}m=1<v?"".concat(m," ").concat(v," ").concat(f,"s"):"".concat(m," ").concat(v," ").concat(f)}return{numShapes:[_,m],details:l}}(d,this.ingredients.shapes)).numShapes,this.ingredients.colors.background,this.width,this.height),j=function(o,h){var f,l,m=0,_="",w=Array.from(Array(10),function(){return Array(10)});for(f in h)for(var v in h[f]){var E;E=f!=="line"?'<a href="#'.concat(o,"shape").concat(m,'">').concat(h[f][v].color," ").concat(f,"</a>"):'<a href="#'.concat(o,"shape").concat(m,'">').concat(h[f][v].color," ").concat(f," midpoint</a>"),w[h[f][v].loc.locY][h[f][v].loc.locX]?w[h[f][v].loc.locY][h[f][v].loc.locX]=w[h[f][v].loc.locY][h[f][v].loc.locX]+"  "+E:w[h[f][v].loc.locY][h[f][v].loc.locX]=E,m++}for(l in w){var C,O="<tr>";for(C in w[l])O+="<td>",w[l][C]!==void 0&&(O+=w[l][C]),O+="</td>";_=_+O+"</tr>"}return _}(d,this.ingredients.shapes),x!==c.summary.innerHTML&&(c.summary.innerHTML=x),j!==c.map.innerHTML&&(c.map.innerHTML=j),u.details!==c.shapeDetails.innerHTML&&(c.shapeDetails.innerHTML=u.details),this._accessibleOutputs[d]=c)},t=t.default,y.default=t},{"../core/main":273,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.from":157,"core-js/modules/es.array.map":163,"core-js/modules/es.string.iterator":190}],255:[function(t,A,y){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var d=(t=t("../core/main"))&&t.__esModule?t:{default:t};function c(u,x,j){return(x=Math.floor(u[0]/x*10))===10&&(x-=1),(u=Math.floor(u[1]/j*10))===10&&(u-=1),{locX:x,locY:u}}d.default.prototype.textOutput=function(u){d.default._validateParameters("textOutput",arguments),this._accessibleOutputs.text||(this._accessibleOutputs.text=!0,this._createOutput("textOutput","Fallback"),u===this.LABEL&&(this._accessibleOutputs.textLabel=!0,this._createOutput("textOutput","Label")))},d.default.prototype.gridOutput=function(u){d.default._validateParameters("gridOutput",arguments),this._accessibleOutputs.grid||(this._accessibleOutputs.grid=!0,this._createOutput("gridOutput","Fallback"),u===this.LABEL&&(this._accessibleOutputs.gridLabel=!0,this._createOutput("gridOutput","Label")))},d.default.prototype._addAccsOutput=function(){return this._accessibleOutputs||(this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1}),this._accessibleOutputs.grid||this._accessibleOutputs.text},d.default.prototype._createOutput=function(u,x){var j,o,h,f=this.canvas.id,l=(this.ingredients||(this.ingredients={shapes:{},colors:{background:"white",fill:"white",stroke:"black"},pShapes:""}),this.dummyDOM||(this.dummyDOM=document.getElementById(f).parentNode),"");x==="Fallback"?(j=f+u,this.dummyDOM.querySelector("#".concat(o=f+"accessibleOutput"))||(this.dummyDOM.querySelector("#".concat(f,"_Description"))?this.dummyDOM.querySelector("#".concat(f,"_Description")).insertAdjacentHTML("afterend",'<div id="'.concat(o,'" role="region" aria-label="Canvas Outputs"></div>')):this.dummyDOM.querySelector("#".concat(f)).innerHTML='<div id="'.concat(o,'" role="region" aria-label="Canvas Outputs"></div>'))):x==="Label"&&(j=f+u+(l=x),this.dummyDOM.querySelector("#".concat(o=f+"accessibleOutput"+x))||(this.dummyDOM.querySelector("#".concat(f,"_Label"))?this.dummyDOM.querySelector("#".concat(f,"_Label")):this.dummyDOM.querySelector("#".concat(f))).insertAdjacentHTML("afterend",'<div id="'.concat(o,'"></div>'))),this._accessibleOutputs[j]={},u==="textOutput"?(l="#".concat(f,"gridOutput").concat(l),h='<div id="'.concat(j,'">Text Output<div id="').concat(j,'Summary" aria-label="text output summary"><p id="').concat(j,'_summary"></p><ul id="').concat(j,'_list"></ul></div><table id="').concat(j,'_shapeDetails" summary="text output shape details"></table></div>'),this.dummyDOM.querySelector(l)?this.dummyDOM.querySelector(l).insertAdjacentHTML("beforebegin",h):this.dummyDOM.querySelector("#".concat(o)).innerHTML=h,this._accessibleOutputs[j].list=this.dummyDOM.querySelector("#".concat(j,"_list"))):u==="gridOutput"&&(l="#".concat(f,"textOutput").concat(l),h='<div id="'.concat(j,'">Grid Output<p id="').concat(j,'_summary" aria-label="grid output summary"><table id="').concat(j,'_map" summary="grid output content"></table><ul id="').concat(j,'_shapeDetails" aria-label="grid output shape details"></ul></div>'),this.dummyDOM.querySelector(l)?this.dummyDOM.querySelector(l).insertAdjacentHTML("afterend",h):this.dummyDOM.querySelector("#".concat(o)).innerHTML=h,this._accessibleOutputs[j].map=this.dummyDOM.querySelector("#".concat(j,"_map"))),this._accessibleOutputs[j].shapeDetails=this.dummyDOM.querySelector("#".concat(j,"_shapeDetails")),this._accessibleOutputs[j].summary=this.dummyDOM.querySelector("#".concat(j,"_summary"))},d.default.prototype._updateAccsOutput=function(){var u=this.canvas.id;JSON.stringify(this.ingredients.shapes)!==this.ingredients.pShapes&&(this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this._accessibleOutputs.text&&this._updateTextOutput(u+"textOutput"),this._accessibleOutputs.grid&&this._updateGridOutput(u+"gridOutput"),this._accessibleOutputs.textLabel&&this._updateTextOutput(u+"textOutputLabel"),this._accessibleOutputs.gridLabel&&this._updateGridOutput(u+"gridOutputLabel"))},d.default.prototype._accsBackground=function(u){this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this.ingredients.shapes={},this.ingredients.colors.backgroundRGBA!==u&&(this.ingredients.colors.backgroundRGBA=u,this.ingredients.colors.background=this._rgbColorName(u))},d.default.prototype._accsCanvasColors=function(u,x){u==="fill"?this.ingredients.colors.fillRGBA!==x&&(this.ingredients.colors.fillRGBA=x,this.ingredients.colors.fill=this._rgbColorName(x)):u==="stroke"&&this.ingredients.colors.strokeRGBA!==x&&(this.ingredients.colors.strokeRGBA=x,this.ingredients.colors.stroke=this._rgbColorName(x))},d.default.prototype._accsOutput=function(u,x){u==="ellipse"&&x[2]===x[3]?u="circle":u==="rectangle"&&x[2]===x[3]&&(u="square");var j,o,h={},f=!0,l=function(_,w){var v;return _=_==="rectangle"||_==="ellipse"||_==="arc"||_==="circle"||_==="square"?(v=Math.round(w[0]+w[2]/2),Math.round(w[1]+w[3]/2)):_==="triangle"?(v=(w[0]+w[2]+w[4])/3,(w[1]+w[3]+w[5])/3):_==="quadrilateral"?(v=(w[0]+w[2]+w[4]+w[6])/4,(w[1]+w[3]+w[5]+w[7])/4):_==="line"?(v=(w[0]+w[2])/2,(w[1]+w[3])/2):(v=w[0],w[1]),[v,_]}(u,x);if(u==="line"?(h.color=this.ingredients.colors.stroke,h.length=Math.round(this.dist(x[0],x[1],x[2],x[3])),j=this._getPos(x[0],[1]),o=this._getPos(x[2],[3]),h.loc=c(l,this.width,this.height),h.pos=j===o?"at ".concat(j):"from ".concat(j," to ").concat(o)):(u==="point"?h.color=this.ingredients.colors.stroke:(h.color=this.ingredients.colors.fill,h.area=this._getArea(u,x)),h.pos=this._getPos.apply(this,function(_){return function(w){if(Array.isArray(w)){for(var v=0,E=new Array(w.length);v<w.length;v++)E[v]=w[v];return E}}(_)||function(w){if(Symbol.iterator in Object(w)||Object.prototype.toString.call(w)==="[object Arguments]")return Array.from(w)}(_)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}(l)),h.loc=c(l,this.width,this.height)),this.ingredients.shapes[u]){if(this.ingredients.shapes[u]!==[h]){for(var m in this.ingredients.shapes[u])JSON.stringify(this.ingredients.shapes[u][m])===JSON.stringify(h)&&(f=!1);f===!0&&this.ingredients.shapes[u].push(h)}}else this.ingredients.shapes[u]=[h]},d.default.prototype._getPos=function(u,x){u=new DOMPointReadOnly(u,x),x=this._renderer.isP3D?new DOMMatrix(this._renderer.uMVMatrix.mat4):this.drawingContext.getTransform(),x=(u=u.matrixTransform(x)).x,u=u.y;var j=this.width,o=this.height;return x<.4*j?u<.4*o?"top left":.6*o<u?"bottom left":"mid left":.6*j<x?u<.4*o?"top right":.6*o<u?"bottom right":"mid right":u<.4*o?"top middle":.6*o<u?"bottom middle":"middle"},d.default.prototype._getArea=function(u,x){var j,o,h=0,f=(u==="arc"?(h=(j=((x[5]-x[4])%(2*Math.PI)+2*Math.PI)%(2*Math.PI))*x[2]*x[3]/8,x[6]!=="open"&&x[6]!=="chord"||(o=x[0],w=x[1],f=x[0]+x[2]/2*Math.cos(x[4]).toFixed(2),v=x[1]+x[3]/2*Math.sin(x[4]).toFixed(2),m=x[0]+x[2]/2*Math.cos(x[5]).toFixed(2),l=x[1]+x[3]/2*Math.sin(x[5]).toFixed(2),o=Math.abs(o*(v-l)+f*(l-w)+m*(w-v))/2,j>Math.PI?h+=o:h-=o)):u==="ellipse"||u==="circle"?h=3.14*x[2]/2*x[3]/2:u==="line"||u==="point"?h=0:u==="quadrilateral"?h=Math.abs((x[6]+x[0])*(x[7]-x[1])+(x[0]+x[2])*(x[1]-x[3])+(x[2]+x[4])*(x[3]-x[5])+(x[4]+x[6])*(x[5]-x[7]))/2:u==="rectangle"||u==="square"?h=x[2]*x[3]:u==="triangle"&&(h=Math.abs(x[0]*(x[3]-x[5])+x[2]*(x[5]-x[1])+x[4]*(x[1]-x[3]))/2),this.width*this._pixelDensity),l=this.height*this._pixelDensity,m=[new DOMPoint(0,0),new DOMPoint(f,0),new DOMPoint(f,l),new DOMPoint(0,l)],_=(this._renderer.isP3D?new DOMMatrix(this._renderer.uMVMatrix.mat4):this.drawingContext.getTransform()).inverse(),w=m.map(function(E){return E.matrixTransform(_)}),v=Math.abs((w[3].x+w[0].x)*(w[3].y-w[0].y)+(w[0].x+w[1].x)*(w[0].y-w[1].y)+(w[1].x+w[2].x)*(w[1].y-w[2].y)+(w[2].x+w[3].x)*(w[2].y-w[3].y))/2;return Math.round(100*h/v)},t=d.default,y.default=t},{"../core/main":273,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.fill":154,"core-js/modules/es.array.from":157,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.map":163,"core-js/modules/es.number.to-fixed":173,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/web.dom-collections.iterator":236}],256:[function(t,A,y){t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.concat"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0,(t=(t=t("../core/main"))&&t.__esModule?t:{default:t}).default.prototype._updateTextOutput=function(d){var c,u,x,j;this.dummyDOM.querySelector("#".concat(d,"_summary"))&&(c=this._accessibleOutputs[d],x=function(o,h,f,l){return f="Your output is a, ".concat(f," by ").concat(l," pixels, ").concat(h," canvas containing the following"),f=o===1?"".concat(f," shape:"):"".concat(f," ").concat(o," shapes:")}((u=function(o,h){var f,l="",m=0;for(f in h)for(var _ in h[f]){var w='<li><a href="#'.concat(o,"shape").concat(m,'">').concat(h[f][_].color," ").concat(f,"</a>");f==="line"?w+=", ".concat(h[f][_].pos,", ").concat(h[f][_].length," pixels long.</li>"):(w+=", at ".concat(h[f][_].pos),f!=="point"&&(w+=", covering ".concat(h[f][_].area,"% of the canvas")),w+=".</li>"),l+=w,m++}return{numShapes:m,listShapes:l}}(d,this.ingredients.shapes)).numShapes,this.ingredients.colors.background,this.width,this.height),j=function(o,h){var f,l="",m=0;for(f in h)for(var _ in h[f]){var w='<tr id="'.concat(o,"shape").concat(m,'"><th>').concat(h[f][_].color," ").concat(f,"</th>");f==="line"?w+="<td>location = ".concat(h[f][_].pos,"</td><td>length = ").concat(h[f][_].length," pixels</td></tr>"):(w+="<td>location = ".concat(h[f][_].pos,"</td>"),f!=="point"&&(w+="<td> area = ".concat(h[f][_].area,"%</td>")),w+="</tr>"),l+=w,m++}return l}(d,this.ingredients.shapes),x!==c.summary.innerHTML&&(c.summary.innerHTML=x),u.listShapes!==c.list.innerHTML&&(c.list.innerHTML=u.listShapes),j!==c.shapeDetails.innerHTML&&(c.shapeDetails.innerHTML=j),this._accessibleOutputs[d]=c)},t=t.default,y.default=t},{"../core/main":273,"core-js/modules/es.array.concat":151}],257:[function(t,A,y){var d=(d=t("./core/main"))&&d.__esModule?d:{default:d};t("./core/constants"),t("./core/environment"),t("./core/friendly_errors/stacktrace"),t("./core/friendly_errors/validate_params"),t("./core/friendly_errors/file_errors"),t("./core/friendly_errors/fes_core"),t("./core/friendly_errors/sketch_reader"),t("./core/helpers"),t("./core/legacy"),t("./core/preload"),t("./core/p5.Element"),t("./core/p5.Graphics"),t("./core/p5.Renderer"),t("./core/p5.Renderer2D"),t("./core/rendering"),t("./core/shim"),t("./core/structure"),t("./core/transform"),t("./core/shape/2d_primitives"),t("./core/shape/attributes"),t("./core/shape/curves"),t("./core/shape/vertex"),t("./accessibility/outputs"),t("./accessibility/textOutput"),t("./accessibility/gridOutput"),t("./accessibility/color_namer"),t("./color/color_conversion"),t("./color/creating_reading"),t("./color/p5.Color"),t("./color/setting"),t("./data/p5.TypedDict"),t("./data/local_storage.js"),t("./dom/dom"),t("./accessibility/describe"),t("./events/acceleration"),t("./events/keyboard"),t("./events/mouse"),t("./events/touch"),t("./image/filters"),t("./image/image"),t("./image/loading_displaying"),t("./image/p5.Image"),t("./image/pixels"),t("./io/files"),t("./io/p5.Table"),t("./io/p5.TableRow"),t("./io/p5.XML"),t("./math/calculation"),t("./math/math"),t("./math/noise"),t("./math/p5.Vector"),t("./math/random"),t("./math/trigonometry"),t("./typography/attributes"),t("./typography/loading_displaying"),t("./typography/p5.Font"),t("./utilities/array_functions"),t("./utilities/conversion"),t("./utilities/string_functions"),t("./utilities/time_date"),t("./webgl/3d_primitives"),t("./webgl/interaction"),t("./webgl/light"),t("./webgl/loading"),t("./webgl/material"),t("./webgl/p5.Camera"),t("./webgl/p5.Geometry"),t("./webgl/p5.Matrix"),t("./webgl/p5.RendererGL.Immediate"),t("./webgl/p5.RendererGL"),t("./webgl/p5.RendererGL.Retained"),t("./webgl/p5.Framebuffer"),t("./webgl/p5.Shader"),t("./webgl/p5.RenderBuffer"),t("./webgl/p5.Texture"),t("./webgl/text"),t("./core/init"),A.exports=d.default},{"./accessibility/color_namer":252,"./accessibility/describe":253,"./accessibility/gridOutput":254,"./accessibility/outputs":255,"./accessibility/textOutput":256,"./color/color_conversion":258,"./color/creating_reading":259,"./color/p5.Color":260,"./color/setting":261,"./core/constants":262,"./core/environment":263,"./core/friendly_errors/fes_core":264,"./core/friendly_errors/file_errors":265,"./core/friendly_errors/sketch_reader":266,"./core/friendly_errors/stacktrace":267,"./core/friendly_errors/validate_params":268,"./core/helpers":269,"./core/init":270,"./core/legacy":272,"./core/main":273,"./core/p5.Element":274,"./core/p5.Graphics":275,"./core/p5.Renderer":276,"./core/p5.Renderer2D":277,"./core/preload":278,"./core/rendering":279,"./core/shape/2d_primitives":280,"./core/shape/attributes":281,"./core/shape/curves":282,"./core/shape/vertex":283,"./core/shim":284,"./core/structure":285,"./core/transform":286,"./data/local_storage.js":287,"./data/p5.TypedDict":288,"./dom/dom":289,"./events/acceleration":290,"./events/keyboard":291,"./events/mouse":292,"./events/touch":293,"./image/filters":294,"./image/image":295,"./image/loading_displaying":296,"./image/p5.Image":297,"./image/pixels":298,"./io/files":299,"./io/p5.Table":300,"./io/p5.TableRow":301,"./io/p5.XML":302,"./math/calculation":303,"./math/math":304,"./math/noise":305,"./math/p5.Vector":306,"./math/random":307,"./math/trigonometry":308,"./typography/attributes":309,"./typography/loading_displaying":310,"./typography/p5.Font":311,"./utilities/array_functions":312,"./utilities/conversion":313,"./utilities/string_functions":314,"./utilities/time_date":315,"./webgl/3d_primitives":316,"./webgl/interaction":317,"./webgl/light":318,"./webgl/loading":319,"./webgl/material":320,"./webgl/p5.Camera":321,"./webgl/p5.Framebuffer":322,"./webgl/p5.Geometry":323,"./webgl/p5.Matrix":324,"./webgl/p5.RenderBuffer":325,"./webgl/p5.RendererGL":328,"./webgl/p5.RendererGL.Immediate":326,"./webgl/p5.RendererGL.Retained":327,"./webgl/p5.Shader":329,"./webgl/p5.Texture":330,"./webgl/text":331}],258:[function(t,A,y){Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0,(t=(t=t("../core/main"))&&t.__esModule?t:{default:t}).default.ColorConversion={_hsbaToHSLA:function(d){var c=d[0],u=d[1],x=d[2],j=(2-u)*x/2;return j!=0&&(j==1?u=0:j<.5?u/=2-u:u=u*x/(2-2*j)),[c,u,j,d[3]]},_hsbaToRGBA:function(d){var c,u,x,j,o,h=6*d[0],f=d[1],l=d[2];return f===0?[l,l,l,d[3]]:(u=l*(1-f),x=l*(1-f*(h-(c=Math.floor(h)))),f=l*(1-f*(1+c-h)),h=c===1?(j=x,o=l,u):c===2?(j=u,o=l,f):c===3?(j=u,o=x,l):c===4?(j=f,o=u,l):c===5?(j=l,o=u,x):(j=l,o=f,u),[j,o,h,d[3]])},_hslaToHSBA:function(d){var c=d[0],u=d[1],x=d[2],j=x<.5?(1+u)*x:x+u-x*u;return[c,u=2*(j-x)/j,j,d[3]]},_hslaToRGBA:function(d){var c,u=6*d[0],x=d[1],j=d[2];return x===0?[j,j,j,d[3]]:[(c=function(o,h,f){return o<0?o+=6:6<=o&&(o-=6),o<1?h+(f-h)*o:o<3?f:o<4?h+(f-h)*(4-o):h})(2+u,x=2*j-(j=j<.5?(1+x)*j:j+x-j*x),j),c(u,x,j),c(u-2,x,j),d[3]]},_rgbaToHSBA:function(d){var c,u,x=d[0],j=d[1],o=d[2],h=Math.max(x,j,o),f=h-Math.min(x,j,o);return f==0?u=c=0:(u=f/h,x===h?c=(j-o)/f:j===h?c=2+(o-x)/f:o===h&&(c=4+(x-j)/f),c<0?c+=6:6<=c&&(c-=6)),[c/6,u,h,d[3]]},_rgbaToHSLA:function(d){var c,u,x,j=d[0],o=d[1],h=d[2],f=Math.max(j,o,h),l=f+(x=Math.min(j,o,h));return(x=f-x)==0?u=c=0:(u=l<1?x/l:x/(2-l),j===f?c=(o-h)/x:o===f?c=2+(h-j)/x:h===f&&(c=4+(j-o)/x),c<0?c+=6:6<=c&&(c-=6)),[c/6,u,l/2,d[3]]}},t=t.default.ColorConversion,y.default=t},{"../core/main":273}],259:[function(t,A,y){function d(o){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(o)}function c(o){return(c=typeof Symbol=="function"&&d(Symbol.iterator)==="symbol"?function(h){return d(h)}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":d(h)})(o)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.map"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var u=(j=t("../core/main"))&&j.__esModule?j:{default:j},x=function(o){if(o&&o.__esModule)return o;if(o===null||c(o)!=="object"&&typeof o!="function")return{default:o};var h=function(){var w;return typeof WeakMap!="function"?null:(w=new WeakMap,w)}();if(h&&h.has(o))return h.get(o);var f,l={},m=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(f in o){var _;Object.prototype.hasOwnProperty.call(o,f)&&((_=m?Object.getOwnPropertyDescriptor(o,f):null)&&(_.get||_.set)?Object.defineProperty(l,f,_):l[f]=o[f])}return l.default=o,h&&h.set(o,l),l}(t("../core/constants"));t("./p5.Color"),t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),u.default.prototype.alpha=function(o){return u.default._validateParameters("alpha",arguments),this.color(o)._getAlpha()},u.default.prototype.blue=function(o){return u.default._validateParameters("blue",arguments),this.color(o)._getBlue()},u.default.prototype.brightness=function(o){return u.default._validateParameters("brightness",arguments),this.color(o)._getBrightness()},u.default.prototype.color=function(){var o;return u.default._validateParameters("color",arguments),arguments[0]instanceof u.default.Color?arguments[0]:(o=arguments[0]instanceof Array?arguments[0]:arguments,new u.default.Color(this,o))},u.default.prototype.green=function(o){return u.default._validateParameters("green",arguments),this.color(o)._getGreen()},u.default.prototype.hue=function(o){return u.default._validateParameters("hue",arguments),this.color(o)._getHue()},u.default.prototype.lerpColor=function(o,h,f){u.default._validateParameters("lerpColor",arguments);var l,m,_,w=this._colorMode,v=this._colorMaxes;if(w===x.RGB)m=o.levels.map(function(E){return E/255}),_=h.levels.map(function(E){return E/255});else if(w===x.HSB)o._getBrightness(),h._getBrightness(),m=o.hsba,_=h.hsba;else{if(w!==x.HSL)throw new Error("".concat(w,"cannot be used for interpolation."));o._getLightness(),h._getLightness(),m=o.hsla,_=h.hsla}return f=Math.max(Math.min(f,1),0),this.lerp===void 0&&(this.lerp=function(E,C,O){return O*(C-E)+E}),o=this.lerp(m[0],_[0],f),h=this.lerp(m[1],_[1],f),l=this.lerp(m[2],_[2],f),m=this.lerp(m[3],_[3],f),o*=v[w][0],h*=v[w][1],l*=v[w][2],m*=v[w][3],this.color(o,h,l,m)},u.default.prototype.lightness=function(o){return u.default._validateParameters("lightness",arguments),this.color(o)._getLightness()},u.default.prototype.red=function(o){return u.default._validateParameters("red",arguments),this.color(o)._getRed()},u.default.prototype.saturation=function(o){return u.default._validateParameters("saturation",arguments),this.color(o)._getSaturation()};var j=u.default;y.default=j},{"../core/constants":262,"../core/friendly_errors/fes_core":264,"../core/friendly_errors/file_errors":265,"../core/friendly_errors/validate_params":268,"../core/main":273,"./p5.Color":260,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.map":163,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],260:[function(t,A,y){function d(v){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E})(v)}function c(v){return(c=typeof Symbol=="function"&&d(Symbol.iterator)==="symbol"?function(E){return d(E)}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":d(E)})(v)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.trim"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.trim"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var u=o(t("../core/main")),x=function(v){if(v&&v.__esModule)return v;if(v===null||c(v)!=="object"&&typeof v!="function")return{default:v};var E=function(){var D;return typeof WeakMap!="function"?null:(D=new WeakMap,D)}();if(E&&E.has(v))return E.get(v);var C,O={},U=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(C in v){var N;Object.prototype.hasOwnProperty.call(v,C)&&((N=U?Object.getOwnPropertyDescriptor(v,C):null)&&(N.get||N.set)?Object.defineProperty(O,C,N):O[C]=v[C])}return O.default=v,E&&E.set(v,O),O}(t("../core/constants")),j=o(t("./color_conversion"));function o(v){return v&&v.__esModule?v:{default:v}}function h(v,E){for(var C=0;C<E.length;C++){var O=E[C];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(v,O.key,O)}}var f={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},l=(t=/\s*/,/(\d{1,3})/),m=/((?:\d+(?:\.\d+)?)|(?:\.\d+))/,_=new RegExp("".concat(m.source,"%")),w={HEX3:/^#([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX4:/^#([a-f0-9])([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX6:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,HEX8:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,RGB:new RegExp(["^rgb\\(",l.source,",",l.source,",",l.source,"\\)$"].join(t.source),"i"),RGB_PERCENT:new RegExp(["^rgb\\(",_.source,",",_.source,",",_.source,"\\)$"].join(t.source),"i"),RGBA:new RegExp(["^rgba\\(",l.source,",",l.source,",",l.source,",",m.source,"\\)$"].join(t.source),"i"),RGBA_PERCENT:new RegExp(["^rgba\\(",_.source,",",_.source,",",_.source,",",m.source,"\\)$"].join(t.source),"i"),HSL:new RegExp(["^hsl\\(",l.source,",",_.source,",",_.source,"\\)$"].join(t.source),"i"),HSLA:new RegExp(["^hsla\\(",l.source,",",_.source,",",_.source,",",m.source,"\\)$"].join(t.source),"i"),HSB:new RegExp(["^hsb\\(",l.source,",",_.source,",",_.source,"\\)$"].join(t.source),"i"),HSBA:new RegExp(["^hsba\\(",l.source,",",_.source,",",_.source,",",m.source,"\\)$"].join(t.source),"i")};u.default.Color=function(){function v(U,N){if(!(this instanceof v))throw new TypeError("Cannot call a class as a function");if(this._storeModeAndMaxes(U._colorMode,U._colorMaxes),![x.RGB,x.HSL,x.HSB].includes(this.mode))throw new Error("".concat(this.mode," is an invalid colorMode."));this._array=v._parseInputs.apply(this,N),this._calculateLevels()}var E,C,O;return E=v,O=[{key:"_parseInputs",value:function(U,N,D,H){var I,V=arguments.length,G=this.mode,q=this.maxes[G],X=[];if(3<=V){for(X[0]=U/q[0],X[1]=N/q[1],X[2]=D/q[2],X[3]=typeof H=="number"?H/q[3]:1,I=X.length-1;0<=I;--I){var B=X[I];B<0?X[I]=0:1<B&&(X[I]=1)}return G===x.HSL?j.default._hslaToRGBA(X):G===x.HSB?j.default._hsbaToRGBA(X):X}if(V===1&&typeof U=="string"){if(D=U.trim().toLowerCase(),f[D])return v._parseInputs.call(this,f[D]);if(w.HEX3.test(D))return(X=w.HEX3.exec(D).slice(1).map(function(W){return parseInt(W+W,16)/255}))[3]=1,X;if(w.HEX6.test(D))return(X=w.HEX6.exec(D).slice(1).map(function(W){return parseInt(W,16)/255}))[3]=1,X;if(w.HEX4.test(D))return w.HEX4.exec(D).slice(1).map(function(W){return parseInt(W+W,16)/255});if(w.HEX8.test(D))return w.HEX8.exec(D).slice(1).map(function(W){return parseInt(W,16)/255});if(w.RGB.test(D))return(X=w.RGB.exec(D).slice(1).map(function(W){return W/255}))[3]=1,X;if(w.RGB_PERCENT.test(D))return(X=w.RGB_PERCENT.exec(D).slice(1).map(function(W){return parseFloat(W)/100}))[3]=1,X;if(w.RGBA.test(D))return w.RGBA.exec(D).slice(1).map(function(W,K){return K===3?parseFloat(W):W/255});if(w.RGBA_PERCENT.test(D))return w.RGBA_PERCENT.exec(D).slice(1).map(function(W,K){return K===3?parseFloat(W):parseFloat(W)/100});if(w.HSL.test(D)?(X=w.HSL.exec(D).slice(1).map(function(W,K){return K===0?parseInt(W,10)/360:parseInt(W,10)/100}))[3]=1:w.HSLA.test(D)&&(X=w.HSLA.exec(D).slice(1).map(function(W,K){return K===0?parseInt(W,10)/360:K===3?parseFloat(W):parseInt(W,10)/100})),(X=X.map(function(W){return Math.max(Math.min(W,1),0)})).length)return j.default._hslaToRGBA(X);if(w.HSB.test(D)?(X=w.HSB.exec(D).slice(1).map(function(W,K){return K===0?parseInt(W,10)/360:parseInt(W,10)/100}))[3]=1:w.HSBA.test(D)&&(X=w.HSBA.exec(D).slice(1).map(function(W,K){return K===0?parseInt(W,10)/360:K===3?parseFloat(W):parseInt(W,10)/100})),X.length){for(I=X.length-1;0<=I;--I)X[I]=Math.max(Math.min(X[I],1),0);return j.default._hsbaToRGBA(X)}X=[1,1,1,1]}else{if(V!==1&&V!==2||typeof U!="number")throw new Error("".concat(arguments,"is not a valid color representation."));X[0]=U/q[2],X[1]=U/q[2],X[2]=U/q[2],X[3]=typeof N=="number"?N/q[3]:1,X=X.map(function(W){return Math.max(Math.min(W,1),0)})}return X}}],(C=[{key:"toString",value:function(U){var N=this.levels,D=this._array,H=D[3];switch(U){case"#rrggbb":return"#".concat(N[0]<16?"0".concat(N[0].toString(16)):N[0].toString(16),N[1]<16?"0".concat(N[1].toString(16)):N[1].toString(16),N[2]<16?"0".concat(N[2].toString(16)):N[2].toString(16));case"#rrggbbaa":return"#".concat(N[0]<16?"0".concat(N[0].toString(16)):N[0].toString(16),N[1]<16?"0".concat(N[1].toString(16)):N[1].toString(16),N[2]<16?"0".concat(N[2].toString(16)):N[2].toString(16),N[3]<16?"0".concat(N[3].toString(16)):N[3].toString(16));case"#rgb":return"#".concat(Math.round(15*D[0]).toString(16),Math.round(15*D[1]).toString(16),Math.round(15*D[2]).toString(16));case"#rgba":return"#".concat(Math.round(15*D[0]).toString(16),Math.round(15*D[1]).toString(16),Math.round(15*D[2]).toString(16),Math.round(15*D[3]).toString(16));case"rgb":return"rgb(".concat(N[0],", ",N[1],", ",N[2],")");case"rgb%":return"rgb(".concat((100*D[0]).toPrecision(3),"%, ",(100*D[1]).toPrecision(3),"%, ",(100*D[2]).toPrecision(3),"%)");case"rgba%":return"rgba(".concat((100*D[0]).toPrecision(3),"%, ",(100*D[1]).toPrecision(3),"%, ",(100*D[2]).toPrecision(3),"%, ",(100*D[3]).toPrecision(3),"%)");case"hsb":case"hsv":return this.hsba||(this.hsba=j.default._rgbaToHSBA(this._array)),"hsb(".concat(this.hsba[0]*this.maxes[x.HSB][0],", ",this.hsba[1]*this.maxes[x.HSB][1],", ",this.hsba[2]*this.maxes[x.HSB][2],")");case"hsb%":case"hsv%":return this.hsba||(this.hsba=j.default._rgbaToHSBA(this._array)),"hsb(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%)");case"hsba":case"hsva":return this.hsba||(this.hsba=j.default._rgbaToHSBA(this._array)),"hsba(".concat(this.hsba[0]*this.maxes[x.HSB][0],", ",this.hsba[1]*this.maxes[x.HSB][1],", ",this.hsba[2]*this.maxes[x.HSB][2],", ",H,")");case"hsba%":case"hsva%":return this.hsba||(this.hsba=j.default._rgbaToHSBA(this._array)),"hsba(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%, ",(100*H).toPrecision(3),"%)");case"hsl":return this.hsla||(this.hsla=j.default._rgbaToHSLA(this._array)),"hsl(".concat(this.hsla[0]*this.maxes[x.HSL][0],", ",this.hsla[1]*this.maxes[x.HSL][1],", ",this.hsla[2]*this.maxes[x.HSL][2],")");case"hsl%":return this.hsla||(this.hsla=j.default._rgbaToHSLA(this._array)),"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%)");case"hsla":return this.hsla||(this.hsla=j.default._rgbaToHSLA(this._array)),"hsla(".concat(this.hsla[0]*this.maxes[x.HSL][0],", ",this.hsla[1]*this.maxes[x.HSL][1],", ",this.hsla[2]*this.maxes[x.HSL][2],", ",H,")");case"hsla%":return this.hsla||(this.hsla=j.default._rgbaToHSLA(this._array)),"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%, ",(100*H).toPrecision(3),"%)");default:return"rgba(".concat(N[0],",",N[1],",",N[2],",",H,")")}}},{key:"setRed",value:function(U){this._array[0]=U/this.maxes[x.RGB][0],this._calculateLevels()}},{key:"setGreen",value:function(U){this._array[1]=U/this.maxes[x.RGB][1],this._calculateLevels()}},{key:"setBlue",value:function(U){this._array[2]=U/this.maxes[x.RGB][2],this._calculateLevels()}},{key:"setAlpha",value:function(U){this._array[3]=U/this.maxes[this.mode][3],this._calculateLevels()}},{key:"_calculateLevels",value:function(){for(var U=this._array,N=this.levels=new Array(U.length),D=U.length-1;0<=D;--D)N[D]=Math.round(255*U[D]);this.hsla=null,this.hsba=null}},{key:"_getAlpha",value:function(){return this._array[3]*this.maxes[this.mode][3]}},{key:"_storeModeAndMaxes",value:function(U,N){this.mode=U,this.maxes=N}},{key:"_getMode",value:function(){return this.mode}},{key:"_getMaxes",value:function(){return this.maxes}},{key:"_getBlue",value:function(){return this._array[2]*this.maxes[x.RGB][2]}},{key:"_getBrightness",value:function(){return this.hsba||(this.hsba=j.default._rgbaToHSBA(this._array)),this.hsba[2]*this.maxes[x.HSB][2]}},{key:"_getGreen",value:function(){return this._array[1]*this.maxes[x.RGB][1]}},{key:"_getHue",value:function(){return this.mode===x.HSB?(this.hsba||(this.hsba=j.default._rgbaToHSBA(this._array)),this.hsba[0]*this.maxes[x.HSB][0]):(this.hsla||(this.hsla=j.default._rgbaToHSLA(this._array)),this.hsla[0]*this.maxes[x.HSL][0])}},{key:"_getLightness",value:function(){return this.hsla||(this.hsla=j.default._rgbaToHSLA(this._array)),this.hsla[2]*this.maxes[x.HSL][2]}},{key:"_getRed",value:function(){return this._array[0]*this.maxes[x.RGB][0]}},{key:"_getSaturation",value:function(){return this.mode===x.HSB?(this.hsba||(this.hsba=j.default._rgbaToHSBA(this._array)),this.hsba[1]*this.maxes[x.HSB][1]):(this.hsla||(this.hsla=j.default._rgbaToHSLA(this._array)),this.hsla[1]*this.maxes[x.HSL][1])}}])&&h(E.prototype,C),O&&h(E,O),v}(),l=u.default.Color,y.default=l},{"../core/constants":262,"../core/main":273,"./color_conversion":258,"core-js/modules/es.array.includes":158,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.join":161,"core-js/modules/es.array.map":163,"core-js/modules/es.array.slice":164,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.constructor":184,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.includes":189,"core-js/modules/es.string.iterator":190,"core-js/modules/es.string.trim":199,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],261:[function(t,A,y){function d(o){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(o)}function c(o){return(c=typeof Symbol=="function"&&d(Symbol.iterator)==="symbol"?function(h){return d(h)}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":d(h)})(o)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.fill"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var u=(j=t("../core/main"))&&j.__esModule?j:{default:j},x=function(o){if(o&&o.__esModule)return o;if(o===null||c(o)!=="object"&&typeof o!="function")return{default:o};var h=function(){var w;return typeof WeakMap!="function"?null:(w=new WeakMap,w)}();if(h&&h.has(o))return h.get(o);var f,l={},m=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(f in o){var _;Object.prototype.hasOwnProperty.call(o,f)&&((_=m?Object.getOwnPropertyDescriptor(o,f):null)&&(_.get||_.set)?Object.defineProperty(l,f,_):l[f]=o[f])}return l.default=o,h&&h.set(o,l),l}(t("../core/constants"));t("./p5.Color"),u.default.prototype.background=function(){var o;return(o=this._renderer).background.apply(o,arguments),this},u.default.prototype.clear=function(){return this._renderer.clear((arguments.length<=0?void 0:arguments[0])||0,(arguments.length<=1?void 0:arguments[1])||0,(arguments.length<=2?void 0:arguments[2])||0,(arguments.length<=3?void 0:arguments[3])||0),this},u.default.prototype.colorMode=function(o,h,f,l,m){return u.default._validateParameters("colorMode",arguments),o!==x.RGB&&o!==x.HSB&&o!==x.HSL||(this._colorMode=o,o=this._colorMaxes[o],arguments.length===2?(o[0]=h,o[1]=h,o[2]=h,o[3]=h):arguments.length===4?(o[0]=h,o[1]=f,o[2]=l):arguments.length===5&&(o[0]=h,o[1]=f,o[2]=l,o[3]=m)),this},u.default.prototype.fill=function(){var o;return this._renderer._setProperty("_fillSet",!0),this._renderer._setProperty("_doFill",!0),(o=this._renderer).fill.apply(o,arguments),this},u.default.prototype.noFill=function(){return this._renderer._setProperty("_doFill",!1),this},u.default.prototype.noStroke=function(){return this._renderer._setProperty("_doStroke",!1),this},u.default.prototype.stroke=function(){var o;return this._renderer._setProperty("_strokeSet",!0),this._renderer._setProperty("_doStroke",!0),(o=this._renderer).stroke.apply(o,arguments),this},u.default.prototype.erase=function(){return this._renderer.erase(0<arguments.length&&arguments[0]!==void 0?arguments[0]:255,1<arguments.length&&arguments[1]!==void 0?arguments[1]:255),this},u.default.prototype.noErase=function(){return this._renderer.noErase(),this};var j=u.default;y.default=j},{"../core/constants":262,"../core/main":273,"./p5.Color":260,"core-js/modules/es.array.fill":154,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],262:[function(t,A,y){Object.defineProperty(y,"__esModule",{value:!0}),y.QUADRATIC=y.LINEAR=y._CTX_MIDDLE=y._DEFAULT_LEADMULT=y._DEFAULT_TEXT_FILL=y.WORD=y.CHAR=y.BOLDITALIC=y.BOLD=y.ITALIC=y.NORMAL=y.BLUR=y.ERODE=y.DILATE=y.POSTERIZE=y.INVERT=y.OPAQUE=y.GRAY=y.THRESHOLD=y.BURN=y.DODGE=y.SOFT_LIGHT=y.HARD_LIGHT=y.OVERLAY=y.REPLACE=y.SCREEN=y.MULTIPLY=y.EXCLUSION=y.SUBTRACT=y.DIFFERENCE=y.LIGHTEST=y.DARKEST=y.ADD=y.REMOVE=y.BLEND=y.UP_ARROW=y.TAB=y.SHIFT=y.RIGHT_ARROW=y.RETURN=y.OPTION=y.LEFT_ARROW=y.ESCAPE=y.ENTER=y.DOWN_ARROW=y.DELETE=y.CONTROL=y.BACKSPACE=y.ALT=y.AUTO=y.HSL=y.HSB=y.RGB=y.MITER=y.BEVEL=y.ROUND=y.SQUARE=y.PROJECT=y.PIE=y.CHORD=y.OPEN=y.CLOSE=y.TESS=y.QUAD_STRIP=y.QUADS=y.TRIANGLE_STRIP=y.TRIANGLE_FAN=y.TRIANGLES=y.LINE_LOOP=y.LINE_STRIP=y.LINES=y.POINTS=y.BASELINE=y.BOTTOM=y.TOP=y.CENTER=y.LEFT=y.RIGHT=y.RADIUS=y.CORNERS=y.CORNER=y.RAD_TO_DEG=y.DEG_TO_RAD=y.RADIANS=y.DEGREES=y.TWO_PI=y.TAU=y.QUARTER_PI=y.PI=y.HALF_PI=y.WAIT=y.TEXT=y.MOVE=y.HAND=y.CROSS=y.ARROW=y.WEBGL2=y.WEBGL=y.P2D=y.VERSION=void 0,y.RGBA=y.HALF_FLOAT=y.FLOAT=y.UNSIGNED_INT=y.UNSIGNED_BYTE=y.COVER=y.CONTAIN=y.FALLBACK=y.LABEL=y.AXES=y.GRID=y._DEFAULT_FILL=y._DEFAULT_STROKE=y.PORTRAIT=y.LANDSCAPE=y.MIRROR=y.CLAMP=y.REPEAT=y.NEAREST=y.IMAGE=y.IMMEDIATE=y.TEXTURE=y.FILL=y.STROKE=y.CURVE=y.BEZIER=void 0;var d=Math.PI,c=(y.VERSION="1.7.0",y.P2D="p2d",y.WEBGL="webgl",y.WEBGL2="webgl2",y.ARROW="default",y.CROSS="crosshair",y.HAND="pointer",y.MOVE="move",y.TEXT="text",y.WAIT="wait",d/2);y.HALF_PI=c,c=d,y.PI=c,c=d/4,y.QUARTER_PI=c,c=2*d,y.TAU=c,c=2*d,y.TWO_PI=c,y.DEGREES="degrees",y.RADIANS="radians",c=d/180,y.DEG_TO_RAD=c,c=180/d,y.RAD_TO_DEG=c,y.CORNER="corner",y.CORNERS="corners",y.RADIUS="radius",y.RIGHT="right",y.LEFT="left",y.CENTER="center",y.TOP="top",y.BOTTOM="bottom",y.BASELINE="alphabetic",y.POINTS=0,y.LINES=1,y.LINE_STRIP=3,y.LINE_LOOP=2,y.TRIANGLES=4,y.TRIANGLE_FAN=6,y.TRIANGLE_STRIP=5,y.QUADS="quads",y.QUAD_STRIP="quad_strip",y.TESS="tess",y.CLOSE="close",y.OPEN="open",y.CHORD="chord",y.PIE="pie",y.PROJECT="square",y.SQUARE="butt",y.ROUND="round",y.BEVEL="bevel",y.MITER="miter",y.RGB="rgb",y.HSB="hsb",y.HSL="hsl",y.AUTO="auto",y.ALT=18,y.BACKSPACE=8,y.CONTROL=17,y.DELETE=46,y.DOWN_ARROW=40,y.ENTER=13,y.ESCAPE=27,y.LEFT_ARROW=37,y.OPTION=18,y.RETURN=13,y.RIGHT_ARROW=39,y.SHIFT=16,y.TAB=9,y.UP_ARROW=38,y.BLEND="source-over",y.REMOVE="destination-out",y.ADD="lighter",y.DARKEST="darken",y.LIGHTEST="lighten",y.DIFFERENCE="difference",y.SUBTRACT="subtract",y.EXCLUSION="exclusion",y.MULTIPLY="multiply",y.SCREEN="screen",y.REPLACE="copy",y.OVERLAY="overlay",y.HARD_LIGHT="hard-light",y.SOFT_LIGHT="soft-light",y.DODGE="color-dodge",y.BURN="color-burn",y.THRESHOLD="threshold",y.GRAY="gray",y.OPAQUE="opaque",y.INVERT="invert",y.POSTERIZE="posterize",y.DILATE="dilate",y.ERODE="erode",y.BLUR="blur",y.NORMAL="normal",y.ITALIC="italic",y.BOLD="bold",y.BOLDITALIC="bold italic",y.CHAR="CHAR",y.WORD="WORD",y._DEFAULT_TEXT_FILL="#000000",y._DEFAULT_LEADMULT=1.25,y._CTX_MIDDLE="middle",y.LINEAR="linear",y.QUADRATIC="quadratic",y.BEZIER="bezier",y.CURVE="curve",y.STROKE="stroke",y.FILL="fill",y.TEXTURE="texture",y.IMMEDIATE="immediate",y.IMAGE="image",y.NEAREST="nearest",y.REPEAT="repeat",y.CLAMP="clamp",y.MIRROR="mirror",y.LANDSCAPE="landscape",y.PORTRAIT="portrait",y._DEFAULT_STROKE="#000000",y._DEFAULT_FILL="#FFFFFF",y.GRID="grid",y.AXES="axes",y.LABEL="label",y.FALLBACK="fallback",y.CONTAIN="contain",y.COVER="cover",y.UNSIGNED_BYTE="unsigned-byte",y.UNSIGNED_INT="unsigned-int",y.FLOAT="float",y.HALF_FLOAT="half-float",y.RGBA="rgba"},{}],263:[function(t,A,y){function d(l){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(l)}function c(l){return(c=typeof Symbol=="function"&&d(Symbol.iterator)==="symbol"?function(m){return d(m)}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":d(m)})(l)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.search"),t("core-js/modules/es.string.split"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.search"),t("core-js/modules/es.string.split"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var u=(x=t("./main"))&&x.__esModule?x:{default:x},x=function(l){if(l&&l.__esModule)return l;if(l===null||c(l)!=="object"&&typeof l!="function")return{default:l};var m=function(){var C;return typeof WeakMap!="function"?null:(C=new WeakMap,C)}();if(m&&m.has(l))return m.get(l);var _,w={},v=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(_ in l){var E;Object.prototype.hasOwnProperty.call(l,_)&&((E=v?Object.getOwnPropertyDescriptor(l,_):null)&&(E.get||E.set)?Object.defineProperty(w,_,E):w[_]=l[_])}return w.default=l,m&&m.set(l,w),w}(t("./constants")),j=[x.ARROW,x.CROSS,x.HAND,x.MOVE,x.TEXT,x.WAIT],o=(u.default.prototype._frameRate=0,u.default.prototype._lastFrameTime=window.performance.now(),u.default.prototype._targetFrameRate=60,window.print);function h(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth||0}function f(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight||0}u.default.prototype.print=function(){var l;arguments.length?(l=console).log.apply(l,arguments):o()},u.default.prototype.frameCount=0,u.default.prototype.deltaTime=0,u.default.prototype.focused=document.hasFocus(),u.default.prototype.cursor=function(l,m,_){var w,v="auto",E=this._curElement.elt;j.includes(l)?v=l:typeof l=="string"&&(w="",m&&_&&typeof m=="number"&&typeof _=="number"&&(w="".concat(m," ").concat(_)),v=l.substring(0,7)==="http://"||l.substring(0,8)==="https://"||/\.(cur|jpg|jpeg|gif|png|CUR|JPG|JPEG|GIF|PNG)$/.test(l)?"url(".concat(l,") ").concat(w,", auto"):l),E.style.cursor=v},u.default.prototype.frameRate=function(l){return u.default._validateParameters("frameRate",arguments),typeof l!="number"||l<0?this._frameRate:(this._setProperty("_targetFrameRate",l),l===0&&this._setProperty("_frameRate",l),this)},u.default.prototype.getFrameRate=function(){return this.frameRate()},u.default.prototype.setFrameRate=function(l){return this.frameRate(l)},u.default.prototype.getTargetFrameRate=function(){return this._targetFrameRate},u.default.prototype.noCursor=function(){this._curElement.elt.style.cursor="none"},u.default.prototype.webglVersion=x.P2D,u.default.prototype.displayWidth=screen.width,u.default.prototype.displayHeight=screen.height,u.default.prototype.windowWidth=h(),u.default.prototype.windowHeight=f(),u.default.prototype._onresize=function(l){this._setProperty("windowWidth",h()),this._setProperty("windowHeight",f());var m=this._isGlobal?window:this;typeof m.windowResized!="function"||(m=m.windowResized(l))===void 0||m||l.preventDefault()},u.default.prototype.width=0,u.default.prototype.height=0,u.default.prototype.fullscreen=function(l){if(u.default._validateParameters("fullscreen",arguments),l===void 0)return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;if(l){if(l=document.documentElement,!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled))throw new Error("Fullscreen not enabled in this browser.");l.requestFullscreen?l.requestFullscreen():l.mozRequestFullScreen?l.mozRequestFullScreen():l.webkitRequestFullscreen?l.webkitRequestFullscreen():l.msRequestFullscreen&&l.msRequestFullscreen()}else document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()},u.default.prototype.pixelDensity=function(l){var m;return u.default._validateParameters("pixelDensity",arguments),typeof l=="number"?(l!==this._pixelDensity&&(this._pixelDensity=l),(m=this).resizeCanvas(this.width,this.height,!0)):m=this._pixelDensity,m},u.default.prototype.displayDensity=function(){return window.devicePixelRatio},u.default.prototype.getURL=function(){return location.href},u.default.prototype.getURLPath=function(){return location.pathname.split("/").filter(function(l){return l!==""})},u.default.prototype.getURLParams=function(){for(var l,m=/[?&]([^&=]+)(?:[&=])([^&=]+)/gim,_={};(l=m.exec(location.search))!=null;)l.index===m.lastIndex&&m.lastIndex++,_[l[1]]=l[2];return _},t=u.default,y.default=t},{"./constants":262,"./main":273,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.filter":155,"core-js/modules/es.array.includes":158,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.string.includes":189,"core-js/modules/es.string.iterator":190,"core-js/modules/es.string.search":195,"core-js/modules/es.string.split":196,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],264:[function(t,A,y){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.some"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-own-property-names"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.starts-with"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.some"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-own-property-names"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.starts-with"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var d=(o=t("../main"))&&o.__esModule?o:{default:o};function c(h,f){f=f||console.log.bind(console),u||x(),u.some(function(l){var m;if(h.message&&h.message.match("\\W?".concat(l.name,"\\W"))!==null)return m=l.type==="function"?"".concat(l.name,"()"):l.name,f("Did you just try to use p5.js's ".concat(m," ").concat(l.type,`? If so, you may want to move it into your sketch's setup() function.

For more details, see: `).concat(j)),!0})}t("../internationalization");var u=null,x=null,j=(d.default._friendlyError=d.default._checkForUserDefinedFunctions=d.default._fesErrorMonitor=function(){},u=null,"https://github.com/processing/p5.js/wiki/p5.js-overview#why-cant-i-assign-variables-using-p5-functions-and-variables-before-setup"),o=(x=function(){function h(l){return Object.getOwnPropertyNames(l).filter(function(m){return m[0]!=="_"&&!(m in f)&&(f[m]=!0)}).map(function(m){var _=typeof l[m]=="function"?"function":m===m.toUpperCase()?"constant":"variable";return{name:m,type:_}})}var f={};(u=[].concat(h(d.default.prototype),h(t("../constants")))).sort(function(l,m){return m.name.length-l.name.length})},d.default.prototype._helpForMisusedAtTopLevelCode=c,document.readyState!=="complete"&&(window.addEventListener("error",c,!1),window.addEventListener("load",function(){window.removeEventListener("error",c,!1)})),d.default);y.default=o},{"../constants":262,"../internationalization":271,"../main":273,"./browser_errors":void 0,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.filter":155,"core-js/modules/es.array.for-each":156,"core-js/modules/es.array.includes":158,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.join":161,"core-js/modules/es.array.map":163,"core-js/modules/es.array.slice":164,"core-js/modules/es.array.some":165,"core-js/modules/es.function.name":167,"core-js/modules/es.object.assign":174,"core-js/modules/es.object.get-own-property-names":177,"core-js/modules/es.object.keys":179,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.constructor":184,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.iterator":190,"core-js/modules/es.string.match":191,"core-js/modules/es.string.replace":194,"core-js/modules/es.string.split":196,"core-js/modules/es.string.starts-with":197,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/web.dom-collections.for-each":235,"core-js/modules/web.dom-collections.iterator":236}],265:[function(t,A,y){Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var d=(d=t("../main"))&&d.__esModule?d:{default:d};t("../internationalization"),d.default._friendlyFileLoadError=function(){},t=d.default,y.default=t},{"../internationalization":271,"../main":273}],266:[function(t,A,y){function d(o){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(o)}function c(o){return(c=typeof Symbol=="function"&&d(Symbol.iterator)==="symbol"?function(h){return d(h)}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":d(h)})(o)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var u=function(o){return o&&o.__esModule?o:{default:o}}(t("../main"));t("../internationalization"),function(o){if(o&&o.__esModule)return o;if(o===null||c(o)!=="object"&&typeof o!="function")return{default:o};var h=x();if(h&&h.has(o))return h.get(o);var f,l,m={},_=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(f in o)Object.prototype.hasOwnProperty.call(o,f)&&((l=_?Object.getOwnPropertyDescriptor(o,f):null)&&(l.get||l.set)?Object.defineProperty(m,f,l):m[f]=o[f]);m.default=o,h&&h.set(o,m)}(t("../constants"));function x(){var o;return typeof WeakMap!="function"?null:(o=new WeakMap,x=function(){return o},o)}u.default._fesCodeReader=function(){};var j=u.default;y.default=j},{"../constants":262,"../internationalization":271,"../main":273,"core-js/modules/es.array.filter":155,"core-js/modules/es.array.for-each":156,"core-js/modules/es.array.from":157,"core-js/modules/es.array.includes":158,"core-js/modules/es.array.index-of":159,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.join":161,"core-js/modules/es.array.map":163,"core-js/modules/es.array.slice":164,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.keys":179,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.constructor":184,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.includes":189,"core-js/modules/es.string.iterator":190,"core-js/modules/es.string.match":191,"core-js/modules/es.string.split":196,"core-js/modules/es.string.trim":199,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.for-each":235,"core-js/modules/web.dom-collections.iterator":236}],267:[function(t,A,y){function d(){var c=/(^|@)\S+:\d+/,u=/^\s*at .*(\S+:\d+|\(native\))/m,x=/^(eval@)?(\[native code])?$/;return{parse:function(j){return j.stacktrace!==void 0||j["opera#sourceloc"]!==void 0?this.parseOpera(j):j.stack&&j.stack.match(u)?this.parseV8OrIE(j):j.stack?this.parseFFOrSafari(j):void 0},extractLocation:function(j){return j.indexOf(":")===-1?[j]:[(j=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(j.replace(/[()]/g,"")))[1],j[2]||void 0,j[3]||void 0]},parseV8OrIE:function(j){return j.stack.split(`
`).filter(function(o){return!!o.match(u)},this).map(function(o){var h=(f=(o=-1<o.indexOf("(eval ")?o.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(\),.*$)/g,""):o).replace(/^\s+/,"").replace(/\(eval code/g,"(")).match(/ (\((.+):(\d+):(\d+)\)$)/),f=(f=h?f.replace(h[0],""):f).split(/\s+/).slice(1);return h=this.extractLocation(h?h[1]:f.pop()),{functionName:f.join(" ")||void 0,fileName:-1<["eval","<anonymous>"].indexOf(h[0])?void 0:h[0],lineNumber:h[1],columnNumber:h[2],source:o}},this)},parseFFOrSafari:function(j){return j.stack.split(`
`).filter(function(o){return!o.match(x)},this).map(function(o){var h,f;return(o=-1<o.indexOf(" > eval")?o.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1"):o).indexOf("@")===-1&&o.indexOf(":")===-1?{functionName:o}:{functionName:(f=o.match(h=/((.*".+"[^@]*)?[^@]*)(?:@)/))&&f[1]?f[1]:void 0,fileName:(f=this.extractLocation(o.replace(h,"")))[0],lineNumber:f[1],columnNumber:f[2],source:o}},this)},parseOpera:function(j){return!j.stacktrace||-1<j.message.indexOf(`
`)&&j.message.split(`
`).length>j.stacktrace.split(`
`).length?this.parseOpera9(j):j.stack?this.parseOpera11(j):this.parseOpera10(j)},parseOpera9:function(j){for(var o=/Line (\d+).*script (?:in )?(\S+)/i,h=j.message.split(`
`),f=[],l=2,m=h.length;l<m;l+=2){var _=o.exec(h[l]);_&&f.push({fileName:_[2],lineNumber:_[1],source:h[l]})}return f},parseOpera10:function(j){for(var o=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,h=j.stacktrace.split(`
`),f=[],l=0,m=h.length;l<m;l+=2){var _=o.exec(h[l]);_&&f.push({functionName:_[3]||void 0,fileName:_[2],lineNumber:_[1],source:h[l]})}return f},parseOpera11:function(j){return j.stack.split(`
`).filter(function(o){return!!o.match(c)&&!o.match(/^Error created at/)},this).map(function(o){var h,f=o.split("@"),l=this.extractLocation(f.pop());return{functionName:(f=f.shift()||"").replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0,args:(h=f.match(/\(([^)]*)\)/)?f.replace(/^[^(]+\(([^)]*)\)$/,"$1"):h)===void 0||h==="[arguments not available]"?void 0:h.split(","),fileName:l[0],lineNumber:l[1],columnNumber:l[2],source:o}},this)}}}t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0,(t=(t=t("../main"))&&t.__esModule?t:{default:t}).default._getErrorStackParser=function(){return new d},t=t.default,y.default=t},{"../main":273,"core-js/modules/es.array.filter":155,"core-js/modules/es.array.index-of":159,"core-js/modules/es.array.join":161,"core-js/modules/es.array.map":163,"core-js/modules/es.array.slice":164,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.string.match":191,"core-js/modules/es.string.replace":194,"core-js/modules/es.string.split":196}],268:[function(t,A,y){function d(x){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(j){return typeof j}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j})(x)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.map"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.map"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var c=(c=t("../main"))&&c.__esModule?c:{default:c};function u(x){return(u=typeof Symbol=="function"&&d(Symbol.iterator)==="symbol"?function(j){return d(j)}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":d(j)})(x)}(function(x){if(!(x&&x.__esModule||x===null||u(x)!=="object"&&typeof x!="function")){var j=function(){var m;return typeof WeakMap!="function"?null:(m=new WeakMap,m)}();if(j&&j.has(x))return j.get(x);var o,h={},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(o in x){var l;Object.prototype.hasOwnProperty.call(x,o)&&((l=f?Object.getOwnPropertyDescriptor(x,o):null)&&(l.get||l.set)?Object.defineProperty(h,o,l):h[o]=x[o])}h.default=x,j&&j.set(x,h)}})(t("../constants")),t("../internationalization"),c.default._validateParameters=c.default._clearValidateParamsCache=function(){},t=c.default,y.default=t},{"../../../docs/parameterData.json":void 0,"../constants":262,"../internationalization":271,"../main":273,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.for-each":156,"core-js/modules/es.array.includes":158,"core-js/modules/es.array.index-of":159,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.join":161,"core-js/modules/es.array.last-index-of":162,"core-js/modules/es.array.map":163,"core-js/modules/es.array.slice":164,"core-js/modules/es.function.name":167,"core-js/modules/es.map":168,"core-js/modules/es.number.constructor":171,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.get-prototype-of":178,"core-js/modules/es.object.keys":179,"core-js/modules/es.object.to-string":180,"core-js/modules/es.reflect.construct":182,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.set":187,"core-js/modules/es.string.includes":189,"core-js/modules/es.string.iterator":190,"core-js/modules/es.string.split":196,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.for-each":235,"core-js/modules/web.dom-collections.iterator":236}],269:[function(t,A,y){function d(x){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(j){return typeof j}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j})(x)}function c(x){return(c=typeof Symbol=="function"&&d(Symbol.iterator)==="symbol"?function(j){return d(j)}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":d(j)})(x)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var u=function(x){if(x&&x.__esModule)return x;if(x===null||c(x)!=="object"&&typeof x!="function")return{default:x};var j=function(){var m;return typeof WeakMap!="function"?null:(m=new WeakMap,m)}();if(j&&j.has(x))return j.get(x);var o,h={},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(o in x){var l;Object.prototype.hasOwnProperty.call(x,o)&&((l=f?Object.getOwnPropertyDescriptor(x,o):null)&&(l.get||l.set)?Object.defineProperty(h,o,l):h[o]=x[o])}return h.default=x,j&&j.set(x,h),h}(t("./constants"));y.default={modeAdjust:function(x,j,o,h,f){return f===u.CORNER?{x,y:j,w:o,h}:f===u.CORNERS?{x,y:j,w:o-x,h:h-j}:f===u.RADIUS?{x:x-o,y:j-h,w:2*o,h:2*h}:f===u.CENTER?{x:x-.5*o,y:j-.5*h,w:o,h}:void 0}}},{"./constants":262,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],270:[function(t,A,y){t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator");var d=(c=t("../core/main"))&&c.__esModule?c:{default:c};t("./internationalization");var c=Promise.resolve();Promise.all([new Promise(function(u,x){document.readyState==="complete"?u():window.addEventListener("load",u,!1)}),c]).then(function(){window._setupDone!==void 0?console.warn("p5.js seems to have been imported multiple times. Please remove the duplicate import"):window.mocha||(window.setup&&typeof window.setup=="function"||window.draw&&typeof window.draw=="function")&&!d.default.instance&&new d.default})},{"../core/main":273,"./internationalization":271,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.to-string":180,"core-js/modules/es.promise":181,"core-js/modules/es.string.iterator":190,"core-js/modules/web.dom-collections.iterator":236}],271:[function(t,A,y){t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.setTranslatorLanguage=y.currentTranslatorLanguage=y.availableTranslatorLanguages=y.initialize=y.translator=void 0;var d,c=x(t("i18next")),u=x(t("i18next-browser-languagedetector"));function x(h){return h&&h.__esModule?h:{default:h}}function j(h,f){for(var l=0;l<f.length;l++){var m=f[l];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(h,m.key,m)}}var o=function(){function h(m,_){if(!(this instanceof h))throw new TypeError("Cannot call a class as a function");this.init(m,_)}var f,l;return f=h,(l=[{key:"fetchWithTimeout",value:function(m,_){var w=2<arguments.length&&arguments[2]!==void 0?arguments[2]:2e3;return Promise.race([fetch(m,_),new Promise(function(v,E){return setTimeout(function(){return E(new Error("timeout"))},w)})])}},{key:"init",value:function(m){var _=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};this.services=m,this.options=_}},{key:"read",value:function(m,_,w){var v=this.options.loadPath;m===this.options.fallback?w(null,d[m][_]):(void 0).includes(m)?(v=this.services.interpolator.interpolate(v,{lng:m,ns:_}),this.loadUrl(v,w)):w("Not found",!1)}},{key:"loadUrl",value:function(m,_){this.fetchWithTimeout(m).then(function(w){if(w.ok)return w.json();throw new Error("failed loading ".concat(m))},function(){throw new Error("failed loading ".concat(m))}).then(function(w){return _(null,w)}).catch(_)}}])&&j(f.prototype,l),h}();o.type="backend",y.translator=function(h,f){console.debug("p5.js translator called before translations were loaded"),c.default.t(h,f)},y.initialize=function(){return c.default.use(u.default).use(o).init({fallbackLng:"en",nestingPrefix:"$tr(",nestingSuffix:")",defaultNS:"translation",returnEmptyString:!1,interpolation:{escapeValue:!1},detection:{checkWhitelist:!1,order:["querystring","navigator","htmlTag","path","subdomain"],caches:[]},backend:{fallback:"en",loadPath:"https://cdn.jsdelivr.net/npm/p5/translations/{{lng}}/{{ns}}.json"},partialBundledLanguages:!0,resources:d}).then(function(h){y.translator=h},function(h){return console.debug("Translations failed to load (".concat(h,")"))})},y.availableTranslatorLanguages=function(){return c.default.languages},y.currentTranslatorLanguage=function(h){return c.default.language},y.setTranslatorLanguage=function(h){return c.default.changeLanguage(h||void 0,function(f){return console.debug("Translations failed to load (".concat(f,")"))})}},{"../../translations":void 0,"../../translations/dev":void 0,"core-js/modules/es.array.includes":158,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.join":161,"core-js/modules/es.array.slice":164,"core-js/modules/es.object.keys":179,"core-js/modules/es.object.to-string":180,"core-js/modules/es.promise":181,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.string.includes":189,"core-js/modules/es.string.iterator":190,"core-js/modules/es.string.split":196,"core-js/modules/web.dom-collections.iterator":236,i18next:3,"i18next-browser-languagedetector":3}],272:[function(t,A,y){Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0,(t=(t=t("./main"))&&t.__esModule?t:{default:t}).default.prototype.pushStyle=function(){throw new Error("pushStyle() not used, see push()")},t.default.prototype.popStyle=function(){throw new Error("popStyle() not used, see pop()")},t.default.prototype.popMatrix=function(){throw new Error("popMatrix() not used, see pop()")},t.default.prototype.pushMatrix=function(){throw new Error("pushMatrix() not used, see push()")},t=t.default,y.default=t},{"./main":273}],273:[function(t,A,y){function d(h){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(h)}function c(h){return(c=typeof Symbol=="function"&&d(Symbol.iterator)==="symbol"?function(f){return d(f)}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":d(f)})(h)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-own-property-names"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-names"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0,t("./shim");var u=function(h){if(h&&h.__esModule)return h;if(h===null||c(h)!=="object"&&typeof h!="function")return{default:h};var f=function(){var v;return typeof WeakMap!="function"?null:(v=new WeakMap,v)}();if(f&&f.has(h))return f.get(h);var l,m={},_=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(l in h){var w;Object.prototype.hasOwnProperty.call(h,l)&&((w=_?Object.getOwnPropertyDescriptor(h,l):null)&&(w.get||w.set)?Object.defineProperty(m,l,w):m[l]=h[l])}return m.default=h,f&&f.set(h,m),m}(t("./constants"));function x(h,f){for(var l=0;l<f.length;l++){var m=f[l];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(h,m.key,m)}}var j,o=function(){function h(m,_,w){var v=this;if(!(this instanceof h))throw new TypeError("Cannot call a class as a function");this._setupDone=!1,this._preloadDone=!1,this._pixelDensity=Math.ceil(window.devicePixelRatio)||1,this._userNode=_,this._curElement=null,this._elements=[],this._glAttributes=null,this._requestAnimId=0,this._preloadCount=0,this._isGlobal=!1,this._loop=!0,this._initializeInstanceVariables(),this._defaultCanvasSize={width:100,height:100},this._events={mousemove:null,mousedown:null,mouseup:null,dragend:null,dragover:null,click:null,dblclick:null,mouseover:null,mouseout:null,keydown:null,keyup:null,keypress:null,touchstart:null,touchmove:null,touchend:null,resize:null,blur:null},this._millisStart=-1,this._recording=!1,this._lcg_random_state=null,this._gaussian_previous=!1,this._events.wheel=null,this._loadingScreenId="p5_loading",this._registeredMethods={},_=Object.getOwnPropertyNames(h.prototype._registeredMethods);var E=!0,C=!1,O=void 0;try{for(var U,N=_[Symbol.iterator]();!(E=(U=N.next()).done);E=!0){var D=U.value;this._registeredMethods[D]=h.prototype._registeredMethods[D].slice()}}catch(K){C=!0,O=K}finally{try{E||N.return==null||N.return()}finally{if(C)throw O}}window.DeviceOrientationEvent&&(this._events.deviceorientation=null),window.DeviceMotionEvent&&!window._isNodeWebkit&&(this._events.devicemotion=null),this._start=function(){v._userNode&&typeof v._userNode=="string"&&(v._userNode=document.getElementById(v._userNode));var K=v._isGlobal?window:v;if(K.preload){var ee,re=document.getElementById(v._loadingScreenId),oe=(re||((re=document.createElement("div")).innerHTML="Loading...",re.style.position="absolute",re.id=v._loadingScreenId,(v._userNode||document.body).appendChild(re)),v._preloadMethods);for(ee in oe){oe[ee]=oe[ee]||h;var le=oe[ee];le!==h.prototype&&le!==h||(v._isGlobal&&(window[ee]=v._wrapPreload(v,ee)),le=v),v._registeredPreloadMethods[ee]=le[ee],le[ee]=v._wrapPreload(le,ee)}K.preload(),v._runIfPreloadsAreDone()}else v._setup(),v._recording||v._draw()},this._runIfPreloadsAreDone=function(){var K,ee=this._isGlobal?window:this;ee._preloadCount===0&&((K=document.getElementById(ee._loadingScreenId))&&K.parentNode.removeChild(K),this._setupDone||(this._lastTargetFrameTime=window.performance.now(),this._lastRealFrameTime=window.performance.now(),ee._setup(),this._recording||ee._draw()))},this._decrementPreload=function(){var K=this._isGlobal?window:this;K._preloadDone||typeof K.preload!="function"||(K._setProperty("_preloadCount",K._preloadCount-1),K._runIfPreloadsAreDone())},this._wrapPreload=function(K,ee){var re=this;return function(){re._incrementPreload();for(var oe=arguments.length,le=new Array(oe),me=0;me<oe;me++)le[me]=arguments[me];return re._registeredPreloadMethods[ee].apply(K,le)}},this._incrementPreload=function(){var K=this._isGlobal?window:this;K._preloadDone||K._setProperty("_preloadCount",K._preloadCount+1)},this._setup=function(){v.createCanvas(v._defaultCanvasSize.width,v._defaultCanvasSize.height,"p2d");var K=v._isGlobal?window:v;if(typeof K.preload=="function")for(var ee in v._preloadMethods)K[ee]=v._preloadMethods[ee][ee],K[ee]&&v&&(K[ee]=K[ee].bind(v));v._millisStart=window.performance.now(),K._preloadDone=!0,typeof K.setup=="function"&&K.setup();var re=document.getElementsByTagName("canvas"),oe=!0,le=!1,me=void 0;try{for(var $,Q=re[Symbol.iterator]();!(oe=($=Q.next()).done);oe=!0){var se=$.value;se.dataset.hidden==="true"&&(se.style.visibility="",delete se.dataset.hidden)}}catch(de){le=!0,me=de}finally{try{oe||Q.return==null||Q.return()}finally{if(le)throw me}}v._lastTargetFrameTime=window.performance.now(),v._lastRealFrameTime=window.performance.now(),v._setupDone=!0,(v._accessibleOutputs.grid||v._accessibleOutputs.text)&&v._updateAccsOutput()},this._draw=function(){var K=window.performance.now(),ee=K-v._lastTargetFrameTime,re=1e3/v._targetFrameRate;(!v._loop||re-5<=ee)&&(v.deltaTime=K-v._lastRealFrameTime,v._setProperty("deltaTime",v.deltaTime),v._frameRate=1e3/v.deltaTime,v.redraw(),v._lastTargetFrameTime=Math.max(v._lastTargetFrameTime+re,K),v._lastRealFrameTime=K,v._updateMouseCoords!==void 0&&(v._updateMouseCoords(),v._setProperty("movedX",0),v._setProperty("movedY",0))),v._loop&&(v._requestAnimId=window.requestAnimationFrame(v._draw))},this._setProperty=function(K,ee){v[K]=ee,v._isGlobal&&(window[K]=ee)},this.remove=function(){if((re=document.getElementById(v._loadingScreenId))&&(re.parentNode.removeChild(re),v._incrementPreload()),v._curElement){for(var K in v._loop=!1,v._requestAnimId&&window.cancelAnimationFrame(v._requestAnimId),v._events)window.removeEventListener(K,v._events[K]);var ee=!0,re=!1,oe=void 0;try{for(var le,me=v._elements[Symbol.iterator]();!(ee=(le=me.next()).done);ee=!0){var $,Q=le.value;for($ in Q.elt&&Q.elt.parentNode&&Q.elt.parentNode.removeChild(Q.elt),Q._events)Q.elt.removeEventListener($,Q._events[$])}}catch(ve){re=!0,oe=ve}finally{try{ee||me.return==null||me.return()}finally{if(re)throw oe}}var se=v;v._registeredMethods.remove.forEach(function(ve){ve!==void 0&&ve.call(se)})}if(v._isGlobal){for(var de in h.prototype)try{delete window[de]}catch{window[de]=void 0}for(var ge in v)if(v.hasOwnProperty(ge))try{delete window[ge]}catch{window[ge]=void 0}h.instance=null}},this._registeredMethods.init.forEach(function(K){K!==void 0&&K.call(this)},this),this._setupPromisePreloads();var H,I,V=this._createFriendlyGlobalFunctionBinder();if(m)m(this),h._checkForUserDefinedFunctions(this);else{for(var G in this._isGlobal=!0,h.instance=this,h.prototype)typeof h.prototype[G]=="function"?(H=G.substring(2),this._events.hasOwnProperty(H)||(Math.hasOwnProperty(G)&&Math[G]===h.prototype[G]?V(G,h.prototype[G]):V(G,h.prototype[G].bind(this)))):V(G,h.prototype[G]);for(var q in this)this.hasOwnProperty(q)&&V(q,this[q])}for(I in this._events){var X=this["_on".concat(I)];X&&(X=X.bind(this),window.addEventListener(I,X,{passive:!1}),this._events[I]=X)}function B(){v._setProperty("focused",!0)}function W(){v._setProperty("focused",!1)}window.addEventListener("focus",B),window.addEventListener("blur",W),this.registerMethod("remove",function(){window.removeEventListener("focus",B),window.removeEventListener("blur",W)}),document.readyState==="complete"?this._start():window.addEventListener("load",this._start.bind(this),!1)}var f,l;return f=h,(l=[{key:"_initializeInstanceVariables",value:function(){this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1},this._styles=[],this._bezierDetail=20,this._curveDetail=20,this._colorMode=u.RGB,this._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},this._downKeys={}}},{key:"registerPreloadMethod",value:function(m,_){h.prototype._preloadMethods.hasOwnProperty(m)||(h.prototype._preloadMethods[m]=_)}},{key:"registerMethod",value:function(m,_){var w=this||h.prototype;w._registeredMethods.hasOwnProperty(m)||(w._registeredMethods[m]=[]),w._registeredMethods[m].push(_)}},{key:"_createFriendlyGlobalFunctionBinder",value:function(){var m=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},_=m.globalObject||window;return m.log||console.log.bind(console),function(w,v){h.disableFriendlyErrors,_[w]=v}}}])&&x(f.prototype,l),h}();for(j in o.instance=null,o.disableFriendlyErrors=!1,u)o.prototype[j]=u[j];o.VERSION=u.VERSION,o.prototype._preloadMethods={loadJSON:o.prototype,loadImage:o.prototype,loadStrings:o.prototype,loadXML:o.prototype,loadBytes:o.prototype,loadTable:o.prototype,loadFont:o.prototype,loadModel:o.prototype,loadShader:o.prototype},o.prototype._registeredMethods={init:[],pre:[],post:[],remove:[]},o.prototype._registeredPreloadMethods={},y.default=o},{"./constants":262,"./shim":284,"core-js/modules/es.array.for-each":156,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.slice":164,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.get-own-property-names":177,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.for-each":235,"core-js/modules/web.dom-collections.iterator":236}],274:[function(t,A,y){Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var d=(t=t("./main"))&&t.__esModule?t:{default:t};function c(u,x){for(var j=0;j<x.length;j++){var o=x[j];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(u,o.key,o)}}d.default.Element=function(){function u(h,f){if(!(this instanceof u))throw new TypeError("Cannot call a class as a function");this.elt=h,this._pInst=this._pixelsState=f,this._events={},this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight}var x,j,o;return x=u,o=[{key:"_adjustListener",value:function(h,f,l){return f===!1?d.default.Element._detachListener(h,l):d.default.Element._attachListener(h,f,l),this}},{key:"_attachListener",value:function(h,f,l){l._events[h]&&d.default.Element._detachListener(h,l),f=f.bind(l),l.elt.addEventListener(h,f,!1),l._events[h]=f}},{key:"_detachListener",value:function(h,f){var l=f._events[h];f.elt.removeEventListener(h,l,!1),f._events[h]=null}}],(j=[{key:"parent",value:function(h){return h===void 0?this.elt.parentNode:(typeof h=="string"?(h[0]==="#"&&(h=h.substring(1)),h=document.getElementById(h)):h instanceof d.default.Element&&(h=h.elt),h.appendChild(this.elt),this)}},{key:"id",value:function(h){return h===void 0?this.elt.id:(this.elt.id=h,this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight,this)}},{key:"class",value:function(h){return h===void 0?this.elt.className:(this.elt.className=h,this)}},{key:"mousePressed",value:function(h){return d.default.Element._adjustListener("mousedown",function(f){return this._pInst._setProperty("mouseIsPressed",!0),this._pInst._setMouseButton(f),h.call(this,f)},this),this}},{key:"doubleClicked",value:function(h){return d.default.Element._adjustListener("dblclick",h,this),this}},{key:"mouseWheel",value:function(h){return d.default.Element._adjustListener("wheel",h,this),this}},{key:"mouseReleased",value:function(h){return d.default.Element._adjustListener("mouseup",h,this),this}},{key:"mouseClicked",value:function(h){return d.default.Element._adjustListener("click",h,this),this}},{key:"mouseMoved",value:function(h){return d.default.Element._adjustListener("mousemove",h,this),this}},{key:"mouseOver",value:function(h){return d.default.Element._adjustListener("mouseover",h,this),this}},{key:"mouseOut",value:function(h){return d.default.Element._adjustListener("mouseout",h,this),this}},{key:"touchStarted",value:function(h){return d.default.Element._adjustListener("touchstart",h,this),this}},{key:"touchMoved",value:function(h){return d.default.Element._adjustListener("touchmove",h,this),this}},{key:"touchEnded",value:function(h){return d.default.Element._adjustListener("touchend",h,this),this}},{key:"dragOver",value:function(h){return d.default.Element._adjustListener("dragover",h,this),this}},{key:"dragLeave",value:function(h){return d.default.Element._adjustListener("dragleave",h,this),this}},{key:"_setProperty",value:function(h,f){this[h]=f}}])&&c(x.prototype,j),o&&c(x,o),u}(),t=d.default.Element,y.default=t},{"./main":273}],275:[function(t,A,y){function d(w){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v})(w)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var c=(_=t("./main"))&&_.__esModule?_:{default:_},u=function(w){if(w&&w.__esModule)return w;if(w===null||x(w)!=="object"&&typeof w!="function")return{default:w};var v=function(){var N;return typeof WeakMap!="function"?null:(N=new WeakMap,N)}();if(v&&v.has(w))return v.get(w);var E,C={},O=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(E in w){var U;Object.prototype.hasOwnProperty.call(w,E)&&((U=O?Object.getOwnPropertyDescriptor(w,E):null)&&(U.get||U.set)?Object.defineProperty(C,E,U):C[E]=w[E])}return C.default=w,v&&v.set(w,C),C}(t("./constants"));function x(w){return(x=typeof Symbol=="function"&&d(Symbol.iterator)==="symbol"?function(v){return d(v)}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":d(v)})(w)}function j(w,v){for(var E=0;E<v.length;E++){var C=v[E];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(w,C.key,C)}}function o(w,v){return(o=Object.setPrototypeOf||function(E,C){return E.__proto__=C,E})(w,v)}function h(w){return function(){var v,E=m(w);return f(this,function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(v=m(this).constructor,Reflect.construct(E,arguments,v)):E.apply(this,arguments))}}function f(w,v){return!v||x(v)!=="object"&&typeof v!="function"?l(w):v}function l(w){if(w===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w}function m(w){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(v){return v.__proto__||Object.getPrototypeOf(v)})(w)}c.default.Graphics=function(w){var v=C;if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function");v.prototype=Object.create(w&&w.prototype,{constructor:{value:v,writable:!0,configurable:!0}}),w&&o(v,w);var E=h(C);function C(O,U,N,D,H){var I;if(!(this instanceof C))throw new TypeError("Cannot call a class as a function");G=H||document.createElement("canvas"),(I=E.call(this,G,D)).canvas=G;var V,G=N||u.P2D;N=D._userNode||document.body;for(V in H||N.appendChild(I.canvas),c.default.prototype)I[V]||(typeof c.default.prototype[V]=="function"?I[V]=c.default.prototype[V].bind(l(I)):I[V]=c.default.prototype[V]);return c.default.prototype._initializeInstanceVariables.apply(l(I)),I.width=O,I.height=U,I._pixelDensity=D._pixelDensity,G===u.WEBGL?I._renderer=new c.default.RendererGL(I.canvas,l(I),!1):I._renderer=new c.default.Renderer2D(I.canvas,l(I),!1),D._elements.push(l(I)),Object.defineProperty(l(I),"deltaTime",{get:function(){return this._pInst.deltaTime}}),I._renderer.resize(O,U),I._renderer._applyDefaults(),f(I,l(I))}return v=C,(w=[{key:"reset",value:function(){this._renderer.resetMatrix(),this._renderer.isP3D&&this._renderer._update()}},{key:"remove",value:function(){this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt);var O,U=this._pInst._elements.indexOf(this);for(O in U!==-1&&this._pInst._elements.splice(U,1),this._events)this.elt.removeEventListener(O,this._events[O])}},{key:"createFramebuffer",value:function(O){return new c.default.Framebuffer(this,O)}}])&&j(v.prototype,w),C}(c.default.Element);var _=c.default.Graphics;y.default=_},{"./constants":262,"./main":273,"core-js/modules/es.array.index-of":159,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.splice":166,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.get-prototype-of":178,"core-js/modules/es.object.to-string":180,"core-js/modules/es.reflect.construct":182,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],276:[function(t,A,y){function d(w){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v})(w)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var c=(m=t("./main"))&&m.__esModule?m:{default:m},u=function(w){if(w&&w.__esModule)return w;if(w===null||x(w)!=="object"&&typeof w!="function")return{default:w};var v=function(){var N;return typeof WeakMap!="function"?null:(N=new WeakMap,N)}();if(v&&v.has(w))return v.get(w);var E,C={},O=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(E in w){var U;Object.prototype.hasOwnProperty.call(w,E)&&((U=O?Object.getOwnPropertyDescriptor(w,E):null)&&(U.get||U.set)?Object.defineProperty(C,E,U):C[E]=w[E])}return C.default=w,v&&v.set(w,C),C}(t("../core/constants"));function x(w){return(x=typeof Symbol=="function"&&d(Symbol.iterator)==="symbol"?function(v){return d(v)}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":d(v)})(w)}function j(w,v){for(var E=0;E<v.length;E++){var C=v[E];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(w,C.key,C)}}function o(w,v){return(o=Object.setPrototypeOf||function(E,C){return E.__proto__=C,E})(w,v)}function h(w){return function(){var v,E,C=l(w);return v=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(v=l(this).constructor,Reflect.construct(C,arguments,v)):C.apply(this,arguments),C=this,!(E=v)||x(E)!=="object"&&typeof E!="function"?f(C):E}}function f(w){if(w===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w}function l(w){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(v){return v.__proto__||Object.getPrototypeOf(v)})(w)}var m=function(w){var v=C;if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function");v.prototype=Object.create(w&&w.prototype,{constructor:{value:v,writable:!0,configurable:!0}}),w&&o(v,w);var E=h(C);function C(O,U,N){var D;if(this instanceof C)return(D=E.call(this,O,U)).canvas=O,D._pixelsState=U,N?(D._isMainCanvas=!0,D._pInst._setProperty("_curElement",f(D)),D._pInst._setProperty("canvas",D.canvas),D._pInst._setProperty("width",D.width),D._pInst._setProperty("height",D.height)):(D.canvas.style.display="none",D._styles=[]),D._textSize=12,D._textLeading=15,D._textFont="sans-serif",D._textStyle=u.NORMAL,D._textAscent=null,D._textDescent=null,D._textAlign=u.LEFT,D._textBaseline=u.BASELINE,D._textWrap=u.WORD,D._rectMode=u.CORNER,D._ellipseMode=u.CENTER,D._curveTightness=0,D._imageMode=u.CORNER,D._tint=null,D._doStroke=!0,D._doFill=!0,D._strokeSet=!1,D._fillSet=!1,D._leadingSet=!1,D;throw new TypeError("Cannot call a class as a function")}return v=C,(w=[{key:"push",value:function(){return{properties:{_doStroke:this._doStroke,_strokeSet:this._strokeSet,_doFill:this._doFill,_fillSet:this._fillSet,_tint:this._tint,_imageMode:this._imageMode,_rectMode:this._rectMode,_ellipseMode:this._ellipseMode,_textFont:this._textFont,_textLeading:this._textLeading,_leadingSet:this._leadingSet,_textSize:this._textSize,_textAlign:this._textAlign,_textBaseline:this._textBaseline,_textStyle:this._textStyle,_textWrap:this._textWrap}}}},{key:"pop",value:function(O){O.properties&&Object.assign(this,O.properties)}},{key:"resize",value:function(O,U){this.width=O,this.height=U,this.elt.width=O*this._pInst._pixelDensity,this.elt.height=U*this._pInst._pixelDensity,this.elt.style.width="".concat(O,"px"),this.elt.style.height="".concat(U,"px"),this._isMainCanvas&&(this._pInst._setProperty("width",this.width),this._pInst._setProperty("height",this.height))}},{key:"get",value:function(O,U,N,D){var H=this._pixelsState,I=H._pixelDensity,V=this.canvas;if(O===void 0&&U===void 0)O=U=0,N=H.width,D=H.height;else if(O*=I,U*=I,N===void 0&&D===void 0)return O<0||U<0||O>=V.width||U>=V.height?[0,0,0,0]:this._getPixel(O,U);return(H=new c.default.Image(N,D)).canvas.getContext("2d").drawImage(V,O,U,N*I,D*I,0,0,N,D),H}},{key:"textLeading",value:function(O){return typeof O=="number"?(this._setProperty("_leadingSet",!0),this._setProperty("_textLeading",O),this._pInst):this._textLeading}},{key:"textStyle",value:function(O){return O?(O!==u.NORMAL&&O!==u.ITALIC&&O!==u.BOLD&&O!==u.BOLDITALIC||this._setProperty("_textStyle",O),this._applyTextProperties()):this._textStyle}},{key:"textAscent",value:function(){return this._textAscent===null&&this._updateTextMetrics(),this._textAscent}},{key:"textDescent",value:function(){return this._textDescent===null&&this._updateTextMetrics(),this._textDescent}},{key:"textAlign",value:function(O,U){return O!==void 0?(this._setProperty("_textAlign",O),U!==void 0&&this._setProperty("_textBaseline",U),this._applyTextProperties()):{horizontal:this._textAlign,vertical:this._textBaseline}}},{key:"textWrap",value:function(O){return this._setProperty("_textWrap",O),this._textWrap}},{key:"text",value:function(O,U,N,D,H){var I,V,G,q,X=this._pInst,B=this._textWrap,W=Number.MAX_VALUE,K=N;if((this._doFill||this._doStroke)&&O!==void 0){if(I=(O=(O=typeof O!="string"?O.toString():O).replace(/(\t)/g,"  ")).split(`
`),D!==void 0){switch(this._rectMode===u.CENTER&&(U-=D/2),this._textAlign){case u.CENTER:U+=D/2;break;case u.RIGHT:U+=D}if(H!==void 0){this._rectMode===u.CENTER&&(N-=H/2,K-=H/2),O=N;var ee=X.textAscent();switch(this._textBaseline){case u.BOTTOM:q=N+H,N=Math.max(q,N),K+=ee;break;case u.CENTER:q=N+H/2,N=Math.max(q,N),K+=ee/2}W=N+H-ee,this._textBaseline===u.CENTER&&(W=O+H-ee/2)}else this._textBaseline!==u.BOTTOM&&this._textBaseline!==u.CENTER||(K=N-(O=X.textSize()*this._textLeading)/2,W=N+O/2);if(B===u.WORD){for(var re=[],oe=0;oe<I.length;oe++){for(var le="",me=I[oe].split(" "),$=0;$<me.length;$++)V="".concat(le+me[$])+" ",le=D<(G=this.textWidth(V))&&0<le.length?(re.push(le),"".concat(me[$])+" "):V;re.push(le)}var Q=0;this._textBaseline===u.CENTER?Q=(re.length-1)*X.textLeading()/2:this._textBaseline===u.BOTTOM&&(Q=(re.length-1)*X.textLeading());for(var se=0;se<I.length;se++){le="",me=I[se].split(" ");for(var de=0;de<me.length;de++)V="".concat(le+me[de])+" ",D<(G=this.textWidth(V))&&0<le.length?(this._renderText(X,le.trim(),U,N-Q,W,K),le="".concat(me[de])+" ",N+=X.textLeading()):le=V;this._renderText(X,le.trim(),U,N-Q,W,K),N+=X.textLeading()}}else{for(var ge=[],ve=0;ve<I.length;ve++)for(var ae=I[ve].split(le=""),ye=0;ye<ae.length;ye++)V="".concat(le+ae[ye]),(G=this.textWidth(V))<=D?le+=ae[ye]:D<G&&0<le.length&&(ge.push(le),le="".concat(ae[ye]));ge.push(le);var Se=0;this._textBaseline===u.CENTER?Se=(ge.length-1)*X.textLeading()/2:this._textBaseline===u.BOTTOM&&(Se=(ge.length-1)*X.textLeading());for(var Me=0;Me<I.length;Me++){ae=I[Me].split(le="");for(var Ee=0;Ee<ae.length;Ee++)V="".concat(le+ae[Ee]),(G=this.textWidth(V))<=D?le+=ae[Ee]:D<G&&0<le.length&&(this._renderText(X,le.trim(),U,N-Se,W,K),N+=X.textLeading(),le="".concat(ae[Ee]))}this._renderText(X,le.trim(),U,N-Se,W,K),N+=X.textLeading()}}else{var Te=0;this._textBaseline===u.CENTER?Te=(I.length-1)*X.textLeading()/2:this._textBaseline===u.BOTTOM&&(Te=(I.length-1)*X.textLeading());for(var Pe=0;Pe<I.length;Pe++)this._renderText(X,I[Pe],U,N-Te,W,K-Te),N+=X.textLeading()}return X}}},{key:"_applyDefaults",value:function(){return this}},{key:"_isOpenType",value:function(){var O=0<arguments.length&&arguments[0]!==void 0?arguments[0]:this._textFont;return x(O)==="object"&&O.font&&O.font.supported}},{key:"_updateTextMetrics",value:function(){var O,U,N,D,H,I;return this._isOpenType()?(this._setProperty("_textAscent",this._textFont._textAscent()),this._setProperty("_textDescent",this._textFont._textDescent())):((O=document.createElement("span")).style.fontFamily=this._textFont,O.style.fontSize="".concat(this._textSize,"px"),O.innerHTML="ABCjgq|",(I=document.createElement("div")).style.display="inline-block",I.style.width="1px",I.style.height="0px",(U=document.createElement("div")).appendChild(O),U.appendChild(I),U.style.height="0px",U.style.overflow="hidden",document.body.appendChild(U),I.style.verticalAlign="baseline",D=_(I),H=_(O),N=D[1]-H[1],I.style.verticalAlign="bottom",D=_(I),H=_(O),I=D[1]-H[1]-N,document.body.removeChild(U),this._setProperty("_textAscent",N),this._setProperty("_textDescent",I)),this}}])&&j(v.prototype,w),C}(c.default.Element);function _(w){var v=0,E=0;if(w.offsetParent)for(;v+=w.offsetLeft,E+=w.offsetTop,w=w.offsetParent;);else v+=w.offsetLeft,E+=w.offsetTop;return[v,E]}m.prototype.textSize=function(w){return typeof w=="number"?(this._setProperty("_textSize",w),this._leadingSet||this._setProperty("_textLeading",w*u._DEFAULT_LEADMULT),this._applyTextProperties()):this._textSize},c.default.Renderer=m,t=c.default.Renderer,y.default=t},{"../core/constants":262,"./main":273,"core-js/modules/es.array.iterator":160,"core-js/modules/es.number.constructor":171,"core-js/modules/es.object.assign":174,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.get-prototype-of":178,"core-js/modules/es.object.to-string":180,"core-js/modules/es.reflect.construct":182,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.iterator":190,"core-js/modules/es.string.replace":194,"core-js/modules/es.string.split":196,"core-js/modules/es.string.trim":199,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],277:[function(t,A,y){function d(_){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(_)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.reflect.get"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.reflect.get"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var c=(m=t("./main"))&&m.__esModule?m:{default:m},u=function(_){if(_&&_.__esModule)return _;if(_===null||x(_)!=="object"&&typeof _!="function")return{default:_};var w=function(){var U;return typeof WeakMap!="function"?null:(U=new WeakMap,U)}();if(w&&w.has(_))return w.get(_);var v,E={},C=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(v in _){var O;Object.prototype.hasOwnProperty.call(_,v)&&((O=C?Object.getOwnPropertyDescriptor(_,v):null)&&(O.get||O.set)?Object.defineProperty(E,v,O):E[v]=_[v])}return E.default=_,w&&w.set(_,E),E}(t("./constants"));function x(_){return(x=typeof Symbol=="function"&&d(Symbol.iterator)==="symbol"?function(w){return d(w)}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":d(w)})(_)}function j(_,w){for(var v=0;v<w.length;v++){var E=w[v];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(_,E.key,E)}}function o(_,w,v){return(o=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(E,C,O){if(E=function(U,N){for(;!Object.prototype.hasOwnProperty.call(U,N)&&(U=f(U))!==null;);return U}(E,C))return(E=Object.getOwnPropertyDescriptor(E,C)).get?E.get.call(O):E.value})(_,w,v||_)}function h(_,w){return(h=Object.setPrototypeOf||function(v,E){return v.__proto__=E,v})(_,w)}function f(_){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(w){return w.__proto__||Object.getPrototypeOf(w)})(_)}t("./p5.Renderer");var l="rgba(0,0,0,0)",m=function(_){var w=E;if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function");w.prototype=Object.create(_&&_.prototype,{constructor:{value:w,writable:!0,configurable:!0}}),_&&h(w,_);var v=function(C){return function(){var O,U=f(C);if(O=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(O=f(this).constructor,Reflect.construct(U,arguments,O)):U.apply(this,arguments),U=this,!O||x(O)!=="object"&&typeof O!="function"){if(U!==void 0)return U;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return O}}(E);function E(C,O,U){if(this instanceof E)return(C=v.call(this,C,O,U)).drawingContext=C.canvas.getContext("2d"),C._pInst._setProperty("drawingContext",C.drawingContext),C;throw new TypeError("Cannot call a class as a function")}return w=E,(_=[{key:"_applyDefaults",value:function(){this._cachedFillStyle=this._cachedStrokeStyle=void 0,this._cachedBlendMode=u.BLEND,this._setFill(u._DEFAULT_FILL),this._setStroke(u._DEFAULT_STROKE),this.drawingContext.lineCap=u.ROUND,this.drawingContext.font="normal 12px sans-serif"}},{key:"resize",value:function(C,O){o(f(E.prototype),"resize",this).call(this,C,O),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity)}},{key:"background",value:function(){var C,O;this.drawingContext.save(),this.resetMatrix(),(arguments.length<=0?void 0:arguments[0])instanceof c.default.Image?0<=(arguments.length<=1?void 0:arguments[1])?(C=arguments.length<=0?void 0:arguments[0],this.drawingContext.globalAlpha=(arguments.length<=1?void 0:arguments[1])/255,this._pInst.image(C,0,0,this.width,this.height)):this._pInst.image(arguments.length<=0?void 0:arguments[0],0,0,this.width,this.height):(C=this._getFill(),O=(O=this._pInst).color.apply(O,arguments),this._pInst._addAccsOutput()&&this._pInst._accsBackground(O.levels),O=O.toString(),this._setFill(O),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.fillRect(0,0,this.width,this.height),this._setFill(C),this._isErasing&&this._pInst.erase()),this.drawingContext.restore()}},{key:"clear",value:function(){this.drawingContext.save(),this.resetMatrix(),this.drawingContext.clearRect(0,0,this.width,this.height),this.drawingContext.restore()}},{key:"fill",value:function(){var C=(C=this._pInst).color.apply(C,arguments);this._setFill(C.toString()),this._pInst._addAccsOutput()&&this._pInst._accsCanvasColors("fill",C.levels)}},{key:"stroke",value:function(){var C=(C=this._pInst).color.apply(C,arguments);this._setStroke(C.toString()),this._pInst._addAccsOutput()&&this._pInst._accsCanvasColors("stroke",C.levels)}},{key:"erase",value:function(C,O){this._isErasing||(this._cachedFillStyle=this.drawingContext.fillStyle,C=this._pInst.color(255,C).toString(),this.drawingContext.fillStyle=C,this._cachedStrokeStyle=this.drawingContext.strokeStyle,C=this._pInst.color(255,O).toString(),this.drawingContext.strokeStyle=C,O=this._cachedBlendMode,this.blendMode(u.REMOVE),this._cachedBlendMode=O,this._isErasing=!0)}},{key:"noErase",value:function(){this._isErasing&&(this.drawingContext.fillStyle=this._cachedFillStyle,this.drawingContext.strokeStyle=this._cachedStrokeStyle,this.blendMode(this._cachedBlendMode),this._isErasing=!1)}},{key:"image",value:function(C,O,U,N,D,H,I,V,G){C.gifProperties&&C._animateGif(this._pInst);try{c.default.MediaElement&&C instanceof c.default.MediaElement&&C._ensureCanvas();var q=(q=this._tint&&C.canvas?this._getTintedImageCanvas(C):q)||C.canvas||C.elt,X=1;C.width&&0<C.width&&(X=q.width/C.width),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.drawImage(q,X*O,X*U,X*N,X*D,H,I,V,G),this._isErasing&&this._pInst.erase()}catch(B){if(B.name!=="NS_ERROR_NOT_AVAILABLE")throw B}}},{key:"_getTintedImageCanvas",value:function(C){if(!C.canvas)return C;C.tintCanvas||(C.tintCanvas=document.createElement("canvas")),C.tintCanvas.width!==C.canvas.width&&(C.tintCanvas.width=C.canvas.width),C.tintCanvas.height!==C.canvas.height&&(C.tintCanvas.height=C.canvas.height);var O=C.tintCanvas.getContext("2d");return O.save(),O.clearRect(0,0,C.canvas.width,C.canvas.height),(this._tint[0]<255||this._tint[1]<255||this._tint[2]<255)&&(O.drawImage(C.canvas,0,0),O.globalCompositeOperation="luminosity",O.drawImage(C.canvas,0,0),O.globalCompositeOperation="color",O.drawImage(C.canvas,0,0),O.globalCompositeOperation="multiply",O.fillStyle="rgb(".concat(this._tint.slice(0,3).join(", "),")"),O.fillRect(0,0,C.canvas.width,C.canvas.height),O.globalCompositeOperation="destination-in"),O.globalAlpha=this._tint[3]/255,O.drawImage(C.canvas,0,0),O.restore(),C.tintCanvas}},{key:"blendMode",value:function(C){if(C===u.SUBTRACT)console.warn("blendMode(SUBTRACT) only works in WEBGL mode.");else{if(C!==u.BLEND&&C!==u.REMOVE&&C!==u.DARKEST&&C!==u.LIGHTEST&&C!==u.DIFFERENCE&&C!==u.MULTIPLY&&C!==u.EXCLUSION&&C!==u.SCREEN&&C!==u.REPLACE&&C!==u.OVERLAY&&C!==u.HARD_LIGHT&&C!==u.SOFT_LIGHT&&C!==u.DODGE&&C!==u.BURN&&C!==u.ADD)throw new Error("Mode ".concat(C," not recognized."));this._cachedBlendMode=C,this.drawingContext.globalCompositeOperation=C}}},{key:"blend",value:function(){for(var C=this.drawingContext.globalCompositeOperation,O=arguments.length,U=new Array(O),N=0;N<O;N++)U[N]=arguments[N];var D=U[U.length-1],H=Array.prototype.slice.call(U,0,U.length-1);this.drawingContext.globalCompositeOperation=D,c.default.prototype.copy.apply(this,H),this.drawingContext.globalCompositeOperation=C}},{key:"_getPixel",value:function(C,O){return[(C=this.drawingContext.getImageData(C,O,1,1).data)[0],C[1],C[2],C[3]]}},{key:"loadPixels",value:function(){var C=this._pixelsState,O=C._pixelDensity,U=this.width*O;O=this.height*O,U=this.drawingContext.getImageData(0,0,U,O),C._setProperty("imageData",U),C._setProperty("pixels",U.data)}},{key:"set",value:function(C,O,U){C=Math.floor(C),O=Math.floor(O);var N=this._pixelsState;if(U instanceof c.default.Image)this.drawingContext.save(),this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(N._pixelDensity,N._pixelDensity),this.drawingContext.clearRect(C,O,U.width,U.height),this.drawingContext.drawImage(U.canvas,C,O),this.drawingContext.restore();else{var D=0,H=0,I=0,V=0,G=4*(O*N._pixelDensity*(this.width*N._pixelDensity)+C*N._pixelDensity);if(N.imageData||N.loadPixels.call(N),typeof U=="number")G<N.pixels.length&&(I=H=D=U,V=255);else if(U instanceof Array){if(U.length<4)throw new Error("pixel array must be of the form [R, G, B, A]");G<N.pixels.length&&(D=U[0],H=U[1],I=U[2],V=U[3])}else U instanceof c.default.Color&&G<N.pixels.length&&(D=U.levels[0],H=U.levels[1],I=U.levels[2],V=U.levels[3]);for(var q=0;q<N._pixelDensity;q++)for(var X=0;X<N._pixelDensity;X++)G=4*((O*N._pixelDensity+X)*this.width*N._pixelDensity+(C*N._pixelDensity+q)),N.pixels[G]=D,N.pixels[G+1]=H,N.pixels[G+2]=I,N.pixels[G+3]=V}}},{key:"updatePixels",value:function(C,O,U,N){var D=this._pixelsState,H=D._pixelDensity;C===void 0&&O===void 0&&U===void 0&&N===void 0&&(O=C=0,U=this.width,N=this.height),C*=H,O*=H,U*=H,N*=H,this.gifProperties&&(this.gifProperties.frames[this.gifProperties.displayIndex].image=D.imageData),this.drawingContext.putImageData(D.imageData,C,O,0,0,U,N)}},{key:"_acuteArcToBezier",value:function(C,O){var U=O/2,N=Math.cos(U),D=Math.sin(U),H=1/Math.tan(U),I=(U=C+U,Math.cos(U)),V=(U=Math.sin(U),(4-N)/3);return D+=(N-V)*H,{ax:Math.cos(C).toFixed(7),ay:Math.sin(C).toFixed(7),bx:(V*I+D*U).toFixed(7),by:(V*U-D*I).toFixed(7),cx:(V*I-D*U).toFixed(7),cy:(V*U+D*I).toFixed(7),dx:Math.cos(C+O).toFixed(7),dy:Math.sin(C+O).toFixed(7)}}},{key:"arc",value:function(C,O,U,N,D,H,I){var V,G=this.drawingContext,q=U/2,X=N/2,B=[];for(C+=q,O+=X;1e-5<=H-D;)V=Math.min(H-D,u.HALF_PI),B.push(this._acuteArcToBezier(D,V)),D+=V;return this._doFill&&(G.beginPath(),B.forEach(function(W,K){K===0&&G.moveTo(C+W.ax*q,O+W.ay*X),G.bezierCurveTo(C+W.bx*q,O+W.by*X,C+W.cx*q,O+W.cy*X,C+W.dx*q,O+W.dy*X)}),I!==u.PIE&&I!=null||G.lineTo(C,O),G.closePath(),G.fill()),this._doStroke&&(G.beginPath(),B.forEach(function(W,K){K===0&&G.moveTo(C+W.ax*q,O+W.ay*X),G.bezierCurveTo(C+W.bx*q,O+W.by*X,C+W.cx*q,O+W.cy*X,C+W.dx*q,O+W.dy*X)}),I===u.PIE?(G.lineTo(C,O),G.closePath()):I===u.CHORD&&G.closePath(),G.stroke()),this}},{key:"ellipse",value:function(C){var O=this.drawingContext,U=this._doFill,N=this._doStroke,D=parseFloat(C[0]),H=parseFloat(C[1]),I=parseFloat(C[2]);if(C=parseFloat(C[3]),U&&!N){if(this._getFill()===l)return this}else if(!U&&N&&this._getStroke()===l)return this;var V=I/2*.5522847498,G=C/2*.5522847498,q=D+I,X=H+C;I=D+I/2,C=H+C/2,O.beginPath(),O.moveTo(D,C),O.bezierCurveTo(D,C-G,I-V,H,I,H),O.bezierCurveTo(I+V,H,q,C-G,q,C),O.bezierCurveTo(q,C+G,I+V,X,I,X),O.bezierCurveTo(I-V,X,D,C+G,D,C),U&&O.fill(),N&&O.stroke()}},{key:"line",value:function(C,O,U,N){var D=this.drawingContext;return this._doStroke&&this._getStroke()!==l&&(D.beginPath(),D.moveTo(C,O),D.lineTo(U,N),D.stroke()),this}},{key:"point",value:function(C,O){var U,N,D=this.drawingContext;return this._doStroke&&this._getStroke()!==l?(U=this._getStroke(),N=this._getFill(),this._setFill(U),D.beginPath(),D.arc(C,O,D.lineWidth/2,0,u.TWO_PI,!1),D.fill(),void this._setFill(N)):this}},{key:"quad",value:function(C,O,U,N,D,H,I,V){var G=this.drawingContext,q=this._doFill,X=this._doStroke;if(q&&!X){if(this._getFill()===l)return this}else if(!q&&X&&this._getStroke()===l)return this;return G.beginPath(),G.moveTo(C,O),G.lineTo(U,N),G.lineTo(D,H),G.lineTo(I,V),G.closePath(),q&&G.fill(),X&&G.stroke(),this}},{key:"rect",value:function(C){var O,U,N=C[0],D=C[1],H=C[2],I=C[3],V=C[4],G=C[5],q=C[6],X=(C=C[7],this.drawingContext),B=this._doFill,W=this._doStroke;if(B&&!W){if(this._getFill()===l)return this}else if(!B&&W&&this._getStroke()===l)return this;return X.beginPath(),V===void 0?X.rect(N,D,H,I):(G===void 0&&(G=V),q===void 0&&(q=G),C===void 0&&(C=q),W=(B=Math.abs(H))/2,U=(O=Math.abs(I))/2,O<2*(V=B<2*V?W:V)&&(V=U),O<2*(G=B<2*G?W:G)&&(G=U),O<2*(q=B<2*q?W:q)&&(q=U),O<2*(C=B<2*C?W:C)&&(C=U),X.beginPath(),X.moveTo(N+V,D),X.arcTo(N+H,D,N+H,D+I,G),X.arcTo(N+H,D+I,N,D+I,q),X.arcTo(N,D+I,N,D,C),X.arcTo(N,D,N+H,D,V),X.closePath()),this._doFill&&X.fill(),this._doStroke&&X.stroke(),this}},{key:"triangle",value:function(C){var O=this.drawingContext,U=this._doFill,N=this._doStroke,D=C[0],H=C[1],I=C[2],V=C[3],G=C[4];if(C=C[5],U&&!N){if(this._getFill()===l)return this}else if(!U&&N&&this._getStroke()===l)return this;O.beginPath(),O.moveTo(D,H),O.lineTo(I,V),O.lineTo(G,C),O.closePath(),U&&O.fill(),N&&O.stroke()}},{key:"endShape",value:function(C,O,U,N,D,H,I){if(O.length!==0&&(this._doStroke||this._doFill)){var V,G,q,X=C===u.CLOSE,B=(X&&!H&&O.push(O[0]),O.length);if(!U||I!==u.POLYGON&&I!==null)if(!N||I!==u.POLYGON&&I!==null)if(!D||I!==u.POLYGON&&I!==null)if(I===u.POINTS)for(G=0;G<B;G++)V=O[G],this._doStroke&&this._pInst.stroke(V[6]),this._pInst.point(V[0],V[1]);else if(I===u.LINES)for(G=0;G+1<B;G+=2)V=O[G],this._doStroke&&this._pInst.stroke(O[G+1][6]),this._pInst.line(V[0],V[1],O[G+1][0],O[G+1][1]);else if(I===u.TRIANGLES)for(G=0;G+2<B;G+=3)V=O[G],this.drawingContext.beginPath(),this.drawingContext.moveTo(V[0],V[1]),this.drawingContext.lineTo(O[G+1][0],O[G+1][1]),this.drawingContext.lineTo(O[G+2][0],O[G+2][1]),this.drawingContext.closePath(),this._doFill&&(this._pInst.fill(O[G+2][5]),this.drawingContext.fill()),this._doStroke&&(this._pInst.stroke(O[G+2][6]),this.drawingContext.stroke());else if(I===u.TRIANGLE_STRIP)for(G=0;G+1<B;G++)V=O[G],this.drawingContext.beginPath(),this.drawingContext.moveTo(O[G+1][0],O[G+1][1]),this.drawingContext.lineTo(V[0],V[1]),this._doStroke&&this._pInst.stroke(O[G+1][6]),this._doFill&&this._pInst.fill(O[G+1][5]),G+2<B&&(this.drawingContext.lineTo(O[G+2][0],O[G+2][1]),this._doStroke&&this._pInst.stroke(O[G+2][6]),this._doFill&&this._pInst.fill(O[G+2][5])),this._doFillStrokeClose(X);else if(I===u.TRIANGLE_FAN){if(2<B){for(this.drawingContext.beginPath(),G=2;G<B;G++)V=O[G],this.drawingContext.moveTo(O[0][0],O[0][1]),this.drawingContext.lineTo(O[G-1][0],O[G-1][1]),this.drawingContext.lineTo(V[0],V[1]),this.drawingContext.lineTo(O[0][0],O[0][1]),G<B-1&&(this._doFill&&V[5]!==O[G+1][5]||this._doStroke&&V[6]!==O[G+1][6])&&(this._doFill&&(this._pInst.fill(V[5]),this.drawingContext.fill(),this._pInst.fill(O[G+1][5])),this._doStroke&&(this._pInst.stroke(V[6]),this.drawingContext.stroke(),this._pInst.stroke(O[G+1][6])),this.drawingContext.closePath(),this.drawingContext.beginPath());this._doFillStrokeClose(X)}}else if(I===u.QUADS)for(G=0;G+3<B;G+=4){for(V=O[G],this.drawingContext.beginPath(),this.drawingContext.moveTo(V[0],V[1]),q=1;q<4;q++)this.drawingContext.lineTo(O[G+q][0],O[G+q][1]);this.drawingContext.lineTo(V[0],V[1]),this._doFill&&this._pInst.fill(O[G+3][5]),this._doStroke&&this._pInst.stroke(O[G+3][6]),this._doFillStrokeClose(X)}else if(I===u.QUAD_STRIP){if(3<B)for(G=0;G+1<B;G+=2)V=O[G],this.drawingContext.beginPath(),G+3<B?(this.drawingContext.moveTo(O[G+2][0],O[G+2][1]),this.drawingContext.lineTo(V[0],V[1]),this.drawingContext.lineTo(O[G+1][0],O[G+1][1]),this.drawingContext.lineTo(O[G+3][0],O[G+3][1]),this._doFill&&this._pInst.fill(O[G+3][5]),this._doStroke&&this._pInst.stroke(O[G+3][6])):(this.drawingContext.moveTo(V[0],V[1]),this.drawingContext.lineTo(O[G+1][0],O[G+1][1])),this._doFillStrokeClose(X)}else{for(this.drawingContext.beginPath(),this.drawingContext.moveTo(O[0][0],O[0][1]),G=1;G<B;G++)(V=O[G]).isVert&&(V.moveTo?this.drawingContext.moveTo(V[0],V[1]):this.drawingContext.lineTo(V[0],V[1]));this._doFillStrokeClose(X)}else{for(this.drawingContext.beginPath(),G=0;G<B;G++)O[G].isVert?O[G].moveTo?this.drawingContext.moveTo(O[G][0],O[G][1]):this.drawingContext.lineTo(O[G][0],O[G][1]):this.drawingContext.quadraticCurveTo(O[G][0],O[G][1],O[G][2],O[G][3]);this._doFillStrokeClose(X)}else{for(this.drawingContext.beginPath(),G=0;G<B;G++)O[G].isVert?O[G].moveTo?this.drawingContext.moveTo(O[G][0],O[G][1]):this.drawingContext.lineTo(O[G][0],O[G][1]):this.drawingContext.bezierCurveTo(O[G][0],O[G][1],O[G][2],O[G][3],O[G][4],O[G][5]);this._doFillStrokeClose(X)}else if(3<B){var W=[],K=1-this._curveTightness;for(this.drawingContext.beginPath(),this.drawingContext.moveTo(O[1][0],O[1][1]),G=1;G+2<B;G++)V=O[G],W[0]=[V[0],V[1]],W[1]=[V[0]+(K*O[G+1][0]-K*O[G-1][0])/6,V[1]+(K*O[G+1][1]-K*O[G-1][1])/6],W[2]=[O[G+1][0]+(K*O[G][0]-K*O[G+2][0])/6,O[G+1][1]+(K*O[G][1]-K*O[G+2][1])/6],W[3]=[O[G+1][0],O[G+1][1]],this.drawingContext.bezierCurveTo(W[1][0],W[1][1],W[2][0],W[2][1],W[3][0],W[3][1]);X&&this.drawingContext.lineTo(O[G+1][0],O[G+1][1]),this._doFillStrokeClose(X)}H=D=N=U=!1,X&&O.pop()}return this}},{key:"strokeCap",value:function(C){return C!==u.ROUND&&C!==u.SQUARE&&C!==u.PROJECT||(this.drawingContext.lineCap=C),this}},{key:"strokeJoin",value:function(C){return C!==u.ROUND&&C!==u.BEVEL&&C!==u.MITER||(this.drawingContext.lineJoin=C),this}},{key:"strokeWeight",value:function(C){return this.drawingContext.lineWidth=C===void 0||C===0?1e-4:C,this}},{key:"_getFill",value:function(){return this._cachedFillStyle||(this._cachedFillStyle=this.drawingContext.fillStyle),this._cachedFillStyle}},{key:"_setFill",value:function(C){C!==this._cachedFillStyle&&(this.drawingContext.fillStyle=C,this._cachedFillStyle=C)}},{key:"_getStroke",value:function(){return this._cachedStrokeStyle||(this._cachedStrokeStyle=this.drawingContext.strokeStyle),this._cachedStrokeStyle}},{key:"_setStroke",value:function(C){C!==this._cachedStrokeStyle&&(this.drawingContext.strokeStyle=C,this._cachedStrokeStyle=C)}},{key:"bezier",value:function(C,O,U,N,D,H,I,V){return this._pInst.beginShape(),this._pInst.vertex(C,O),this._pInst.bezierVertex(U,N,D,H,I,V),this._pInst.endShape(),this}},{key:"curve",value:function(C,O,U,N,D,H,I,V){return this._pInst.beginShape(),this._pInst.curveVertex(C,O),this._pInst.curveVertex(U,N),this._pInst.curveVertex(D,H),this._pInst.curveVertex(I,V),this._pInst.endShape(),this}},{key:"_doFillStrokeClose",value:function(C){C&&this.drawingContext.closePath(),this._doFill&&this.drawingContext.fill(),this._doStroke&&this.drawingContext.stroke()}},{key:"applyMatrix",value:function(C,O,U,N,D,H){this.drawingContext.transform(C,O,U,N,D,H)}},{key:"resetMatrix",value:function(){return this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),this}},{key:"rotate",value:function(C){this.drawingContext.rotate(C)}},{key:"scale",value:function(C,O){return this.drawingContext.scale(C,O),this}},{key:"translate",value:function(C,O){return C instanceof c.default.Vector&&(O=C.y,C=C.x),this.drawingContext.translate(C,O),this}},{key:"_renderText",value:function(C,O,U,N,D,H){if(!(N<H||D<=N))return C.push(),this._isOpenType()?this._textFont._renderPath(O,U,N,{renderer:this}):(this._doStroke&&this._strokeSet&&this.drawingContext.strokeText(O,U,N),this._doFill&&(this._fillSet||this._setFill(u._DEFAULT_TEXT_FILL),this.drawingContext.fillText(O,U,N))),C.pop(),C}},{key:"textWidth",value:function(C){return this._isOpenType()?this._textFont._textWidth(C,this._textSize):this.drawingContext.measureText(C).width}},{key:"_applyTextProperties",value:function(){var C,O=this._pInst;return this._setProperty("_textAscent",null),this._setProperty("_textDescent",null),C=this._textFont,this._isOpenType()&&(C=this._textFont.font.familyName,this._setProperty("_textStyle",this._textFont.font.styleName)),this.drawingContext.font="".concat(this._textStyle||"normal"," ").concat(this._textSize||12,"px ").concat(C||"sans-serif"),this.drawingContext.textAlign=this._textAlign,this._textBaseline===u.CENTER?this.drawingContext.textBaseline=u._CTX_MIDDLE:this.drawingContext.textBaseline=this._textBaseline,O}},{key:"push",value:function(){return this.drawingContext.save(),o(f(E.prototype),"push",this).call(this)}},{key:"pop",value:function(C){this.drawingContext.restore(),this._cachedFillStyle=this.drawingContext.fillStyle,this._cachedStrokeStyle=this.drawingContext.strokeStyle,o(f(E.prototype),"pop",this).call(this,C)}}])&&j(w.prototype,_),E}(c.default.Renderer);m.prototype.text=function(_,w,v,E,C){E!==void 0&&this.drawingContext.textBaseline===u.BASELINE&&(O=!0,this.drawingContext.textBaseline=u.TOP);var O;return E=c.default.Renderer.prototype.text.apply(this,arguments),O&&(this.drawingContext.textBaseline=u.BASELINE),E},c.default.Renderer2D=m,t=c.default.Renderer2D,y.default=t},{"./constants":262,"./main":273,"./p5.Renderer":276,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.fill":154,"core-js/modules/es.array.for-each":156,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.join":161,"core-js/modules/es.array.slice":164,"core-js/modules/es.function.name":167,"core-js/modules/es.number.to-fixed":173,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.get-prototype-of":178,"core-js/modules/es.object.to-string":180,"core-js/modules/es.reflect.construct":182,"core-js/modules/es.reflect.get":183,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],278:[function(t,A,y){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator");var d=(t=t("./main"))&&t.__esModule?t:{default:t};function c(){return{}}d.default.prototype._promisePreloads=[];var u=!(d.default.prototype.registerPromisePreload=function(x){d.default.prototype._promisePreloads.push(x)});d.default.prototype._setupPromisePreloads=function(){var x=!0,j=!1,o=void 0;try{for(var h,f=this._promisePreloads[Symbol.iterator]();!(x=(h=f.next()).done);x=!0){var l=h.value,m=this,_=l.method,w=l.addCallbacks,v=l.legacyPreloadSetup,E=l.target||this,C=E[_].bind(E);if(E===d.default.prototype){if(u)continue;m=null,C=E[_]}E[_]=this._wrapPromisePreload(m,C,w),v&&(E[v.method]=this._legacyPreloadGenerator(m,v,E[_]))}}catch(O){j=!0,o=O}finally{try{x||f.return==null||f.return()}finally{if(j)throw o}}u=!0},d.default.prototype._wrapPromisePreload=function(x,j,o){var h=function(){for(var f=this,l=(this._incrementPreload(),null),m=null,_=arguments.length,w=new Array(_),v=0;v<_;v++)w[v]=arguments[v];if(o)for(var E=w.length-1;0<=E&&!m&&typeof w[E]=="function";E--)m=l,l=w.pop();var C=Promise.resolve(j.apply(this,w));return l&&C.then(l),m&&C.catch(m),C.then(function(){return f._decrementPreload()}),C};return x?h.bind(x):h},d.default.prototype._legacyPreloadGenerator=function(x,j,o){var h=j.createBaseObject||c;return j=function(){var f=this;this._incrementPreload();for(var l=arguments.length,m=new Array(l),_=0;_<l;_++)m[_]=arguments[_];var w=h.apply(this,m);return o.apply(this,m).then(function(v){Object.assign(w,v),f._decrementPreload()}),w},x?j.bind(x):j}},{"./main":273,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.assign":174,"core-js/modules/es.object.to-string":180,"core-js/modules/es.promise":181,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/web.dom-collections.iterator":236}],279:[function(t,A,y){function d(h){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(h)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var c=(o=t("./main"))&&o.__esModule?o:{default:o},u=function(h){if(h&&h.__esModule)return h;if(h===null||x(h)!=="object"&&typeof h!="function")return{default:h};var f=function(){var v;return typeof WeakMap!="function"?null:(v=new WeakMap,v)}();if(f&&f.has(h))return f.get(h);var l,m={},_=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(l in h){var w;Object.prototype.hasOwnProperty.call(h,l)&&((w=_?Object.getOwnPropertyDescriptor(h,l):null)&&(w.get||w.set)?Object.defineProperty(m,l,w):m[l]=h[l])}return m.default=h,f&&f.set(h,m),m}(t("./constants"));function x(h){return(x=typeof Symbol=="function"&&d(Symbol.iterator)==="symbol"?function(f){return d(f)}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":d(f)})(h)}t("./p5.Graphics"),t("./p5.Renderer2D"),t("../webgl/p5.RendererGL");var j="defaultCanvas0",o=(c.default.prototype.createCanvas=function(h,f,l,m){var _,w,v;if(c.default._validateParameters("createCanvas",arguments),arguments[2]instanceof HTMLCanvasElement?(l=u.P2D,m=arguments[2]):_=l||u.P2D,m)(v=document.getElementById(j))&&v.parentNode.removeChild(v),v=m,this._defaultGraphicsCreated=!1;else{if(_===u.WEBGL)(v=document.getElementById(j))&&(v.parentNode.removeChild(v),w=this._renderer,this._elements=this._elements.filter(function(C){return C!==w})),(v=document.createElement("canvas")).id=j,v.classList.add("p5Canvas");else if(this._defaultGraphicsCreated)v=this.canvas;else{v=m||document.createElement("canvas");for(var E=0;document.getElementById("defaultCanvas".concat(E));)E++;j="defaultCanvas".concat(E),v.id=j,v.classList.add("p5Canvas")}this._setupDone||(v.dataset.hidden=!0,v.style.visibility="hidden"),(this._userNode||(document.getElementsByTagName("main").length===0&&(l=document.createElement("main"),document.body.appendChild(l)),document.getElementsByTagName("main")[0])).appendChild(v)}return _===u.WEBGL?(this._setProperty("_renderer",new c.default.RendererGL(v,this,!0)),this._elements.push(this._renderer)):this._defaultGraphicsCreated||(this._setProperty("_renderer",new c.default.Renderer2D(v,this,!0)),this._defaultGraphicsCreated=!0,this._elements.push(this._renderer)),this._renderer.resize(h,f),this._renderer._applyDefaults(),this._renderer},c.default.prototype.resizeCanvas=function(h,f,l){if(c.default._validateParameters("resizeCanvas",arguments),this._renderer){var m,_,w={};for(m in this.drawingContext){var v=this.drawingContext[m];x(v)!=="object"&&typeof v!="function"&&(w[m]=v)}for(_ in this.width=h,this.height=f,this._renderer.resize(h,f),w)try{this.drawingContext[_]=w[_]}catch{}l||this.redraw()}this._addAccsOutput()&&this._updateAccsOutput()},c.default.prototype.noCanvas=function(){this.canvas&&this.canvas.parentNode.removeChild(this.canvas)},c.default.prototype.createGraphics=function(h,f,l,m){return arguments[2]instanceof HTMLCanvasElement&&(l=u.P2D,m=arguments[2]),c.default._validateParameters("createGraphics",arguments),new c.default.Graphics(h,f,l,this,m)},c.default.prototype.createFramebuffer=function(h){return new c.default.Framebuffer(this,h)},c.default.prototype.blendMode=function(h){c.default._validateParameters("blendMode",arguments),h===u.NORMAL&&(console.warn("NORMAL has been deprecated for use in blendMode. defaulting to BLEND instead."),h=u.BLEND),this._renderer.blendMode(h)},c.default);y.default=o},{"../webgl/p5.RendererGL":328,"./constants":262,"./main":273,"./p5.Graphics":275,"./p5.Renderer2D":277,"core-js/modules/es.array.filter":155,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],280:[function(t,A,y){function d(f){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(f)}function c(f){return(c=typeof Symbol=="function"&&d(Symbol.iterator)==="symbol"?function(l){return d(l)}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":d(l)})(f)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var u=o(t("../main")),x=function(f){if(f&&f.__esModule)return f;if(f===null||c(f)!=="object"&&typeof f!="function")return{default:f};var l=function(){var E;return typeof WeakMap!="function"?null:(E=new WeakMap,E)}();if(l&&l.has(f))return l.get(f);var m,_={},w=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(m in f){var v;Object.prototype.hasOwnProperty.call(f,m)&&((v=w?Object.getOwnPropertyDescriptor(f,m):null)&&(v.get||v.set)?Object.defineProperty(_,m,v):_[m]=f[m])}return _.default=f,l&&l.set(f,_),_}(t("../constants")),j=o(t("../helpers"));function o(f){return f&&f.__esModule?f:{default:f}}function h(f){return function(l){if(Array.isArray(l)){for(var m=0,_=new Array(l.length);m<l.length;m++)_[m]=l[m];return _}}(f)||function(l){if(Symbol.iterator in Object(l)||Object.prototype.toString.call(l)==="[object Arguments]")return Array.from(l)}(f)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}t("../friendly_errors/fes_core"),t("../friendly_errors/file_errors"),t("../friendly_errors/validate_params"),u.default.prototype._normalizeArcAngles=function(f,l,m,_,w){var v;return f-=x.TWO_PI*Math.floor(f/x.TWO_PI),l-=x.TWO_PI*Math.floor(l/x.TWO_PI),v=Math.min(Math.abs(f-l),x.TWO_PI-Math.abs(f-l)),w&&(f=f<=x.HALF_PI?Math.atan(m/_*Math.tan(f)):f>x.HALF_PI&&f<=3*x.HALF_PI?Math.atan(m/_*Math.tan(f))+x.PI:Math.atan(m/_*Math.tan(f))+x.TWO_PI,l=l<=x.HALF_PI?Math.atan(m/_*Math.tan(l)):l>x.HALF_PI&&l<=3*x.HALF_PI?Math.atan(m/_*Math.tan(l))+x.PI:Math.atan(m/_*Math.tan(l))+x.TWO_PI),l<f&&(l+=x.TWO_PI),{start:f,stop:l,correspondToSamePoint:v<1e-5}},u.default.prototype.arc=function(f,l,m,_,w,v,E,C){return u.default._validateParameters("arc",arguments),(this._renderer._doStroke||this._renderer._doFill)&&w!==v&&(w=this._toRadians(w),v=this._toRadians(v),m=Math.abs(m),_=Math.abs(_),f=j.default.modeAdjust(f,l,m,_,this._renderer._ellipseMode),(l=this._normalizeArcAngles(w,v,f.w,f.h,!0)).correspondToSamePoint?this._renderer.ellipse([f.x,f.y,f.w,f.h,C]):(this._renderer.arc(f.x,f.y,f.w,f.h,l.start,l.stop,E,C),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("arc",[f.x,f.y,f.w,f.h,l.start,l.stop,E]))),this},u.default.prototype.ellipse=function(f,l,m,_,w){return u.default._validateParameters("ellipse",arguments),this._renderEllipse.apply(this,arguments)},u.default.prototype.circle=function(){u.default._validateParameters("circle",arguments);var f=Array.prototype.slice.call(arguments,0,2);return f.push(arguments[2]),f.push(arguments[2]),this._renderEllipse.apply(this,h(f))},u.default.prototype._renderEllipse=function(f,l,m,_,w){return(this._renderer._doStroke||this._renderer._doFill)&&(m<0&&(m=Math.abs(m)),_===void 0?_=m:_<0&&(_=Math.abs(_)),f=j.default.modeAdjust(f,l,m,_,this._renderer._ellipseMode),this._renderer.ellipse([f.x,f.y,f.w,f.h,w]),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("ellipse",[f.x,f.y,f.w,f.h])),this},u.default.prototype.line=function(){for(var f,l=arguments.length,m=new Array(l),_=0;_<l;_++)m[_]=arguments[_];return u.default._validateParameters("line",m),this._renderer._doStroke&&(f=this._renderer).line.apply(f,m),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("line",m),this},u.default.prototype.point=function(){for(var f,l=arguments.length,m=new Array(l),_=0;_<l;_++)m[_]=arguments[_];return u.default._validateParameters("point",m),this._renderer._doStroke&&(m.length===1&&m[0]instanceof u.default.Vector?this._renderer.point.call(this._renderer,m[0].x,m[0].y,m[0].z):((f=this._renderer).point.apply(f,m),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("point",m))),this},u.default.prototype.quad=function(){for(var f,l=arguments.length,m=new Array(l),_=0;_<l;_++)m[_]=arguments[_];return u.default._validateParameters("quad",m),(this._renderer._doStroke||this._renderer._doFill)&&(this._renderer.isP3D&&m.length<12?this._renderer.quad.call(this._renderer,m[0],m[1],0,m[2],m[3],0,m[4],m[5],0,m[6],m[7],0,m[8],m[9]):((f=this._renderer).quad.apply(f,m),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("quadrilateral",m))),this},u.default.prototype.rect=function(){for(var f=arguments.length,l=new Array(f),m=0;m<f;m++)l[m]=arguments[m];return u.default._validateParameters("rect",l),this._renderRect.apply(this,l)},u.default.prototype.square=function(f,l,m,_,w,v,E){return u.default._validateParameters("square",arguments),this._renderRect.call(this,f,l,m,m,_,w,v,E)},u.default.prototype._renderRect=function(){if(this._renderer._doStroke||this._renderer._doFill){arguments.length===3&&(arguments[3]=arguments[2]);for(var f=j.default.modeAdjust(arguments[0],arguments[1],arguments[2],arguments[3],this._renderer._rectMode),l=[f.x,f.y,f.w,f.h],m=4;m<arguments.length;m++)l[m]=arguments[m];this._renderer.rect(l),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("rectangle",[f.x,f.y,f.w,f.h])}return this},u.default.prototype.triangle=function(){for(var f=arguments.length,l=new Array(f),m=0;m<f;m++)l[m]=arguments[m];return u.default._validateParameters("triangle",l),(this._renderer._doStroke||this._renderer._doFill)&&this._renderer.triangle(l),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("triangle",l),this},t=u.default,y.default=t},{"../constants":262,"../friendly_errors/fes_core":264,"../friendly_errors/file_errors":265,"../friendly_errors/validate_params":268,"../helpers":269,"../main":273,"core-js/modules/es.array.from":157,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.slice":164,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],281:[function(t,A,y){function d(o){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(o)}function c(o){return(c=typeof Symbol=="function"&&d(Symbol.iterator)==="symbol"?function(h){return d(h)}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":d(h)})(o)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var u=(j=t("../main"))&&j.__esModule?j:{default:j},x=function(o){if(o&&o.__esModule)return o;if(o===null||c(o)!=="object"&&typeof o!="function")return{default:o};var h=function(){var w;return typeof WeakMap!="function"?null:(w=new WeakMap,w)}();if(h&&h.has(o))return h.get(o);var f,l={},m=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(f in o){var _;Object.prototype.hasOwnProperty.call(o,f)&&((_=m?Object.getOwnPropertyDescriptor(o,f):null)&&(_.get||_.set)?Object.defineProperty(l,f,_):l[f]=o[f])}return l.default=o,h&&h.set(o,l),l}(t("../constants"));u.default.prototype.ellipseMode=function(o){return u.default._validateParameters("ellipseMode",arguments),o!==x.CORNER&&o!==x.CORNERS&&o!==x.RADIUS&&o!==x.CENTER||(this._renderer._ellipseMode=o),this},u.default.prototype.noSmooth=function(){return this._renderer.isP3D?this.setAttributes("antialias",!1):"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!1),this},u.default.prototype.rectMode=function(o){return u.default._validateParameters("rectMode",arguments),o!==x.CORNER&&o!==x.CORNERS&&o!==x.RADIUS&&o!==x.CENTER||(this._renderer._rectMode=o),this},u.default.prototype.smooth=function(){return this.setAttributes("antialias",!0),this._renderer.isP3D||"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!0),this},u.default.prototype.strokeCap=function(o){return u.default._validateParameters("strokeCap",arguments),o!==x.ROUND&&o!==x.SQUARE&&o!==x.PROJECT||this._renderer.strokeCap(o),this},u.default.prototype.strokeJoin=function(o){return u.default._validateParameters("strokeJoin",arguments),o!==x.ROUND&&o!==x.BEVEL&&o!==x.MITER||this._renderer.strokeJoin(o),this},u.default.prototype.strokeWeight=function(o){return u.default._validateParameters("strokeWeight",arguments),this._renderer.strokeWeight(o),this};var j=u.default;y.default=j},{"../constants":262,"../main":273,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],282:[function(t,A,y){Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var d=(c=t("../main"))&&c.__esModule?c:{default:c};t("../friendly_errors/fes_core"),t("../friendly_errors/file_errors"),t("../friendly_errors/validate_params"),d.default.prototype.bezier=function(){for(var u,x=arguments.length,j=new Array(x),o=0;o<x;o++)j[o]=arguments[o];return d.default._validateParameters("bezier",j),(this._renderer._doStroke||this._renderer._doFill)&&(u=this._renderer).bezier.apply(u,j),this},d.default.prototype.bezierDetail=function(u){return d.default._validateParameters("bezierDetail",arguments),this._bezierDetail=u,this},d.default.prototype.bezierPoint=function(u,x,j,o,h){d.default._validateParameters("bezierPoint",arguments);var f=1-h;return Math.pow(f,3)*u+3*Math.pow(f,2)*h*x+3*f*Math.pow(h,2)*j+Math.pow(h,3)*o},d.default.prototype.bezierTangent=function(u,x,j,o,h){d.default._validateParameters("bezierTangent",arguments);var f=1-h;return 3*o*Math.pow(h,2)-3*j*Math.pow(h,2)+6*j*f*h-6*x*f*h+3*x*Math.pow(f,2)-3*u*Math.pow(f,2)},d.default.prototype.curve=function(){for(var u,x=arguments.length,j=new Array(x),o=0;o<x;o++)j[o]=arguments[o];return d.default._validateParameters("curve",j),this._renderer._doStroke&&(u=this._renderer).curve.apply(u,j),this},d.default.prototype.curveDetail=function(u){return d.default._validateParameters("curveDetail",arguments),this._curveDetail=u<3?3:u,this},d.default.prototype.curveTightness=function(u){return d.default._validateParameters("curveTightness",arguments),this._renderer._curveTightness=u,this},d.default.prototype.curvePoint=function(u,x,j,o,h){d.default._validateParameters("curvePoint",arguments);var f=this._renderer._curveTightness,l=h*h*h,m=h*h;return u*((f-1)/2*l+(1-f)*m+(f-1)/2*h)+x*((f+3)/2*l+(-5-f)/2*m+1)+j*((-3-f)/2*l+(f+2)*m+(1-f)/2*h)+o*((1-f)/2*l+(f-1)/2*m)},d.default.prototype.curveTangent=function(u,x,j,o,h){d.default._validateParameters("curveTangent",arguments);var f=this._renderer._curveTightness,l=h*h*3;return u*((f-1)/2*l+(1-f)*(h=2*h)+(f-1)/2)+x*((f+3)/2*l+(-5-f)/2*h)+j*((-3-f)/2*l+(f+2)*h+(1-f)/2)+o*((1-f)/2*l+(f-1)/2*h)};var c=d.default;y.default=c},{"../friendly_errors/fes_core":264,"../friendly_errors/file_errors":265,"../friendly_errors/validate_params":268,"../main":273}],283:[function(t,A,y){function d(E){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(C){return typeof C}:function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C})(E)}function c(E){return(c=typeof Symbol=="function"&&d(Symbol.iterator)==="symbol"?function(C){return d(C)}:function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":d(C)})(E)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.slice"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var u=(v=t("../main"))&&v.__esModule?v:{default:v},x=function(E){if(E&&E.__esModule)return E;if(E===null||c(E)!=="object"&&typeof E!="function")return{default:E};var C=function(){var H;return typeof WeakMap!="function"?null:(H=new WeakMap,H)}();if(C&&C.has(E))return C.get(E);var O,U={},N=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(O in E){var D;Object.prototype.hasOwnProperty.call(E,O)&&((D=N?Object.getOwnPropertyDescriptor(E,O):null)&&(D.get||D.set)?Object.defineProperty(U,O,D):U[O]=E[O])}return U.default=E,C&&C.set(E,U),U}(t("../constants")),j=null,o=[],h=[],f=!1,l=!1,m=!1,_=!1,w=!0,v=(u.default.prototype.beginContour=function(){return h=[],_=!0,this},u.default.prototype.beginShape=function(E){var C;return u.default._validateParameters("beginShape",arguments),this._renderer.isP3D?(C=this._renderer).beginShape.apply(C,arguments):(j=E===x.POINTS||E===x.LINES||E===x.TRIANGLES||E===x.TRIANGLE_FAN||E===x.TRIANGLE_STRIP||E===x.QUADS||E===x.QUAD_STRIP?E:null,o=[],h=[]),this},u.default.prototype.bezierVertex=function(){for(var E,C=arguments.length,O=new Array(C),U=0;U<C;U++)O[U]=arguments[U];if(u.default._validateParameters("bezierVertex",O),this._renderer.isP3D)(E=this._renderer).bezierVertex.apply(E,O);else if(o.length===0)u.default._friendlyError("vertex() must be used once before calling bezierVertex()","bezierVertex");else{f=!0;for(var N=[],D=0;D<O.length;D++)N[D]=O[D];N.isVert=!1,(_?h:o).push(N)}return this},u.default.prototype.curveVertex=function(){for(var E,C=arguments.length,O=new Array(C),U=0;U<C;U++)O[U]=arguments[U];return u.default._validateParameters("curveVertex",O),this._renderer.isP3D?(E=this._renderer).curveVertex.apply(E,O):(l=!0,this.vertex(O[0],O[1])),this},u.default.prototype.endContour=function(){var E=h[0].slice();E.isVert=h[0].isVert,E.moveTo=!1,h.push(E),w&&(o.push(o[0]),w=!1);for(var C=0;C<h.length;C++)o.push(h[C]);return this},u.default.prototype.endShape=function(E){if(u.default._validateParameters("endShape",arguments),this._renderer.isP3D)this._renderer.endShape(E,l,f,m,_,j);else{if(o.length===0)return this;if(!this._renderer._doStroke&&!this._renderer._doFill)return this;var C=E===x.CLOSE;C&&!_&&o.push(o[0]),this._renderer.endShape(E,o,l,f,m,_,j),w=!(_=m=f=l=!1),C&&o.pop()}return this},u.default.prototype.quadraticVertex=function(){for(var E,C=arguments.length,O=new Array(C),U=0;U<C;U++)O[U]=arguments[U];if(u.default._validateParameters("quadraticVertex",O),this._renderer.isP3D)(E=this._renderer).quadraticVertex.apply(E,O);else{if(this._contourInited)return(E={}).x=O[0],E.y=O[1],E.x3=O[2],E.y3=O[3],E.type=x.QUADRATIC,this._contourVertices.push(E),this;if(0<o.length){m=!0;for(var N=[],D=0;D<O.length;D++)N[D]=O[D];N.isVert=!1,(_?h:o).push(N)}else u.default._friendlyError("vertex() must be used once before calling quadraticVertex()","quadraticVertex")}return this},u.default.prototype.vertex=function(E,C,O,U,N){var D;return this._renderer.isP3D?(D=this._renderer).vertex.apply(D,arguments):((D=[]).isVert=!0,D[0]=E,D[1]=C,D[2]=0,D[3]=0,D[4]=0,D[5]=this._renderer._getFill(),D[6]=this._renderer._getStroke(),O&&(D.moveTo=O),(_?(h.length===0&&(D.moveTo=!0),h):o).push(D)),this},u.default.prototype.normal=function(E,C,O){var U;return this._assert3d("normal"),u.default._validateParameters("normal",arguments),(U=this._renderer).normal.apply(U,arguments),this},u.default);y.default=v},{"../constants":262,"../main":273,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.slice":164,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],284:[function(t,A,y){function d(h){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(h)}function c(h){return function(f){if(Array.isArray(f)){for(var l=0,m=new Array(f.length);l<f.length;l++)m[l]=f[l];return m}}(h)||function(f){if(Symbol.iterator in Object(f)||Object.prototype.toString.call(f)==="[object Arguments]")return Array.from(f)}(h)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function u(h){return(u=typeof Symbol=="function"&&d(Symbol.iterator)==="symbol"?function(f){return d(f)}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":d(f)})(h)}var x,j,o;t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.uint8-clamped-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.uint8-clamped-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(h,f){window.setTimeout(h,1e3/60)},typeof Uint8ClampedArray>"u"||Uint8ClampedArray.prototype.slice||Object.defineProperty(Uint8ClampedArray.prototype,"slice",{value:Array.prototype.slice,writable:!0,configurable:!0,enumerable:!1}),Object.assign||(x=Object.keys,t=Object.defineProperty,j=typeof Symbol=="function"&&u(Symbol())==="symbol",o=Object.prototype.propertyIsEnumerable,t(Object,"assign",{value:function(h,f){if(h==null)throw new TypeError("target must be an object");for(var l,m=Object(h),_=1;_<arguments.length;++_){var w=Object(arguments[_]),v=x(w);for(j&&Object.getOwnPropertySymbols&&v.push.apply(v,c(Object.getOwnPropertySymbols(w).filter(function(E){return function(C){return o.call(E,C)}}(w)))),l=0;l<v.length;++l)m[v[l]]=w[v[l]]}return m},configurable:!0,enumerable:!1,writable:!0}))},{"core-js/modules/es.array.filter":155,"core-js/modules/es.array.from":157,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.slice":164,"core-js/modules/es.object.assign":174,"core-js/modules/es.object.keys":179,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.typed-array.copy-within":203,"core-js/modules/es.typed-array.every":204,"core-js/modules/es.typed-array.fill":205,"core-js/modules/es.typed-array.filter":206,"core-js/modules/es.typed-array.find":208,"core-js/modules/es.typed-array.find-index":207,"core-js/modules/es.typed-array.for-each":211,"core-js/modules/es.typed-array.includes":212,"core-js/modules/es.typed-array.index-of":213,"core-js/modules/es.typed-array.iterator":216,"core-js/modules/es.typed-array.join":217,"core-js/modules/es.typed-array.last-index-of":218,"core-js/modules/es.typed-array.map":219,"core-js/modules/es.typed-array.reduce":221,"core-js/modules/es.typed-array.reduce-right":220,"core-js/modules/es.typed-array.reverse":222,"core-js/modules/es.typed-array.set":223,"core-js/modules/es.typed-array.slice":224,"core-js/modules/es.typed-array.some":225,"core-js/modules/es.typed-array.sort":226,"core-js/modules/es.typed-array.subarray":227,"core-js/modules/es.typed-array.to-locale-string":228,"core-js/modules/es.typed-array.to-string":229,"core-js/modules/es.typed-array.uint8-clamped-array":233,"core-js/modules/web.dom-collections.iterator":236}],285:[function(t,A,y){t("core-js/modules/es.array.for-each"),t("core-js/modules/es.object.assign"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.object.assign"),t("core-js/modules/web.dom-collections.for-each"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0,(t=(t=t("./main"))&&t.__esModule?t:{default:t}).default.prototype.noLoop=function(){this._loop=!1},t.default.prototype.loop=function(){this._loop||(this._loop=!0,this._setupDone&&this._draw())},t.default.prototype.isLooping=function(){return this._loop},t.default.prototype.push=function(){this._styles.push({props:{_colorMode:this._colorMode},renderer:this._renderer.push()})},t.default.prototype.pop=function(){var d=this._styles.pop();d?(this._renderer.pop(d.renderer),Object.assign(this,d.props)):console.warn("pop() was called without matching push()")},t.default.prototype.redraw=function(d){if(!this._inUserDraw&&this._setupDone){var c=parseInt(d),u=((isNaN(c)||c<1)&&(c=1),this._isGlobal?window:this);if(typeof u.draw=="function"){u.setup===void 0&&u.scale(u._pixelDensity,u._pixelDensity);for(var x=function(o){o.call(u)},j=0;j<c;j++){u.resetMatrix(),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._updateAccsOutput(),u._renderer.isP3D&&u._renderer._update(),u._setProperty("frameCount",u.frameCount+1),u._registeredMethods.pre.forEach(x),this._inUserDraw=!0;try{u.draw()}finally{this._inUserDraw=!1}u._registeredMethods.post.forEach(x)}}}},t=t.default,y.default=t},{"./main":273,"core-js/modules/es.array.for-each":156,"core-js/modules/es.object.assign":174,"core-js/modules/web.dom-collections.for-each":235}],286:[function(t,A,y){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var d=(t=t("./main"))&&t.__esModule?t:{default:t};function c(u){return function(x){if(Array.isArray(x)){for(var j=0,o=new Array(x.length);j<x.length;j++)o[j]=x[j];return o}}(u)||function(x){if(Symbol.iterator in Object(x)||Object.prototype.toString.call(x)==="[object Arguments]")return Array.from(x)}(u)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}d.default.prototype.applyMatrix=function(){var u=(arguments.length<=0?void 0:arguments[0])instanceof Object.getPrototypeOf(Uint8Array);return Array.isArray(arguments.length<=0?void 0:arguments[0])||u?(u=this._renderer).applyMatrix.apply(u,c(arguments.length<=0?void 0:arguments[0])):(u=this._renderer).applyMatrix.apply(u,arguments),this},d.default.prototype.resetMatrix=function(){return this._renderer.resetMatrix(),this},d.default.prototype.rotate=function(u,x){return d.default._validateParameters("rotate",arguments),this._renderer.rotate(this._toRadians(u),x),this},d.default.prototype.rotateX=function(u){return this._assert3d("rotateX"),d.default._validateParameters("rotateX",arguments),this._renderer.rotateX(this._toRadians(u)),this},d.default.prototype.rotateY=function(u){return this._assert3d("rotateY"),d.default._validateParameters("rotateY",arguments),this._renderer.rotateY(this._toRadians(u)),this},d.default.prototype.rotateZ=function(u){return this._assert3d("rotateZ"),d.default._validateParameters("rotateZ",arguments),this._renderer.rotateZ(this._toRadians(u)),this},d.default.prototype.scale=function(u,x,j){var o;return d.default._validateParameters("scale",arguments),u instanceof d.default.Vector?(u=(o=u).x,x=o.y,j=o.z):u instanceof Array&&(u=(o=u)[0],x=o[1],j=o[2]||1),isNaN(x)?x=j=u:isNaN(j)&&(j=1),this._renderer.scale.call(this._renderer,u,x,j),this},d.default.prototype.shearX=function(u){return d.default._validateParameters("shearX",arguments),u=this._toRadians(u),this._renderer.applyMatrix(1,0,Math.tan(u),1,0,0),this},d.default.prototype.shearY=function(u){return d.default._validateParameters("shearY",arguments),u=this._toRadians(u),this._renderer.applyMatrix(1,Math.tan(u),0,1,0,0),this},d.default.prototype.translate=function(u,x,j){return d.default._validateParameters("translate",arguments),this._renderer.isP3D?this._renderer.translate(u,x,j):this._renderer.translate(u,x),this},t=d.default,y.default=t},{"./main":273,"core-js/modules/es.array.from":157,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.get-prototype-of":178,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.typed-array.copy-within":203,"core-js/modules/es.typed-array.every":204,"core-js/modules/es.typed-array.fill":205,"core-js/modules/es.typed-array.filter":206,"core-js/modules/es.typed-array.find":208,"core-js/modules/es.typed-array.find-index":207,"core-js/modules/es.typed-array.for-each":211,"core-js/modules/es.typed-array.includes":212,"core-js/modules/es.typed-array.index-of":213,"core-js/modules/es.typed-array.iterator":216,"core-js/modules/es.typed-array.join":217,"core-js/modules/es.typed-array.last-index-of":218,"core-js/modules/es.typed-array.map":219,"core-js/modules/es.typed-array.reduce":221,"core-js/modules/es.typed-array.reduce-right":220,"core-js/modules/es.typed-array.reverse":222,"core-js/modules/es.typed-array.set":223,"core-js/modules/es.typed-array.slice":224,"core-js/modules/es.typed-array.some":225,"core-js/modules/es.typed-array.sort":226,"core-js/modules/es.typed-array.subarray":227,"core-js/modules/es.typed-array.to-locale-string":228,"core-js/modules/es.typed-array.to-string":229,"core-js/modules/es.typed-array.uint8-array":232,"core-js/modules/web.dom-collections.iterator":236}],287:[function(t,A,y){function d(j){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(j)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.ends-with"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.ends-with"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator");var c=(t=t("../core/main"))&&t.__esModule?t:{default:t};function u(j){return function(o){if(Array.isArray(o)){for(var h=0,f=new Array(o.length);h<o.length;h++)f[h]=o[h];return f}}(j)||function(o){if(Symbol.iterator in Object(o)||Object.prototype.toString.call(o)==="[object Arguments]")return Array.from(o)}(j)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function x(j){return(x=typeof Symbol=="function"&&d(Symbol.iterator)==="symbol"?function(o){return d(o)}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":d(o)})(j)}c.default.prototype.storeItem=function(j,o){typeof j!="string"&&console.log("The argument that you passed to storeItem() - ".concat(j," is not a string.")),j.endsWith("p5TypeID")&&console.log("The argument that you passed to storeItem() - ".concat(j," must not end with 'p5TypeID'.")),o===void 0&&console.log("You cannot store undefined variables using storeItem().");var h=x(o);switch(h){case"number":case"boolean":o=o.toString();break;case"object":o instanceof c.default.Color?h="p5.Color":o instanceof c.default.Vector&&(h="p5.Vector",o=[o.x,o.y,o.z]),o=JSON.stringify(o)}localStorage.setItem(j,o),j="".concat(j,"p5TypeID"),localStorage.setItem(j,h)},c.default.prototype.getItem=function(j){var o=localStorage.getItem(j),h=localStorage.getItem("".concat(j,"p5TypeID"));if(h===void 0)console.log("Unable to determine type of item stored under ".concat(j,"in local storage. Did you save the item with something other than setItem()?"));else if(o!==null)switch(h){case"number":o=parseFloat(o);break;case"boolean":o=o==="true";break;case"object":o=JSON.parse(o);break;case"p5.Color":o=JSON.parse(o),o=this.color.apply(this,u(o.levels));break;case"p5.Vector":o=JSON.parse(o),o=this.createVector.apply(this,u(o))}return o},c.default.prototype.clearStorage=function(){localStorage.clear()},c.default.prototype.removeItem=function(j){typeof j!="string"&&console.log("The argument that you passed to removeItem() - ".concat(j," is not a string.")),localStorage.removeItem(j),localStorage.removeItem("".concat(j,"p5TypeID"))}},{"../core/main":273,"core-js/modules/es.array.from":157,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.ends-with":188,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/web.dom-collections.iterator":236}],288:[function(t,A,y){function d(m){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _})(m)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var c=(t=t("../core/main"))&&t.__esModule?t:{default:t};function u(m){return(u=typeof Symbol=="function"&&d(Symbol.iterator)==="symbol"?function(_){return d(_)}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":d(_)})(m)}function x(m,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function");m.prototype=Object.create(_&&_.prototype,{constructor:{value:m,writable:!0,configurable:!0}}),_&&function(w,v){(Object.setPrototypeOf||function(E,C){return E.__proto__=C,E})(w,v)}(m,_)}function j(m){return function(){var _,w=o(m);if(_=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(_=o(this).constructor,Reflect.construct(w,arguments,_)):w.apply(this,arguments),w=this,!_||u(_)!=="object"&&typeof _!="function"){if(w!==void 0)return w;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return _}}function o(m){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(_){return _.__proto__||Object.getPrototypeOf(_)})(m)}function h(m,_){if(!(m instanceof _))throw new TypeError("Cannot call a class as a function")}function f(m,_){for(var w=0;w<_.length;w++){var v=_[w];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,v.key,v)}}function l(m,_,w){_&&f(m.prototype,_)}c.default.prototype.createStringDict=function(m,_){return c.default._validateParameters("createStringDict",arguments),new c.default.StringDict(m,_)},c.default.prototype.createNumberDict=function(m,_){return c.default._validateParameters("createNumberDict",arguments),new c.default.NumberDict(m,_)},c.default.TypedDict=function(){function m(_,w){return h(this,m),_ instanceof Object?this.data=_:(this.data={},this.data[_]=w),this}return l(m,[{key:"size",value:function(){return Object.keys(this.data).length}},{key:"hasKey",value:function(_){return this.data.hasOwnProperty(_)}},{key:"get",value:function(_){if(this.data.hasOwnProperty(_))return this.data[_];console.log("".concat(_," does not exist in this Dictionary"))}},{key:"set",value:function(_,w){this._validate(w)?this.data[_]=w:console.log("Those values dont work for this dictionary type.")}},{key:"_addObj",value:function(_){for(var w in _)this.set(w,_[w])}},{key:"create",value:function(_,w){_ instanceof Object&&w===void 0?this._addObj(_):_!==void 0?this.set(_,w):console.log("In order to create a new Dictionary entry you must pass an object or a key, value pair")}},{key:"clear",value:function(){this.data={}}},{key:"remove",value:function(_){if(!this.data.hasOwnProperty(_))throw new Error("".concat(_," does not exist in this Dictionary"));delete this.data[_]}},{key:"print",value:function(){for(var _ in this.data)console.log("key:".concat(_," value:").concat(this.data[_]))}},{key:"saveTable",value:function(_){var w,v="";for(w in this.data)v+="".concat(w,",").concat(this.data[w],`
`);var E=new Blob([v],{type:"text/csv"});c.default.prototype.downloadFile(E,_||"mycsv","csv")}},{key:"saveJSON",value:function(_,w){c.default.prototype.saveJSON(this.data,_,w)}},{key:"_validate",value:function(_){return!0}}]),m}(),c.default.StringDict=function(){x(_,c.default.TypedDict);var m=j(_);function _(){h(this,_);for(var w=arguments.length,v=new Array(w),E=0;E<w;E++)v[E]=arguments[E];return m.call.apply(m,[this].concat(v))}return l(_,[{key:"_validate",value:function(w){return typeof w=="string"}}]),_}(),c.default.NumberDict=function(){x(_,c.default.TypedDict);var m=j(_);function _(){h(this,_);for(var w=arguments.length,v=new Array(w),E=0;E<w;E++)v[E]=arguments[E];return m.call.apply(m,[this].concat(v))}return l(_,[{key:"_validate",value:function(w){return typeof w=="number"}},{key:"add",value:function(w,v){this.data.hasOwnProperty(w)?this.data[w]+=v:console.log("The key - ".concat(w," does not exist in this dictionary."))}},{key:"sub",value:function(w,v){this.add(w,-v)}},{key:"mult",value:function(w,v){this.data.hasOwnProperty(w)?this.data[w]*=v:console.log("The key - ".concat(w," does not exist in this dictionary."))}},{key:"div",value:function(w,v){this.data.hasOwnProperty(w)?this.data[w]/=v:console.log("The key - ".concat(w," does not exist in this dictionary."))}},{key:"_valueTest",value:function(w){if(Object.keys(this.data).length===0)throw new Error("Unable to search for a minimum or maximum value on an empty NumberDict");if(Object.keys(this.data).length===1)return this.data[Object.keys(this.data)[0]];var v,E=this.data[Object.keys(this.data)[0]];for(v in this.data)this.data[v]*w<E*w&&(E=this.data[v]);return E}},{key:"minValue",value:function(){return this._valueTest(1)}},{key:"maxValue",value:function(){return this._valueTest(-1)}},{key:"_keyTest",value:function(w){if(Object.keys(this.data).length===0)throw new Error("Unable to use minValue on an empty NumberDict");if(Object.keys(this.data).length===1)return Object.keys(this.data)[0];for(var v=Object.keys(this.data)[0],E=1;E<Object.keys(this.data).length;E++)Object.keys(this.data)[E]*w<v*w&&(v=Object.keys(this.data)[E]);return v}},{key:"minKey",value:function(){return this._keyTest(1)}},{key:"maxKey",value:function(){return this._keyTest(-1)}}]),_}(),t=c.default.TypedDict,y.default=t},{"../core/main":273,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.get-prototype-of":178,"core-js/modules/es.object.keys":179,"core-js/modules/es.object.to-string":180,"core-js/modules/es.reflect.construct":182,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/web.dom-collections.iterator":236}],289:[function(t,A,y){function d(E){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(C){return typeof C}:function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C})(E)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/web.url"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/web.url"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var c=(t=t("../core/main"))&&t.__esModule?t:{default:t};function u(E,C){for(var O=0;O<C.length;O++){var U=C[O];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(E,U.key,U)}}function x(E,C,O){C&&u(E.prototype,C),O&&u(E,O)}function j(E,C){return(j=Object.setPrototypeOf||function(O,U){return O.__proto__=U,O})(E,C)}function o(E){return function(){var C,O,U=f(E);return C=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(C=f(this).constructor,Reflect.construct(U,arguments,C)):U.apply(this,arguments),U=this,!(O=C)||m(O)!=="object"&&typeof O!="function"?h(U):O}}function h(E){if(E===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E}function f(E){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(C){return C.__proto__||Object.getPrototypeOf(C)})(E)}function l(E,C){if(!(E instanceof C))throw new TypeError("Cannot call a class as a function")}function m(E){return(m=typeof Symbol=="function"&&d(Symbol.iterator)==="symbol"?function(C){return d(C)}:function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":d(C)})(E)}function _(E,C,O){return(C._userNode||document.body).appendChild(E),O=new(O?c.default.MediaElement:c.default.Element)(E,C),C._elements.push(O),O}function w(E,C,O,U){var N=document.createElement(C),D=(typeof(O=O||"")=="string"&&(O=[O]),!0),H=(C=!1,void 0);try{for(var I,V=O[Symbol.iterator]();!(D=(I=V.next()).done);D=!0){var G=I.value,q=document.createElement("source");q.setAttribute("src",G),N.appendChild(q)}}catch(B){C=!0,H=B}finally{try{D||V.return==null||V.return()}finally{if(C)throw H}}typeof U=="function"&&N.addEventListener("canplaythrough",function B(){U(),N.removeEventListener("canplaythrough",B)});var X=_(N,E,!0);return X.loadedmetadata=!1,N.addEventListener("loadedmetadata",function(){X.width=N.videoWidth,X.height=N.videoHeight,X.elt.width===0&&(X.elt.width=N.videoWidth),X.elt.height===0&&(X.elt.height=N.videoHeight),X.presetPlaybackRate&&(X.elt.playbackRate=X.presetPlaybackRate,delete X.presetPlaybackRate),X.loadedmetadata=!0}),X}function v(E,C,O,U){l(this,v),this.callback=E,this.time=C,this.id=O,this.val=U}c.default.prototype.select=function(E,C){return c.default._validateParameters("select",arguments),(C=this._getContainer(C).querySelector(E))?this._wrapElement(C):null},c.default.prototype.selectAll=function(E,C){c.default._validateParameters("selectAll",arguments);var O=[],U=this._getContainer(C).querySelectorAll(E);if(U)for(var N=0;N<U.length;N++){var D=this._wrapElement(U[N]);O.push(D)}return O},c.default.prototype._getContainer=function(E){var C=document;return typeof E=="string"?C=document.querySelector(E)||document:E instanceof c.default.Element?C=E.elt:E instanceof HTMLElement&&(C=E),C},c.default.prototype._wrapElement=function(E){var C,O=Array.prototype.slice.call(E.children);return E.tagName==="INPUT"&&E.type==="checkbox"?((C=new c.default.Element(E,this)).checked=function(){return arguments.length===0?this.elt.checked:(this.elt.checked=!(arguments.length<=0||!arguments[0]),this)},C):E.tagName==="VIDEO"||E.tagName==="AUDIO"?new c.default.MediaElement(E,this):E.tagName==="SELECT"?this.createSelect(new c.default.Element(E,this)):0<O.length&&O.every(function(U){return U.tagName==="INPUT"||U.tagName==="LABEL"})?this.createRadio(new c.default.Element(E,this)):new c.default.Element(E,this)},c.default.prototype.removeElements=function(E){c.default._validateParameters("removeElements",arguments),this._elements.filter(function(C){return!(C.elt instanceof HTMLCanvasElement)}).map(function(C){return C.remove()})},c.default.Element.prototype.changed=function(E){return c.default.Element._adjustListener("change",E,this),this},c.default.Element.prototype.input=function(E){return c.default.Element._adjustListener("input",E,this),this},c.default.prototype.createDiv=function(){var E=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",C=document.createElement("div");return C.innerHTML=E,_(C,this)},c.default.prototype.createP=function(){var E=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",C=document.createElement("p");return C.innerHTML=E,_(C,this)},c.default.prototype.createSpan=function(){var E=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",C=document.createElement("span");return C.innerHTML=E,_(C,this)},c.default.prototype.createImg=function(){c.default._validateParameters("createImg",arguments);var E,C=document.createElement("img"),O=arguments;return 1<O.length&&typeof O[1]=="string"&&(C.alt=O[1]),2<O.length&&typeof O[2]=="string"&&(C.crossOrigin=O[2]),C.src=O[0],E=_(C,this),C.addEventListener("load",function(){E.width=C.offsetWidth||C.width,E.height=C.offsetHeight||C.height;var U=O[O.length-1];typeof U=="function"&&U(E)}),E},c.default.prototype.createA=function(E,C,O){c.default._validateParameters("createA",arguments);var U=document.createElement("a");return U.href=E,U.innerHTML=C,O&&(U.target=O),_(U,this)},c.default.prototype.createSlider=function(E,C,O,U){c.default._validateParameters("createSlider",arguments);var N=document.createElement("input");return N.type="range",N.min=E,N.max=C,U===0?N.step=1e-18:U&&(N.step=U),typeof O=="number"&&(N.value=O),_(N,this)},c.default.prototype.createButton=function(E,C){c.default._validateParameters("createButton",arguments);var O=document.createElement("button");return O.innerHTML=E,C&&(O.value=C),_(O,this)},c.default.prototype.createCheckbox=function(){for(var E=arguments.length,C=new Array(E),O=0;O<E;O++)C[O]=arguments[O];c.default._validateParameters("createCheckbox",C);var U=document.createElement("div"),N=document.createElement("input"),D=(N.type="checkbox",document.createElement("label")),H=(D.appendChild(N),U.appendChild(D),_(U,this));return H.checked=function(){var I=H.elt.firstElementChild.getElementsByTagName("input")[0];if(I){if(arguments.length===0)return I.checked;I.checked=!(arguments.length<=0||!arguments[0])}return H},this.value=function(I){return H.value=I,this},C[0]&&(H.value(C[0]),(U=document.createElement("span")).innerHTML=C[0],D.appendChild(U)),C[1]&&(N.checked=!0),H},c.default.prototype.createSelect=function(){for(var E,C=arguments.length,O=new Array(C),U=0;U<C;U++)O[U]=arguments[U];c.default._validateParameters("createSelect",O);var N,D=O[0];return D instanceof c.default.Element&&D.elt instanceof HTMLSelectElement?this.elt=(E=D).elt:D instanceof HTMLSelectElement?(E=_(D,this),this.elt=D):(N=document.createElement("select"),D&&typeof D=="boolean"&&N.setAttribute("multiple","true"),E=_(N,this),this.elt=N),E.option=function(H,I){var V;if(H!==void 0){for(var G,q=0;q<this.elt.length;q+=1)if(this.elt[q].textContent===H){V=q;break}V!==void 0?I===!1?this.elt.remove(V):this.elt[V].value=I:((G=document.createElement("option")).textContent=H,G.value=I===void 0?H:I,this.elt.appendChild(G),this._pInst._elements.push(G))}},E.selected=function(H){if(H!==void 0){for(var I=0;I<this.elt.length;I+=1)this.elt[I].value.toString()===H.toString()&&(this.elt.selectedIndex=I);return this}if(this.elt.getAttribute("multiple")){var V=[],G=!0,q=!1,X=void 0;try{for(var B,W=this.elt.selectedOptions[Symbol.iterator]();!(G=(B=W.next()).done);G=!0){var K=B.value;V.push(K.value)}}catch(ee){q=!0,X=ee}finally{try{G||W.return==null||W.return()}finally{if(q)throw X}}return V}return this.elt.value},E.disable=function(H){if(typeof H=="string")for(var I=0;I<this.elt.length;I++)this.elt[I].value.toString()===H&&(this.elt[I].disabled=!0,this.elt[I].selected=!1);else this.elt.disabled=!0;return this},E.enable=function(H){if(typeof H=="string")for(var I=0;I<this.elt.length;I++)this.elt[I].value.toString()===H&&(this.elt[I].disabled=!1,this.elt[I].selected=!1);else{this.elt.disabled=!1;for(var V=0;V<this.elt.length;V++)this.elt[V].disabled=!1,this.elt[V].selected=!1}return this},E},c.default.prototype.createRadio=function(){function E(H){return H instanceof HTMLInputElement&&H.type==="radio"}function C(H){return H instanceof HTMLLabelElement}var O,U,N,D=arguments.length<=0?void 0:arguments[0];return D instanceof c.default.Element&&(D.elt instanceof HTMLDivElement||D.elt instanceof HTMLSpanElement)?(O=D,this.elt=D.elt):D instanceof HTMLDivElement||D instanceof HTMLSpanElement?(O=_(D,this),U=this.elt=D,typeof(arguments.length<=1?void 0:arguments[1])=="string"&&(N=arguments.length<=1?void 0:arguments[1])):(typeof D=="string"&&(N=D),U=document.createElement("div"),O=_(U,this),this.elt=U),O._name=N||"radioOption",O._getOptionsArray=function(){return Array.from(this.elt.children).filter(function(H){return E(H)||C(H)&&E(H.firstElementChild)}).map(function(H){return E(H)?H:H.firstElementChild})},O.option=function(H,I){var V,G,q,X=!0,B=!1,W=void 0;try{for(var K,ee=O._getOptionsArray()[Symbol.iterator]();!(X=(K=ee.next()).done);X=!0){var re=K.value;if(re.value===H){V=re;break}}}catch(oe){B=!0,W=oe}finally{try{X||ee.return==null||ee.return()}finally{if(B)throw W}}return V===void 0&&((V=document.createElement("input")).setAttribute("type","radio"),V.setAttribute("value",H)),V.setAttribute("name",O._name),C(V.parentElement)?G=V.parentElement:(G=document.createElement("label")).insertAdjacentElement("afterbegin",V),G.lastElementChild instanceof HTMLSpanElement?q=G.lastElementChild:(q=document.createElement("span"),V.insertAdjacentElement("afterend",q)),q.innerHTML=I===void 0?H:I,this.elt.appendChild(G),V},O.remove=function(H){var I=!0,V=!1,G=void 0;try{for(var q,X=O._getOptionsArray()[Symbol.iterator]();!(I=(q=X.next()).done);I=!0){var B=q.value;if(B.value===H)return void(C(B.parentElement)?B.parentElement:B).remove()}}catch(W){V=!0,G=W}finally{try{I||X.return==null||X.return()}finally{if(V)throw G}}},O.value=function(){var H="",I=!0,V=!1,G=void 0;try{for(var q,X=O._getOptionsArray()[Symbol.iterator]();!(I=(q=X.next()).done);I=!0){var B=q.value;if(B.checked){H=B.value;break}}}catch(W){V=!0,G=W}finally{try{I||X.return==null||X.return()}finally{if(V)throw G}}return H},O.selected=function(H){var I=null;if(H===void 0){var V=!0,G=!1,q=void 0;try{for(var X,B=O._getOptionsArray()[Symbol.iterator]();!(V=(X=B.next()).done);V=!0){var W=X.value;if(W.checked){I=W;break}}}catch(le){G=!0,q=le}finally{try{V||B.return==null||B.return()}finally{if(G)throw q}}}else{O._getOptionsArray().forEach(function(le){le.checked=!1,le.removeAttribute("checked")});var K=!0;G=!1,q=void 0;try{for(var ee,re=O._getOptionsArray()[Symbol.iterator]();!(K=(ee=re.next()).done);K=!0){var oe=ee.value;oe.value===H&&(oe.setAttribute("checked",!0),oe.checked=!0,I=oe)}}catch(le){G=!0,q=le}finally{try{K||re.return==null||re.return()}finally{if(G)throw q}}}return I},O.disable=function(){var H=!(0<arguments.length&&arguments[0]!==void 0)||arguments[0],I=!0,V=!1,G=void 0;try{for(var q,X=O._getOptionsArray()[Symbol.iterator]();!(I=(q=X.next()).done);I=!0)q.value.setAttribute("disabled",H)}catch(B){V=!0,G=B}finally{try{I||X.return==null||X.return()}finally{if(V)throw G}}},O},c.default.prototype.createColorPicker=function(E){c.default._validateParameters("createColorPicker",arguments);var C=document.createElement("input");return C.type="color",E?E instanceof c.default.Color?C.value=E.toString("#rrggbb"):(c.default.prototype._colorMode="rgb",c.default.prototype._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},C.value=c.default.prototype.color(E).toString("#rrggbb")):C.value="#000000",(C=_(C,this)).color=function(){return E&&(E.mode&&(c.default.prototype._colorMode=E.mode),E.maxes&&(c.default.prototype._colorMaxes=E.maxes)),c.default.prototype.color(this.elt.value)},C},c.default.prototype.createInput=function(){var E=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",C=1<arguments.length&&arguments[1]!==void 0?arguments[1]:"text",O=(c.default._validateParameters("createInput",arguments),document.createElement("input"));return O.setAttribute("value",E),O.setAttribute("type",C),_(O,this)},c.default.prototype.createFileInput=function(E){var C,O=1<arguments.length&&arguments[1]!==void 0&&arguments[1];if(c.default._validateParameters("createFileInput",arguments),window.File&&window.FileReader&&window.FileList&&window.Blob)return(C=document.createElement("input")).setAttribute("type","file"),O&&C.setAttribute("multiple",!0),C.addEventListener("change",function(U){var N=!0,D=!1,H=void 0;try{for(var I,V=U.target.files[Symbol.iterator]();!(N=(I=V.next()).done);N=!0){var G=I.value;c.default.File._load(G,E)}}catch(q){D=!0,H=q}finally{try{N||V.return==null||V.return()}finally{if(D)throw H}}},!1),_(C,this);console.log("The File APIs are not fully supported in this browser. Cannot create element.")},c.default.prototype.createVideo=function(E,C){return c.default._validateParameters("createVideo",arguments),w(this,"video",E,C)},c.default.prototype.createAudio=function(E,C){return c.default._validateParameters("createAudio",arguments),w(this,"audio",E,C)},c.default.prototype.VIDEO="video",c.default.prototype.AUDIO="audio",navigator.mediaDevices===void 0&&(navigator.mediaDevices={}),navigator.mediaDevices.getUserMedia===void 0&&(navigator.mediaDevices.getUserMedia=function(E){var C=navigator.webkitGetUserMedia||navigator.mozGetUserMedia;return C?new Promise(function(O,U){C.call(navigator,E,O,U)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}),c.default.prototype.createCapture=function(){for(var E=arguments.length,C=new Array(E),O=0;O<E;O++)C[O]=arguments[O];if(c.default._validateParameters("createCapture",C),!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new DOMException("getUserMedia not supported in this browser");for(var U,N=!0,D=!0,H=0,I=C;H<I.length;H++){var V=I[H];V===c.default.prototype.VIDEO?D=!1:V===c.default.prototype.AUDIO?N=!1:m(V)==="object"?G=V:typeof V=="function"&&(U=V)}var G=G||{video:N,audio:D},q=document.createElement("video"),X=(q.setAttribute("playsinline",""),navigator.mediaDevices.getUserMedia(G).then(function(B){try{"srcObject"in q?q.srcObject=B:q.src=window.URL.createObjectURL(B)}catch{q.src=B}},console.log),_(q,this,!0));return X.loadedmetadata=!1,q.addEventListener("loadedmetadata",function(){q.play(),q.width?(X.width=q.width,X.height=q.height):(X.width=X.elt.width=q.videoWidth,X.height=X.elt.height=q.videoHeight),X.loadedmetadata=!0,U&&U(q.srcObject)}),X},c.default.prototype.createElement=function(E,C){return c.default._validateParameters("createElement",arguments),E=document.createElement(E),C!==void 0&&(E.innerHTML=C),_(E,this)},c.default.Element.prototype.addClass=function(E){return this.elt.className?this.hasClass(E)||(this.elt.className=this.elt.className+" "+E):this.elt.className=E,this},c.default.Element.prototype.removeClass=function(E){return this.elt.classList.remove(E),this},c.default.Element.prototype.hasClass=function(E){return this.elt.classList.contains(E)},c.default.Element.prototype.toggleClass=function(E){return this.elt.classList.contains(E)?this.elt.classList.remove(E):this.elt.classList.add(E),this},c.default.Element.prototype.child=function(E){return E===void 0?this.elt.childNodes:(typeof E=="string"?(E[0]==="#"&&(E=E.substring(1)),E=document.getElementById(E)):E instanceof c.default.Element&&(E=E.elt),E instanceof HTMLElement&&this.elt.appendChild(E),this)},c.default.Element.prototype.center=function(E){var C=this.elt.style.display,O=this.elt.style.display==="none",U=this.parent().style.display==="none",N={x:this.elt.offsetLeft,y:this.elt.offsetTop},D=(O&&this.show(),U&&this.parent().show(),this.elt.style.display="block",this.position(0,0),Math.abs(this.parent().offsetWidth-this.elt.offsetWidth)),H=Math.abs(this.parent().offsetHeight-this.elt.offsetHeight);return E==="both"||E===void 0?this.position(D/2+this.parent().offsetLeft,H/2+this.parent().offsetTop):E==="horizontal"?this.position(D/2+this.parent().offsetLeft,N.y):E==="vertical"&&this.position(N.x,H/2+this.parent().offsetTop),this.style("display",C),O&&this.hide(),U&&this.parent().hide(),this},c.default.Element.prototype.html=function(){return arguments.length===0?this.elt.innerHTML:(arguments.length<=1||!arguments[1]?this.elt.innerHTML=arguments.length<=0?void 0:arguments[0]:this.elt.insertAdjacentHTML("beforeend",arguments.length<=0?void 0:arguments[0]),this)},c.default.Element.prototype.position=function(){return arguments.length===0?{x:this.elt.offsetLeft,y:this.elt.offsetTop}:(this.elt.style.position=(arguments.length<=2?void 0:arguments[2])!=="static"&&(arguments.length<=2?void 0:arguments[2])!=="fixed"&&(arguments.length<=2?void 0:arguments[2])!=="relative"&&(arguments.length<=2?void 0:arguments[2])!=="sticky"&&(arguments.length<=2?void 0:arguments[2])!=="initial"&&(arguments.length<=2?void 0:arguments[2])!=="inherit"?"absolute":arguments.length<=2?void 0:arguments[2],this.elt.style.left=(arguments.length<=0?void 0:arguments[0])+"px",this.elt.style.top=(arguments.length<=1?void 0:arguments[1])+"px",this.x=arguments.length<=0?void 0:arguments[0],this.y=arguments.length<=1?void 0:arguments[1],this)},c.default.Element.prototype._translate=function(){this.elt.style.position="absolute";var E="";return this.elt.style.transform&&(E=(E=this.elt.style.transform.replace(/translate3d\(.*\)/g,"")).replace(/translate[X-Z]?\(.*\)/g,"")),arguments.length===2?this.elt.style.transform="translate("+(arguments.length<=0?void 0:arguments[0])+"px, "+(arguments.length<=1?void 0:arguments[1])+"px)":2<arguments.length&&(this.elt.style.transform="translate3d("+(arguments.length<=0?void 0:arguments[0])+"px,"+(arguments.length<=1?void 0:arguments[1])+"px,"+(arguments.length<=2?void 0:arguments[2])+"px)",this.elt.parentElement.style.perspective=arguments.length===3?"1000px":(arguments.length<=3?void 0:arguments[3])+"px"),this.elt.style.transform+=E,this},c.default.Element.prototype._rotate=function(){var E="";return this.elt.style.transform&&(E=(E=this.elt.style.transform.replace(/rotate3d\(.*\)/g,"")).replace(/rotate[X-Z]?\(.*\)/g,"")),arguments.length===1?this.elt.style.transform="rotate("+(arguments.length<=0?void 0:arguments[0])+"deg)":arguments.length===2?this.elt.style.transform="rotate("+(arguments.length<=0?void 0:arguments[0])+"deg, "+(arguments.length<=1?void 0:arguments[1])+"deg)":arguments.length===3&&(this.elt.style.transform="rotateX("+(arguments.length<=0?void 0:arguments[0])+"deg)",this.elt.style.transform+="rotateY("+(arguments.length<=1?void 0:arguments[1])+"deg)",this.elt.style.transform+="rotateZ("+(arguments.length<=2?void 0:arguments[2])+"deg)"),this.elt.style.transform+=E,this},c.default.Element.prototype.style=function(E,C){if((C=C instanceof c.default.Color?"rgba("+C.levels[0]+","+C.levels[1]+","+C.levels[2]+","+C.levels[3]/255+")":C)===void 0){if(E.indexOf(":")===-1)return window.getComputedStyle(this.elt).getPropertyValue(E);for(var O=E.split(";"),U=0;U<O.length;U++){var N=O[U].split(":");N[0]&&N[1]&&(this.elt.style[N[0].trim()]=N[1].trim())}}else this.elt.style[E]=C,E!=="width"&&E!=="height"&&E!=="left"&&E!=="top"||(C=window.getComputedStyle(this.elt).getPropertyValue(E).replace(/[^\d.]/g,""),this[E]=Math.round(parseFloat(C,10)));return this},c.default.Element.prototype.attribute=function(E,C){if(this.elt.firstChild==null||this.elt.firstChild.type!=="checkbox"&&this.elt.firstChild.type!=="radio")return C===void 0?this.elt.getAttribute(E):(this.elt.setAttribute(E,C),this);if(C===void 0)return this.elt.firstChild.getAttribute(E);for(var O=0;O<this.elt.childNodes.length;O++)this.elt.childNodes[O].setAttribute(E,C)},c.default.Element.prototype.removeAttribute=function(E){if(this.elt.firstChild!=null&&(this.elt.firstChild.type==="checkbox"||this.elt.firstChild.type==="radio"))for(var C=0;C<this.elt.childNodes.length;C++)this.elt.childNodes[C].removeAttribute(E);return this.elt.removeAttribute(E),this},c.default.Element.prototype.value=function(){return 0<arguments.length?(this.elt.value=arguments.length<=0?void 0:arguments[0],this):this.elt.type==="range"?parseFloat(this.elt.value):this.elt.value},c.default.Element.prototype.show=function(){return this.elt.style.display="block",this},c.default.Element.prototype.hide=function(){return this.elt.style.display="none",this},c.default.Element.prototype.size=function(E,C){if(arguments.length===0)return{width:this.elt.offsetWidth,height:this.elt.offsetHeight};var O=E,U=C,N=c.default.prototype.AUTO;if(O!==N||U!==N){if(O===N?O=C*this.width/this.height:U===N&&(U=E*this.height/this.width),this.elt instanceof HTMLCanvasElement){var D,H={},I=this.elt.getContext("2d");for(D in I)H[D]=I[D];for(D in this.elt.setAttribute("width",O*this._pInst._pixelDensity),this.elt.setAttribute("height",U*this._pInst._pixelDensity),this.elt.style.width=O+"px",this.elt.style.height=U+"px",this._pInst.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),H)this.elt.getContext("2d")[D]=H[D]}else this.elt.style.width=O+"px",this.elt.style.height=U+"px",this.elt.width=O,this.elt.height=U;this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight,this._pInst&&this._pInst._curElement&&this._pInst._curElement.elt===this.elt&&(this._pInst._setProperty("width",this.elt.offsetWidth),this._pInst._setProperty("height",this.elt.offsetHeight))}return this},c.default.Element.prototype.remove=function(){this instanceof c.default.MediaElement&&(this.stop(),(C=this.elt.srcObject)!==null&&C.getTracks().forEach(function(O){O.stop()}));var E,C=this._pInst._elements.indexOf(this);for(E in C!==-1&&this._pInst._elements.splice(C,1),this._events)this.elt.removeEventListener(E,this._events[E]);this.elt&&this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt)},c.default.Element.prototype.drop=function(E,C){var O;return window.File&&window.FileReader&&window.FileList&&window.Blob?(this._dragDisabled||(this._dragDisabled=!0,this.elt.addEventListener("dragover",O=function(U){U.preventDefault()}),this.elt.addEventListener("dragleave",O)),c.default.Element._attachListener("drop",function(U){U.preventDefault(),typeof C=="function"&&C.call(this,U),U=U.dataTransfer.files;var N=!0,D=!1,H=void 0;try{for(var I,V=U[Symbol.iterator]();!(N=(I=V.next()).done);N=!0){var G=I.value;c.default.File._load(G,E)}}catch(q){D=!0,H=q}finally{try{N||V.return==null||V.return()}finally{if(D)throw H}}},this)):console.log("The File APIs are not fully supported in this browser."),this},t=function(E){var C=U;if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function");C.prototype=Object.create(E&&E.prototype,{constructor:{value:C,writable:!0,configurable:!0}}),E&&j(C,E);var O=o(U);function U(N,D){l(this,U);var H=h(D=O.call(this,N,D));return D.elt.crossOrigin="anonymous",D._prevTime=0,D._cueIDCounter=0,D._cues=[],D.pixels=[],D._pixelsState=h(D),D._pixelDensity=1,D._modified=!1,D._frameOnCanvas=-1,Object.defineProperty(H,"src",{get:function(){var I=H.elt.children[0].src,V=H.elt.src===window.location.href?"":H.elt.src;return I===window.location.href?V:I},set:function(I){for(var V=0;V<H.elt.children.length;V++)H.elt.removeChild(H.elt.children[V]);var G=document.createElement("source");G.src=I,N.appendChild(G),H.elt.src=I,H.modified=!0}}),H._onended=function(){},H.elt.onended=function(){H._onended(H)},D}return x(U,[{key:"play",value:function(){var N;return this.elt.currentTime===this.elt.duration&&(this.elt.currentTime=0),1<this.elt.readyState||this.elt.load(),(N=this.elt.play())&&N.catch&&N.catch(function(D){D.name==="NotAllowedError"?console.error(D):console.error("Media play method encountered an unexpected error",D)}),this}},{key:"stop",value:function(){return this.elt.pause(),this.elt.currentTime=0,this}},{key:"pause",value:function(){return this.elt.pause(),this}},{key:"loop",value:function(){return this.elt.setAttribute("loop",!0),this.play(),this}},{key:"noLoop",value:function(){return this.elt.removeAttribute("loop"),this}},{key:"_setupAutoplayFailDetection",value:function(){var N=setTimeout(function(){console.error(e)},500);this.elt.addEventListener("play",function(){return clearTimeout(N)},{passive:!0,once:!0})}},{key:"autoplay",value:function(N){var D=this,H=this.elt.getAttribute("autoplay");return this.elt.setAttribute("autoplay",N),N&&!H&&(N=function(){return D._setupAutoplayFailDetection()},this.elt.readyState===4?N():this.elt.addEventListener("canplay",N,{passive:!0,once:!0})),this}},{key:"volume",value:function(N){if(N===void 0)return this.elt.volume;this.elt.volume=N}},{key:"speed",value:function(N){if(N===void 0)return this.presetPlaybackRate||this.elt.playbackRate;this.loadedmetadata?this.elt.playbackRate=N:this.presetPlaybackRate=N}},{key:"time",value:function(N){return N===void 0?this.elt.currentTime:(this.elt.currentTime=N,this)}},{key:"duration",value:function(){return this.elt.duration}},{key:"_ensureCanvas",value:function(){this.canvas||(this.canvas=document.createElement("canvas"),this.drawingContext=this.canvas.getContext("2d"),this.setModified(!0));var N=this._frameOnCanvas!==this._pInst.frameCount;this.loadedmetadata&&N&&(this.canvas.width!==this.elt.width&&(this.canvas.width=this.elt.width,this.canvas.height=this.elt.height,this.width=this.canvas.width,this.height=this.canvas.height),this.drawingContext.drawImage(this.elt,0,0,this.canvas.width,this.canvas.height),this.setModified(!0),this._frameOnCanvas=this._pInst.frameCount)}},{key:"loadPixels",value:function(){this._ensureCanvas();for(var N=arguments.length,D=new Array(N),H=0;H<N;H++)D[H]=arguments[H];return c.default.Renderer2D.prototype.loadPixels.apply(this,D)}},{key:"updatePixels",value:function(N,D,H,I){return this.loadedmetadata&&(this._ensureCanvas(),c.default.Renderer2D.prototype.updatePixels.call(this,N,D,H,I)),this.setModified(!0),this}},{key:"get",value:function(){this._ensureCanvas();for(var N=arguments.length,D=new Array(N),H=0;H<N;H++)D[H]=arguments[H];return c.default.Renderer2D.prototype.get.apply(this,D)}},{key:"_getPixel",value:function(){this.loadPixels();for(var N=arguments.length,D=new Array(N),H=0;H<N;H++)D[H]=arguments[H];return c.default.Renderer2D.prototype._getPixel.apply(this,D)}},{key:"set",value:function(N,D,H){this.loadedmetadata&&(this._ensureCanvas(),c.default.Renderer2D.prototype.set.call(this,N,D,H),this.setModified(!0))}},{key:"copy",value:function(){this._ensureCanvas();for(var N=arguments.length,D=new Array(N),H=0;H<N;H++)D[H]=arguments[H];c.default.prototype.copy.apply(this,D)}},{key:"mask",value:function(){this.loadPixels(),this.setModified(!0);for(var N=arguments.length,D=new Array(N),H=0;H<N;H++)D[H]=arguments[H];c.default.Image.prototype.mask.apply(this,D)}},{key:"isModified",value:function(){return this._modified}},{key:"setModified",value:function(N){this._modified=N}},{key:"onended",value:function(N){return this._onended=N,this}},{key:"connect",value:function(N){var D,H;if(typeof c.default.prototype.getAudioContext=="function")D=c.default.prototype.getAudioContext(),H=c.default.soundOut.input;else try{H=(D=N.context).destination}catch{throw"connect() is meant to be used with Web Audio API or p5.sound.js"}this.audioSourceNode||(this.audioSourceNode=D.createMediaElementSource(this.elt),this.audioSourceNode.connect(H)),N?N.input?this.audioSourceNode.connect(N.input):this.audioSourceNode.connect(N):this.audioSourceNode.connect(H)}},{key:"disconnect",value:function(){if(!this.audioSourceNode)throw"nothing to disconnect";this.audioSourceNode.disconnect()}},{key:"showControls",value:function(){this.elt.style["text-align"]="inherit",this.elt.controls=!0}},{key:"hideControls",value:function(){this.elt.controls=!1}},{key:"addCue",value:function(N,D,H){var I=this._cueIDCounter++;return D=new v(D,N,I,H),this._cues.push(D),this.elt.ontimeupdate||(this.elt.ontimeupdate=this._onTimeUpdate.bind(this)),I}},{key:"removeCue",value:function(N){for(var D=0;D<this._cues.length;D++)this._cues[D].id===N&&(console.log(N),this._cues.splice(D,1));this._cues.length===0&&(this.elt.ontimeupdate=null)}},{key:"clearCues",value:function(){this._cues=[],this.elt.ontimeupdate=null}},{key:"_onTimeUpdate",value:function(){for(var N=this.time(),D=0;D<this._cues.length;D++){var H=this._cues[D].time,I=this._cues[D].val;this._prevTime<H&&H<=N&&this._cues[D].callback(I)}this._prevTime=N}}]),U}(c.default.Element),c.default.MediaElement=t,t=function(){function E(C,O){l(this,E),this.file=C,this._pInst=O,O=C.type.split("/"),this.type=O[0],this.subtype=O[1],this.name=C.name,this.size=C.size,this.data=void 0}return x(E,null,[{key:"_createLoader",value:function(C,O){var U=new FileReader;return U.onload=function(N){var D,H=new c.default.File(C);H.file.type==="application/json"?H.data=JSON.parse(N.target.result):H.file.type==="text/xml"?(D=new DOMParser().parseFromString(N.target.result,"text/xml"),H.data=new c.default.XML(D.documentElement)):H.data=N.target.result,O(H)},U}},{key:"_load",value:function(C,O){var U;/^text\//.test(C.type)||C.type==="application/json"?c.default.File._createLoader(C,O).readAsText(C):/^(video|audio)\//.test(C.type)?((U=new c.default.File(C)).data=URL.createObjectURL(C),O(U)):c.default.File._createLoader(C,O).readAsDataURL(C)}}]),E}(),c.default.File=t,t=c.default,y.default=t},{"../core/main":273,"core-js/modules/es.array.every":153,"core-js/modules/es.array.filter":155,"core-js/modules/es.array.for-each":156,"core-js/modules/es.array.from":157,"core-js/modules/es.array.index-of":159,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.map":163,"core-js/modules/es.array.slice":164,"core-js/modules/es.array.splice":166,"core-js/modules/es.function.name":167,"core-js/modules/es.object.get-prototype-of":178,"core-js/modules/es.object.to-string":180,"core-js/modules/es.promise":181,"core-js/modules/es.reflect.construct":182,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.iterator":190,"core-js/modules/es.string.replace":194,"core-js/modules/es.string.split":196,"core-js/modules/es.string.trim":199,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/web.dom-collections.for-each":235,"core-js/modules/web.dom-collections.iterator":236,"core-js/modules/web.url":238}],290:[function(t,A,y){function d(E){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(C){return typeof C}:function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C})(E)}function c(E){return(c=typeof Symbol=="function"&&d(Symbol.iterator)==="symbol"?function(C){return d(C)}:function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":d(C)})(E)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var u=(v=t("../core/main"))&&v.__esModule?v:{default:v},x=function(E){if(E&&E.__esModule)return E;if(E===null||c(E)!=="object"&&typeof E!="function")return{default:E};var C=function(){var H;return typeof WeakMap!="function"?null:(H=new WeakMap,H)}();if(C&&C.has(E))return C.get(E);var O,U={},N=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(O in E){var D;Object.prototype.hasOwnProperty.call(E,O)&&((D=N?Object.getOwnPropertyDescriptor(E,O):null)&&(D.get||D.set)?Object.defineProperty(U,O,D):U[O]=E[O])}return U.default=E,C&&C.set(E,U),U}(t("../core/constants"));u.default.prototype.deviceOrientation=1<window.innerWidth/window.innerHeight?"landscape":"portrait",u.default.prototype.accelerationX=0,u.default.prototype.accelerationY=0,u.default.prototype.accelerationZ=0,u.default.prototype.pAccelerationX=0,u.default.prototype.pAccelerationY=0,u.default.prototype.pAccelerationZ=0,u.default.prototype._updatePAccelerations=function(){this._setProperty("pAccelerationX",this.accelerationX),this._setProperty("pAccelerationY",this.accelerationY),this._setProperty("pAccelerationZ",this.accelerationZ)},u.default.prototype.rotationX=0,u.default.prototype.rotationY=0,u.default.prototype.rotationZ=0,u.default.prototype.pRotationX=0,u.default.prototype.pRotationY=0;var j=u.default.prototype.pRotationZ=0,o=0,h=0,f="clockwise",l="clockwise",m="clockwise",_=(u.default.prototype.pRotateDirectionX=void 0,u.default.prototype.pRotateDirectionY=void 0,u.default.prototype.pRotateDirectionZ=void 0,u.default.prototype._updatePRotations=function(){this._setProperty("pRotationX",this.rotationX),this._setProperty("pRotationY",this.rotationY),this._setProperty("pRotationZ",this.rotationZ)},u.default.prototype.turnAxis=void 0,.5),w=30,v=(u.default.prototype.setMoveThreshold=function(E){u.default._validateParameters("setMoveThreshold",arguments),_=E},u.default.prototype.setShakeThreshold=function(E){u.default._validateParameters("setShakeThreshold",arguments),w=E},u.default.prototype._ondeviceorientation=function(E){this._updatePRotations(),this._angleMode===x.radians&&(E.beta=E.beta*(_PI/180),E.gamma=E.gamma*(_PI/180),E.alpha=E.alpha*(_PI/180)),this._setProperty("rotationX",E.beta),this._setProperty("rotationY",E.gamma),this._setProperty("rotationZ",E.alpha),this._handleMotion()},u.default.prototype._ondevicemotion=function(E){this._updatePAccelerations(),this._setProperty("accelerationX",2*E.acceleration.x),this._setProperty("accelerationY",2*E.acceleration.y),this._setProperty("accelerationZ",2*E.acceleration.z),this._handleMotion()},u.default.prototype._handleMotion=function(){window.orientation===90||window.orientation===-90?this._setProperty("deviceOrientation","landscape"):window.orientation===0?this._setProperty("deviceOrientation","portrait"):window.orientation===void 0&&this._setProperty("deviceOrientation","undefined");var E,C,O,U,N,D=this._isGlobal?window:this;typeof D.deviceMoved=="function"&&(Math.abs(this.accelerationX-this.pAccelerationX)>_||Math.abs(this.accelerationY-this.pAccelerationY)>_||Math.abs(this.accelerationZ-this.pAccelerationZ)>_)&&D.deviceMoved(),typeof D.deviceTurned=="function"&&(C=this.rotationX+180,E=this.pRotationX+180,O=j+180,0<C-E&&C-E<270||C-E<-270?f="clockwise":(C-E<0||270<C-E)&&(f="counter-clockwise"),f!==this.pRotateDirectionX&&(O=C),90<Math.abs(C-O)&&Math.abs(C-O)<270&&(O=C,this._setProperty("turnAxis","X"),D.deviceTurned()),this.pRotateDirectionX=f,j=O-180,E=this.rotationY+180,C=this.pRotationY+180,O=o+180,0<E-C&&E-C<270||E-C<-270?l="clockwise":(E-C<0||270<E-this.pRotationY)&&(l="counter-clockwise"),l!==this.pRotateDirectionY&&(O=E),90<Math.abs(E-O)&&Math.abs(E-O)<270&&(O=E,this._setProperty("turnAxis","Y"),D.deviceTurned()),this.pRotateDirectionY=l,o=O-180,0<this.rotationZ-this.pRotationZ&&this.rotationZ-this.pRotationZ<270||this.rotationZ-this.pRotationZ<-270?m="clockwise":(this.rotationZ-this.pRotationZ<0||270<this.rotationZ-this.pRotationZ)&&(m="counter-clockwise"),m!==this.pRotateDirectionZ&&(h=this.rotationZ),90<Math.abs(this.rotationZ-h)&&Math.abs(this.rotationZ-h)<270&&(h=this.rotationZ,this._setProperty("turnAxis","Z"),D.deviceTurned()),this.pRotateDirectionZ=m,this._setProperty("turnAxis",void 0)),typeof D.deviceShaken=="function"&&(this.pAccelerationX!==null&&(U=Math.abs(this.accelerationX-this.pAccelerationX),N=Math.abs(this.accelerationY-this.pAccelerationY)),w<U+N&&D.deviceShaken())},u.default);y.default=v},{"../core/constants":262,"../core/main":273,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],291:[function(t,A,y){Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var d=(t=t("../core/main"))&&t.__esModule?t:{default:t};d.default.prototype.isKeyPressed=!1,d.default.prototype.keyIsPressed=!1,d.default.prototype.key="",d.default.prototype.keyCode=0,d.default.prototype._onkeydown=function(c){var u;this._downKeys[c.which]||(this._setProperty("isKeyPressed",!0),this._setProperty("keyIsPressed",!0),this._setProperty("keyCode",c.which),this._downKeys[c.which]=!0,this._setProperty("key",c.key||String.fromCharCode(c.which)||c.which),typeof(u=this._isGlobal?window:this).keyPressed!="function"||c.charCode||u.keyPressed(c)===!1&&c.preventDefault())},d.default.prototype._onkeyup=function(c){this._downKeys[c.which]=!1,this._areDownKeys()||(this._setProperty("isKeyPressed",!1),this._setProperty("keyIsPressed",!1)),this._setProperty("_lastKeyCodeTyped",null),this._setProperty("key",c.key||String.fromCharCode(c.which)||c.which),this._setProperty("keyCode",c.which);var u=this._isGlobal?window:this;typeof u.keyReleased=="function"&&u.keyReleased(c)===!1&&c.preventDefault()},d.default.prototype._onkeypress=function(c){var u;c.which!==this._lastKeyCodeTyped&&(this._setProperty("_lastKeyCodeTyped",c.which),this._setProperty("key",c.key||String.fromCharCode(c.which)||c.which),typeof(u=this._isGlobal?window:this).keyTyped=="function"&&u.keyTyped(c)===!1&&c.preventDefault())},d.default.prototype._onblur=function(c){this._downKeys={}},d.default.prototype.keyIsDown=function(c){return d.default._validateParameters("keyIsDown",arguments),this._downKeys[c]||!1},d.default.prototype._areDownKeys=function(){for(var c in this._downKeys)if(this._downKeys.hasOwnProperty(c)&&this._downKeys[c]===!0)return!0;return!1},t=d.default,y.default=t},{"../core/main":273}],292:[function(t,A,y){function d(j){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(j)}function c(j){return(c=typeof Symbol=="function"&&d(Symbol.iterator)==="symbol"?function(o){return d(o)}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":d(o)})(j)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.string.includes"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var u=(u=t("../core/main"))&&u.__esModule?u:{default:u},x=function(j){if(j&&j.__esModule)return j;if(j===null||c(j)!=="object"&&typeof j!="function")return{default:j};var o=function(){var _;return typeof WeakMap!="function"?null:(_=new WeakMap,_)}();if(o&&o.has(j))return o.get(j);var h,f={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(h in j){var m;Object.prototype.hasOwnProperty.call(j,h)&&((m=l?Object.getOwnPropertyDescriptor(j,h):null)&&(m.get||m.set)?Object.defineProperty(f,h,m):f[h]=j[h])}return f.default=j,o&&o.set(j,f),f}(t("../core/constants"));u.default.prototype.movedX=0,u.default.prototype.movedY=0,u.default.prototype._hasMouseInteracted=!1,u.default.prototype.mouseX=0,u.default.prototype.mouseY=0,u.default.prototype.pmouseX=0,u.default.prototype.pmouseY=0,u.default.prototype.winMouseX=0,u.default.prototype.winMouseY=0,u.default.prototype.pwinMouseX=0,u.default.prototype.pwinMouseY=0,u.default.prototype.mouseButton=0,u.default.prototype.mouseIsPressed=!1,u.default.prototype._updateNextMouseCoords=function(j){var o,h,f,l,m;this._curElement!==null&&(!j.touches||0<j.touches.length)&&(o=this._curElement.elt,h=this.width,f=this.height,(l=j)&&!l.clientX&&(l.touches?l=l.touches[0]:l.changedTouches&&(l=l.changedTouches[0])),m=o.getBoundingClientRect(),h=o.scrollWidth/h||1,o=o.scrollHeight/f||1,f={x:(l.clientX-m.left)/h,y:(l.clientY-m.top)/o,winX:l.clientX,winY:l.clientY,id:l.identifier},this._setProperty("movedX",j.movementX),this._setProperty("movedY",j.movementY),this._setProperty("mouseX",f.x),this._setProperty("mouseY",f.y),this._setProperty("winMouseX",f.winX),this._setProperty("winMouseY",f.winY)),this._hasMouseInteracted||(this._updateMouseCoords(),this._setProperty("_hasMouseInteracted",!0))},u.default.prototype._updateMouseCoords=function(){this._setProperty("pmouseX",this.mouseX),this._setProperty("pmouseY",this.mouseY),this._setProperty("pwinMouseX",this.winMouseX),this._setProperty("pwinMouseY",this.winMouseY),this._setProperty("_pmouseWheelDeltaY",this._mouseWheelDeltaY)},u.default.prototype._setMouseButton=function(j){j.button===1?this._setProperty("mouseButton",x.CENTER):j.button===2?this._setProperty("mouseButton",x.RIGHT):this._setProperty("mouseButton",x.LEFT)},u.default.prototype._onmousemove=function(j){var o=this._isGlobal?window:this;this._updateNextMouseCoords(j),this.mouseIsPressed?typeof o.mouseDragged=="function"?o.mouseDragged(j)===!1&&j.preventDefault():typeof o.touchMoved=="function"&&o.touchMoved(j)===!1&&j.preventDefault():typeof o.mouseMoved=="function"&&o.mouseMoved(j)===!1&&j.preventDefault()},u.default.prototype._onmousedown=function(j){var o=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!0),this._setMouseButton(j),this._updateNextMouseCoords(j),typeof o.mousePressed=="function"?o.mousePressed(j)===!1&&j.preventDefault():navigator.userAgent.toLowerCase().includes("safari")&&typeof o.touchStarted=="function"&&o.touchStarted(j)===!1&&j.preventDefault()},u.default.prototype._onmouseup=function(j){var o=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!1),typeof o.mouseReleased=="function"?o.mouseReleased(j)===!1&&j.preventDefault():typeof o.touchEnded=="function"&&o.touchEnded(j)===!1&&j.preventDefault()},u.default.prototype._ondragend=u.default.prototype._onmouseup,u.default.prototype._ondragover=u.default.prototype._onmousemove,u.default.prototype._onclick=function(j){var o=this._isGlobal?window:this;typeof o.mouseClicked=="function"&&o.mouseClicked(j)===!1&&j.preventDefault()},u.default.prototype._ondblclick=function(j){var o=this._isGlobal?window:this;typeof o.doubleClicked=="function"&&o.doubleClicked(j)===!1&&j.preventDefault()},u.default.prototype._mouseWheelDeltaY=0,u.default.prototype._pmouseWheelDeltaY=0,u.default.prototype._onwheel=function(j){var o=this._isGlobal?window:this;this._setProperty("_mouseWheelDeltaY",j.deltaY),typeof o.mouseWheel=="function"&&(j.delta=j.deltaY,o.mouseWheel(j)===!1&&j.preventDefault())},u.default.prototype.requestPointerLock=function(){var j=this._curElement.elt;return j.requestPointerLock=j.requestPointerLock||j.mozRequestPointerLock,j.requestPointerLock?(j.requestPointerLock(),!0):(console.log("requestPointerLock is not implemented in this browser"),!1)},u.default.prototype.exitPointerLock=function(){document.exitPointerLock()},t=u.default,y.default=t},{"../core/constants":262,"../core/main":273,"core-js/modules/es.array.includes":158,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.includes":189,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],293:[function(t,A,y){t("core-js/modules/es.array.includes"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.string.includes"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0,(t=(t=t("../core/main"))&&t.__esModule?t:{default:t}).default.prototype.touches=[],t.default.prototype._updateTouchCoords=function(d){if(this._curElement!==null){for(var c=[],u=0;u<d.touches.length;u++)c[u]=function(x,j,o,h){var f=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,l=x.getBoundingClientRect();return j=x.scrollWidth/j||1,x=x.scrollHeight/o||1,{x:((o=h.touches[f]||h.changedTouches[f]).clientX-l.left)/j,y:(o.clientY-l.top)/x,winX:o.clientX,winY:o.clientY,id:o.identifier}}(this._curElement.elt,this.width,this.height,d,u);this._setProperty("touches",c)}},t.default.prototype._ontouchstart=function(d){var c=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!0),this._updateTouchCoords(d),this._updateNextMouseCoords(d),this._updateMouseCoords(),typeof c.touchStarted=="function"?c.touchStarted(d)===!1&&d.preventDefault():navigator.userAgent.toLowerCase().includes("safari")&&typeof c.mousePressed=="function"&&c.mousePressed(d)===!1&&d.preventDefault()},t.default.prototype._ontouchmove=function(d){var c=this._isGlobal?window:this;this._updateTouchCoords(d),this._updateNextMouseCoords(d),typeof c.touchMoved=="function"?c.touchMoved(d)===!1&&d.preventDefault():typeof c.mouseDragged=="function"&&c.mouseDragged(d)===!1&&d.preventDefault()},t.default.prototype._ontouchend=function(d){this._setProperty("mouseIsPressed",!1),this._updateTouchCoords(d),this._updateNextMouseCoords(d);var c=this._isGlobal?window:this;typeof c.touchEnded=="function"?c.touchEnded(d)===!1&&d.preventDefault():typeof c.mouseReleased=="function"&&c.mouseReleased(d)===!1&&d.preventDefault()},t=t.default,y.default=t},{"../core/main":273,"core-js/modules/es.array.includes":158,"core-js/modules/es.string.includes":189}],294:[function(t,A,y){t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.int32-array"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.int32-array"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var d,c,u,x,j={_toPixels:function(o){var h,f;return o instanceof ImageData?o.data:o.getContext("2d")?o.getContext("2d").getImageData(0,0,o.width,o.height).data:o.getContext("webgl")?(f=(h=o.getContext("webgl")).drawingBufferWidth*h.drawingBufferHeight*4,f=new Uint8Array(f),h.readPixels(0,0,o.width,o.height,h.RGBA,h.UNSIGNED_BYTE,f),f):void 0},_getARGB:function(o,h){return o[3+(h*=4)]<<24&4278190080|o[h]<<16&16711680|o[1+h]<<8&65280|255&o[2+h]},_setPixels:function(o,h){for(var f,l=0,m=o.length;l<m;l++)o[0+(f=4*l)]=(16711680&h[l])>>>16,o[1+f]=(65280&h[l])>>>8,o[2+f]=255&h[l],o[3+f]=(4278190080&h[l])>>>24},_toImageData:function(o){return o instanceof ImageData?o:o.getContext("2d").getImageData(0,0,o.width,o.height)},_createImageData:function(o,h){return j._tmpCanvas=document.createElement("canvas"),j._tmpCtx=j._tmpCanvas.getContext("2d"),this._tmpCtx.createImageData(o,h)},apply:function(o,h,f){var l=o.getContext("2d"),m=l.getImageData(0,0,o.width,o.height);(h=h(m,f))instanceof ImageData?l.putImageData(h,0,0,0,0,o.width,o.height):l.putImageData(m,0,0,0,0,o.width,o.height)},threshold:function(o,h){for(var f=j._toPixels(o),l=(h===void 0&&(h=.5),Math.floor(255*h)),m=0;m<f.length;m+=4){var _=l<=.2126*f[m]+.7152*f[m+1]+.0722*f[m+2]?255:0;f[m]=f[m+1]=f[m+2]=_}},gray:function(o){for(var h=j._toPixels(o),f=0;f<h.length;f+=4){var l=h[f],m=h[f+1],_=h[f+2];h[f]=h[f+1]=h[f+2]=.2126*l+.7152*m+.0722*_}},opaque:function(o){for(var h=j._toPixels(o),f=0;f<h.length;f+=4)h[f+3]=255;return h},invert:function(o){for(var h=j._toPixels(o),f=0;f<h.length;f+=4)h[f]=255-h[f],h[f+1]=255-h[f+1],h[f+2]=255-h[f+2]},posterize:function(o,h){var f=j._toPixels(o);if(h<2||255<h)throw new Error("Level must be greater than 2 and less than 255 for posterize");for(var l=h-1,m=0;m<f.length;m+=4){var _=f[m],w=f[m+1],v=f[m+2];f[m]=255*(_*h>>8)/l,f[m+1]=255*(w*h>>8)/l,f[m+2]=255*(v*h>>8)/l}},dilate:function(o){for(var h,f,l,m,_,w,v,E,C,O=j._toPixels(o),U=0,N=O.length?O.length/4:0,D=new Int32Array(N);U<N;)for(f=(h=U)+o.width;U<f;)m=l=j._getARGB(O,U),(C=U-1)<h&&(C=U),f<=(E=U+1)&&(E=U),(_=U-o.width)<0&&(_=0),N<=(w=U+o.width)&&(w=U),_=j._getARGB(O,_),C=j._getARGB(O,C),w=j._getARGB(O,w),(m=77*(m>>16&255)+151*(m>>8&255)+28*(255&m))<(v=77*(C>>16&255)+151*(C>>8&255)+28*(255&C))&&(l=C,m=v),m<(v=77*((C=j._getARGB(O,E))>>16&255)+151*(C>>8&255)+28*(255&C))&&(l=C,m=v),m<(E=77*(_>>16&255)+151*(_>>8&255)+28*(255&_))&&(l=_,m=E),m<(C=77*(w>>16&255)+151*(w>>8&255)+28*(255&w))&&(l=w,m=C),D[U++]=l;j._setPixels(O,D)},erode:function(o){for(var h,f,l,m,_,w,v,E,C,O=j._toPixels(o),U=0,N=O.length?O.length/4:0,D=new Int32Array(N);U<N;)for(f=(h=U)+o.width;U<f;)m=l=j._getARGB(O,U),(C=U-1)<h&&(C=U),f<=(E=U+1)&&(E=U),(_=U-o.width)<0&&(_=0),N<=(w=U+o.width)&&(w=U),_=j._getARGB(O,_),C=j._getARGB(O,C),w=j._getARGB(O,w),(v=77*(C>>16&255)+151*(C>>8&255)+28*(255&C))<(m=77*(m>>16&255)+151*(m>>8&255)+28*(255&m))&&(l=C,m=v),(v=77*((C=j._getARGB(O,E))>>16&255)+151*(C>>8&255)+28*(255&C))<m&&(l=C,m=v),(E=77*(_>>16&255)+151*(_>>8&255)+28*(255&_))<m&&(l=_,m=E),(C=77*(w>>16&255)+151*(w>>8&255)+28*(255&w))<m&&(l=w,m=C),D[U++]=l;j._setPixels(O,D)},blur:function(o,h){for(var f,l,m,_,w,v,E,C,O,U,N=j._toPixels(o),D=o.width,H=o.height,I=D*H,V=new Int32Array(I),G=0;G<I;G++)V[G]=j._getARGB(N,G);var q,X,B,W,K,ee,re,oe,le=new Int32Array(I),me=new Int32Array(I),$=new Int32Array(I),Q=new Int32Array(I),se=0,de=3.5*h|0;if(d!==(de=de<1?1:de<248?de:248)){c=1+(d=de)<<1,u=new Int32Array(c),x=new Array(c);for(var ge=0;ge<c;ge++)x[ge]=new Int32Array(256);for(var ve=1,ae=de-1;ve<de;ve++){u[de+ve]=u[ae]=ee=ae*ae,re=x[de+ve],oe=x[ae--];for(var ye=0;ye<256;ye++)re[ye]=oe[ye]=ee*ye}K=u[de]=de*de,re=x[de];for(var Se=0;Se<256;Se++)re[Se]=K*Se}for(X=0;X<H;X++){for(q=0;q<D;q++){if(_=m=l=w=f=0,(v=q-d)<0)U=-v,v=0;else{if(D<=v)break;U=0}for(B=U;B<c&&!(D<=v);B++){var Me=V[v+se];w+=(W=x[B])[(-16777216&Me)>>>24],l+=W[(16711680&Me)>>16],m+=W[(65280&Me)>>8],_+=W[255&Me],f+=u[B],v++}le[E=se+q]=w/f,me[E]=l/f,$[E]=m/f,Q[E]=_/f}se+=D}for(O=(C=-d)*D,X=se=0;X<H;X++){for(q=0;q<D;q++){if(_=m=l=w=f=0,C<0)U=E=-C,v=q;else{if(H<=C)break;U=0,E=C,v=q+O}for(B=U;B<c&&!(H<=E);B++)w+=(W=x[B])[le[v]],l+=W[me[v]],m+=W[$[v]],_+=W[Q[v]],f+=u[B],E++,v+=D;V[q+se]=w/f<<24|l/f<<16|m/f<<8|_/f}se+=D,O+=D,C++}j._setPixels(N,V)}};y.default=j},{"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.to-string":180,"core-js/modules/es.typed-array.copy-within":203,"core-js/modules/es.typed-array.every":204,"core-js/modules/es.typed-array.fill":205,"core-js/modules/es.typed-array.filter":206,"core-js/modules/es.typed-array.find":208,"core-js/modules/es.typed-array.find-index":207,"core-js/modules/es.typed-array.for-each":211,"core-js/modules/es.typed-array.includes":212,"core-js/modules/es.typed-array.index-of":213,"core-js/modules/es.typed-array.int32-array":215,"core-js/modules/es.typed-array.iterator":216,"core-js/modules/es.typed-array.join":217,"core-js/modules/es.typed-array.last-index-of":218,"core-js/modules/es.typed-array.map":219,"core-js/modules/es.typed-array.reduce":221,"core-js/modules/es.typed-array.reduce-right":220,"core-js/modules/es.typed-array.reverse":222,"core-js/modules/es.typed-array.set":223,"core-js/modules/es.typed-array.slice":224,"core-js/modules/es.typed-array.some":225,"core-js/modules/es.typed-array.sort":226,"core-js/modules/es.typed-array.subarray":227,"core-js/modules/es.typed-array.to-locale-string":228,"core-js/modules/es.typed-array.to-string":229,"core-js/modules/es.typed-array.uint8-array":232}],295:[function(t,A,y){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.uint32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.uint32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var d=u(t("../core/main")),c=u(t("omggif"));function u(j){return j&&j.__esModule?j:{default:j}}function x(j){return function(o){if(Array.isArray(o)){for(var h=0,f=new Array(o.length);h<o.length;h++)f[h]=o[h];return f}}(j)||function(o){if(Symbol.iterator in Object(o)||Object.prototype.toString.call(o)==="[object Arguments]")return Array.from(o)}(j)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}d.default.prototype.createImage=function(j,o){return d.default._validateParameters("createImage",arguments),new d.default.Image(j,o)},d.default.prototype.saveCanvas=function(){d.default._validateParameters("saveCanvas",arguments);var j,o,h,f,l=[].slice.call(arguments);switch(arguments[0]instanceof HTMLCanvasElement?(j=arguments[0],l.shift()):arguments[0]instanceof d.default.Element?(j=arguments[0].elt,l.shift()):j=this._curElement&&this._curElement.elt,1<=l.length&&(o=l[0]),h=(h=2<=l.length?l[1]:h)||d.default.prototype._checkFileExtension(o,h)[1]||"png"){default:f="image/png";break;case"jpeg":case"jpg":f="image/jpeg"}j.toBlob(function(m){d.default.prototype.downloadFile(m,o,h)},f)},d.default.prototype.encodeAndDownloadGif=function(j,o){for(var h=j.gifProperties,f=((re=h.loopLimit)===1?re=null:re===null&&(re=0),new Uint8Array(j.width*j.height*h.numFrames)),l=[],m={},_=0;_<h.numFrames;_++){for(var w=new Set,v=h.frames[_].image.data,E=v.length,C=new Uint32Array(j.width*j.height),O=0,U=0;O<E;O+=4,U++){var N=v[O+0]<<16|v[O+1]<<8|v[O+2]<<0;w.add(N),C[U]=N}var D=x(w).sort().toString();m[D]===void 0?m[D]={freq:1,frames:[_]}:(m[D].freq+=1,m[D].frames.push(_)),l.push(C)}for(var H=[],I=Object.keys(m).sort(function($,Q){return m[Q].freq-m[$].freq}),V=I[0].split(",").map(function($){return parseInt($)}),G=(H=H.concat(m[V].frames),new Set(V)),q=1;q<I.length;q++){var X=I[q].split(",").map(function($){return parseInt($)}).filter(function($){return!G.has($)});if(V.length+X.length<=256){for(var B=0;B<X.length;B++)V.push(X[B]),G.add(X[B]);H=H.concat(m[I[q]].frames)}}H=new Set(H);for(var W={},K=0;K<V.length;K++)W[V[K]]||(W[V[K]]=K);for(var ee=1;ee<V.length;)ee<<=1;V.length=ee;for(var re={loop:re,palette:new Uint32Array(V)},oe=new c.default.GifWriter(f,j.width,j.height,re),le={},me=0;me<h.numFrames;me++)(function($){var Q=!H.has($),se=Q?[]:V,de=new Uint8Array(j.width*j.height),ge={},ve=new Set,ae=(l[$].forEach(function(Te,Pe){Q?(ge[Te]===void 0&&(ge[Te]=se.length,se.push(Te)),de[Pe]=ge[Te]):de[Pe]=W[Te],0<$&&l[$-1][Pe]!==Te&&ve.add(Te)}),{});if(0<(ye=se.filter(function(Te){return!ve.has(Te)})).length){var ye=ye[0],Se=(Q?ge:W)[ye];if(0<$){for(var Me=0;Me<l[$].length;Me++)l[$-1][Me]===l[$][Me]&&(de[Me]=Se);ae.transparent=Se,le.frameOpts.disposal=1}}if(ae.delay=h.frames[$].delay/10,Q){for(var Ee=1;Ee<se.length;)Ee<<=1;se.length=Ee,ae.palette=new Uint32Array(se)}0<$&&oe.addFrame(0,0,j.width,j.height,le.pixelPaletteIndex,le.frameOpts),le={pixelPaletteIndex:de,frameOpts:ae}})(me);le.frameOpts.disposal=1,oe.addFrame(0,0,j.width,j.height,le.pixelPaletteIndex,le.frameOpts),re=new Blob([f.slice(0,oe.end())],{type:"image/gif"}),d.default.prototype.downloadFile(re,o,"gif")},d.default.prototype.saveFrames=function(j,o,h,f,l){d.default._validateParameters("saveFrames",arguments),h=d.default.prototype.constrain(h=h||3,0,15),h*=1e3,f=d.default.prototype.constrain(f||15,0,22);var m=0,_=d.default.prototype._makeFrame,w=this._curElement.elt,v=[],E=setInterval(function(){v.push(_(j+m,o,w)),m++},1e3/f);setTimeout(function(){if(clearInterval(E),l)l(v);else{var C=!0,O=!1,U=void 0;try{for(var N,D=v[Symbol.iterator]();!(C=(N=D.next()).done);C=!0){var H=N.value;d.default.prototype.downloadFile(H.imageData,H.filename,H.ext)}}catch(I){O=!0,U=I}finally{try{C||D.return==null||D.return()}finally{if(O)throw U}}}v=[]},.01+h)},d.default.prototype._makeFrame=function(j,o,h){var f;if(h=this?this._curElement.elt:h,o)switch(o.toLowerCase()){case"png":f="image/png";break;case"jpeg":case"jpg":f="image/jpeg";break;default:f="image/png"}else o="png",f="image/png";h=(h=h.toDataURL(f)).replace(f,"image/octet-stream");var l={};return l.imageData=h,l.filename=j,l.ext=o,l},t=d.default,y.default=t},{"../core/main":273,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.filter":155,"core-js/modules/es.array.for-each":156,"core-js/modules/es.array.from":157,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.map":163,"core-js/modules/es.array.slice":164,"core-js/modules/es.object.keys":179,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.set":187,"core-js/modules/es.string.iterator":190,"core-js/modules/es.string.replace":194,"core-js/modules/es.string.split":196,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.typed-array.copy-within":203,"core-js/modules/es.typed-array.every":204,"core-js/modules/es.typed-array.fill":205,"core-js/modules/es.typed-array.filter":206,"core-js/modules/es.typed-array.find":208,"core-js/modules/es.typed-array.find-index":207,"core-js/modules/es.typed-array.for-each":211,"core-js/modules/es.typed-array.includes":212,"core-js/modules/es.typed-array.index-of":213,"core-js/modules/es.typed-array.iterator":216,"core-js/modules/es.typed-array.join":217,"core-js/modules/es.typed-array.last-index-of":218,"core-js/modules/es.typed-array.map":219,"core-js/modules/es.typed-array.reduce":221,"core-js/modules/es.typed-array.reduce-right":220,"core-js/modules/es.typed-array.reverse":222,"core-js/modules/es.typed-array.set":223,"core-js/modules/es.typed-array.slice":224,"core-js/modules/es.typed-array.some":225,"core-js/modules/es.typed-array.sort":226,"core-js/modules/es.typed-array.subarray":227,"core-js/modules/es.typed-array.to-locale-string":228,"core-js/modules/es.typed-array.to-string":229,"core-js/modules/es.typed-array.uint32-array":231,"core-js/modules/es.typed-array.uint8-array":232,"core-js/modules/web.dom-collections.for-each":235,"core-js/modules/web.dom-collections.iterator":236,omggif:246}],296:[function(t,A,y){function d(w){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v})(w)}function c(w){return(c=typeof Symbol=="function"&&d(Symbol.iterator)==="symbol"?function(v){return d(v)}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":d(v)})(w)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.copy-within"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.uint8-clamped-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.copy-within"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.uint8-clamped-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0,t("regenerator-runtime/runtime");var u=f(t("../core/main")),x=f(t("../core/helpers")),j=function(w){if(w&&w.__esModule)return w;if(w===null||c(w)!=="object"&&typeof w!="function")return{default:w};var v=function(){var N;return typeof WeakMap!="function"?null:(N=new WeakMap,N)}();if(v&&v.has(w))return v.get(w);var E,C={},O=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(E in w){var U;Object.prototype.hasOwnProperty.call(w,E)&&((U=O?Object.getOwnPropertyDescriptor(w,E):null)&&(U.get||U.set)?Object.defineProperty(C,E,U):C[E]=w[E])}return C.default=w,v&&v.set(w,C),C}(t("../core/constants")),o=f(t("omggif")),h=t("gifenc");function f(w){return w&&w.__esModule?w:{default:w}}function l(w,v,E,C,O,U,N){try{var D=w[U](N),H=D.value}catch(I){return void E(I)}D.done?v(H):Promise.resolve(H).then(C,O)}function m(w,v,E,C,O,U,N,D,H,I,V){var G,q,X,B,W,K,ee,re,oe;return w===j.COVER&&(G=v,X=E,ee=U,re=N,K=D,oe=H,q=I,B=V,ee/=W=Math.max(ee/q,re/B),re/=W,W=K,K=oe,G===j.CENTER?W+=(q-ee)/2:G===j.RIGHT&&(W+=q-ee),X===j.CENTER?K+=(B-re)/2:X===j.BOTTOM&&(K+=B-re),D=(oe={x:W,y:K,w:ee,h:re}).x,H=oe.y,I=oe.w,V=oe.h),w===j.CONTAIN&&(G=v,q=E,X=C,B=O,W=U,K=N,ee=I,re=V,ee/=oe=Math.max(ee/W,re/K),re/=oe,oe=X,X=B,G===j.CENTER?oe+=(W-ee)/2:G===j.RIGHT&&(oe+=W-ee),q===j.CENTER?X+=(K-re)/2:q===j.BOTTOM&&(X+=K-re),C=(w={x:oe,y:X,w:ee,h:re}).x,O=w.y,U=w.w,N=w.h),{sx:D,sy:H,sw:I,sh:V,dx:C,dy:O,dw:U,dh:N}}function _(w,v){return 0<w&&w<v?w:v}t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),u.default.prototype.loadImage=function(w,v,E){u.default._validateParameters("loadImage",arguments);var C=new u.default.Image(1,1,this),O=this,U=new Request(w,{method:"GET",mode:"cors"});return fetch(w,U).then(function(N){var D,H=N.headers.get("content-type");H===null&&console.warn("The image you loaded does not have a Content-Type header. If you are using the online editor consider reuploading the asset."),H&&H.includes("image/gif")?N.arrayBuffer().then(function(I){if(I){I=new Uint8Array(I);for(var V=C,G=v,q=E,X=(function($){O._decrementPreload()}).bind(O),B=new o.default.GifReader(I),W=(V.width=V.canvas.width=B.width,V.height=V.canvas.height=B.height,[]),K=B.numFrames(),ee=new Uint8ClampedArray(V.width*V.height*4),re=0;re<K;re++){var oe=B.frameInfo(re),le=V.drawingContext.getImageData(0,0,V.width,V.height),me=(ee=le.data.slice(),function($,Q){try{Q.decodeAndBlitFrameRGBA($,ee)}catch(se){u.default._friendlyFileLoadError(8,V.src),typeof q=="function"?q(se):console.error(se)}}(re,B),new ImageData(ee,V.width,V.height));(me=(V.drawingContext.putImageData(me,0,0),oe.delay))===0&&(me=10),W.push({image:V.drawingContext.getImageData(0,0,V.width,V.height),delay:10*me}),oe.disposal===2?V.drawingContext.clearRect(oe.x,oe.y,oe.width,oe.height):oe.disposal===3&&V.drawingContext.putImageData(le,0,0,oe.x,oe.y,oe.width,oe.height)}(I=B.loopCount())===null?I=1:I===0&&(I=null),V.drawingContext.putImageData(W[0].image,0,0),1<W.length&&(V.gifProperties={displayIndex:0,loopLimit:I,loopCount:0,frames:W,numFrames:K,playing:!0,timeDisplayed:0,lastChangeTime:0}),typeof G=="function"&&G(V),X()}},function(I){typeof E=="function"?(E(I),O._decrementPreload()):console.error(I)}):((D=new Image).onload=function(){C.width=C.canvas.width=D.width,C.height=C.canvas.height=D.height,C.drawingContext.drawImage(D,0,0),C.modified=!0,typeof v=="function"&&v(C),O._decrementPreload()},D.onerror=function(I){u.default._friendlyFileLoadError(0,D.src),typeof E=="function"?(E(I),O._decrementPreload()):console.error(I)},w.indexOf("data:image/")!==0&&(D.crossOrigin="Anonymous"),D.src=w),C.modified=!0}).catch(function(N){u.default._friendlyFileLoadError(0,w),typeof E=="function"?(E(N),O._decrementPreload()):console.error(N)}),C},u.default.prototype.saveGif=function(){w=regeneratorRuntime.mark(function E(C,O){var U,N,D,H,I,V,G,q,X,B,W,K,ee,re,oe,le,me,$,Q,se,de,ge,ve,ae,ye,Se,Me=arguments;return regeneratorRuntime.wrap(function(Ee){for(;;)switch(Ee.prev=Ee.next){case 0:if(U=2<Me.length&&Me[2]!==void 0?Me[2]:{delay:0,units:"seconds",silent:!1,notificationDuration:0,notificationID:"progressBar"},typeof C!="string")throw TypeError("fileName parameter must be a string");Ee.next=3;break;case 3:if(typeof O!="number")throw TypeError("Duration parameter must be a number");Ee.next=5;break;case 5:if(N=U&&U.delay||0,D=U&&U.units||"seconds",H=U&&U.silent||!1,I=U&&U.notificationDuration||0,V=U&&U.notificationID||"progressBar",typeof N!="number")throw TypeError("Delay parameter must be a number");Ee.next=12;break;case 12:if(D!=="seconds"&&D!=="frames")throw TypeError('Units parameter must be either "frames" or "seconds"');Ee.next=14;break;case 14:if(typeof H!="boolean")throw TypeError("Silent parameter must be a boolean");Ee.next=16;break;case 16:if(typeof I!="number")throw TypeError("Notification duration parameter must be a number");Ee.next=18;break;case 18:if(typeof V!="string")throw TypeError("Notification ID parameter must be a string");Ee.next=20;break;case 20:return this._recording=!0,B=this._targetFrameRate,G=(G=1/(B=B!==1/0&&B!==void 0&&B!==0?B:60)*1e3)<20?20:G,X=(q=D==="seconds"?O*B:O)+(B=D==="seconds"?N*B:N),B=B,this.frameCount=B,W=this._pixelDensity,this.pixelDensity(1),K=[],document.getElementById(V)!==null&&document.getElementById(V).remove(),H||((ee=this.createP("")).id(V),ee.style("font-size","16px"),ee.style("font-family","Montserrat"),ee.style("background-color","#ffffffa0"),ee.style("padding","8px"),ee.style("border-radius","10px"),ee.position(0,0)),this._renderer instanceof u.default.RendererGL&&(oe=this.drawingContext,re=new Uint8Array(oe.drawingBufferWidth*oe.drawingBufferHeight*4)),this.noLoop(),Ee.next=39,Promise.resolve();case 39:if(B<X)return this.redraw(),ae=void 0,ae=this._renderer instanceof u.default.RendererGL?(re=new Uint8Array(oe.drawingBufferWidth*oe.drawingBufferHeight*4),oe.readPixels(0,0,oe.drawingBufferWidth,oe.drawingBufferHeight,oe.RGBA,oe.UNSIGNED_BYTE,re),function(Te){for(var Pe=parseInt(height/2),Ke=4*width,Ge=new Uint8Array(4*width),et=0;et<Pe;++et){var ft=et*Ke,ot=(height-et-1)*Ke;Ge.set(Te.subarray(ft,ft+Ke)),Te.copyWithin(ft,ot,ot+Ke),Te.set(Ge,ot)}return Te}(re)):this.drawingContext.getImageData(0,0,this.width,this.height).data,K.push(ae),B++,H||ee.html("Saved frame <b>"+K.length.toString()+"</b> out of "+q.toString()),Ee.next=48,new Promise(function(Te){return setTimeout(Te,0)});Ee.next=50;break;case 48:Ee.next=39;break;case 50:H||ee.html("Frames processed, generating color palette..."),this.loop(),this.pixelDensity(W),le=(0,h.GIFEncoder)(),me=function(Te){for(var Pe=new Uint8Array(Te.length*Te[0].length),Ke=0;Ke<Te.length;Ke++)Pe.set(Te[Ke],Ke*Te[0].length);var Ge=(0,h.quantize)(Pe,256,{format:"rgba4444",oneBitAlpha:!0});return Ge.length===256?Ge[Ge.length-1]=[255*Math.random(),255*Math.random(),255*Math.random(),0]:Ge.push([255*Math.random(),255*Math.random(),255*Math.random(),0]),Ge}(K),$={},Q=function(Te){for(var Pe=Te.length/4,Ke=new Uint8Array(Pe),Ge=0;Ge<Pe;Ge++){var et=Te[4*Ge]<<24|Te[4*Ge+1]<<16|Te[4*Ge+2]<<8|Te[4*Ge+3];$[et]===void 0&&($[et]=(0,h.nearestColorIndex)(me,Te.slice(4*Ge,4*(Ge+1)))),Ke[Ge]=$[et]}return Ke},se=me.length-1,de=[],ge=0;case 60:if(!(ge<K.length)){Ee.next=71;break}if(ve=Q(K[ge]),ae=ve.slice(),ge===0)le.writeFrame(ve,this.width,this.height,{palette:me,delay:G,dispose:1});else{for(ye=0;ye<ve.length;ye++)ve[ye]===de[ye]&&(ve[ye]=se);le.writeFrame(ve,this.width,this.height,{delay:G,transparent:!0,transparentIndex:se,dispose:1})}return de=ae,H||ee.html("Rendered frame <b>"+ge.toString()+"</b> out of "+q.toString()),Ee.next=68,new Promise(function(Te){return setTimeout(Te,0)});case 68:ge++,Ee.next=60;break;case 71:le.finish(),Se=le.bytesView(),Se=new Blob([Se],{type:"image/gif"}),K=[],this._recording=!1,this.loop(),H||(ee.html("Done. Downloading your gif!🌸"),0<I&&setTimeout(function(){return ee.remove()},1e3*I)),u.default.prototype.downloadFile(Se,C,"gif");case 80:case"end":return Ee.stop()}},E,this)});var w,v=function(){var E=this,C=arguments;return new Promise(function(O,U){var N=w.apply(E,C);function D(I){l(N,O,U,D,H,"next",I)}function H(I){l(N,O,U,D,H,"throw",I)}D(void 0)})};return function(E,C){return v.apply(this,arguments)}}(),u.default.prototype.image=function(w,v,E,C,O,U,N,D,H,I,V,G){u.default._validateParameters("image",arguments);var q=w.width,X=w.height,B=(G=G||j.CENTER,V=V||j.CENTER,w.elt&&w.elt.videoWidth&&!w.canvas&&(q=w.elt.videoWidth,X=w.elt.videoHeight),C||q);O=O||X,U=U||0,N=N||0,D=_(D||q,q),q=_(H||X,X),H=1,w.elt&&!w.canvas&&w.elt.style.width&&(H=w.elt.videoWidth&&!C?w.elt.videoWidth:w.elt.width,H/=parseInt(w.elt.style.width,10)),U*=H,N*=H,q*=H,D*=H,X=m(I,V,G,(X=x.default.modeAdjust(v,E,B,O,this._renderer._imageMode)).x,X.y,X.w,X.h,U,N,D,q),this._renderer.image(w,X.sx,X.sy,X.sw,X.sh,X.dx,X.dy,X.dw,X.dh)},u.default.prototype.tint=function(){for(var w=arguments.length,v=new Array(w),E=0;E<w;E++)v[E]=arguments[E];u.default._validateParameters("tint",v);var C=this.color.apply(this,v);this._renderer._tint=C.levels},u.default.prototype.noTint=function(){this._renderer._tint=null},u.default.prototype._getTintedImageCanvas=u.default.Renderer2D.prototype._getTintedImageCanvas,u.default.prototype.imageMode=function(w){u.default._validateParameters("imageMode",arguments),w!==j.CORNER&&w!==j.CORNERS&&w!==j.CENTER||(this._renderer._imageMode=w)},t=u.default,y.default=t},{"../core/constants":262,"../core/friendly_errors/fes_core":264,"../core/friendly_errors/file_errors":265,"../core/friendly_errors/validate_params":268,"../core/helpers":269,"../core/main":273,"core-js/modules/es.array.copy-within":152,"core-js/modules/es.array.includes":158,"core-js/modules/es.array.index-of":159,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.slice":164,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.promise":181,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.includes":189,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.typed-array.copy-within":203,"core-js/modules/es.typed-array.every":204,"core-js/modules/es.typed-array.fill":205,"core-js/modules/es.typed-array.filter":206,"core-js/modules/es.typed-array.find":208,"core-js/modules/es.typed-array.find-index":207,"core-js/modules/es.typed-array.for-each":211,"core-js/modules/es.typed-array.includes":212,"core-js/modules/es.typed-array.index-of":213,"core-js/modules/es.typed-array.iterator":216,"core-js/modules/es.typed-array.join":217,"core-js/modules/es.typed-array.last-index-of":218,"core-js/modules/es.typed-array.map":219,"core-js/modules/es.typed-array.reduce":221,"core-js/modules/es.typed-array.reduce-right":220,"core-js/modules/es.typed-array.reverse":222,"core-js/modules/es.typed-array.set":223,"core-js/modules/es.typed-array.slice":224,"core-js/modules/es.typed-array.some":225,"core-js/modules/es.typed-array.sort":226,"core-js/modules/es.typed-array.subarray":227,"core-js/modules/es.typed-array.to-locale-string":228,"core-js/modules/es.typed-array.to-string":229,"core-js/modules/es.typed-array.uint8-array":232,"core-js/modules/es.typed-array.uint8-clamped-array":233,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236,gifenc:243,omggif:246,"regenerator-runtime/runtime":250}],297:[function(t,A,y){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var d=u(t("../core/main")),c=u(t("./filters"));function u(j){return j&&j.__esModule?j:{default:j}}function x(j,o){for(var h=0;h<o.length;h++){var f=o[h];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(j,f.key,f)}}d.default.Image=function(){function j(f,l){if(!(this instanceof j))throw new TypeError("Cannot call a class as a function");this.width=f,this.height=l,this.canvas=document.createElement("canvas"),this.canvas.width=this.width,this.canvas.height=this.height,this.drawingContext=this.canvas.getContext("2d"),(this._pixelsState=this)._pixelDensity=1,this.gifProperties=null,this._modified=!1,this.pixels=[]}var o,h;return o=j,(h=[{key:"_animateGif",value:function(f){var l,m=this.gifProperties;f=f._lastRealFrameTime,m.lastChangeTime===0&&(m.lastChangeTime=f),m.playing&&(m.timeDisplayed=f-m.lastChangeTime,l=m.frames[m.displayIndex].delay,m.timeDisplayed>=l&&(l=Math.floor(m.timeDisplayed/l),m.timeDisplayed=0,m.lastChangeTime=f,m.displayIndex+=l,m.loopCount=Math.floor(m.displayIndex/m.numFrames),m.loopLimit!==null&&m.loopCount>=m.loopLimit?m.playing=!1:(f=m.displayIndex%m.numFrames,this.drawingContext.putImageData(m.frames[f].image,0,0),m.displayIndex=f,this.setModified(!0))))}},{key:"_setProperty",value:function(f,l){this[f]=l,this.setModified(!0)}},{key:"loadPixels",value:function(){d.default.Renderer2D.prototype.loadPixels.call(this),this.setModified(!0)}},{key:"updatePixels",value:function(f,l,m,_){d.default.Renderer2D.prototype.updatePixels.call(this,f,l,m,_),this.setModified(!0)}},{key:"get",value:function(f,l,m,_){return d.default._validateParameters("p5.Image.get",arguments),d.default.Renderer2D.prototype.get.apply(this,arguments)}},{key:"_getPixel",value:function(){for(var f=arguments.length,l=new Array(f),m=0;m<f;m++)l[m]=arguments[m];return d.default.Renderer2D.prototype._getPixel.apply(this,l)}},{key:"set",value:function(f,l,m){d.default.Renderer2D.prototype.set.call(this,f,l,m),this.setModified(!0)}},{key:"resize",value:function(f,l){f===0&&l===0?(f=this.canvas.width,l=this.canvas.height):f===0?f=this.canvas.width*l/this.canvas.height:l===0&&(l=this.canvas.height*f/this.canvas.width),f=Math.floor(f),l=Math.floor(l);var m=document.createElement("canvas");if(m.width=f,m.height=l,this.gifProperties)for(var _=this.gifProperties,w=0;w<_.numFrames;w++){for(var v=this.drawingContext.createImageData(f,l),E=(D=D=N=U=O=void 0,_.frames[w].image),C=v,O=0,U=0;U<C.height;U++)for(var N=0;N<C.width;N++){var D=Math.floor(N*E.width/C.width);D=4*(Math.floor(U*E.height/C.height)*E.width+D),C.data[O++]=E.data[D++],C.data[O++]=E.data[D++],C.data[O++]=E.data[D++],C.data[O++]=E.data[+D]}_.frames[w].image=v}m.getContext("2d").drawImage(this.canvas,0,0,this.canvas.width,this.canvas.height,0,0,m.width,m.height),this.canvas.width=this.width=f,this.canvas.height=this.height=l,this.drawingContext.drawImage(m,0,0,f,l,0,0,f,l),0<this.pixels.length&&this.loadPixels(),this.setModified(!0)}},{key:"copy",value:function(){for(var f=arguments.length,l=new Array(f),m=0;m<f;m++)l[m]=arguments[m];d.default.prototype.copy.apply(this,l)}},{key:"mask",value:function(f){var l=this.drawingContext.globalCompositeOperation,m=1,_=[f=f===void 0?this:f,0,0,(m=f instanceof d.default.Renderer?f._pInst._pixelDensity:m)*f.width,m*f.height,0,0,this.width,this.height];if(this.drawingContext.globalCompositeOperation="destination-in",this.gifProperties){for(var w=0;w<this.gifProperties.frames.length;w++)this.drawingContext.putImageData(this.gifProperties.frames[w].image,0,0),this.copy.apply(this,_),this.gifProperties.frames[w].image=this.drawingContext.getImageData(0,0,this.width,this.height);this.drawingContext.putImageData(this.gifProperties.frames[this.gifProperties.displayIndex].image,0,0)}else this.copy.apply(this,_);this.drawingContext.globalCompositeOperation=l,this.setModified(!0)}},{key:"filter",value:function(f,l){c.default.apply(this.canvas,c.default[f],l),this.setModified(!0)}},{key:"blend",value:function(){for(var f=arguments.length,l=new Array(f),m=0;m<f;m++)l[m]=arguments[m];d.default._validateParameters("p5.Image.blend",arguments),d.default.prototype.blend.apply(this,l),this.setModified(!0)}},{key:"setModified",value:function(f){this._modified=f}},{key:"isModified",value:function(){return this._modified}},{key:"save",value:function(f,l){this.gifProperties?d.default.prototype.encodeAndDownloadGif(this,f):d.default.prototype.saveCanvas(this.canvas,f,l)}},{key:"reset",value:function(){var f;this.gifProperties&&((f=this.gifProperties).playing=!0,f.timeSinceStart=0,f.timeDisplayed=0,f.lastChangeTime=0,f.loopCount=0,f.displayIndex=0,this.drawingContext.putImageData(f.frames[0].image,0,0))}},{key:"getCurrentFrame",value:function(){var f;if(this.gifProperties)return(f=this.gifProperties).displayIndex%f.numFrames}},{key:"setFrame",value:function(f){var l;this.gifProperties&&(f<(l=this.gifProperties).numFrames&&0<=f?(l.timeDisplayed=0,l.lastChangeTime=0,l.displayIndex=f,this.drawingContext.putImageData(l.frames[f].image,0,0)):console.log("Cannot set GIF to a frame number that is higher than total number of frames or below zero."))}},{key:"numFrames",value:function(){if(this.gifProperties)return this.gifProperties.numFrames}},{key:"play",value:function(){this.gifProperties&&(this.gifProperties.playing=!0)}},{key:"pause",value:function(){this.gifProperties&&(this.gifProperties.playing=!1)}},{key:"delay",value:function(f,l){if(this.gifProperties){var m=this.gifProperties;if(l<m.numFrames&&0<=l)m.frames[l].delay=f;else{var _=!0,w=(l=!1,void 0);try{for(var v,E=m.frames[Symbol.iterator]();!(_=(v=E.next()).done);_=!0)v.value.delay=f}catch(C){l=!0,w=C}finally{try{_||E.return==null||E.return()}finally{if(l)throw w}}}}}}])&&x(o.prototype,h),j}(),t=d.default.Image,y.default=t},{"../core/main":273,"./filters":294,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/web.dom-collections.iterator":236}],298:[function(t,A,y){t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.filter"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var d=u(t("../core/main")),c=u(t("./filters"));function u(x){return x&&x.__esModule?x:{default:x}}t("../color/p5.Color"),d.default.prototype.pixels=[],d.default.prototype.blend=function(){for(var x,j=arguments.length,o=new Array(j),h=0;h<j;h++)o[h]=arguments[h];d.default._validateParameters("blend",o),this._renderer?(x=this._renderer).blend.apply(x,o):d.default.Renderer2D.prototype.blend.apply(this,o)},d.default.prototype.copy=function(){for(var x,j,o,h,f,l,m,_,w,v=arguments.length,E=new Array(v),C=0;C<v;C++)E[C]=arguments[C];if(d.default._validateParameters("copy",E),E.length===9)x=E[0],j=E[1],o=E[2],h=E[3],f=E[4],l=E[5],m=E[6],_=E[7],w=E[8];else{if(E.length!==8)throw new Error("Signature not supported");x=this,j=E[0],o=E[1],h=E[2],f=E[3],l=E[4],m=E[5],_=E[6],w=E[7]}d.default.prototype._copyHelper(this,x,j,o,h,f,l,m,_,w)},d.default.prototype._copyHelper=function(x,j,o,h,f,l,m,_,w,v){j.loadPixels();var E=j.canvas.width/j.width,C=0,O=0;j._renderer&&j._renderer.isP3D&&(C=j.width/2,O=j.height/2),x._renderer&&x._renderer.isP3D?d.default.RendererGL.prototype.image.call(x._renderer,j,o+C,h+O,f,l,m,_,w,v):x.drawingContext.drawImage(j.canvas,E*(o+C),E*(h+O),E*f,E*l,m,_,w,v)},d.default.prototype.filter=function(x,j){d.default._validateParameters("filter",arguments),this.canvas!==void 0?c.default.apply(this.canvas,c.default[x],j):c.default.apply(this.elt,c.default[x],j)},d.default.prototype.get=function(x,j,o,h){var f;return d.default._validateParameters("get",arguments),(f=this._renderer).get.apply(f,arguments)},d.default.prototype.loadPixels=function(){for(var x=arguments.length,j=new Array(x),o=0;o<x;o++)j[o]=arguments[o];d.default._validateParameters("loadPixels",j),this._renderer.loadPixels()},d.default.prototype.set=function(x,j,o){this._renderer.set(x,j,o)},d.default.prototype.updatePixels=function(x,j,o,h){d.default._validateParameters("updatePixels",arguments),this.pixels.length!==0&&this._renderer.updatePixels(x,j,o,h)},t=d.default,y.default=t},{"../color/p5.Color":260,"../core/main":273,"./filters":294,"core-js/modules/es.array.filter":155}],299:[function(t,A,y){function d(l){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(l)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.from-entries"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/web.url"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.from-entries"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/web.url"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var c=j(t("../core/main")),u=(t("whatwg-fetch"),t("es6-promise/auto"),j(t("fetch-jsonp"))),x=j(t("file-saver"));function j(l){return l&&l.__esModule?l:{default:l}}function o(l){return(o=typeof Symbol=="function"&&d(Symbol.iterator)==="symbol"?function(m){return d(m)}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":d(m)})(l)}function h(l){return l.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}function f(l,m){m&&m!==!0&&m!=="true"||(m="");var _="";return(l=l||"untitled")&&l.includes(".")&&(_=l.split(".").pop()),m&&_!==m&&(_=m,l="".concat(l,".").concat(_)),[l,_]}t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),c.default.prototype.loadJSON=function(){for(var l=arguments.length,m=new Array(l),_=0;_<l;_++)m[_]=arguments[_];c.default._validateParameters("loadJSON",m);for(var w,v,E,C=m[0],O={},U="json",N=1;N<m.length;N++){var D=m[N];typeof D=="string"?D!=="jsonp"&&D!=="json"||(U=D):typeof D=="function"?w?v=D:w=D:o(D)==="object"&&(D.hasOwnProperty("jsonpCallback")||D.hasOwnProperty("jsonpCallbackFunction"))&&(U="jsonp",E=D)}var H=this;return this.httpDo(C,"GET",E,U,function(I){for(var V in I)O[V]=I[V];w!==void 0&&w(I),H._decrementPreload()},function(I){if(c.default._friendlyFileLoadError(5,C),!v)throw I;v(I)}),O},c.default.prototype.loadStrings=function(){for(var l=arguments.length,m=new Array(l),_=0;_<l;_++)m[_]=arguments[_];c.default._validateParameters("loadStrings",m);for(var w,v,E=[],C=1;C<m.length;C++){var O=m[C];typeof O=="function"&&(w===void 0?w=O:v===void 0&&(v=O))}var U=this;return c.default.prototype.httpDo.call(this,m[0],"GET","text",function(N){for(var D=N.replace(/\r\n/g,"\r").replace(/\n/g,"\r").split(/\r/),H=0,I=D.length;H<I;H+=32768)Array.prototype.push.apply(E,D.slice(H,Math.min(H+32768,I)));w!==void 0&&w(E),U._decrementPreload()},function(N){if(c.default._friendlyFileLoadError(3,N),!v)throw N;v(N)}),E},c.default.prototype.loadTable=function(l){var m,_,w,v=!1,E=l.substring(l.lastIndexOf(".")+1,l.length);E==="csv"?w=",":E==="ssv"?w=";":E==="tsv"&&(w="	");for(var C=1;C<arguments.length;C++)typeof arguments[C]=="function"?m===void 0?m=arguments[C]:_===void 0&&(_=arguments[C]):typeof arguments[C]=="string"&&(arguments[C]==="header"&&(v=!0),arguments[C]==="csv"?w=",":arguments[C]==="ssv"?w=";":arguments[C]==="tsv"&&(w="	"));var O=new c.default.Table,U=this;return this.httpDo(l,"GET","table",function(N){for(var D,H,I={},V=[],G=0,q=null,X=function(){I.currentState=0,I.token=""},B=function(){q.push(I.token),X()},W=function(){I.currentState=4,V.push(q),q=null};;){if((D=N[G++])==null){if(I.escaped)throw new Error("Unclosed quote in file.");if(q){B(),W();break}}if(q===null&&(I.escaped=!1,q=[],X()),I.currentState===0){if(D==='"'){I.escaped=!0,I.currentState=1;continue}I.currentState=1}if(I.currentState===1&&I.escaped)if(D==='"')N[G]==='"'?(I.token+='"',G++):(I.escaped=!1,I.currentState=2);else{if(D==="\r")continue;I.token+=D}else D==="\r"?(N[G]===`
`&&G++,B(),W()):D===`
`?(B(),W()):D===w?B():I.currentState===1&&(I.token+=D)}if(v)O.columns=V.shift();else for(var K=0;K<V[0].length;K++)O.columns[K]="null";for(var ee=0;ee<V.length;ee++)(V[ee].length!==1||V[ee][0]!=="undefined"&&V[ee][0]!=="")&&((H=new c.default.TableRow).arr=V[ee],H.obj=function(re,oe){if((oe=oe||[])===void 0)for(var le=0;le<re.length;le++)oe[le.toString()]=le;return Object.fromEntries(oe.map(function(me,$){return[me,re[$]]}))}(V[ee],O.columns),O.addRow(H));typeof m=="function"&&m(O),U._decrementPreload()},function(N){c.default._friendlyFileLoadError(2,l),_?_(N):console.error(N)}),O},c.default.prototype.loadXML=function(){for(var l=arguments.length,m=new Array(l),_=0;_<l;_++)m[_]=arguments[_];for(var w,v,E=new c.default.XML,C=1;C<m.length;C++){var O=m[C];typeof O=="function"&&(w===void 0?w=O:v===void 0&&(v=O))}var U=this;return this.httpDo(m[0],"GET","xml",function(N){for(var D in N)E[D]=N[D];w!==void 0&&w(E),U._decrementPreload()},function(N){if(c.default._friendlyFileLoadError(1,N),!v)throw N;v(N)}),E},c.default.prototype.loadBytes=function(l,m,_){var w={},v=this;return this.httpDo(l,"GET","arrayBuffer",function(E){w.bytes=new Uint8Array(E),typeof m=="function"&&m(w),v._decrementPreload()},function(E){if(c.default._friendlyFileLoadError(6,l),!_)throw E;_(E)}),w},c.default.prototype.httpGet=function(){c.default._validateParameters("httpGet",arguments);var l=Array.prototype.slice.call(arguments);return l.splice(1,0,"GET"),c.default.prototype.httpDo.apply(this,l)},c.default.prototype.httpPost=function(){c.default._validateParameters("httpPost",arguments);var l=Array.prototype.slice.call(arguments);return l.splice(1,0,"POST"),c.default.prototype.httpDo.apply(this,l)},c.default.prototype.httpDo=function(){for(var l,m,_,w={},v=0,E="text/plain",C=arguments.length-1;0<C&&typeof(C<0||arguments.length<=C?void 0:arguments[C])=="function";C--)v++;var O=arguments.length<=0?void 0:arguments[0];if((V=arguments.length-v)==2&&typeof O=="string"&&o(arguments.length<=1?void 0:arguments[1])==="object")G=new Request(O,arguments.length<=1?void 0:arguments[1]),m=arguments.length<=2?void 0:arguments[2],_=arguments.length<=3?void 0:arguments[3];else{for(var U,N="GET",D=1;D<arguments.length;D++){var H=D<0||arguments.length<=D?void 0:arguments[D];if(typeof H=="string")H==="GET"||H==="POST"||H==="PUT"||H==="DELETE"?N=H:H==="json"||H==="jsonp"||H==="binary"||H==="arrayBuffer"||H==="xml"||H==="text"||H==="table"?l=H:U=H;else if(typeof H=="number")U=H.toString();else if(o(H)==="object")if(H.hasOwnProperty("jsonpCallback")||H.hasOwnProperty("jsonpCallbackFunction"))for(var I in H)w[I]=H[I];else E=H instanceof c.default.XML?(U=H.serialize(),"application/xml"):(U=JSON.stringify(H),"application/json");else typeof H=="function"&&(m?_=H:m=H)}var V=N==="GET"?new Headers:new Headers({"Content-Type":E}),G=new Request(O,{method:N,mode:"cors",body:U,headers:V})}return(V=(V=(l=l||(O.includes("json")?"json":O.includes("xml")?"xml":"text"))==="jsonp"?(0,u.default)(O,w):fetch(G)).then(function(q){if(!q.ok)throw(X=new Error(q.body)).status=q.status,X.ok=!1,X;var X=0;switch((X=l!=="jsonp"?q.headers.get("content-length"):X)&&64e6<X&&c.default._friendlyFileLoadError(7,O),l){case"json":case"jsonp":return q.json();case"binary":return q.blob();case"arrayBuffer":return q.arrayBuffer();case"xml":return q.text().then(function(B){return B=new DOMParser().parseFromString(B,"text/xml"),new c.default.XML(B.documentElement)});default:return q.text()}})).then(m||function(){}),V.catch(_||console.error),V},window.URL=window.URL||window.webkitURL,c.default.prototype._pWriters=[],c.default.prototype.createWriter=function(l,m){var _,w;for(w in c.default.prototype._pWriters)if(c.default.prototype._pWriters[w].name===l)return _=new c.default.PrintWriter(l+this.millis(),m),c.default.prototype._pWriters.push(_),_;return _=new c.default.PrintWriter(l,m),c.default.prototype._pWriters.push(_),_},c.default.PrintWriter=function(l,m){var _=this;this.name=l,this.content="",this.write=function(w){this.content+=w},this.print=function(w){this.content+="".concat(w,`
`)},this.clear=function(){this.content=""},this.close=function(){var w,v=[];for(w in v.push(this.content),c.default.prototype.writeFile(v,l,m),c.default.prototype._pWriters)c.default.prototype._pWriters[w].name===this.name&&c.default.prototype._pWriters.splice(w,1);_.clear(),_={}}},c.default.prototype.save=function(l,m,_){var w=arguments,v=(this._curElement||this).elt;if(w.length===0)c.default.prototype.saveCanvas(v);else if(w[0]instanceof c.default.Renderer||w[0]instanceof c.default.Graphics)c.default.prototype.saveCanvas(w[0].elt,w[1],w[2]);else if(w.length===1&&typeof w[0]=="string")c.default.prototype.saveCanvas(v,w[0]);else switch(f(w[1],w[2])[1]){case"json":return void c.default.prototype.saveJSON(w[0],w[1],w[2]);case"txt":return void c.default.prototype.saveStrings(w[0],w[1],w[2]);default:w[0]instanceof Array?c.default.prototype.saveStrings(w[0],w[1],w[2]):w[0]instanceof c.default.Table?c.default.prototype.saveTable(w[0],w[1],w[2]):w[0]instanceof c.default.Image?c.default.prototype.saveCanvas(w[0].canvas,w[1]):w[0]instanceof c.default.SoundFile&&c.default.prototype.saveSound(w[0],w[1],w[2],w[3])}},c.default.prototype.saveJSON=function(l,m,_){c.default._validateParameters("saveJSON",arguments),_=_?JSON.stringify(l):JSON.stringify(l,void 0,2),this.saveStrings(_.split(`
`),m,"json")},c.default.prototype.saveJSONObject=c.default.prototype.saveJSON,c.default.prototype.saveJSONArray=c.default.prototype.saveJSON,c.default.prototype.saveStrings=function(l,m,_,w){c.default._validateParameters("saveStrings",arguments);for(var v=this.createWriter(m,_||"txt"),E=0;E<l.length;E++)w?v.write(l[E]+`\r
`):v.write(l[E]+`
`);v.close(),v.clear()},c.default.prototype.saveTable=function(l,m,_){c.default._validateParameters("saveTable",arguments),w=_===void 0?m.substring(m.lastIndexOf(".")+1,m.length):_;var w,v=this.createWriter(m,w),E=l.columns,C=w==="tsv"?"	":",";if(w!=="html"){if(E[0]!=="0"){for(var O=0;O<E.length;O++)O<E.length-1?v.write(E[O]+C):v.write(E[O]);v.write(`
`)}for(var U=0;U<l.rows.length;U++){var N=void 0;for(N=0;N<l.rows[U].arr.length;N++)N<l.rows[U].arr.length-1?w==="csv"&&String(l.rows[U].arr[N]).includes(",")?v.write('"'+l.rows[U].arr[N]+'"'+C):v.write(l.rows[U].arr[N]+C):w==="csv"&&String(l.rows[U].arr[N]).includes(",")?v.write('"'+l.rows[U].arr[N]+'"'):v.write(l.rows[U].arr[N]);v.write(`
`)}}else{if(v.print("<html>"),v.print("<head>"),v.print('  <meta http-equiv="content-type" content="text/html;charset=utf-8" />'),v.print("</head>"),v.print("<body>"),v.print("  <table>"),E[0]!=="0"){v.print("    <tr>");for(var D=0;D<E.length;D++){var H=h(E[D]);v.print("      <td>".concat(H)),v.print("      </td>")}v.print("    </tr>")}for(var I=0;I<l.rows.length;I++){v.print("    <tr>");for(var V=0;V<l.columns.length;V++){var G=h(l.rows[I].getString(V));v.print("      <td>".concat(G)),v.print("      </td>")}v.print("    </tr>")}v.print("  </table>"),v.print("</body>"),v.print("</html>")}v.close(),v.clear()},c.default.prototype.writeFile=function(l,m,_){var w="application/octet-stream";c.default.prototype._isSafari()&&(w="text/plain"),l=new Blob(l,{type:w}),c.default.prototype.downloadFile(l,m,_)},c.default.prototype.downloadFile=function(l,m,_){var w;_=(m=f(m,_))[0],l instanceof Blob?x.default.saveAs(l,_):((w=document.createElement("a")).href=l,w.download=_,w.onclick=function(v){document.body.removeChild(v.target),v.stopPropagation()},w.style.display="none",document.body.appendChild(w),c.default.prototype._isSafari()&&(l=(l=`Hello, Safari user! To download this file...
1. Go to File --> Save As.
2. Choose "Page Source" as the Format.
`)+'3. Name it with this extension: ."'.concat(m[1],'"'),alert(l)),w.click())},c.default.prototype._checkFileExtension=f,c.default.prototype._isSafari=function(){return 0<Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")},t=c.default,y.default=t},{"../core/friendly_errors/fes_core":264,"../core/friendly_errors/file_errors":265,"../core/friendly_errors/validate_params":268,"../core/main":273,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.includes":158,"core-js/modules/es.array.index-of":159,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.last-index-of":162,"core-js/modules/es.array.map":163,"core-js/modules/es.array.slice":164,"core-js/modules/es.array.splice":166,"core-js/modules/es.function.name":167,"core-js/modules/es.object.from-entries":175,"core-js/modules/es.object.to-string":180,"core-js/modules/es.promise":181,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.includes":189,"core-js/modules/es.string.iterator":190,"core-js/modules/es.string.replace":194,"core-js/modules/es.string.split":196,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.typed-array.copy-within":203,"core-js/modules/es.typed-array.every":204,"core-js/modules/es.typed-array.fill":205,"core-js/modules/es.typed-array.filter":206,"core-js/modules/es.typed-array.find":208,"core-js/modules/es.typed-array.find-index":207,"core-js/modules/es.typed-array.for-each":211,"core-js/modules/es.typed-array.includes":212,"core-js/modules/es.typed-array.index-of":213,"core-js/modules/es.typed-array.iterator":216,"core-js/modules/es.typed-array.join":217,"core-js/modules/es.typed-array.last-index-of":218,"core-js/modules/es.typed-array.map":219,"core-js/modules/es.typed-array.reduce":221,"core-js/modules/es.typed-array.reduce-right":220,"core-js/modules/es.typed-array.reverse":222,"core-js/modules/es.typed-array.set":223,"core-js/modules/es.typed-array.slice":224,"core-js/modules/es.typed-array.some":225,"core-js/modules/es.typed-array.sort":226,"core-js/modules/es.typed-array.subarray":227,"core-js/modules/es.typed-array.to-locale-string":228,"core-js/modules/es.typed-array.to-string":229,"core-js/modules/es.typed-array.uint8-array":232,"core-js/modules/web.dom-collections.iterator":236,"core-js/modules/web.url":238,"es6-promise/auto":239,"fetch-jsonp":241,"file-saver":242,"whatwg-fetch":251}],300:[function(t,A,y){t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var d=(t=t("../core/main"))&&t.__esModule?t:{default:t};function c(u,x){for(var j=0;j<x.length;j++){var o=x[j];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(u,o.key,o)}}d.default.Table=function(){function u(o){if(!(this instanceof u))throw new TypeError("Cannot call a class as a function");this.columns=[],this.rows=[]}var x,j;return x=u,(j=[{key:"addRow",value:function(o){if((o=o||new d.default.TableRow).arr===void 0||o.obj===void 0)throw new Error("invalid TableRow: ".concat(o));return(o.table=this).rows.push(o),o}},{key:"removeRow",value:function(o){this.rows[o].table=null,o=this.rows.splice(o+1,this.rows.length),this.rows.pop(),this.rows=this.rows.concat(o)}},{key:"getRow",value:function(o){return this.rows[o]}},{key:"getRows",value:function(){return this.rows}},{key:"findRow",value:function(o,h){if(typeof h=="string"){for(var f=0;f<this.rows.length;f++)if(this.rows[f].obj[h]===o)return this.rows[f]}else for(var l=0;l<this.rows.length;l++)if(this.rows[l].arr[h]===o)return this.rows[l];return null}},{key:"findRows",value:function(o,h){var f=[];if(typeof h=="string")for(var l=0;l<this.rows.length;l++)this.rows[l].obj[h]===o&&f.push(this.rows[l]);else for(var m=0;m<this.rows.length;m++)this.rows[m].arr[h]===o&&f.push(this.rows[m]);return f}},{key:"matchRow",value:function(o,h){if(typeof h=="number"){for(var f=0;f<this.rows.length;f++)if(this.rows[f].arr[h].match(o))return this.rows[f]}else for(var l=0;l<this.rows.length;l++)if(this.rows[l].obj[h].match(o))return this.rows[l];return null}},{key:"matchRows",value:function(o,h){var f=[];if(typeof h=="number")for(var l=0;l<this.rows.length;l++)this.rows[l].arr[h].match(o)&&f.push(this.rows[l]);else for(var m=0;m<this.rows.length;m++)this.rows[m].obj[h].match(o)&&f.push(this.rows[m]);return f}},{key:"getColumn",value:function(o){var h=[];if(typeof o=="string")for(var f=0;f<this.rows.length;f++)h.push(this.rows[f].obj[o]);else for(var l=0;l<this.rows.length;l++)h.push(this.rows[l].arr[o]);return h}},{key:"clearRows",value:function(){delete this.rows,this.rows=[]}},{key:"addColumn",value:function(o){this.columns.push(o||null)}},{key:"getColumnCount",value:function(){return this.columns.length}},{key:"getRowCount",value:function(){return this.rows.length}},{key:"removeTokens",value:function(o,h){for(var f=[],l=0;l<o.length;l++)f.push(o.charAt(l).replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"));var m=new RegExp(f.join("|"),"g");if(h===void 0)for(var _=0;_<this.columns.length;_++)for(var w=0;w<this.rows.length;w++){var v=(v=this.rows[w].arr[_]).replace(m,"");this.rows[w].arr[_]=v,this.rows[w].obj[this.columns[_]]=v}else if(typeof h=="string")for(var E=0;E<this.rows.length;E++){var C=(C=this.rows[E].obj[h]).replace(m,""),O=(this.rows[E].obj[h]=C,this.columns.indexOf(h));this.rows[E].arr[O]=C}else for(var U=0;U<this.rows.length;U++){var N=(N=this.rows[U].arr[h]).replace(m,"");this.rows[U].arr[h]=N,this.rows[U].obj[this.columns[h]]=N}}},{key:"trim",value:function(o){var h=new RegExp(" ","g");if(o===void 0)for(var f=0;f<this.columns.length;f++)for(var l=0;l<this.rows.length;l++){var m=(m=this.rows[l].arr[f]).replace(h,"");this.rows[l].arr[f]=m,this.rows[l].obj[this.columns[f]]=m}else if(typeof o=="string")for(var _=0;_<this.rows.length;_++){var w=(w=this.rows[_].obj[o]).replace(h,""),v=(this.rows[_].obj[o]=w,this.columns.indexOf(o));this.rows[_].arr[v]=w}else for(var E=0;E<this.rows.length;E++){var C=(C=this.rows[E].arr[o]).replace(h,"");this.rows[E].arr[o]=C,this.rows[E].obj[this.columns[o]]=C}}},{key:"removeColumn",value:function(o){typeof o=="string"?f=this.columns.indexOf(h=o):h=this.columns[f=o];var h,f;o=this.columns.splice(f+1,this.columns.length),this.columns.pop(),this.columns=this.columns.concat(o);for(var l=0;l<this.rows.length;l++){var m=this.rows[l].arr,_=m.splice(f+1,m.length);m.pop(),this.rows[l].arr=m.concat(_),delete this.rows[l].obj[h]}}},{key:"set",value:function(o,h,f){this.rows[o].set(h,f)}},{key:"setNum",value:function(o,h,f){this.rows[o].setNum(h,f)}},{key:"setString",value:function(o,h,f){this.rows[o].setString(h,f)}},{key:"get",value:function(o,h){return this.rows[o].get(h)}},{key:"getNum",value:function(o,h){return this.rows[o].getNum(h)}},{key:"getString",value:function(o,h){return this.rows[o].getString(h)}},{key:"getObject",value:function(o){for(var h,f={},l=0;l<this.rows.length;l++)if(h=this.rows[l].obj,typeof o=="string"){if(!(0<=this.columns.indexOf(o)))throw new Error('This table has no column named "'.concat(o,'"'));f[h[o]]=h}else f[l]=this.rows[l].obj;return f}},{key:"getArray",value:function(){for(var o=[],h=0;h<this.rows.length;h++)o.push(this.rows[h].arr);return o}}])&&c(x.prototype,j),u}(),t=d.default,y.default=t},{"../core/main":273,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.index-of":159,"core-js/modules/es.array.join":161,"core-js/modules/es.array.splice":166,"core-js/modules/es.regexp.constructor":184,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.match":191,"core-js/modules/es.string.replace":194}],301:[function(t,A,y){function d(c,u){for(var x=0;x<u.length;x++){var j=u[x];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(c,j.key,j)}}t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.from-entries"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.from-entries"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0,(t=(t=t("../core/main"))&&t.__esModule?t:{default:t}).default.TableRow=function(){function c(j,o){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");var h=[];j&&(h=j.split(o=o||",")),this.arr=h,this.obj=Object.fromEntries(h.entries()),this.table=null}var u,x;return u=c,(x=[{key:"set",value:function(j,o){if(typeof j=="string"){var h=this.table.columns.indexOf(j);if(!(0<=h))throw new Error('This table has no column named "'.concat(j,'"'));this.obj[j]=o,this.arr[h]=o}else{if(!(j<this.table.columns.length))throw new Error("Column #".concat(j," is out of the range of this table"));this.arr[j]=o,h=this.table.columns[j],this.obj[h]=o}}},{key:"setNum",value:function(j,o){o=parseFloat(o),this.set(j,o)}},{key:"setString",value:function(j,o){o=o.toString(),this.set(j,o)}},{key:"get",value:function(j){return(typeof j=="string"?this.obj:this.arr)[j]}},{key:"getNum",value:function(j){var o=parseFloat(typeof j=="string"?this.obj[j]:this.arr[j]);if(o.toString()==="NaN")throw"Error: ".concat(this.obj[j]," is NaN (Not a Number)");return o}},{key:"getString",value:function(j){return(typeof j=="string"?this.obj:this.arr)[j].toString()}}])&&d(u.prototype,x),c}(),t=t.default,y.default=t},{"../core/main":273,"core-js/modules/es.array.index-of":159,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.from-entries":175,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.split":196,"core-js/modules/web.dom-collections.iterator":236}],302:[function(t,A,y){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var d=(t=t("../core/main"))&&t.__esModule?t:{default:t};function c(u,x){for(var j=0;j<x.length;j++){var o=x[j];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(u,o.key,o)}}d.default.XML=function(){function u(o){if(!(this instanceof u))throw new TypeError("Cannot call a class as a function");o?this.DOM=o:(o=document.implementation.createDocument(null,"doc"),this.DOM=o.createElement("root"))}var x,j;return x=u,(j=[{key:"getParent",value:function(){return new d.default.XML(this.DOM.parentElement)}},{key:"getName",value:function(){return this.DOM.tagName}},{key:"setName",value:function(o){var h=this.DOM.innerHTML,f=this.DOM.attributes,l=document.implementation.createDocument(null,"default").createElement(o);l.innerHTML=h;for(var m=0;m<f.length;m++)l.setAttribute(f[m].nodeName,f.nodeValue);this.DOM=l}},{key:"hasChildren",value:function(){return 0<this.DOM.children.length}},{key:"listChildren",value:function(){for(var o=[],h=0;h<this.DOM.childNodes.length;h++)o.push(this.DOM.childNodes[h].nodeName);return o}},{key:"getChildren",value:function(o){return function(h){for(var f=[],l=0;l<h.length;l++)f.push(new d.default.XML(h[l]));return f}(o?this.DOM.getElementsByTagName(o):this.DOM.children)}},{key:"getChild",value:function(o){if(typeof o!="string")return new d.default.XML(this.DOM.children[o]);var h=!0,f=!1,l=void 0;try{for(var m,_=this.DOM.children[Symbol.iterator]();!(h=(m=_.next()).done);h=!0){var w=m.value;if(w.tagName===o)return new d.default.XML(w)}}catch(v){f=!0,l=v}finally{try{h||_.return==null||_.return()}finally{if(f)throw l}}}},{key:"addChild",value:function(o){o instanceof d.default.XML&&this.DOM.appendChild(o.DOM)}},{key:"removeChild",value:function(o){var h=-1;if(typeof o=="string"){for(var f=0;f<this.DOM.children.length;f++)if(this.DOM.children[f].tagName===o){h=f;break}}else h=o;h!==-1&&this.DOM.removeChild(this.DOM.children[h])}},{key:"getAttributeCount",value:function(){return this.DOM.attributes.length}},{key:"listAttributes",value:function(){var o=[],h=!0,f=!1,l=void 0;try{for(var m,_=this.DOM.attributes[Symbol.iterator]();!(h=(m=_.next()).done);h=!0){var w=m.value;o.push(w.nodeName)}}catch(v){f=!0,l=v}finally{try{h||_.return==null||_.return()}finally{if(f)throw l}}return o}},{key:"hasAttribute",value:function(o){var h={},f=!0,l=!1,m=void 0;try{for(var _,w=this.DOM.attributes[Symbol.iterator]();!(f=(_=w.next()).done);f=!0){var v=_.value;h[v.nodeName]=v.nodeValue}}catch(E){l=!0,m=E}finally{try{f||w.return==null||w.return()}finally{if(l)throw m}}return!!h[o]}},{key:"getNum",value:function(o,h){var f={},l=!0,m=!1,_=void 0;try{for(var w,v=this.DOM.attributes[Symbol.iterator]();!(l=(w=v.next()).done);l=!0){var E=w.value;f[E.nodeName]=E.nodeValue}}catch(C){m=!0,_=C}finally{try{l||v.return==null||v.return()}finally{if(m)throw _}}return Number(f[o])||h||0}},{key:"getString",value:function(o,h){var f={},l=!0,m=!1,_=void 0;try{for(var w,v=this.DOM.attributes[Symbol.iterator]();!(l=(w=v.next()).done);l=!0){var E=w.value;f[E.nodeName]=E.nodeValue}}catch(C){m=!0,_=C}finally{try{l||v.return==null||v.return()}finally{if(m)throw _}}return f[o]?String(f[o]):h||null}},{key:"setAttribute",value:function(o,h){this.DOM.setAttribute(o,h)}},{key:"getContent",value:function(o){var h=this.DOM.textContent;return(h=h.replace(/\s\s+/g,","))||o||null}},{key:"setContent",value:function(o){this.DOM.children.length||(this.DOM.textContent=o)}},{key:"serialize",value:function(){return new XMLSerializer().serializeToString(this.DOM)}}])&&c(x.prototype,j),u}(),t=d.default,y.default=t},{"../core/main":273,"core-js/modules/es.array.iterator":160,"core-js/modules/es.number.constructor":171,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.string.iterator":190,"core-js/modules/es.string.replace":194,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/web.dom-collections.iterator":236}],303:[function(t,A,y){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var d=(t=t("../core/main"))&&t.__esModule?t:{default:t};function c(){if(typeof Math.hypot=="function")return Math.hypot.apply(null,arguments);for(var u=arguments.length,x=[],j=0,o=0;o<u;o++){var h=arguments[o];if((h=+h)==1/0||h===-1/0)return 1/0;j<(h=Math.abs(h))&&(j=h),x[o]=h}j===0&&(j=1);for(var f=0,l=0,m=0;m<u;m++){var _,w=f+(_=(_=x[m]/j)*_-l);l=w-f-_,f=w}return Math.sqrt(f)*j}d.default.prototype.abs=Math.abs,d.default.prototype.ceil=Math.ceil,d.default.prototype.constrain=function(u,x,j){return d.default._validateParameters("constrain",arguments),Math.max(Math.min(u,j),x)},d.default.prototype.dist=function(){for(var u=arguments.length,x=new Array(u),j=0;j<u;j++)x[j]=arguments[j];return d.default._validateParameters("dist",x),x.length===4?c(x[2]-x[0],x[3]-x[1]):x.length===6?c(x[3]-x[0],x[4]-x[1],x[5]-x[2]):void 0},d.default.prototype.exp=Math.exp,d.default.prototype.floor=Math.floor,d.default.prototype.lerp=function(u,x,j){return d.default._validateParameters("lerp",arguments),j*(x-u)+u},d.default.prototype.log=Math.log,d.default.prototype.mag=function(u,x){return d.default._validateParameters("mag",arguments),c(u,x)},d.default.prototype.map=function(u,x,j,o,h,f){return d.default._validateParameters("map",arguments),u=(u-x)/(j-x)*(h-o)+o,f?o<h?this.constrain(u,o,h):this.constrain(u,h,o):u},d.default.prototype.max=function(){for(var u=function(h){var f=-1/0,l=!0,m=!1,_=void 0;try{for(var w,v=h[Symbol.iterator]();!(l=(w=v.next()).done);l=!0){var E=w.value;f=f<E?E:f}}catch(C){m=!0,_=C}finally{try{l||v.return==null||v.return()}finally{if(m)throw _}}return f},x=arguments.length,j=new Array(x),o=0;o<x;o++)j[o]=arguments[o];return j[0]instanceof Array?u(j[0]):u(j)},d.default.prototype.min=function(){for(var u=function(h){var f=1/0,l=!0,m=!1,_=void 0;try{for(var w,v=h[Symbol.iterator]();!(l=(w=v.next()).done);l=!0){var E=w.value;f=E<f?E:f}}catch(C){m=!0,_=C}finally{try{l||v.return==null||v.return()}finally{if(m)throw _}}return f},x=arguments.length,j=new Array(x),o=0;o<x;o++)j[o]=arguments[o];return j[0]instanceof Array?u(j[0]):u(j)},d.default.prototype.norm=function(u,x,j){return d.default._validateParameters("norm",arguments),this.map(u,x,j,0,1)},d.default.prototype.pow=Math.pow,d.default.prototype.round=function(u,x){return x?(x=Math.pow(10,x),Math.round(u*x)/x):Math.round(u)},d.default.prototype.sq=function(u){return u*u},d.default.prototype.sqrt=Math.sqrt,d.default.prototype.fract=function(u){d.default._validateParameters("fract",arguments);var x,j=0;return u=Number(u),isNaN(u)||Math.abs(u)===1/0?u:(u<0&&(u=-u,j=1),String(u).includes(".")&&!String(u).includes("e")?(x=String(u),x=+("0"+x.slice(x.indexOf("."))),Math.abs(j-x)):u<1?Math.abs(j-u):0)},t=d.default,y.default=t},{"../core/main":273,"core-js/modules/es.array.includes":158,"core-js/modules/es.array.index-of":159,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.map":163,"core-js/modules/es.array.slice":164,"core-js/modules/es.math.hypot":169,"core-js/modules/es.number.constructor":171,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.includes":189,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/web.dom-collections.iterator":236}],304:[function(t,A,y){t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.to-string"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var d=(t=t("../core/main"))&&t.__esModule?t:{default:t};function c(x,j,o){return(c=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?Reflect.construct:function(h,f,l){var m=[null];return m.push.apply(m,f),f=new(Function.bind.apply(h,m)),l&&u(f,l.prototype),f}).apply(null,arguments)}function u(x,j){return(u=Object.setPrototypeOf||function(o,h){return o.__proto__=h,o})(x,j)}d.default.prototype.createVector=function(x,j,o){return this instanceof d.default?c(d.default.Vector,[this._fromRadians.bind(this),this._toRadians.bind(this)].concat(Array.prototype.slice.call(arguments))):new d.default.Vector(x,j,o)},t=d.default,y.default=t},{"../core/main":273,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.slice":164,"core-js/modules/es.object.to-string":180,"core-js/modules/es.reflect.construct":182,"core-js/modules/es.regexp.to-string":186}],305:[function(t,A,y){function d(o){return .5*(1-Math.cos(o*Math.PI))}Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t};var c,u=4095,x=4,j=.5;t.default.prototype.noise=function(o){var h=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0;if(c==null){c=new Array(4096);for(var l=0;l<4096;l++)c[l]=Math.random()}o<0&&(o=-o),h<0&&(h=-h),f<0&&(f=-f);for(var m,_,w=Math.floor(o),v=Math.floor(h),E=Math.floor(f),C=o-w,O=h-v,U=f-E,N=0,D=.5,H=0;H<x;H++){var I=w+(v<<4)+(E<<8),V=d(C),G=d(O),q=c[I&u];q+=V*(c[I+1&u]-q),m=c[I+16&u],q+=G*((m+=V*(c[I+16+1&u]-m))-q),m=c[(I+=256)&u],m+=V*(c[I+1&u]-m),_=c[I+16&u],m+=G*((_+=V*(c[I+16+1&u]-_))-m),N+=(q+=d(U)*(m-q))*D,D*=j,w<<=1,v<<=1,E<<=1,1<=(C*=2)&&(w++,C--),1<=(O*=2)&&(v++,O--),1<=(U*=2)&&(E++,U--)}return N},t.default.prototype.noiseDetail=function(o,h){0<o&&(x=o),0<h&&(j=h)},t.default.prototype.noiseSeed=function(o){f=4294967296;var h,f,l=function(){return(h=(1664525*h+1013904223)%f)/f};(function(_){h=(_??Math.random()*f)>>>0})(o),c=new Array(4096);for(var m=0;m<4096;m++)c[m]=l()},t=t.default,y.default=t},{"../core/main":273}],306:[function(t,A,y){function d(l){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(l)}function c(l){return(c=typeof Symbol=="function"&&d(Symbol.iterator)==="symbol"?function(m){return d(m)}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":d(m)})(l)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.some"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.number.is-finite"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.sub"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.some"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.number.is-finite"),t("core-js/modules/es.string.sub"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var u=(f=t("../core/main"))&&f.__esModule?f:{default:f},x=function(l){if(l&&l.__esModule)return l;if(l===null||c(l)!=="object"&&typeof l!="function")return{default:l};var m=function(){var C;return typeof WeakMap!="function"?null:(C=new WeakMap,C)}();if(m&&m.has(l))return m.get(l);var _,w={},v=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(_ in l){var E;Object.prototype.hasOwnProperty.call(l,_)&&((E=v?Object.getOwnPropertyDescriptor(l,_):null)&&(E.get||E.set)?Object.defineProperty(w,_,E):w[_]=l[_])}return w.default=l,m&&m.set(l,w),w}(t("../core/constants"));function j(l,m){for(var _=0;_<m.length;_++){var w=m[_];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(l,w.key,w)}}function o(l,m){return l!==0&&(this.x=this.x%l),m!==0&&(this.y=this.y%m),this}function h(l,m,_){return l!==0&&(this.x=this.x%l),m!==0&&(this.y=this.y%m),_!==0&&(this.z=this.z%_),this}u.default.Vector=function(){function l(){var v=l;if(!((O=this)instanceof v))throw new TypeError("Cannot call a class as a function");var E,C,O=typeof(arguments.length<=0?void 0:arguments[0])=="function"?(this.isPInst=!0,this._fromRadians=arguments.length<=0?void 0:arguments[0],this._toRadians=arguments.length<=1?void 0:arguments[1],E=(arguments.length<=2?void 0:arguments[2])||0,C=(arguments.length<=3?void 0:arguments[3])||0,(arguments.length<=4?void 0:arguments[4])||0):(E=(arguments.length<=0?void 0:arguments[0])||0,C=(arguments.length<=1?void 0:arguments[1])||0,(arguments.length<=2?void 0:arguments[2])||0);this.x=E,this.y=C,this.z=O}var m,_,w;return m=l,w=[{key:"fromAngle",value:function(v,E){return new u.default.Vector((E=E===void 0?1:E)*Math.cos(v),E*Math.sin(v),0)}},{key:"fromAngles",value:function(v,E,C){C===void 0&&(C=1);var O=Math.cos(E),U=(E=Math.sin(E),Math.cos(v));return v=Math.sin(v),new u.default.Vector(C*v*E,-C*U,C*v*O)}},{key:"random2D",value:function(){return this.fromAngle(Math.random()*x.TWO_PI)}},{key:"random3D",value:function(){var v=Math.random()*x.TWO_PI,E=2*Math.random()-1,C=(O=Math.sqrt(1-E*E))*Math.cos(v),O=O*Math.sin(v);return new u.default.Vector(C,O,E)}},{key:"copy",value:function(v){return v.copy(v)}},{key:"add",value:function(v,E,C){return C?C.set(v):(C=v.copy(),arguments.length===3&&u.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.add")),C.add(E),C}},{key:"rem",value:function(v,E){if(v instanceof u.default.Vector&&E instanceof u.default.Vector)return(v=v.copy()).rem(E),v}},{key:"sub",value:function(v,E,C){return C?C.set(v):(C=v.copy(),arguments.length===3&&u.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.sub")),C.sub(E),C}},{key:"mult",value:function(v,E,C){return C?C.set(v):(C=v.copy(),arguments.length===3&&u.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.mult")),C.mult(E),C}},{key:"rotate",value:function(v,E,C){return arguments.length===2?C=v.copy():(C instanceof u.default.Vector||u.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.rotate"),C.set(v)),C.rotate(E),C}},{key:"div",value:function(v,E,C){return C?C.set(v):(C=v.copy(),arguments.length===3&&u.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.div")),C.div(E),C}},{key:"dot",value:function(v,E){return v.dot(E)}},{key:"cross",value:function(v,E){return v.cross(E)}},{key:"dist",value:function(v,E){return v.dist(E)}},{key:"lerp",value:function(v,E,C,O){return O?O.set(v):(O=v.copy(),arguments.length===4&&u.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.lerp")),O.lerp(E,C),O}},{key:"slerp",value:function(v,E,C,O){return O?O.set(v):(O=v.copy(),arguments.length===4&&u.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.slerp")),O.slerp(E,C),O}},{key:"mag",value:function(v){return v.mag()}},{key:"magSq",value:function(v){return v.magSq()}},{key:"normalize",value:function(v,E){return arguments.length<2?E=v.copy():(E instanceof u.default.Vector||u.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.normalize"),E.set(v)),E.normalize()}},{key:"limit",value:function(v,E,C){return arguments.length<3?C=v.copy():(C instanceof u.default.Vector||u.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.limit"),C.set(v)),C.limit(E)}},{key:"setMag",value:function(v,E,C){return arguments.length<3?C=v.copy():(C instanceof u.default.Vector||u.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.setMag"),C.set(v)),C.setMag(E)}},{key:"heading",value:function(v){return v.heading()}},{key:"angleBetween",value:function(v,E){return v.angleBetween(E)}},{key:"reflect",value:function(v,E,C){return arguments.length<3?C=v.copy():(C instanceof u.default.Vector||u.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.reflect"),C.set(v)),C.reflect(E)}},{key:"array",value:function(v){return v.array()}},{key:"equals",value:function(v,E){var C;return v instanceof u.default.Vector?C=v:v instanceof Array?C=new u.default.Vector().set(v):u.default._friendlyError("The v1 parameter should be of type Array or p5.Vector","p5.Vector.equals"),C.equals(E)}}],(_=[{key:"toString",value:function(){return"p5.Vector Object : [".concat(this.x,", ").concat(this.y,", ").concat(this.z,"]")}},{key:"set",value:function(v,E,C){return v instanceof u.default.Vector?(this.x=v.x||0,this.y=v.y||0,this.z=v.z||0):Array.isArray(v)?(this.x=v[0]||0,this.y=v[1]||0,this.z=v[2]||0):(this.x=v||0,this.y=E||0,this.z=C||0),this}},{key:"copy",value:function(){return this.isPInst?new u.default.Vector(this._fromRadians,this._toRadians,this.x,this.y,this.z):new u.default.Vector(this.x,this.y,this.z)}},{key:"add",value:function(v,E,C){return v instanceof u.default.Vector?(this.x+=v.x||0,this.y+=v.y||0,this.z+=v.z||0):Array.isArray(v)?(this.x+=v[0]||0,this.y+=v[1]||0,this.z+=v[2]||0):(this.x+=v||0,this.y+=E||0,this.z+=C||0),this}},{key:"rem",value:function(v,E,C){var O;if(v instanceof u.default.Vector){if([v.x,v.y,v.z].every(Number.isFinite))return U=parseFloat(v.x),N=parseFloat(v.y),O=parseFloat(v.z),h.call(this,U,N,O)}else if(Array.isArray(v)){if(v.every(function(D){return Number.isFinite(D)}))return v.length===2?o.call(this,v[0],v[1]):v.length===3?h.call(this,v[0],v[1],v[2]):void 0}else if(arguments.length===1){if(Number.isFinite(v)&&v!==0)return this.x=this.x%v,this.y=this.y%v,this.z=this.z%v,this}else if(arguments.length===2){var U=Array.prototype.slice.call(arguments);if(U.every(function(D){return Number.isFinite(D)})&&U.length===2)return o.call(this,U[0],U[1])}else if(arguments.length===3){var N=Array.prototype.slice.call(arguments);if(N.every(function(D){return Number.isFinite(D)})&&N.length===3)return h.call(this,N[0],N[1],N[2])}}},{key:"sub",value:function(v,E,C){return v instanceof u.default.Vector?(this.x-=v.x||0,this.y-=v.y||0,this.z-=v.z||0):Array.isArray(v)?(this.x-=v[0]||0,this.y-=v[1]||0,this.z-=v[2]||0):(this.x-=v||0,this.y-=E||0,this.z-=C||0),this}},{key:"mult",value:function(v,E,C){var O;return v instanceof u.default.Vector?Number.isFinite(v.x)&&Number.isFinite(v.y)&&Number.isFinite(v.z)&&typeof v.x=="number"&&typeof v.y=="number"&&typeof v.z=="number"?(this.x*=v.x,this.y*=v.y,this.z*=v.z):console.warn("p5.Vector.prototype.mult:","x contains components that are either undefined or not finite numbers"):Array.isArray(v)?v.every(function(U){return Number.isFinite(U)})&&v.every(function(U){return typeof U=="number"})?v.length===1?(this.x*=v[0],this.y*=v[0],this.z*=v[0]):v.length===2?(this.x*=v[0],this.y*=v[1]):v.length===3&&(this.x*=v[0],this.y*=v[1],this.z*=v[2]):console.warn("p5.Vector.prototype.mult:","x contains elements that are either undefined or not finite numbers"):(O=Array.prototype.slice.call(arguments)).every(function(U){return Number.isFinite(U)})&&O.every(function(U){return typeof U=="number"})?(arguments.length===1&&(this.x*=v,this.y*=v,this.z*=v),arguments.length===2&&(this.x*=v,this.y*=E),arguments.length===3&&(this.x*=v,this.y*=E,this.z*=C)):console.warn("p5.Vector.prototype.mult:","x, y, or z arguments are either undefined or not a finite number"),this}},{key:"div",value:function(v,E,C){if(v instanceof u.default.Vector)if(Number.isFinite(v.x)&&Number.isFinite(v.y)&&Number.isFinite(v.z)&&typeof v.x=="number"&&typeof v.y=="number"&&typeof v.z=="number"){var O=v.z===0&&this.z===0;if(v.x===0||v.y===0||!O&&v.z===0)return console.warn("p5.Vector.prototype.div:","divide by 0"),this;this.x/=v.x,this.y/=v.y,O||(this.z/=v.z)}else console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers");else if(Array.isArray(v))if(v.every(function(U){return Number.isFinite(U)})&&v.every(function(U){return typeof U=="number"})){if(v.some(function(U){return U===0}))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;v.length===1?(this.x/=v[0],this.y/=v[0],this.z/=v[0]):v.length===2?(this.x/=v[0],this.y/=v[1]):v.length===3&&(this.x/=v[0],this.y/=v[1],this.z/=v[2])}else console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers");else if((O=Array.prototype.slice.call(arguments)).every(function(U){return Number.isFinite(U)})&&O.every(function(U){return typeof U=="number"})){if(O.some(function(U){return U===0}))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;arguments.length===1&&(this.x/=v,this.y/=v,this.z/=v),arguments.length===2&&(this.x/=v,this.y/=E),arguments.length===3&&(this.x/=v,this.y/=E,this.z/=C)}else console.warn("p5.Vector.prototype.div:","x, y, or z arguments are either undefined or not a finite number");return this}},{key:"mag",value:function(){return Math.sqrt(this.magSq())}},{key:"magSq",value:function(){var v=this.x,E=this.y,C=this.z;return v*v+E*E+C*C}},{key:"dot",value:function(v,E,C){return v instanceof u.default.Vector?this.dot(v.x,v.y,v.z):this.x*(v||0)+this.y*(E||0)+this.z*(C||0)}},{key:"cross",value:function(v){var E=this.y*v.z-this.z*v.y,C=this.z*v.x-this.x*v.z;return v=this.x*v.y-this.y*v.x,this.isPInst?new u.default.Vector(this._fromRadians,this._toRadians,E,C,v):new u.default.Vector(E,C,v)}},{key:"dist",value:function(v){return v.copy().sub(this).mag()}},{key:"normalize",value:function(){var v=this.mag();return v!==0&&this.mult(1/v),this}},{key:"limit",value:function(v){var E=this.magSq();return v*v<E&&this.div(Math.sqrt(E)).mult(v),this}},{key:"setMag",value:function(v){return this.normalize().mult(v)}},{key:"heading",value:function(){var v=Math.atan2(this.y,this.x);return this.isPInst?this._fromRadians(v):v}},{key:"setHeading",value:function(v){this.isPInst&&(v=this._toRadians(v));var E=this.mag();return this.x=E*Math.cos(v),this.y=E*Math.sin(v),this}},{key:"rotate",value:function(v){v=this.heading()+v;var E=(this.isPInst&&(v=this._toRadians(v)),this.mag());return this.x=Math.cos(v)*E,this.y=Math.sin(v)*E,this}},{key:"angleBetween",value:function(v){var E;return this.magSq()*v.magSq()==0?NaN:(E=this.cross(v),v=Math.atan2(E.mag(),this.dot(v))*Math.sign(E.z||1),this.isPInst?this._fromRadians(v):v)}},{key:"lerp",value:function(v,E,C,O){return v instanceof u.default.Vector?this.lerp(v.x,v.y,v.z,E):(this.x+=(v-this.x)*O||0,this.y+=(E-this.y)*O||0,this.z+=(C-this.z)*O||0,this)}},{key:"slerp",value:function(v,E){if(E!==0){if(E===1)return this.set(v);var C=this.mag(),O=v.mag();if(C*O==0)this.mult(1-E).add(v.x*E,v.y*E,v.z*E);else{var U=this.cross(v),N=U.mag(),D=Math.atan2(N,this.dot(v));if(0<N)U.x/=N,U.y/=N,U.z/=N;else{if(D<.5*Math.PI)return this.mult(1-E).add(v.x*E,v.y*E,v.z*E),this;this.z===0&&v.z===0?U.set(0,0,1):this.x!==0?U.set(this.y,-this.x,0).normalize():U.set(1,0,0)}N=U.cross(this),U=(v=1-E+E*O/C)*Math.cos(E*D),O=v*Math.sin(E*D),this.x=this.x*U+N.x*O,this.y=this.y*U+N.y*O,this.z=this.z*U+N.z*O}}return this}},{key:"reflect",value:function(v){return v.normalize(),this.sub(v.mult(2*this.dot(v)))}},{key:"array",value:function(){return[this.x||0,this.y||0,this.z||0]}},{key:"equals",value:function(v,E,C){var O,U;return v=v instanceof u.default.Vector?(O=v.x||0,U=v.y||0,v.z||0):Array.isArray(v)?(O=v[0]||0,U=v[1]||0,v[2]||0):(O=v||0,U=E||0,C||0),this.x===O&&this.y===U&&this.z===v}}])&&j(m.prototype,_),w&&j(m,w),l}();var f=u.default.Vector;y.default=f},{"../core/constants":262,"../core/main":273,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.every":153,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.slice":164,"core-js/modules/es.array.some":165,"core-js/modules/es.math.sign":170,"core-js/modules/es.number.constructor":171,"core-js/modules/es.number.is-finite":172,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.iterator":190,"core-js/modules/es.string.sub":198,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],307:[function(t,A,y){Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var d=(t=t("../core/main"))&&t.__esModule?t:{default:t},c="_lcg_random_state",u=4294967296,x=0;d.default.prototype._lcg=function(j){return this[j]=(1664525*this[j]+1013904223)%u,this[j]/u},d.default.prototype._lcgSetSeed=function(j,o){this[j]=(o??Math.random()*u)>>>0},d.default.prototype.randomSeed=function(j){this._lcgSetSeed(c,j),this._gaussian_previous=!1},d.default.prototype.random=function(j,o){var h,f;return d.default._validateParameters("random",arguments),h=this[c]!=null?this._lcg(c):Math.random(),j===void 0?h:o===void 0?j instanceof Array?j[Math.floor(h*j.length)]:h*j:(o<j&&(f=j,j=o,o=f),h*(o-j)+j)},d.default.prototype.randomGaussian=function(j){var o,h,f,l,m=1<arguments.length&&arguments[1]!==void 0?arguments[1]:1;if(this._gaussian_previous)o=x,this._gaussian_previous=!1;else{for(;1<=(l=(h=this.random(2)-1)*h+(f=this.random(2)-1)*f););o=h*(l=Math.sqrt(-2*Math.log(l)/l)),x=f*l,this._gaussian_previous=!0}return o*m+(j||0)},t=d.default,y.default=t},{"../core/main":273}],308:[function(t,A,y){function d(o){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(o)}function c(o){return(c=typeof Symbol=="function"&&d(Symbol.iterator)==="symbol"?function(h){return d(h)}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":d(h)})(o)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var u=(j=t("../core/main"))&&j.__esModule?j:{default:j},x=function(o){if(o&&o.__esModule)return o;if(o===null||c(o)!=="object"&&typeof o!="function")return{default:o};var h=function(){var w;return typeof WeakMap!="function"?null:(w=new WeakMap,w)}();if(h&&h.has(o))return h.get(o);var f,l={},m=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(f in o){var _;Object.prototype.hasOwnProperty.call(o,f)&&((_=m?Object.getOwnPropertyDescriptor(o,f):null)&&(_.get||_.set)?Object.defineProperty(l,f,_):l[f]=o[f])}return l.default=o,h&&h.set(o,l),l}(t("../core/constants"));u.default.prototype._angleMode=x.RADIANS,u.default.prototype.acos=function(o){return this._fromRadians(Math.acos(o))},u.default.prototype.asin=function(o){return this._fromRadians(Math.asin(o))},u.default.prototype.atan=function(o){return this._fromRadians(Math.atan(o))},u.default.prototype.atan2=function(o,h){return this._fromRadians(Math.atan2(o,h))},u.default.prototype.cos=function(o){return Math.cos(this._toRadians(o))},u.default.prototype.sin=function(o){return Math.sin(this._toRadians(o))},u.default.prototype.tan=function(o){return Math.tan(this._toRadians(o))},u.default.prototype.degrees=function(o){return o*x.RAD_TO_DEG},u.default.prototype.radians=function(o){return o*x.DEG_TO_RAD},u.default.prototype.angleMode=function(o){if(u.default._validateParameters("angleMode",arguments),o===void 0)return this._angleMode;o!==x.DEGREES&&o!==x.RADIANS||(this._angleMode=o)},u.default.prototype._toRadians=function(o){return this._angleMode===x.DEGREES?o*x.DEG_TO_RAD:o},u.default.prototype._toDegrees=function(o){return this._angleMode===x.RADIANS?o*x.RAD_TO_DEG:o},u.default.prototype._fromRadians=function(o){return this._angleMode===x.DEGREES?o*x.RAD_TO_DEG:o};var j=u.default;y.default=j},{"../core/constants":262,"../core/main":273,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],309:[function(t,A,y){Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var d=(t=t("../core/main"))&&t.__esModule?t:{default:t};d.default.prototype.textAlign=function(c,u){var x;return d.default._validateParameters("textAlign",arguments),(x=this._renderer).textAlign.apply(x,arguments)},d.default.prototype.textLeading=function(c){var u;return d.default._validateParameters("textLeading",arguments),(u=this._renderer).textLeading.apply(u,arguments)},d.default.prototype.textSize=function(c){var u;return d.default._validateParameters("textSize",arguments),(u=this._renderer).textSize.apply(u,arguments)},d.default.prototype.textStyle=function(c){var u;return d.default._validateParameters("textStyle",arguments),(u=this._renderer).textStyle.apply(u,arguments)},d.default.prototype.textWidth=function(){for(var c,u=arguments.length,x=new Array(u),j=0;j<u;j++)x[j]=arguments[j];return x[0]+="",d.default._validateParameters("textWidth",x),x[0].length===0?0:(c=this._renderer).textWidth.apply(c,x)},d.default.prototype.textAscent=function(){for(var c=arguments.length,u=new Array(c),x=0;x<c;x++)u[x]=arguments[x];return d.default._validateParameters("textAscent",u),this._renderer.textAscent()},d.default.prototype.textDescent=function(){for(var c=arguments.length,u=new Array(c),x=0;x<c;x++)u[x]=arguments[x];return d.default._validateParameters("textDescent",u),this._renderer.textDescent()},d.default.prototype._updateTextMetrics=function(){return this._renderer._updateTextMetrics()},d.default.prototype.textWrap=function(c){if(c!=="WORD"&&c!=="CHAR")throw"Error: textWrap accepts only WORD or CHAR";return this._renderer.textWrap(c)},t=d.default,y.default=t},{"../core/main":273}],310:[function(t,A,y){function d(l){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(l)}function c(l){return(c=typeof Symbol=="function"&&d(Symbol.iterator)==="symbol"?function(m){return d(m)}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":d(m)})(l)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.split"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var u=(f=t("../core/main"))&&f.__esModule?f:{default:f},x=h(t("../core/constants")),j=h(t("opentype.js"));function o(){var l;return typeof WeakMap!="function"?null:(l=new WeakMap,o=function(){return l},l)}function h(l){if(l&&l.__esModule)return l;if(l===null||c(l)!=="object"&&typeof l!="function")return{default:l};var m=o();if(m&&m.has(l))return m.get(l);var _,w,v={},E=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(_ in l)Object.prototype.hasOwnProperty.call(l,_)&&((w=E?Object.getOwnPropertyDescriptor(l,_):null)&&(w.get||w.set)?Object.defineProperty(v,_,w):v[_]=l[_]);return v.default=l,m&&m.set(l,v),v}t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),u.default.prototype.loadFont=function(l,m,_){u.default._validateParameters("loadFont",arguments);var w=new u.default.Font(this),v=this;return j.load(l,function(E,C){if(E)return u.default._friendlyFileLoadError(4,l),_!==void 0?_(E):void console.error(E,l);w.font=C,m!==void 0&&m(w),v._decrementPreload();var O=(C=(E=l.split("\\").pop().split("/").pop()).lastIndexOf("."))<1?null:E.slice(C+1);["ttf","otf","woff","woff2"].includes(O)&&(O=E.slice(0,C!==-1?C:0),(E=document.createElement("style")).appendChild(document.createTextNode(`
@font-face {
font-family: `.concat(O,`;
src: url(`).concat(l,`);
}
`))),document.head.appendChild(E))}),w},u.default.prototype.text=function(l,m,_,w,v){var E;return u.default._validateParameters("text",arguments),this._renderer._doFill||this._renderer._doStroke?(E=this._renderer).text.apply(E,arguments):this},u.default.prototype.textFont=function(l,m){if(u.default._validateParameters("textFont",arguments),arguments.length){if(l)return this._renderer._setProperty("_textFont",l),m&&(this._renderer._setProperty("_textSize",m),this._renderer._leadingSet||this._renderer._setProperty("_textLeading",m*x._DEFAULT_LEADMULT)),this._renderer._applyTextProperties();throw new Error("null font passed to textFont")}return this._renderer._textFont};var f=u.default;y.default=f},{"../core/constants":262,"../core/friendly_errors/fes_core":264,"../core/friendly_errors/file_errors":265,"../core/friendly_errors/validate_params":268,"../core/main":273,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.includes":158,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.last-index-of":162,"core-js/modules/es.array.slice":164,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.string.iterator":190,"core-js/modules/es.string.split":196,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236,"opentype.js":247}],311:[function(t,A,y){function d(N){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(D){return typeof D}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D})(N)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var c=(c=t("../core/main"))&&c.__esModule?c:{default:c},u=function(N){if(N&&N.__esModule)return N;if(N===null||x(N)!=="object"&&typeof N!="function")return{default:N};var D=function(){var q;return typeof WeakMap!="function"?null:(q=new WeakMap,q)}();if(D&&D.has(N))return D.get(N);var H,I={},V=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(H in N){var G;Object.prototype.hasOwnProperty.call(N,H)&&((G=V?Object.getOwnPropertyDescriptor(N,H):null)&&(G.get||G.set)?Object.defineProperty(I,H,G):I[H]=N[H])}return I.default=N,D&&D.set(N,I),I}(t("../core/constants"));function x(N){return(x=typeof Symbol=="function"&&d(Symbol.iterator)==="symbol"?function(D){return d(D)}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":d(D)})(N)}function j(N,D){for(var H=0;H<D.length;H++){var I=D[H];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(N,I.key,I)}}function o(N,D){var H=N.length;return N[D<0?D%H+H:D%H]}function h(N,D,H,I){var V,G,q;return I?(h.tmpPoint1===void 0&&(h.tmpPoint1=[],h.tmpPoint2=[]),G=h.tmpPoint1,q=h.tmpPoint2,G.x=D.x-N.x,G.y=D.y-N.y,q.x=H.x-D.x,q.y=H.y-D.y,V=G.x*q.x+G.y*q.y,G=Math.sqrt(G.x*G.x+G.y*G.y),q=Math.sqrt(q.x*q.x+q.y*q.y),Math.acos(V/(G*q))<I):(D[0]-N[0])*(H[1]-N[1])-(H[0]-N[0])*(D[1]-N[1])==0}function f(N,D,H,I,V,G,q,X,B){var W=1-B,K=(ee=Math.pow(W,3))*N+3*(re=Math.pow(W,2))*B*H+3*W*B*B*V+(oe=(me=B*B)*B)*q,ee=ee*D+3*re*B*I+3*W*B*B*G+oe*X,re=N+2*B*(H-N)+me*(V-2*H+N),oe=D+2*B*(I-D)+me*(G-2*I+D),le=H+2*B*(V-H)+me*(q-2*V+H),me=I+2*B*(G-I)+me*(X-2*G+I);return N=W*N+B*H,H=W*D+B*I,D=W*V+B*q,I=W*G+B*X,V=90-180*Math.atan2(re-le,oe-me)/Math.PI,(le<re||oe<me)&&(V+=180),{x:K,y:ee,m:{x:re,y:oe},n:{x:le,y:me},start:{x:N,y:H},end:{x:D,y:I},alpha:V}}function l(N,D,H,I,V,G,q,X,B){return B==null?O(N,D,H,I,V,G,q,X):f(N,D,H,I,V,G,q,X,function(W,K,ee,re,oe,le,me,$,Q){if(!(Q<0||O(W,K,ee,re,oe,le,me,$)<Q)){var se,de=.5,ge=1-de;for(se=O(W,K,ee,re,oe,le,me,$,ge);.01<Math.abs(se-Q);)se=O(W,K,ee,re,oe,le,me,$,ge+=(se<Q?1:-1)*(de/=2));return ge}}(N,D,H,I,V,G,q,X,B))}function m(N,D,H){for(var I,V,G,q,X,B=0,W=0,K=(N=function(ee,re){function oe(Te,Pe,Ke){var Ge,et;if(!Te)return["C",Pe.x,Pe.y,Pe.x,Pe.y,Pe.x,Pe.y];switch(Te[0]in{T:1,Q:1}||(Pe.qx=Pe.qy=null),Te[0]){case"M":Pe.X=Te[1],Pe.Y=Te[2];break;case"A":Te=["C"].concat(w.apply(0,[Pe.x,Pe.y].concat(Te.slice(1))));break;case"S":et=Ke==="C"||Ke==="S"?(Ge=2*Pe.x-Pe.bx,2*Pe.y-Pe.by):(Ge=Pe.x,Pe.y),Te=["C",Ge,et].concat(Te.slice(1));break;case"T":Ke==="Q"||Ke==="T"?(Pe.qx=2*Pe.x-Pe.qx,Pe.qy=2*Pe.y-Pe.qy):(Pe.qx=Pe.x,Pe.qy=Pe.y),Te=["C"].concat(C(Pe.x,Pe.y,Pe.qx,Pe.qy,Te[1],Te[2]));break;case"Q":Pe.qx=Te[1],Pe.qy=Te[2],Te=["C"].concat(C(Pe.x,Pe.y,Te[1],Te[2],Te[3],Te[4]));break;case"L":Te=["C"].concat(E(Pe.x,Pe.y,Te[1],Te[2]));break;case"H":Te=["C"].concat(E(Pe.x,Pe.y,Te[1],Pe.y));break;case"V":Te=["C"].concat(E(Pe.x,Pe.y,Pe.x,Te[1]));break;case"Z":Te=["C"].concat(E(Pe.x,Pe.y,Pe.X,Pe.Y))}return Te}function le(Te,Pe){if(7<Te[Pe].length){Te[Pe].shift();for(var Ke=Te[Pe];Ke.length;)ve[Pe]="A",Te.splice(Pe++,0,["C"].concat(Ke.splice(0,6)));Te.splice(Pe,1),$=Math.max(Q.length,0)}}function me(Te,Pe,Ke,Ge,et){Te&&Pe&&Te[et][0]==="M"&&Pe[et][0]!=="M"&&(Pe.splice(et,0,["M",Ge.x,Ge.y]),Ke.bx=0,Ke.by=0,Ke.x=Te[et][1],Ke.y=Te[et][2],$=Math.max(Q.length,0))}var $,Q=_(ee),se=re,de={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},ge={x:0,y:0,bx:0,by:0},ve=[],ae="",ye="";$=Math.max(Q.length,0);for(var Se=0;Se<$;Se++){(ae=Q[Se]?Q[Se][0]:ae)!=="C"&&(ve[Se]=ae,Se&&(ye=ve[Se-1])),Q[Se]=oe(Q[Se],de,ye),ve[Se]!=="A"&&ae==="C"&&(ve[Se]="C"),le(Q,Se),me(Q,se,de,ge,Se),me(se,Q,ge,de,Se);var Me=Q[Se],Ee=Me.length;de.x=Me[Ee-2],de.y=Me[Ee-1],de.bx=parseFloat(Me[Ee-4])||de.x,de.by=parseFloat(Me[Ee-3])||de.y,ge.bx=se,ge.by=se,ge.x=se,ge.y=se}return se?[Q,se]:Q}(N)).length;W<K;W++){if((G=N[W])[0]==="M")I=+G[1],V=+G[2];else{if(D<B+(q=l(I,V,G[1],G[2],G[3],G[4],G[5],G[6]))&&!H)return{x:(X=l(I,V,G[1],G[2],G[3],G[4],G[5],G[6],D-B)).x,y:X.y,alpha:X.alpha};B+=q,I=+G[5],V=+G[6]}G.shift()}return(X=H?B:f(I,V,G[0],G[1],G[2],G[3],G[4],G[5],1)).alpha?{x:X.x,y:X.y,alpha:X.alpha}:X}function _(N){var D=[],H=0,I=0,V=0,G=0,q=0;if(N){N[0][0]==="M"&&(V=H=+N[0][1],G=I=+N[0][2],q++,D[0]=["M",H,I]);for(var X,B,W=N.length===3&&N[0][0]==="M"&&N[1][0].toUpperCase()==="R"&&N[2][0].toUpperCase()==="Z",K=q,ee=N.length;K<ee;K++){if(D.push(X=[]),(B=N[K])[0]!==String.prototype.toUpperCase.call(B[0]))switch(X[0]=String.prototype.toUpperCase.call(B[0]),X[0]){case"A":X[1]=B[1],X[2]=B[2],X[3]=B[3],X[4]=B[4],X[5]=B[5],X[6]=+(B[6]+H),X[7]=+(B[7]+I);break;case"V":X[1]=+B[1]+I;break;case"H":X[1]=+B[1]+H;break;case"R":for(var re,oe=2,le=(re=[H,I].concat(B.slice(1))).length;oe<le;oe++)re[oe]=+re[oe]+H,re[++oe]=+re[oe]+I;D.pop(),D=D.concat(v(re,W));break;case"M":V=+B[1]+H,G=+B[2]+I;break;default:for(var me=1,$=B.length;me<$;me++)X[me]=+B[me]+(me%2?H:I)}else if(B[0]==="R")re=[H,I].concat(B.slice(1)),D.pop(),D=D.concat(v(re,W)),X=["R"].concat(B.slice(-2));else for(var Q=0,se=B.length;Q<se;Q++)X[Q]=B[Q];switch(X[0]){case"Z":H=V,I=G;break;case"H":H=X[1];break;case"V":I=X[1];break;case"M":V=X[X.length-2],G=X[X.length-1];break;default:H=X[X.length-2],I=X[X.length-1]}}}return D}function w(N,D,H,I,V,G,q,X,B,W){function K(Ee,Te,Pe){return{x:Ee*Math.cos(Pe)-Te*Math.sin(Pe),y:Ee*Math.sin(Pe)+Te*Math.cos(Pe)}}var ee,re=120*(Q=Math.PI)/180,oe=Q/180*(+V||0),le=[],me=(W?(ae=W[0],ee=W[1],ge=W[2],ve=W[3]):(N=(se=K(N,D,-oe)).x,D=se.y,1<(me=($=(N-(X=(se=K(X,B,-oe)).x))/2)*$/(H*H)+(se=(D-(B=se.y))/2)*se/(I*I))&&(H*=me=Math.sqrt(me),I*=me),me=H*H,de=I*I,ge=(G=(G===q?-1:1)*Math.sqrt(Math.abs((me*de-me*se*se-de*$*$)/(me*se*se+de*$*$))))*H*se/I+(N+X)/2,ve=G*-I*$/H+(D+B)/2,ae=Math.asin(((D-ve)/I).toFixed(9)),ee=Math.asin(((B-ve)/I).toFixed(9)),(ae=N<ge?Q-ae:ae)<0&&(ae=2*Q+ae),(ee=X<ge?Q-ee:ee)<0&&(ee=2*Q+ee),q&&ee<ae&&(ae-=2*Q),!q&&ae<ee&&(ee-=2*Q)),ee-ae),$=(Math.abs(me)>re&&(de=ee,se=X,G=B,ee=ae+re*(q&&ae<ee?1:-1),le=w(X=ge+H*Math.cos(ee),B=ve+I*Math.sin(ee),H,I,V,0,q,se,G,[ee,de,ge,ve])),me=ee-ae,Math.cos(ae)),Q=Math.sin(ae),se=(re=Math.cos(ee),V=Math.sin(ee),4/3*H*(q=Math.tan(me/4))),de=[N,D],ge=[N+se*Q,D-(G=4/3*I*q)*$],ve=[X+se*V,B-G*re],ae=[X,B];if(ge[0]=2*de[0]-ge[0],ge[1]=2*de[1]-ge[1],W)return[ge,ve,ae].concat(le);for(var ye=[],Se=0,Me=(le=[ge,ve,ae].concat(le).join().split(",")).length;Se<Me;Se++)ye[Se]=Se%2?K(le[Se-1],le[Se],oe).y:K(le[Se],le[Se+1],oe).x;return ye}function v(N,D){for(var H=[],I=0,V=N.length;I<V-2*!D;I+=2){var G=[{x:+N[I-2],y:+N[I-1]},{x:+N[I],y:+N[I+1]},{x:+N[I+2],y:+N[I+3]},{x:+N[I+4],y:+N[I+5]}];D?I?V-4===I?G[3]={x:+N[0],y:+N[1]}:V-2===I&&(G[2]={x:+N[0],y:+N[1]},G[3]={x:+N[2],y:+N[3]}):G[0]={x:+N[V-2],y:+N[V-1]}:V-4===I?G[3]=G[2]:I||(G[0]={x:+N[I],y:+N[I+1]}),H.push(["C",(-G[0].x+6*G[1].x+G[2].x)/6,(-G[0].y+6*G[1].y+G[2].y)/6,(G[1].x+6*G[2].x-G[3].x)/6,(G[1].y+6*G[2].y-G[3].y)/6,G[2].x,G[2].y])}return H}function E(N,D,H,I){return[N,D,H,I,H,I]}function C(N,D,H,I,V,G){return[1/3*N+2/3*H,1/3*D+2/3*I,1/3*V+2/3*H,1/3*G+2/3*I,V,G]}function O(N,D,H,I,V,G,q,X,B){for(var W=(B=1<(B=B??1)?1:B<0?0:B)/2,K=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],ee=0,re=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],oe=0;oe<12;oe++){var le=U(me=W*K[oe]+W,N,H,V,q),me=U(me,D,I,G,X);ee+=re[oe]*Math.sqrt(le*le+me*me)}return W*ee}function U(N,D,H,I,V){return N*(N*(-3*D+9*H-9*I+3*V)+6*D-12*H+6*I)-3*D+3*H}c.default.Font=function(){function N(I){if(!(this instanceof N))throw new TypeError("Cannot call a class as a function");this.parent=I,this.cache={},this.font=void 0}var D,H;return D=N,(H=[{key:"textBounds",value:function(I){var V=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,G=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0,q=3<arguments.length?arguments[3]:void 0,X=4<arguments.length?arguments[4]:void 0,B=X&&X.renderer&&X.renderer._pInst||this.parent;if((de=B._renderer.drawingContext).textAlign||u.LEFT,de.textBaseline||u.BASELINE,q=q||B._renderer._textSize,!ge){for(var W=[],K=[],ee=[],re=(ee[0]=[],[]),oe=this._scale(q),le=B._renderer.textLeading(),me=0,$=(this.font.forEachGlyph(I,V,G,q,X,function(ve,ae,ye,Se){var Me=ve.getMetrics();ve.index===0||ve.index===10?ee[me+=1]=[]:(ee[me].push(ae+Me.xMin*oe),ee[me].push(ae+Me.xMax*oe),re.push(ye+me*le+-Me.yMin*oe),re.push(ye+me*le+-Me.yMax*oe))}),0<ee[me].length&&(W[me]=Math.min.apply(null,ee[me]),K[me]=Math.max.apply(null,ee[me])),0),Q=0;Q<=me;Q++){W[Q]=Math.min.apply(null,ee[Q]),K[Q]=Math.max.apply(null,ee[Q]);var se=K[Q]-W[Q];$<se&&($=se)}var de,ge={x:de=Math.min.apply(null,W),y:G=Math.min.apply(null,re),h:Math.max.apply(null,re)-G,w:$,advance:de-V};q=this._handleAlignment(B._renderer,I,ge.x,ge.y,ge.w+ge.advance),ge.x=q.x,ge.y=q.y}return ge}},{key:"textToPoints",value:function(I,V,G,q,X){var B=0,W=[],K=this._getGlyphs(I);q=q||this.parent._renderer._textSize;for(var ee,re=0;re<K.length;re++){if(!(K[ee=re].name&&K[ee].name==="space"||I.length===K.length&&I[ee]===" "))for(var oe=function(Q){for(var se,de=[],ge=0;ge<Q.length;ge++)Q[ge].type==="M"&&(se&&de.push(se),se=[]),se.push(function(ve){var ae=[ve.type];return ve.type==="M"||ve.type==="L"?ae.push(ve.x,ve.y):ve.type==="C"?ae.push(ve.x1,ve.y1,ve.x2,ve.y2,ve.x,ve.y):ve.type==="Q"&&ae.push(ve.x1,ve.y1,ve.x,ve.y),ae}(Q[ge]));return de.push(se),de}(K[re].getPath(V,G,q).commands),le=0;le<oe.length;le++)for(var me=function(Q,se){se=function(ye,Se){if(x(ye)!=="object")ye=Se;else for(var Me in Se)ye[Me]===void 0&&(ye[Me]=Se[Me]);return ye}(se,{sampleFactor:.1,simplifyThreshold:0});for(var de=m(Q,0,1),ge=de/(de*se.sampleFactor),ve=[],ae=0;ae<de;ae+=ge)ve.push(m(Q,ae));return se.simplifyThreshold&&function(ye){for(var Se=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,Me=ye.length-1;3<ye.length&&0<=Me;--Me)h(o(ye,Me-1),o(ye,Me),o(ye,Me+1),Se)&&ye.splice(Me%ye.length,1)}(ve,se.simplifyThreshold),ve}(oe[le],X),$=0;$<me.length;$++)me[$].x+=B,W.push(me[$]);B+=K[re].advanceWidth*this._scale(q)}return W}},{key:"_getGlyphs",value:function(I){return this.font.stringToGlyphs(I)}},{key:"_getPath",value:function(I,V,G,q){var X=(q&&q.renderer&&q.renderer._pInst||this.parent)._renderer;return V=this._handleAlignment(X,I,V,G),this.font.getPath(I,V.x,V.y,X._textSize,q)}},{key:"_getPathData",value:function(I,V,G,q){var X=3;return typeof I=="string"&&2<arguments.length?I=this._getPath(I,V,G,q):x(V)==="object"&&(q=V),q&&typeof q.decimals=="number"&&(X=q.decimals),I.toPathData(X)}},{key:"_getSVG",value:function(I,V,G,q){var X=3;return typeof I=="string"&&2<arguments.length?I=this._getPath(I,V,G,q):x(V)==="object"&&(q=V),q&&(typeof q.decimals=="number"&&(X=q.decimals),typeof q.strokeWidth=="number"&&(I.strokeWidth=q.strokeWidth),q.fill!==void 0&&(I.fill=q.fill),q.stroke!==void 0&&(I.stroke=q.stroke)),I.toSVG(X)}},{key:"_renderPath",value:function(I,V,G,q){var X=q&&q.renderer||this.parent._renderer,B=X.drawingContext,W=(I=(x(I)==="object"&&I.commands?I:this._getPath(I,V,G,q)).commands,B.beginPath(),!0);V=!1,G=void 0;try{for(var K,ee=I[Symbol.iterator]();!(W=(K=ee.next()).done);W=!0){var re=K.value;re.type==="M"?B.moveTo(re.x,re.y):re.type==="L"?B.lineTo(re.x,re.y):re.type==="C"?B.bezierCurveTo(re.x1,re.y1,re.x2,re.y2,re.x,re.y):re.type==="Q"?B.quadraticCurveTo(re.x1,re.y1,re.x,re.y):re.type==="Z"&&B.closePath()}}catch(oe){V=!0,G=oe}finally{try{W||ee.return==null||ee.return()}finally{if(V)throw G}}return X._doStroke&&X._strokeSet&&B.stroke(),X._doFill&&(X._fillSet||X._setFill(u._DEFAULT_TEXT_FILL),B.fill()),this}},{key:"_textWidth",value:function(I,V){return this.font.getAdvanceWidth(I,V)}},{key:"_textAscent",value:function(I){return this.font.ascender*this._scale(I)}},{key:"_textDescent",value:function(I){return-this.font.descender*this._scale(I)}},{key:"_scale",value:function(I){return 1/this.font.unitsPerEm*(I||this.parent._renderer._textSize)}},{key:"_handleAlignment",value:function(I,V,G,q,X){var B=I._textSize;switch(X===void 0&&(X=this._textWidth(V,B)),I._textAlign){case u.CENTER:G-=X/2;break;case u.RIGHT:G-=X}switch(I._textBaseline){case u.TOP:q+=this._textAscent(B);break;case u.CENTER:q+=this._textAscent(B)/2;break;case u.BOTTOM:q-=this._textDescent(B)}return{x:G,y:q}}}])&&j(D.prototype,H),N}(),t=c.default,y.default=t},{"../core/constants":262,"../core/main":273,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.fill":154,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.join":161,"core-js/modules/es.array.slice":164,"core-js/modules/es.array.splice":166,"core-js/modules/es.function.name":167,"core-js/modules/es.number.to-fixed":173,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.string.iterator":190,"core-js/modules/es.string.split":196,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],312:[function(t,A,y){t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.array-buffer.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.array-buffer.constructor"),t("core-js/modules/es.object.to-string"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0,(t=(t=t("../core/main"))&&t.__esModule?t:{default:t}).default.prototype.append=function(d,c){return d.push(c),d},t.default.prototype.arrayCopy=function(d,c,u,x,j){var o,h;d=j!==void 0?(h=Math.min(j,d.length),o=x,d.slice(c,h+c)):(h=u!==void 0?(h=u,Math.min(h,d.length)):d.length,u=c,d.slice(o=0,h)),Array.prototype.splice.apply(u,[o,h].concat(d))},t.default.prototype.concat=function(d,c){return d.concat(c)},t.default.prototype.reverse=function(d){return d.reverse()},t.default.prototype.shorten=function(d){return d.pop(),d},t.default.prototype.shuffle=function(d,c){for(var u,x,j=ArrayBuffer&&ArrayBuffer.isView&&ArrayBuffer.isView(d),o=(d=c||j?d:d.slice()).length;1<o;)u=this.random(0,1)*o|0,x=d[--o],d[o]=d[u],d[u]=x;return d},t.default.prototype.sort=function(d,c){var u=c?d.slice(0,Math.min(c,d.length)):d;return c=c?d.slice(Math.min(c,d.length)):[],(u=typeof u[0]=="string"?u.sort():u.sort(function(x,j){return x-j})).concat(c)},t.default.prototype.splice=function(d,c,u){return Array.prototype.splice.apply(d,[u,0].concat(c)),d},t.default.prototype.subset=function(d,c,u){return u!==void 0?d.slice(c,c+u):d.slice(c,d.length)},t=t.default,y.default=t},{"../core/main":273,"core-js/modules/es.array-buffer.constructor":150,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.slice":164,"core-js/modules/es.array.splice":166,"core-js/modules/es.object.to-string":180}],313:[function(t,A,y){t("core-js/modules/es.array.map"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.repeat"),t("core-js/modules/es.array.map"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.repeat"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var d=(t=t("../core/main"))&&t.__esModule?t:{default:t};d.default.prototype.float=function(c){return c instanceof Array?c.map(parseFloat):parseFloat(c)},d.default.prototype.int=function(c){var u=1<arguments.length&&arguments[1]!==void 0?arguments[1]:10;return c===1/0||c==="Infinity"?1/0:c===-1/0||c==="-Infinity"?-1/0:typeof c=="string"?parseInt(c,u):typeof c=="number"?0|c:typeof c=="boolean"?c?1:0:c instanceof Array?c.map(function(x){return d.default.prototype.int(x,u)}):void 0},d.default.prototype.str=function(c){return c instanceof Array?c.map(d.default.prototype.str):String(c)},d.default.prototype.boolean=function(c){return typeof c=="number"?c!==0:typeof c=="string"?c.toLowerCase()==="true":typeof c=="boolean"?c:c instanceof Array?c.map(d.default.prototype.boolean):void 0},d.default.prototype.byte=function(c){return typeof(c=d.default.prototype.int(c,10))=="number"?(c+128)%256-128:c instanceof Array?c.map(d.default.prototype.byte):void 0},d.default.prototype.char=function(c){return typeof c!="number"||isNaN(c)?c instanceof Array?c.map(d.default.prototype.char):typeof c=="string"?d.default.prototype.char(parseInt(c,10)):void 0:String.fromCharCode(c)},d.default.prototype.unchar=function(c){return typeof c=="string"&&c.length===1?c.charCodeAt(0):c instanceof Array?c.map(d.default.prototype.unchar):void 0},d.default.prototype.hex=function(c,u){if(u=u??8,c instanceof Array)return c.map(function(j){return d.default.prototype.hex(j,u)});if(c===1/0||c===-1/0)return(c===1/0?"F":"0").repeat(u);if(typeof c=="number"){c<0&&(c=4294967295+c+1);for(var x=Number(c).toString(16).toUpperCase();x.length<u;)x="0".concat(x);return x.length>=u?x.substring(x.length-u,x.length):x}},d.default.prototype.unhex=function(c){return c instanceof Array?c.map(d.default.prototype.unhex):parseInt("0x".concat(c),16)},t=d.default,y.default=t},{"../core/main":273,"core-js/modules/es.array.map":163,"core-js/modules/es.number.constructor":171,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.repeat":193}],314:[function(t,A,y){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.pad-start"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.pad-start"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var d=(h=t("../core/main"))&&h.__esModule?h:{default:h};function c(f,l){return function(m){if(Array.isArray(m))return m}(f)||function(m,_){if(Symbol.iterator in Object(m)||Object.prototype.toString.call(m)==="[object Arguments]"){var w=[],v=!0,E=!1,C=void 0;try{for(var O,U=m[Symbol.iterator]();!(v=(O=U.next()).done)&&(w.push(O.value),!_||w.length!==_);v=!0);}catch(N){E=!0,C=N}finally{try{v||U.return==null||U.return()}finally{if(E)throw C}}return w}}(f,l)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function u(f,l,m){var _=(w=c(f.toString().split("."),2))[0],w=w[1];return m===void 0?(_=_.padStart(l,"0"),w?_+"."+w:_):(_=(f=c(f.toFixed(m).toString().split("."),2))[0],w=f[1],(_=_.padStart(l,"0"))+"."+w)}function x(f,l){var m=(f=f.toString()).indexOf("."),_=m!==-1?f.substring(m):"";if(f=(f=m!==-1?f.substring(0,m):f).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),l===0)_="";else if(l!==void 0)if(l>_.length)for(var w=l-(_+=m===-1?".":"").length+1,v=0;v<w;v++)_+="0";else _=_.substring(0,l+1);return f+_}function j(f){return 0<parseFloat(f)?"+".concat(f.toString()):f.toString()}function o(f){return 0<=parseFloat(f)?" ".concat(f.toString()):f.toString()}t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),d.default.prototype.join=function(f,l){return d.default._validateParameters("join",arguments),f.join(l)},d.default.prototype.match=function(f,l){return d.default._validateParameters("match",arguments),f.match(l)},d.default.prototype.matchAll=function(f,l){d.default._validateParameters("matchAll",arguments);for(var m=new RegExp(l,"g"),_=m.exec(f),w=[];_!==null;)w.push(_),_=m.exec(f);return w},d.default.prototype.nf=function(f,l,m){return d.default._validateParameters("nf",arguments),f instanceof Array?f.map(function(_){return u(_,l,m)}):Object.prototype.toString.call(f)==="[object Arguments]"?f.length===3?this.nf(f[0],f[1],f[2]):f.length===2?this.nf(f[0],f[1]):this.nf(f[0]):u(f,l,m)},d.default.prototype.nfc=function(f,l){return d.default._validateParameters("nfc",arguments),f instanceof Array?f.map(function(m){return x(m,l)}):x(f,l)},d.default.prototype.nfp=function(){for(var f=arguments.length,l=new Array(f),m=0;m<f;m++)l[m]=arguments[m];d.default._validateParameters("nfp",l);var _=d.default.prototype.nf.apply(this,l);return _ instanceof Array?_.map(j):j(_)},d.default.prototype.nfs=function(){for(var f=arguments.length,l=new Array(f),m=0;m<f;m++)l[m]=arguments[m];d.default._validateParameters("nfs",l);var _=d.default.prototype.nf.apply(this,l);return _ instanceof Array?_.map(o):o(_)},d.default.prototype.split=function(f,l){return d.default._validateParameters("split",arguments),f.split(l)},d.default.prototype.splitTokens=function(f,l){var m,_;return d.default._validateParameters("splitTokens",arguments),_=l!==void 0?(_=/\]/g.exec(l=l),(m=/\[/g.exec(l))&&_?(l=l.slice(0,_.index)+l.slice(_.index+1),m=/\[/g.exec(l),l=l.slice(0,m.index)+l.slice(m.index+1),new RegExp("[\\[".concat(l,"\\]]"),"g")):_?(l=l.slice(0,_.index)+l.slice(_.index+1),new RegExp("[".concat(l,"\\]]"),"g")):m?(l=l.slice(0,m.index)+l.slice(m.index+1),new RegExp("[".concat(l,"\\[]"),"g")):new RegExp("[".concat(l,"]"),"g")):/\s/g,f.split(_).filter(function(w){return w})},d.default.prototype.trim=function(f){return d.default._validateParameters("trim",arguments),f instanceof Array?f.map(this.trim):f.trim()};var h=d.default;y.default=h},{"../core/friendly_errors/fes_core":264,"../core/friendly_errors/file_errors":265,"../core/friendly_errors/validate_params":268,"../core/main":273,"core-js/modules/es.array.filter":155,"core-js/modules/es.array.index-of":159,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.join":161,"core-js/modules/es.array.map":163,"core-js/modules/es.array.slice":164,"core-js/modules/es.number.to-fixed":173,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.constructor":184,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.iterator":190,"core-js/modules/es.string.match":191,"core-js/modules/es.string.pad-start":192,"core-js/modules/es.string.replace":194,"core-js/modules/es.string.split":196,"core-js/modules/es.string.trim":199,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/web.dom-collections.iterator":236}],315:[function(t,A,y){Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0,(t=(t=t("../core/main"))&&t.__esModule?t:{default:t}).default.prototype.day=function(){return new Date().getDate()},t.default.prototype.hour=function(){return new Date().getHours()},t.default.prototype.minute=function(){return new Date().getMinutes()},t.default.prototype.millis=function(){return this._millisStart===-1?0:window.performance.now()-this._millisStart},t.default.prototype.month=function(){return new Date().getMonth()+1},t.default.prototype.second=function(){return new Date().getSeconds()},t.default.prototype.year=function(){return new Date().getFullYear()},t=t.default,y.default=t},{"../core/main":273}],316:[function(t,A,y){function d(h){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(h)}function c(h){return(c=typeof Symbol=="function"&&d(Symbol.iterator)==="symbol"?function(f){return d(f)}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":d(f)})(h)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var u=(o=t("../core/main"))&&o.__esModule?o:{default:o},x=(t("./p5.Geometry"),function(h){if(h&&h.__esModule)return h;if(h===null||c(h)!=="object"&&typeof h!="function")return{default:h};var f=function(){var v;return typeof WeakMap!="function"?null:(v=new WeakMap,v)}();if(f&&f.has(h))return f.get(h);var l,m={},_=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(l in h){var w;Object.prototype.hasOwnProperty.call(h,l)&&((w=_?Object.getOwnPropertyDescriptor(h,l):null)&&(w.get||w.set)?Object.defineProperty(m,l,w):m[l]=h[l])}return m.default=h,f&&f.set(h,m),m}(t("../core/constants")));function j(h,f,l,m,_,w,v){h=h<=0?1:h,f=f<0?0:f,l=l<=0?h:l,m=m<3?3:m;for(var E,C,O=(w=w===void 0||w)?-2:0,U=(_=_<1?1:_)+((v=v===void 0?f!==0:v)?2:0),N=Math.atan2(h-f,l),D=Math.sin(N),H=Math.cos(N),I=O;I<=U;++I){var V=I/_,G=l*V,q=void 0;for(q=I<0?(V=G=0,h):_<I?(G=l,V=1,f):h+(f-h)*V,I!==-2&&I!==_+2||(q=0),G-=l/2,E=0;E<m;++E){var X=E/(m-1),B=2*Math.PI*X,W=Math.sin(B),K=(B=Math.cos(B),this.vertices.push(new u.default.Vector(W*q,G,B*q)));K=I<0?new u.default.Vector(0,-1,0):_<I&&f?new u.default.Vector(0,1,0):new u.default.Vector(W*H,D,B*H),this.vertexNormals.push(K),this.uvs.push(X,V)}}var ee=0;if(w){for(C=0;C<m;++C)this.faces.push([ee+C,ee+m+(C+1)%m,ee+m+C]);ee+=2*m}for(I=0;I<_;++I){for(E=0;E<m;++E){var re=(E+1)%m;this.faces.push([ee+E,ee+re,ee+m+re]),this.faces.push([ee+E,ee+m+re,ee+m+E])}ee+=m}if(v)for(ee+=m,E=0;E<m;++E)this.faces.push([ee+E,ee+(E+1)%m,ee+m])}u.default.prototype.plane=function(h,f,l,m){this._assert3d("plane"),u.default._validateParameters("plane",arguments),h===void 0&&(h=50),f===void 0&&(f=h),m===void 0&&(m=1);var _,w="plane|".concat(l=l===void 0?1:l,"|").concat(m);return this._renderer.geometryInHash(w)||((_=new u.default.Geometry(l,m,function(){for(var v,E,C=0;C<=this.detailY;C++)for(var O=C/this.detailY,U=0;U<=this.detailX;U++)v=U/this.detailX,E=new u.default.Vector(v-.5,O-.5,0),this.vertices.push(E),this.uvs.push(v,O)})).computeFaces().computeNormals(),l<=1&&m<=1?_._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on plane objects with more than 1 detailX or 1 detailY"),this._renderer.createBuffers(w,_)),this._renderer.drawBuffersScaled(w,h,f,1),this},u.default.prototype.box=function(h,f,l,m,_){this._assert3d("box"),u.default._validateParameters("box",arguments),h===void 0&&(h=50),f===void 0&&(f=h),l===void 0&&(l=f);var w,v=this._renderer.attributes&&this._renderer.attributes.perPixelLighting;return _===void 0&&(_=v?1:4),v="box|".concat(m=m===void 0?v?1:4:m,"|").concat(_),this._renderer.geometryInHash(v)||((w=new u.default.Geometry(m,_,function(){var E=this;this.edges=[[0,1],[1,3],[3,2],[6,7],[8,9],[9,11],[14,15],[16,17],[17,19],[18,19],[20,21],[22,23]],[[0,4,2,6],[1,3,5,7],[0,1,4,5],[2,6,3,7],[0,2,1,3],[4,5,6,7]].forEach(function(C,O){O*=4;for(var U=0;U<4;U++){var N=C[U];N=new u.default.Vector((2*(1&N)-1)/2,((2&N)-1)/2,((4&N)/2-1)/2),E.vertices.push(N),E.uvs.push(1&U,(2&U)/2)}E.faces.push([O,1+O,2+O]),E.faces.push([2+O,1+O,3+O])})})).computeNormals(),m<=4&&_<=4?w._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on box objects with more than 4 detailX or 4 detailY"),this._renderer.createBuffers(v,w)),this._renderer.drawBuffersScaled(v,h,f,l),this},u.default.prototype.sphere=function(h,f,l){return this._assert3d("sphere"),u.default._validateParameters("sphere",arguments),this.ellipsoid(h=h===void 0?50:h,h,h,f=f===void 0?24:f,l=l===void 0?16:l),this},u.default.prototype.cylinder=function(h,f,l,m,_,w){this._assert3d("cylinder"),u.default._validateParameters("cylinder",arguments),h===void 0&&(h=50),f===void 0&&(f=h),m===void 0&&(m=1),w===void 0&&(w=!0),_===void 0&&(_=!0);var v,E="cylinder|".concat(l=l===void 0?24:l,"|").concat(m,"|").concat(_,"|").concat(w);return this._renderer.geometryInHash(E)||(v=new u.default.Geometry(l,m),j.call(v,1,1,1,l,m,_,w),l<=24&&m<=16?v._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on cylinder objects with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(E,v)),this._renderer.drawBuffersScaled(E,h,f,h),this},u.default.prototype.cone=function(h,f,l,m,_){this._assert3d("cone"),u.default._validateParameters("cone",arguments),h===void 0&&(h=50),f===void 0&&(f=h),m===void 0&&(m=1),_===void 0&&(_=!0);var w,v="cone|".concat(l=l===void 0?24:l,"|").concat(m,"|").concat(_);return this._renderer.geometryInHash(v)||(w=new u.default.Geometry(l,m),j.call(w,1,0,1,l,m,_,!1),l<=24&&m<=16?w._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on cone objects with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(v,w)),this._renderer.drawBuffersScaled(v,h,f,h),this},u.default.prototype.ellipsoid=function(h,f,l,m,_){this._assert3d("ellipsoid"),u.default._validateParameters("ellipsoid",arguments),h===void 0&&(h=50),f===void 0&&(f=h),l===void 0&&(l=h),_===void 0&&(_=16);var w,v="ellipsoid|".concat(m=m===void 0?24:m,"|").concat(_);return this._renderer.geometryInHash(v)||((w=new u.default.Geometry(m,_,function(){for(var E=0;E<=this.detailY;E++)for(var C=E/this.detailY,O=Math.PI*C-Math.PI/2,U=Math.cos(O),N=Math.sin(O),D=0;D<=this.detailX;D++){var H=D/this.detailX,I=2*Math.PI*H,V=Math.cos(I);I=Math.sin(I),I=new u.default.Vector(U*I,N,U*V),this.vertices.push(I),this.vertexNormals.push(I),this.uvs.push(H,C)}})).computeFaces(),m<=24&&_<=24?w._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on ellipsoids with more than 24 detailX or 24 detailY"),this._renderer.createBuffers(v,w)),this._renderer.drawBuffersScaled(v,h,f,l),this},u.default.prototype.torus=function(h,f,l,m){if(this._assert3d("torus"),u.default._validateParameters("torus",arguments),h===void 0)h=50;else if(!h)return;if(f===void 0)f=10;else if(!f)return;l===void 0&&(l=24),m===void 0&&(m=16);var _,w=(f/h).toPrecision(4);return f="torus|".concat(w,"|").concat(l,"|").concat(m),this._renderer.geometryInHash(f)||((_=new u.default.Geometry(l,m,function(){for(var v=0;v<=this.detailY;v++)for(var E=v/this.detailY,C=2*Math.PI*E,O=Math.cos(C),U=Math.sin(C),N=1+w*O,D=0;D<=this.detailX;D++){var H=D/this.detailX,I=2*Math.PI*H,V=Math.cos(I),G=(I=Math.sin(I),new u.default.Vector(N*V,N*I,w*U));V=new u.default.Vector(O*V,O*I,U),this.vertices.push(G),this.vertexNormals.push(V),this.uvs.push(H,E)}})).computeFaces(),l<=24&&m<=16?_._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw strokes on torus object with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(f,_)),this._renderer.drawBuffersScaled(f,h,h,h),this},u.default.RendererGL.prototype.point=function(h,f,l){var m=[];return m.push(new u.default.Vector(h,f,l=l===void 0?0:l)),this._drawPoints(m,this.immediateMode.buffers.point),this},u.default.RendererGL.prototype.triangle=function(h){var f=h[0],l=h[1],m=h[2],_=h[3],w=h[4],v=(h=h[5],this.geometryInHash("tri")||((v=new u.default.Geometry(1,1,function(){var O=[];O.push(new u.default.Vector(0,0,0)),O.push(new u.default.Vector(1,0,0)),O.push(new u.default.Vector(0,1,0)),this.edges=[[0,1],[1,2],[2,0]],this.vertices=O,this.faces=[[0,1,2]],this.uvs=[0,0,1,0,1,1]}))._edgesToVertices(),v.computeNormals(),this.createBuffers("tri",v)),this.uMVMatrix.copy());try{var E=Math.sign(f*_-m*l+m*h-w*_+w*l-f*h),C=new u.default.Matrix([m-f,_-l,0,0,w-f,h-l,0,0,0,0,E,0,f,l,0,1]).mult(this.uMVMatrix);this.uMVMatrix=C,this.drawBuffers("tri")}finally{this.uMVMatrix=v}return this},u.default.RendererGL.prototype.ellipse=function(h){this.arc(h[0],h[1],h[2],h[3],0,x.TWO_PI,x.OPEN,h[4])},u.default.RendererGL.prototype.arc=function(h){var f,l=arguments[1],m=arguments[2],_=arguments[3],w=arguments[4],v=arguments[5],E=arguments[6],C=arguments[7]||25,O=(Math.abs(v-w)>=x.TWO_PI?"".concat(U="ellipse","|"):"".concat(U="arc","|").concat(w,"|").concat(v,"|").concat(E,"|")).concat(C,"|"),U=(this.geometryInHash(O)||((f=new u.default.Geometry(C,1,function(){if(w.toFixed(10)!==v.toFixed(10)){E!==x.PIE&&E!==void 0||(this.vertices.push(new u.default.Vector(.5,.5,0)),this.uvs.push([.5,.5]));for(var N=0;N<=C;N++){var D=N/C*(v-w)+w,H=.5+Math.cos(D)/2;D=.5+Math.sin(D)/2,this.vertices.push(new u.default.Vector(H,D,0)),this.uvs.push([H,D]),N<C-1&&(this.faces.push([0,N+1,N+2]),this.edges.push([N+1,N+2]))}switch(E){case x.PIE:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.edges.push([0,1]),this.edges.push([this.vertices.length-2,this.vertices.length-1]),this.edges.push([0,this.vertices.length-1]);break;case x.CHORD:this.edges.push([0,1]),this.edges.push([0,this.vertices.length-1]);break;case x.OPEN:this.edges.push([0,1]);break;default:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.edges.push([this.vertices.length-2,this.vertices.length-1])}}})).computeNormals(),C<=50?f._edgesToVertices(f):this._doStroke&&console.log("Cannot apply a stroke to an ".concat(U," with more than 50 detail")),this.createBuffers(O,f)),this.uMVMatrix.copy());try{this.uMVMatrix.translate([h,l,0]),this.uMVMatrix.scale(m,_,1),this.drawBuffers(O)}finally{this.uMVMatrix=U}return this},u.default.RendererGL.prototype.rect=function(h){var f=h[0],l=h[1],m=h[2],_=h[3];if(h[4]===void 0){var w=this._pInst._glAttributes.perPixelLighting,v=h[4]||(w?1:24),E=h[5]||(w?1:16),C=(w="rect|".concat(v,"|").concat(E),this.geometryInHash(w)||((C=new u.default.Geometry(v,E,function(){for(var K=0;K<=this.detailY;K++)for(var ee=K/this.detailY,re=0;re<=this.detailX;re++){var oe=re/this.detailX,le=new u.default.Vector(oe,ee,0);this.vertices.push(le),this.uvs.push(oe,ee)}0<v&&0<E&&(this.edges=[[0,v],[v,(v+1)*(E+1)-1],[(v+1)*(E+1)-1,(v+1)*E],[(v+1)*E,0]])})).computeFaces().computeNormals()._edgesToVertices(),this.createBuffers(w,C)),this.uMVMatrix.copy());try{this.uMVMatrix.translate([f,l,0]),this.uMVMatrix.scale(m,_,1),this.drawBuffers(w)}finally{this.uMVMatrix=C}}else{w=h[4],C=h[5]===void 0?w:h[5];var O=h[6]===void 0?C:h[6],U=(h=h[7]===void 0?O:h[7],m),N=_,D=((I=((U+=f)<f&&(I=f,f=U,U=I),(N+=l)<l&&(I=l,l=N,N=I),Math.min((U-f)/2,(N-l)/2)))<w&&(w=I),I<C&&(C=I),I<O&&(O=I),I<h&&(h=I),f),H=l,I=U,V=(f=N,this.beginShape(),C!==0?(this.vertex(I-C,H),this.quadraticVertex(I,H,I,H+C)):this.vertex(I,H),O!==0?(this.vertex(I,f-O),this.quadraticVertex(I,f,I-O,f)):this.vertex(I,f),h!==0?(this.vertex(D+h,f),this.quadraticVertex(D,f,D,f-h)):this.vertex(D,f),w!==0?(this.vertex(D,H+w),this.quadraticVertex(D,H,D+w,H)):this.vertex(D,H),!(this.immediateMode.geometry.uvs.length=0));l=!1,U=void 0;try{for(var G,q=this.immediateMode.geometry.vertices[Symbol.iterator]();!(V=(G=q.next()).done);V=!0){var X=G.value,B=(X.x-D)/m,W=(X.y-H)/_;this.immediateMode.geometry.uvs.push(B,W)}}catch(K){l=!0,U=K}finally{try{V||q.return==null||q.return()}finally{if(l)throw U}}this.endShape(x.CLOSE)}return this},u.default.RendererGL.prototype.quad=function(h,f,l,m,_,w,v,E,C,O,U,N,D,H){D===void 0&&(D=2),H===void 0&&(H=2);var I="quad|".concat(h,"|").concat(f,"|").concat(l,"|").concat(m,"|").concat(_,"|").concat(w,"|").concat(v,"|").concat(E,"|").concat(C,"|").concat(O,"|").concat(U,"|").concat(N,"|").concat(D,"|").concat(H);if(!this.geometryInHash(I)){var V=new u.default.Geometry(D,H,function(){for(var K=1/(this.detailX-1),ee=1/(this.detailY-1),re=0;re<this.detailY;re++)for(var oe=0;oe<this.detailX;oe++){var le=oe*K,me=re*ee;this.vertices.push(new u.default.Vector((1-le)*((1-me)*h+me*O)+le*((1-me)*m+me*v),(1-le)*((1-me)*f+me*U)+le*((1-me)*_+me*E),(1-le)*((1-me)*l+me*N)+le*((1-me)*w+me*C))),this.uvs.push([le,me])}});V.faces=[];for(var G=0;G<H-1;G++)for(var q=0;q<D-1;q++){var X=q+G*D,B=q+1+(G+1)*D,W=q+(G+1)*D;V.faces.push([X,q+1+G*D,B]),V.faces.push([X,B,W])}V.computeNormals()._makeTriangleEdges()._edgesToVertices(),this.createBuffers(I,V)}return this.drawBuffers(I),this},u.default.RendererGL.prototype.bezier=function(h,f,l,m,_,w,v,E,C,O,U,N){arguments.length===8&&(U=E,O=v,E=w,v=_,_=m,m=l,l=w=C=N=0);var D=this._pInst._bezierDetail||20;this.beginShape();for(var H=0;H<=D;H++){var I=Math.pow(1-H/D,3),V=H/D*3*Math.pow(1-H/D,2),G=3*Math.pow(H/D,2)*(1-H/D),q=Math.pow(H/D,3);this.vertex(h*I+m*V+v*G+O*q,f*I+_*V+E*G+U*q,l*I+w*V+C*G+N*q)}return this.endShape(),this},u.default.RendererGL.prototype.curve=function(h,f,l,m,_,w,v,E,C,O,U,N){arguments.length===8&&(O=v,U=E,v=_,E=m,_=m=l,l=w=C=N=0);var D=this._pInst._curveDetail;this.beginShape();for(var H=0;H<=D;H++){var I=.5*Math.pow(H/D,3),V=.5*Math.pow(H/D,2),G=H/D*.5;this.vertex(I*(3*m-h-3*v+O)+V*(2*h-5*m+4*v-O)+G*(-h+v)+2*m*.5,I*(3*_-f-3*E+U)+V*(2*f-5*_+4*E-U)+G*(-f+E)+2*_*.5,I*(3*w-l-3*C+N)+V*(2*l-5*w+4*C-N)+G*(-l+C)+2*w*.5)}return this.endShape(),this},u.default.RendererGL.prototype.line=function(){return arguments.length===6?(this.beginShape(x.LINES),this.vertex(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2]),this.vertex(arguments.length<=3?void 0:arguments[3],arguments.length<=4?void 0:arguments[4],arguments.length<=5?void 0:arguments[5]),this.endShape()):arguments.length===4&&(this.beginShape(x.LINES),this.vertex(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],0),this.vertex(arguments.length<=2?void 0:arguments[2],arguments.length<=3?void 0:arguments[3],0),this.endShape()),this},u.default.RendererGL.prototype.bezierVertex=function(){if(this.immediateMode._bezierVertex.length===0)throw Error("vertex() must be used once before calling bezierVertex()");var h,f,l,m,_,w,v=[],E=[],C=arguments.length;if(this._lookUpTableBezier.length===0||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[],this._lutBezierDetail=this._pInst._curveDetail;for(var O=1/this._lutBezierDetail,U=0,N=1,D=0;U<1;){if(w=parseFloat(U.toFixed(6)),this._lookUpTableBezier[D]=this._bezierCoefficients(w),N.toFixed(6)===O.toFixed(6)){w=parseFloat(N.toFixed(6))+parseFloat(U.toFixed(6)),++D,this._lookUpTableBezier[D]=this._bezierCoefficients(w);break}U+=O,N-=O,++D}}for(var H=this._lookUpTableBezier.length,I=[],V=0;V<4;V++)I.push([]);I[0]=this.immediateMode.geometry.vertexColors.slice(-4),I[3]=this.curFillColor.slice();var G=[];for(V=0;V<4;V++)G.push([]);if(G[0]=this.immediateMode.geometry.vertexStrokeColors.slice(-4),G[3]=this.curStrokeColor.slice(),C===6){this.isBezier=!0,v=[this.immediateMode._bezierVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=2?void 0:arguments[2],arguments.length<=4?void 0:arguments[4]],E=[this.immediateMode._bezierVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=3?void 0:arguments[3],arguments.length<=5?void 0:arguments[5]];var q=Math.hypot(v[0]-v[1],E[0]-E[1]),X=Math.hypot(v[1]-v[2],E[1]-E[2]),B=Math.hypot(v[2]-v[3],E[2]-E[3]);for(q/=X=q+X+B,B/=X,_=0;_<4;_++)I[1].push(I[0][_]*(1-q)+I[3][_]*q),I[2].push(I[0][_]*B+I[3][_]*(1-B)),G[1].push(G[0][_]*(1-q)+G[3][_]*q),G[2].push(G[0][_]*B+G[3][_]*(1-B));for(m=0;m<H;m++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],V=h=f=0;V<4;V++){for(_=0;_<4;_++)this.curFillColor[_]+=this._lookUpTableBezier[m][V]*I[V][_],this.curStrokeColor[_]+=this._lookUpTableBezier[m][V]*G[V][_];h+=v[V]*this._lookUpTableBezier[m][V],f+=E[V]*this._lookUpTableBezier[m][V]}this.vertex(h,f)}this.curFillColor=I[3],this.curStrokeColor=G[3],this.immediateMode._bezierVertex[0]=arguments.length<=4?void 0:arguments[4],this.immediateMode._bezierVertex[1]=arguments.length<=5?void 0:arguments[5]}else if(C===9){this.isBezier=!0,v=[this.immediateMode._bezierVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=3?void 0:arguments[3],arguments.length<=6?void 0:arguments[6]],E=[this.immediateMode._bezierVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=4?void 0:arguments[4],arguments.length<=7?void 0:arguments[7]];var W=[this.immediateMode._bezierVertex[2],arguments.length<=2?void 0:arguments[2],arguments.length<=5?void 0:arguments[5],arguments.length<=8?void 0:arguments[8]],K=Math.hypot(v[0]-v[1],E[0]-E[1],W[0]-W[1]),ee=(X=Math.hypot(v[1]-v[2],E[1]-E[2],W[1]-W[2]),Math.hypot(v[2]-v[3],E[2]-E[3],W[2]-W[3]));for(K/=C=K+X+ee,ee/=C,_=0;_<4;_++)I[1].push(I[0][_]*(1-K)+I[3][_]*K),I[2].push(I[0][_]*ee+I[3][_]*(1-ee)),G[1].push(G[0][_]*(1-K)+G[3][_]*K),G[2].push(G[0][_]*ee+G[3][_]*(1-ee));for(m=0;m<H;m++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],V=h=f=l=0;V<4;V++){for(_=0;_<4;_++)this.curFillColor[_]+=this._lookUpTableBezier[m][V]*I[V][_],this.curStrokeColor[_]+=this._lookUpTableBezier[m][V]*G[V][_];h+=v[V]*this._lookUpTableBezier[m][V],f+=E[V]*this._lookUpTableBezier[m][V],l+=W[V]*this._lookUpTableBezier[m][V]}this.vertex(h,f,l)}this.curFillColor=I[3],this.curStrokeColor=G[3],this.immediateMode._bezierVertex[0]=arguments.length<=6?void 0:arguments[6],this.immediateMode._bezierVertex[1]=arguments.length<=7?void 0:arguments[7],this.immediateMode._bezierVertex[2]=arguments.length<=8?void 0:arguments[8]}},u.default.RendererGL.prototype.quadraticVertex=function(){if(this.immediateMode._quadraticVertex.length===0)throw Error("vertex() must be used once before calling quadraticVertex()");var h,f,l,m,_,w,v=[],E=[],C=arguments.length;if(this._lookUpTableQuadratic.length===0||this._lutQuadraticDetail!==this._pInst._curveDetail){this._lookUpTableQuadratic=[],this._lutQuadraticDetail=this._pInst._curveDetail;for(var O=1/this._lutQuadraticDetail,U=0,N=1,D=0;U<1;){if(w=parseFloat(U.toFixed(6)),this._lookUpTableQuadratic[D]=this._quadraticCoefficients(w),N.toFixed(6)===O.toFixed(6)){w=parseFloat(N.toFixed(6))+parseFloat(U.toFixed(6)),++D,this._lookUpTableQuadratic[D]=this._quadraticCoefficients(w);break}U+=O,N-=O,++D}}for(var H=this._lookUpTableQuadratic.length,I=[],V=0;V<3;V++)I.push([]);I[0]=this.immediateMode.geometry.vertexColors.slice(-4),I[2]=this.curFillColor.slice();var G=[];for(V=0;V<3;V++)G.push([]);if(G[0]=this.immediateMode.geometry.vertexStrokeColors.slice(-4),G[2]=this.curStrokeColor.slice(),C===4){this.isQuadratic=!0,v=[this.immediateMode._quadraticVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=2?void 0:arguments[2]],E=[this.immediateMode._quadraticVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=3?void 0:arguments[3]];var q=Math.hypot(v[0]-v[1],E[0]-E[1]);for(q/=q+Math.hypot(v[1]-v[2],E[1]-E[2]),_=0;_<4;_++)I[1].push(I[0][_]*(1-q)+I[2][_]*q),G[1].push(G[0][_]*(1-q)+G[2][_]*q);for(m=0;m<H;m++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],V=h=f=0;V<3;V++){for(_=0;_<4;_++)this.curFillColor[_]+=this._lookUpTableQuadratic[m][V]*I[V][_],this.curStrokeColor[_]+=this._lookUpTableQuadratic[m][V]*G[V][_];h+=v[V]*this._lookUpTableQuadratic[m][V],f+=E[V]*this._lookUpTableQuadratic[m][V]}this.vertex(h,f)}this.curFillColor=I[2],this.curStrokeColor=G[2],this.immediateMode._quadraticVertex[0]=arguments.length<=2?void 0:arguments[2],this.immediateMode._quadraticVertex[1]=arguments.length<=3?void 0:arguments[3]}else if(C===6){this.isQuadratic=!0,v=[this.immediateMode._quadraticVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=3?void 0:arguments[3]],E=[this.immediateMode._quadraticVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=4?void 0:arguments[4]];var X=[this.immediateMode._quadraticVertex[2],arguments.length<=2?void 0:arguments[2],arguments.length<=5?void 0:arguments[5]],B=Math.hypot(v[0]-v[1],E[0]-E[1],X[0]-X[1]);for(B/=B+Math.hypot(v[1]-v[2],E[1]-E[2],X[1]-X[2]),_=0;_<4;_++)I[1].push(I[0][_]*(1-B)+I[2][_]*B),G[1].push(G[0][_]*(1-B)+G[2][_]*B);for(m=0;m<H;m++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],V=h=f=l=0;V<3;V++){for(_=0;_<4;_++)this.curFillColor[_]+=this._lookUpTableQuadratic[m][V]*I[V][_],this.curStrokeColor[_]+=this._lookUpTableQuadratic[m][V]*G[V][_];h+=v[V]*this._lookUpTableQuadratic[m][V],f+=E[V]*this._lookUpTableQuadratic[m][V],l+=X[V]*this._lookUpTableQuadratic[m][V]}this.vertex(h,f,l)}this.curFillColor=I[2],this.curStrokeColor=G[2],this.immediateMode._quadraticVertex[0]=arguments.length<=3?void 0:arguments[3],this.immediateMode._quadraticVertex[1]=arguments.length<=4?void 0:arguments[4],this.immediateMode._quadraticVertex[2]=arguments.length<=5?void 0:arguments[5]}},u.default.RendererGL.prototype.curveVertex=function(){var h,f,l,m,_,w,v=[],E=[],C=arguments.length;if(this._lookUpTableBezier.length===0||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[],this._lutBezierDetail=this._pInst._curveDetail;for(var O=1/this._lutBezierDetail,U=0,N=1,D=0;U<1;){if(w=parseFloat(U.toFixed(6)),this._lookUpTableBezier[D]=this._bezierCoefficients(w),N.toFixed(6)===O.toFixed(6)){w=parseFloat(N.toFixed(6))+parseFloat(U.toFixed(6)),++D,this._lookUpTableBezier[D]=this._bezierCoefficients(w);break}U+=O,N-=O,++D}}var H=this._lookUpTableBezier.length;if(C===2){if(this.immediateMode._curveVertex.push(arguments.length<=0?void 0:arguments[0]),this.immediateMode._curveVertex.push(arguments.length<=1?void 0:arguments[1]),this.immediateMode._curveVertex.length===8){for(this.isCurve=!0,v=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[6]]),E=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[7]]),_=0;_<H;_++)f=v[0]*this._lookUpTableBezier[_][0]+v[1]*this._lookUpTableBezier[_][1]+v[2]*this._lookUpTableBezier[_][2]+v[3]*this._lookUpTableBezier[_][3],l=E[0]*this._lookUpTableBezier[_][0]+E[1]*this._lookUpTableBezier[_][1]+E[2]*this._lookUpTableBezier[_][2]+E[3]*this._lookUpTableBezier[_][3],this.vertex(f,l);for(_=0;_<C;_++)this.immediateMode._curveVertex.shift()}}else if(C===3&&(this.immediateMode._curveVertex.push(arguments.length<=0?void 0:arguments[0]),this.immediateMode._curveVertex.push(arguments.length<=1?void 0:arguments[1]),this.immediateMode._curveVertex.push(arguments.length<=2?void 0:arguments[2]),this.immediateMode._curveVertex.length===12)){for(this.isCurve=!0,v=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[6],this.immediateMode._curveVertex[9]]),E=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[7],this.immediateMode._curveVertex[10]]),h=this._bezierToCatmull([this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[8],this.immediateMode._curveVertex[11]]),_=0;_<H;_++)f=v[0]*this._lookUpTableBezier[_][0]+v[1]*this._lookUpTableBezier[_][1]+v[2]*this._lookUpTableBezier[_][2]+v[3]*this._lookUpTableBezier[_][3],l=E[0]*this._lookUpTableBezier[_][0]+E[1]*this._lookUpTableBezier[_][1]+E[2]*this._lookUpTableBezier[_][2]+E[3]*this._lookUpTableBezier[_][3],m=h[0]*this._lookUpTableBezier[_][0]+h[1]*this._lookUpTableBezier[_][1]+h[2]*this._lookUpTableBezier[_][2]+h[3]*this._lookUpTableBezier[_][3],this.vertex(f,l,m);for(_=0;_<C;_++)this.immediateMode._curveVertex.shift()}},u.default.RendererGL.prototype.image=function(h,f,l,m,_,w,v,E,C){this._isErasing&&this.blendMode(this._cachedBlendMode),this._pInst.push(),this._pInst.noLights(),this._pInst.noStroke(),this._pInst.texture(h),this._pInst.textureMode(x.NORMAL);var O=0,U=(f<=h.width&&(O=f/h.width),1);f+m<=h.width&&(U=(f+m)/h.width),f=0,l<=h.height&&(f=l/h.height),m=1,l+_<=h.height&&(m=(l+_)/h.height),this.beginShape(),this.vertex(w,v,0,O,f),this.vertex(w+E,v,0,U,f),this.vertex(w+E,v+C,0,U,m),this.vertex(w,v+C,0,O,m),this.endShape(x.CLOSE),this._pInst.pop(),this._isErasing&&this.blendMode(x.REMOVE)};var o=u.default;y.default=o},{"../core/constants":262,"../core/main":273,"./p5.Geometry":323,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.for-each":156,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.slice":164,"core-js/modules/es.math.hypot":169,"core-js/modules/es.math.sign":170,"core-js/modules/es.number.to-fixed":173,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],317:[function(t,A,y){function d(o){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(o)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var c=(j=t("../core/main"))&&j.__esModule?j:{default:j},u=function(o){if(o&&o.__esModule)return o;if(o===null||x(o)!=="object"&&typeof o!="function")return{default:o};var h=function(){var w;return typeof WeakMap!="function"?null:(w=new WeakMap,w)}();if(h&&h.has(o))return h.get(o);var f,l={},m=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(f in o){var _;Object.prototype.hasOwnProperty.call(o,f)&&((_=m?Object.getOwnPropertyDescriptor(o,f):null)&&(_.get||_.set)?Object.defineProperty(l,f,_):l[f]=o[f])}return l.default=o,h&&h.set(o,l),l}(t("../core/constants"));function x(o){return(x=typeof Symbol=="function"&&d(Symbol.iterator)==="symbol"?function(h){return d(h)}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":d(h)})(o)}c.default.prototype.orbitControl=function(o,h,f,l){var m=this,_=(this._assert3d("orbitControl"),c.default._validateParameters("orbitControl",arguments),this._renderer._curCamera);o===void 0&&(o=1),h===void 0&&(h=o),f===void 0&&(f=1),x(l)!=="object"&&(l={}),this.contextMenuDisabled!==!0&&(this.canvas.oncontextmenu=function(){return!1},this._setProperty("contextMenuDisabled",!0)),this.wheelDefaultDisabled!==!0&&(this.canvas.onwheel=function(){return!1},this._setProperty("wheelDefaultDisabled",!0));var w=l.disableTouchActions;this.touchActionsDisabled===!0||w!==void 0&&!w||(this.canvas.style["touch-action"]="none",this._setProperty("touchActionsDisabled",!0)),l=(w=l.freeRotation)!==void 0&&w;var v,E,C,O=[],U=(w=(this.touches.forEach(function(G){m._renderer.prevTouches.forEach(function(q){G.id===q.id&&(q={x:G.x,y:G.y,px:q.x,py:q.y},O.push(q))})}),this._renderer.prevTouches=this.touches,0),0),N=0,D=0,H=0,I=this.height<this.width?this.height:this.width,V=!1;return 0<O.length?(V=0<O[0].x&&O[0].x<this.width&&0<O[0].y&&O[0].y<this.height,O.length===1?(U=-o*((v=O[0]).x-v.px)/I,N=h*(v.y-v.py)/I):(v=O[0],E=O[1],w=-(Math.hypot(v.x-E.x,v.y-E.y)-Math.hypot(v.px-E.px,v.py-E.py))*f*4e-4,D=.5*(v.x+E.x)-.5*(v.px+E.px),H=.5*(v.y+E.y)-.5*(v.py+E.py)),0<this.touches.length?V&&(this._renderer.executeRotateAndMove=!0,this._renderer.executeZoom=!0):(this._renderer.executeRotateAndMove=!1,this._renderer.executeZoom=!1)):(V=0<this.mouseX&&this.mouseX<this.width&&0<this.mouseY&&this.mouseY<this.height,this._mouseWheelDeltaY!==0?(w=Math.sign(this._mouseWheelDeltaY)*f,w*=.01,this._mouseWheelDeltaY=0,V&&(this._renderer.executeZoom=!0)):this._renderer.zoomFlag=!1,this.mouseIsPressed?(this.mouseButton===this.LEFT?(U=-o*this.movedX/I,N=h*this.movedY/I):this.mouseButton===this.RIGHT&&(D=this.movedX,H=this.movedY),V&&(this._renderer.executeRotateAndMove=!0)):this._renderer.executeRotateAndMove=!1),w!==0&&this._renderer.executeZoom&&(this._renderer.zoomVelocity+=w),.001<Math.abs(this._renderer.zoomVelocity)?(l?_._orbitFree(0,0,this._renderer.zoomVelocity):_._orbit(0,0,this._renderer.zoomVelocity),_.projMatrix.mat4[15]!==0&&(_.projMatrix.mat4[0]*=Math.pow(10,-this._renderer.zoomVelocity),_.projMatrix.mat4[5]*=Math.pow(10,-this._renderer.zoomVelocity),this._renderer.uPMatrix.mat4[0]=_.projMatrix.mat4[0],this._renderer.uPMatrix.mat4[5]=_.projMatrix.mat4[5]),this._renderer.zoomVelocity*=.85):this._renderer.zoomVelocity=0,U===0&&N===0||!this._renderer.executeRotateAndMove||this._renderer.rotateVelocity.add(.6*U,.6*N),1e-6<this._renderer.rotateVelocity.magSq()?(l?_._orbitFree(-this._renderer.rotateVelocity.x,this._renderer.rotateVelocity.y,0):_._orbit(this._renderer.rotateVelocity.x,this._renderer.rotateVelocity.y,0),this._renderer.rotateVelocity.mult(.85)):this._renderer.rotateVelocity.set(0,0),D===0&&H===0||!this._renderer.executeRotateAndMove||(v=2*D/this.width,E=2*-H/this.height,this._renderer.moveVelocity.add(.15*v,.15*E)),1e-6<this._renderer.moveVelocity.magSq()?(f=_._getLocalAxes(),o=_.eyeX-_.centerX,h=_.eyeY-_.centerY,I=_.eyeZ-_.centerZ,V=Math.sqrt(o*o+h*h+I*I),w=new c.default.Vector(_.centerX,_.centerY,_.centerZ),w=_.cameraMatrix.multiplyPoint(w),(w=this._renderer.uPMatrix.multiplyAndNormalizePoint(w)).x-=this._renderer.moveVelocity.x,w.y-=this._renderer.moveVelocity.y,N=(U=this._renderer.uPMatrix.mat4)[15]===0?(C=(U[8]+w.x)/U[0]*V,(U[9]+w.y)/U[5]*V):(C=(w.x-U[12])/U[0],(w.y-U[13])/U[5]),_.setPosition(_.eyeX+C*f.x[0]+N*f.y[0],_.eyeY+C*f.x[1]+N*f.y[1],_.eyeZ+C*f.x[2]+N*f.y[2]),this._renderer.moveVelocity.mult(.85)):this._renderer.moveVelocity.set(0,0),this},c.default.prototype.debugMode=function(){this._assert3d("debugMode");for(var o=arguments.length,h=new Array(o),f=0;f<o;f++)h[f]=arguments[f];c.default._validateParameters("debugMode",h);for(var l=this._registeredMethods.post.length-1;0<=l;l--)this._registeredMethods.post[l].toString()!==this._grid().toString()&&this._registeredMethods.post[l].toString()!==this._axesIcon().toString()||this._registeredMethods.post.splice(l,1);h[0]===u.GRID?this.registerMethod("post",this._grid.call(this,h[1],h[2],h[3],h[4],h[5])):h[0]===u.AXES?this.registerMethod("post",this._axesIcon.call(this,h[1],h[2],h[3],h[4])):(this.registerMethod("post",this._grid.call(this,h[0],h[1],h[2],h[3],h[4])),this.registerMethod("post",this._axesIcon.call(this,h[5],h[6],h[7],h[8])))},c.default.prototype.noDebugMode=function(){this._assert3d("noDebugMode");for(var o=this._registeredMethods.post.length-1;0<=o;o--)this._registeredMethods.post[o].toString()!==this._grid().toString()&&this._registeredMethods.post[o].toString()!==this._axesIcon().toString()||this._registeredMethods.post.splice(o,1)},c.default.prototype._grid=function(o,h,f,l,m){o===void 0&&(o=this.width/2),h===void 0&&(h=Math.round(o/30)<4?4:Math.round(o/30)),f===void 0&&(f=0),l===void 0&&(l=0),m===void 0&&(m=0);var _=o/h,w=o/2;return function(){this.push(),this.stroke(255*this._renderer.curStrokeColor[0],255*this._renderer.curStrokeColor[1],255*this._renderer.curStrokeColor[2]),this._renderer.uMVMatrix.set(this._renderer._curCamera.cameraMatrix.mat4[0],this._renderer._curCamera.cameraMatrix.mat4[1],this._renderer._curCamera.cameraMatrix.mat4[2],this._renderer._curCamera.cameraMatrix.mat4[3],this._renderer._curCamera.cameraMatrix.mat4[4],this._renderer._curCamera.cameraMatrix.mat4[5],this._renderer._curCamera.cameraMatrix.mat4[6],this._renderer._curCamera.cameraMatrix.mat4[7],this._renderer._curCamera.cameraMatrix.mat4[8],this._renderer._curCamera.cameraMatrix.mat4[9],this._renderer._curCamera.cameraMatrix.mat4[10],this._renderer._curCamera.cameraMatrix.mat4[11],this._renderer._curCamera.cameraMatrix.mat4[12],this._renderer._curCamera.cameraMatrix.mat4[13],this._renderer._curCamera.cameraMatrix.mat4[14],this._renderer._curCamera.cameraMatrix.mat4[15]);for(var v=0;v<=h;v++)this.beginShape(this.LINES),this.vertex(-w+f,l,v*_-w+m),this.vertex(w+f,l,v*_-w+m),this.endShape();for(var E=0;E<=h;E++)this.beginShape(this.LINES),this.vertex(E*_-w+f,l,-w+m),this.vertex(E*_-w+f,l,w+m),this.endShape();this.pop()}},c.default.prototype._axesIcon=function(o,h,f,l){return o===void 0&&(o=40<this.width/20?this.width/20:40),h===void 0&&(h=-this.width/4),f===void 0&&(f=h),l===void 0&&(l=h),function(){this.push(),this._renderer.uMVMatrix.set(this._renderer._curCamera.cameraMatrix.mat4[0],this._renderer._curCamera.cameraMatrix.mat4[1],this._renderer._curCamera.cameraMatrix.mat4[2],this._renderer._curCamera.cameraMatrix.mat4[3],this._renderer._curCamera.cameraMatrix.mat4[4],this._renderer._curCamera.cameraMatrix.mat4[5],this._renderer._curCamera.cameraMatrix.mat4[6],this._renderer._curCamera.cameraMatrix.mat4[7],this._renderer._curCamera.cameraMatrix.mat4[8],this._renderer._curCamera.cameraMatrix.mat4[9],this._renderer._curCamera.cameraMatrix.mat4[10],this._renderer._curCamera.cameraMatrix.mat4[11],this._renderer._curCamera.cameraMatrix.mat4[12],this._renderer._curCamera.cameraMatrix.mat4[13],this._renderer._curCamera.cameraMatrix.mat4[14],this._renderer._curCamera.cameraMatrix.mat4[15]),this.strokeWeight(2),this.stroke(255,0,0),this.beginShape(this.LINES),this.vertex(h,f,l),this.vertex(h+o,f,l),this.endShape(),this.stroke(0,255,0),this.beginShape(this.LINES),this.vertex(h,f,l),this.vertex(h,f+o,l),this.endShape(),this.stroke(0,0,255),this.beginShape(this.LINES),this.vertex(h,f,l),this.vertex(h,f,l+o),this.endShape(),this.pop()}};var j=c.default;y.default=j},{"../core/constants":262,"../core/main":273,"core-js/modules/es.array.for-each":156,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.splice":166,"core-js/modules/es.math.hypot":169,"core-js/modules/es.math.sign":170,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.for-each":235,"core-js/modules/web.dom-collections.iterator":236}],318:[function(t,A,y){Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var d=(t=t("../core/main"))&&t.__esModule?t:{default:t};d.default.prototype.ambientLight=function(c,u,x,j){this._assert3d("ambientLight"),d.default._validateParameters("ambientLight",arguments);var o=this.color.apply(this,arguments);return this._renderer.ambientLightColors.push(o._array[0],o._array[1],o._array[2]),this._renderer._enableLighting=!0,this},d.default.prototype.specularColor=function(c,u,x){this._assert3d("specularColor"),d.default._validateParameters("specularColor",arguments);var j=this.color.apply(this,arguments);return this._renderer.specularColors=[j._array[0],j._array[1],j._array[2]],this},d.default.prototype.directionalLight=function(c,u,x,j,o,h){this._assert3d("directionalLight"),d.default._validateParameters("directionalLight",arguments),c=c instanceof d.default.Color?c:this.color(c,u,x);var f,l;return x=typeof(u=arguments[arguments.length-1])=="number"?(f=arguments[arguments.length-3],l=arguments[arguments.length-2],arguments[arguments.length-1]):(f=u.x,l=u.y,u.z),u=Math.sqrt(f*f+l*l+x*x),this._renderer.directionalLightDirections.push(f/u,l/u,x/u),this._renderer.directionalLightDiffuseColors.push(c._array[0],c._array[1],c._array[2]),Array.prototype.push.apply(this._renderer.directionalLightSpecularColors,this._renderer.specularColors),this._renderer._enableLighting=!0,this},d.default.prototype.pointLight=function(c,u,x,j,o,h){this._assert3d("pointLight"),d.default._validateParameters("pointLight",arguments),c=c instanceof d.default.Color?c:this.color(c,u,x);var f,l;return x=typeof(u=arguments[arguments.length-1])=="number"?(f=arguments[arguments.length-3],l=arguments[arguments.length-2],arguments[arguments.length-1]):(f=u.x,l=u.y,u.z),this._renderer.pointLightPositions.push(f,l,x),this._renderer.pointLightDiffuseColors.push(c._array[0],c._array[1],c._array[2]),Array.prototype.push.apply(this._renderer.pointLightSpecularColors,this._renderer.specularColors),this._renderer._enableLighting=!0,this},d.default.prototype.lights=function(){this._assert3d("lights");var c=this.color("rgb(128,128,128)");return this.ambientLight(c),this.directionalLight(c,0,0,-1),this},d.default.prototype.lightFalloff=function(c,u,x){return this._assert3d("lightFalloff"),d.default._validateParameters("lightFalloff",arguments),c<0&&(c=0,console.warn("Value of constant argument in lightFalloff() should be never be negative. Set to 0.")),u<0&&(u=0,console.warn("Value of linear argument in lightFalloff() should be never be negative. Set to 0.")),x<0&&(x=0,console.warn("Value of quadratic argument in lightFalloff() should be never be negative. Set to 0.")),c===0&&u===0&&x===0&&(c=1,console.warn("Either one of the three arguments in lightFalloff() should be greater than zero. Set constant argument to 1.")),this._renderer.constantAttenuation=c,this._renderer.linearAttenuation=u,this._renderer.quadraticAttenuation=x,this},d.default.prototype.spotLight=function(c,u,x,j,o,h,f,l,m,_,w){this._assert3d("spotLight"),d.default._validateParameters("spotLight",arguments);var v,E,C,O=arguments.length;switch(O){case 11:case 10:v=this.color(c,u,x),E=new d.default.Vector(j,o,h),C=new d.default.Vector(f,l,m);break;case 9:c instanceof d.default.Color?(v=c,E=new d.default.Vector(u,x,j),C=new d.default.Vector(o,h,f),_=l,w=m):j instanceof d.default.Vector?(v=this.color(c,u,x),E=j,C=new d.default.Vector(o,h,f),_=l,w=m):f instanceof d.default.Vector?(v=this.color(c,u,x),E=new d.default.Vector(j,o,h),C=f,_=l,w=m):(v=this.color(c,u,x),E=new d.default.Vector(j,o,h),C=new d.default.Vector(f,l,m));break;case 8:C=c instanceof d.default.Color?(v=c,E=new d.default.Vector(u,x,j),new d.default.Vector(o,h,f)):j instanceof d.default.Vector?(v=this.color(c,u,x),E=j,new d.default.Vector(o,h,f)):(v=this.color(c,u,x),E=new d.default.Vector(j,o,h),f),_=l;break;case 7:c instanceof d.default.Color&&u instanceof d.default.Vector?(v=c,E=u,C=new d.default.Vector(x,j,o),_=h,w=f):c instanceof d.default.Color&&o instanceof d.default.Vector?(v=c,E=new d.default.Vector(u,x,j),C=o,_=h,w=f):j instanceof d.default.Vector&&o instanceof d.default.Vector?(v=this.color(c,u,x),E=j,C=o,_=h,w=f):C=c instanceof d.default.Color?(v=c,E=new d.default.Vector(u,x,j),new d.default.Vector(o,h,f)):j instanceof d.default.Vector?(v=this.color(c,u,x),E=j,new d.default.Vector(o,h,f)):(v=this.color(c,u,x),E=new d.default.Vector(j,o,h),f);break;case 6:j instanceof d.default.Vector&&o instanceof d.default.Vector?(v=this.color(c,u,x),E=j,C=o,_=h):c instanceof d.default.Color&&o instanceof d.default.Vector?(v=c,E=new d.default.Vector(u,x,j),C=o,_=h):c instanceof d.default.Color&&u instanceof d.default.Vector&&(v=c,E=u,C=new d.default.Vector(x,j,o),_=h);break;case 5:c instanceof d.default.Color&&u instanceof d.default.Vector&&x instanceof d.default.Vector?(v=c,E=u,C=x,_=j,w=o):j instanceof d.default.Vector&&o instanceof d.default.Vector?(v=this.color(c,u,x),E=j,C=o):c instanceof d.default.Color&&o instanceof d.default.Vector?(v=c,E=new d.default.Vector(u,x,j),C=o):c instanceof d.default.Color&&u instanceof d.default.Vector&&(v=c,E=u,C=new d.default.Vector(x,j,o));break;case 4:v=c,E=u,C=x,_=j;break;case 3:v=c,E=u,C=x;break;default:return console.warn("Sorry, input for spotlight() is not in prescribed format. Too ".concat(O<3?"few":"many"," arguments were provided")),this}return this._renderer.spotLightDiffuseColors.push(v._array[0],v._array[1],v._array[2]),Array.prototype.push.apply(this._renderer.spotLightSpecularColors,this._renderer.specularColors),this._renderer.spotLightPositions.push(E.x,E.y,E.z),C.normalize(),this._renderer.spotLightDirections.push(C.x,C.y,C.z),_===void 0&&(_=Math.PI/3),w!==void 0&&w<1?(w=1,console.warn("Value of concentration needs to be greater than 1. Setting it to 1")):w===void 0&&(w=100),_=this._renderer._pInst._toRadians(_),this._renderer.spotLightAngle.push(Math.cos(_)),this._renderer.spotLightConc.push(w),this._renderer._enableLighting=!0,this},d.default.prototype.noLights=function(){this._assert3d("noLights");for(var c=arguments.length,u=new Array(c),x=0;x<c;x++)u[x]=arguments[x];return d.default._validateParameters("noLights",u),this._renderer._enableLighting=!1,this._renderer.ambientLightColors.length=0,this._renderer.specularColors=[1,1,1],this._renderer.directionalLightDirections.length=0,this._renderer.directionalLightDiffuseColors.length=0,this._renderer.directionalLightSpecularColors.length=0,this._renderer.pointLightPositions.length=0,this._renderer.pointLightDiffuseColors.length=0,this._renderer.pointLightSpecularColors.length=0,this._renderer.spotLightPositions.length=0,this._renderer.spotLightDirections.length=0,this._renderer.spotLightDiffuseColors.length=0,this._renderer.spotLightSpecularColors.length=0,this._renderer.spotLightAngle.length=0,this._renderer.spotLightConc.length=0,this._renderer.constantAttenuation=1,this._renderer.linearAttenuation=0,this._renderer.quadraticAttenuation=0,this._renderer._useShininess=1,this},t=d.default,y.default=t},{"../core/main":273}],319:[function(t,A,y){t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var d=(c=t("../core/main"))&&c.__esModule?c:{default:c};t("./p5.Geometry"),d.default.prototype.loadModel=function(u){d.default._validateParameters("loadModel",arguments);var x,j,o,h=u.slice(-4),f=(typeof arguments[1]=="boolean"?(x=arguments[1],j=arguments[2],o=arguments[3],arguments[4]!==void 0&&(h=arguments[4])):(x=!1,j=arguments[1],o=arguments[2],arguments[3]!==void 0&&(h=arguments[3])),new d.default.Geometry),l=(f.gid="".concat(u,"|").concat(x),this);return h.match(/\.stl$/i)?this.httpDo(u,"GET","arrayBuffer",function(m){(function(_,w){if(function(v){for(var E=new DataView(v),C=[115,111,108,105,100],O=0;O<5;O++)if(function(U,N,D){for(var H=0,I=U.length;H<I;H++)if(U[H]!==N.getUint8(D+H,!1))return;return 1}(C,E,O))return;return 1}(w))(function(v,E){for(var C,O,U,N,D,H,I,V=new DataView(E),G=V.getUint32(80,!0),q=!1,X=0;X<70;X++)V.getUint32(X,!1)===1129270351&&V.getUint8(X+4)===82&&V.getUint8(X+5)===61&&(q=!0,N=[],D=V.getUint8(X+6)/255,H=V.getUint8(X+7)/255,I=V.getUint8(X+8)/255);for(var B=0;B<G;B++){for(var W,K=84+50*B,ee=V.getFloat32(K,!0),re=V.getFloat32(4+K,!0),oe=V.getFloat32(8+K,!0),le=(q&&(U=(32768&(W=V.getUint16(48+K,!0)))==0?(C=(31&W)/31,O=(W>>5&31)/31,(W>>10&31)/31):(C=D,O=H,I)),new d.default.Vector(ee,re,oe)),me=1;me<=3;me++){var $=K+12*me;$=new d.default.Vector(V.getFloat32($,!0),V.getFloat32(4+$,!0),V.getFloat32(8+$,!0)),v.vertices.push($),v.vertexNormals.push(le),q&&N.push(C,O,U)}v.faces.push([3*B,3*B+1,3*B+2]),v.uvs.push([0,0],[0,0],[0,0])}})(_,w);else{if(w=new DataView(w),!("TextDecoder"in window))return console.warn("Sorry, ASCII STL loading only works in browsers that support TextDecoder (https://caniuse.com/#feat=textencoder)");(function(v,E){for(var C,O,U="",N=[],D=0;D<E.length;++D){for(var H=E[D].trim(),I=H.split(" "),V=0;V<I.length;++V)I[V]===""&&I.splice(V,1);if(I.length!==0)switch(U){case"":if(I[0]!=="solid")return console.error(H),console.error('Invalid state "'.concat(I[0],'", should be "solid"'));U="solid";break;case"solid":if(I[0]!=="facet"||I[1]!=="normal")return console.error(H),console.error('Invalid state "'.concat(I[0],'", should be "facet normal"'));C=new d.default.Vector(parseFloat(I[2]),parseFloat(I[3]),parseFloat(I[4])),v.vertexNormals.push(C,C,C),U="facet normal";break;case"facet normal":if(I[0]!=="outer"||I[1]!=="loop")return console.error(H),console.error('Invalid state "'.concat(I[0],'", should be "outer loop"'));U="vertex";break;case"vertex":if(I[0]==="vertex")O=new d.default.Vector(parseFloat(I[1]),parseFloat(I[2]),parseFloat(I[3])),v.vertices.push(O),v.uvs.push([0,0]),N.push(v.vertices.indexOf(O));else{if(I[0]!=="endloop")return console.error(H),console.error('Invalid state "'.concat(I[0],'", should be "vertex" or "endloop"'));v.faces.push(N),N=[],U="endloop"}break;case"endloop":if(I[0]!=="endfacet")return console.error(H),console.error('Invalid state "'.concat(I[0],'", should be "endfacet"'));U="endfacet";break;case"endfacet":if(I[0]!=="endsolid"){if(I[0]!=="facet"||I[1]!=="normal")return console.error(H),console.error('Invalid state "'.concat(I[0],'", should be "endsolid" or "facet normal"'));C=new d.default.Vector(parseFloat(I[2]),parseFloat(I[3]),parseFloat(I[4])),v.vertexNormals.push(C,C,C),U="facet normal"}break;default:console.error('Invalid state "'.concat(U,'"'))}}})(_,w=new TextDecoder("utf-8").decode(w).split(`
`))}})(f,m),x&&f.normalize(),l._decrementPreload(),typeof j=="function"&&j(f)},o):h.match(/\.obj$/i)?this.loadStrings(u,function(m){for(var _=f,w=m,v={v:[],vt:[],vn:[]},E={},C=0;C<w.length;++C){var O=w[C].trim().split(/\b\s+/);if(0<O.length){if(O[0]==="v"||O[0]==="vn"){var U=new d.default.Vector(parseFloat(O[1]),parseFloat(O[2]),parseFloat(O[3]));v[O[0]].push(U)}else if(O[0]==="vt")U=[parseFloat(O[1]),1-parseFloat(O[2])],v[O[0]].push(U);else if(O[0]==="f")for(var N=3;N<O.length;++N){for(var D=[],H=[1,N-1,N],I=0;I<H.length;++I){var V=O[H[I]],G=0;if(E[V]!==void 0)G=E[V];else{for(var q=V.split("/"),X=0;X<q.length;X++)q[X]=parseInt(q[X])-1;G=E[V]=_.vertices.length,_.vertices.push(v.v[q[0]].copy()),v.vt[q[1]]?_.uvs.push(v.vt[q[1]].slice()):_.uvs.push([0,0]),v.vn[q[2]]&&_.vertexNormals.push(v.vn[q[2]].copy())}D.push(G)}D[0]!==D[1]&&D[0]!==D[2]&&D[1]!==D[2]&&_.faces.push(D)}}}_.vertexNormals.length===0&&_.computeNormals(),x&&f.normalize(),l._decrementPreload(),typeof j=="function"&&j(f)},o):(d.default._friendlyFileLoadError(3,u),o?o():d.default._friendlyError("Sorry, the file type is invalid. Only OBJ and STL files are supported.")),f},d.default.prototype.model=function(u){this._assert3d("model"),d.default._validateParameters("model",arguments),0<u.vertices.length&&(this._renderer.geometryInHash(u.gid)||(u.edges.length===0&&u._makeTriangleEdges(),u._edgesToVertices(),this._renderer.createBuffers(u.gid,u)),this._renderer.drawBuffers(u.gid))};var c=d.default;y.default=c},{"../core/main":273,"./p5.Geometry":323,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.index-of":159,"core-js/modules/es.array.slice":164,"core-js/modules/es.array.splice":166,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.string.match":191,"core-js/modules/es.string.split":196,"core-js/modules/es.string.trim":199}],320:[function(t,A,y){function d(o){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(o)}function c(o){return(c=typeof Symbol=="function"&&d(Symbol.iterator)==="symbol"?function(h){return d(h)}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":d(h)})(o)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var u=(j=t("../core/main"))&&j.__esModule?j:{default:j},x=function(o){if(o&&o.__esModule)return o;if(o===null||c(o)!=="object"&&typeof o!="function")return{default:o};var h=function(){var w;return typeof WeakMap!="function"?null:(w=new WeakMap,w)}();if(h&&h.has(o))return h.get(o);var f,l={},m=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(f in o){var _;Object.prototype.hasOwnProperty.call(o,f)&&((_=m?Object.getOwnPropertyDescriptor(o,f):null)&&(_.get||_.set)?Object.defineProperty(l,f,_):l[f]=o[f])}return l.default=o,h&&h.set(o,l),l}(t("../core/constants"));t("./p5.Texture"),u.default.prototype.loadShader=function(o,h,f,l){function m(){w._decrementPreload(),f&&f(_)}u.default._validateParameters("loadShader",arguments),l=l||console.error;var _=new u.default.Shader,w=this,v=!1,E=!1;return this.loadStrings(o,function(C){_._vertSrc=C.join(`
`),E=!0,v&&m()},l),this.loadStrings(h,function(C){_._fragSrc=C.join(`
`),v=!0,E&&m()},l),_},u.default.prototype.createShader=function(o,h){return this._assert3d("createShader"),u.default._validateParameters("createShader",arguments),new u.default.Shader(this._renderer,o,h)},u.default.prototype.shader=function(o){return this._assert3d("shader"),u.default._validateParameters("shader",arguments),o._renderer===void 0&&(o._renderer=this._renderer),o.init(),o.isStrokeShader()?this._renderer.userStrokeShader=o:(this._renderer.userFillShader=o,this._renderer._useNormalMaterial=!1),this},u.default.prototype.resetShader=function(){return this._renderer.userFillShader=this._renderer.userStrokeShader=null,this},u.default.prototype.texture=function(o){return this._assert3d("texture"),u.default._validateParameters("texture",arguments),o.gifProperties&&o._animateGif(this),this._renderer.drawMode=x.TEXTURE,this._renderer._useNormalMaterial=!1,this._renderer._tex=o,this._renderer._setProperty("_doFill",!0),this},u.default.prototype.textureMode=function(o){o!==x.IMAGE&&o!==x.NORMAL?console.warn("You tried to set ".concat(o," textureMode only supports IMAGE & NORMAL ")):this._renderer.textureMode=o},u.default.prototype.textureWrap=function(o){var h=1<arguments.length&&arguments[1]!==void 0?arguments[1]:o,f=(this._renderer.textureWrapX=o,this._renderer.textureWrapY=h,!0),l=!1,m=void 0;try{for(var _,w=this._renderer.textures.values()[Symbol.iterator]();!(f=(_=w.next()).done);f=!0)_.value.setWrapMode(o,h)}catch(v){l=!0,m=v}finally{try{f||w.return==null||w.return()}finally{if(l)throw m}}},u.default.prototype.normalMaterial=function(){this._assert3d("normalMaterial");for(var o=arguments.length,h=new Array(o),f=0;f<o;f++)h[f]=arguments[f];return u.default._validateParameters("normalMaterial",h),this._renderer.drawMode=x.FILL,this._renderer._useSpecularMaterial=!1,this._renderer._useEmissiveMaterial=!1,this._renderer._useNormalMaterial=!0,this._renderer.curFillColor=[1,1,1,1],this._renderer._setProperty("_doFill",!0),this.noStroke(),this},u.default.prototype.ambientMaterial=function(o,h,f){this._assert3d("ambientMaterial"),u.default._validateParameters("ambientMaterial",arguments);var l=u.default.prototype.color.apply(this,arguments);return this._renderer._hasSetAmbient=!0,this._renderer.curAmbientColor=l._array,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this._renderer._setProperty("_doFill",!0),this},u.default.prototype.emissiveMaterial=function(o,h,f,l){this._assert3d("emissiveMaterial"),u.default._validateParameters("emissiveMaterial",arguments);var m=u.default.prototype.color.apply(this,arguments);return this._renderer.curEmissiveColor=m._array,this._renderer._useEmissiveMaterial=!0,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this},u.default.prototype.specularMaterial=function(o,h,f,l){this._assert3d("specularMaterial"),u.default._validateParameters("specularMaterial",arguments);var m=u.default.prototype.color.apply(this,arguments);return this._renderer.curSpecularColor=m._array,this._renderer._useSpecularMaterial=!0,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this},u.default.prototype.shininess=function(o){return this._assert3d("shininess"),u.default._validateParameters("shininess",arguments),this._renderer._useShininess=o=o<1?1:o,this},u.default.RendererGL.prototype._applyColorBlend=function(o){var h=this.GL,f=this.drawMode===x.TEXTURE;return(f=this.userFillShader||this.userStrokeShader||this.userPointShader||f||this.curBlendMode!==x.BLEND||o[o.length-1]<1||this._isErasing)!==this._isBlending&&(f||this.curBlendMode!==x.BLEND&&this.curBlendMode!==x.ADD?h.enable(h.BLEND):h.disable(h.BLEND),h.depthMask(!0),this._isBlending=f),this._applyBlendMode(),o},u.default.RendererGL.prototype._applyBlendMode=function(){if(this._cachedBlendMode!==this.curBlendMode){var o=this.GL;switch(this.curBlendMode){case x.BLEND:o.blendEquation(o.FUNC_ADD),o.blendFunc(o.ONE,o.ONE_MINUS_SRC_ALPHA);break;case x.ADD:o.blendEquation(o.FUNC_ADD),o.blendFunc(o.ONE,o.ONE);break;case x.REMOVE:o.blendEquation(o.FUNC_ADD),o.blendFunc(o.ZERO,o.ONE_MINUS_SRC_ALPHA);break;case x.MULTIPLY:o.blendEquation(o.FUNC_ADD),o.blendFunc(o.DST_COLOR,o.ONE_MINUS_SRC_ALPHA);break;case x.SCREEN:o.blendEquation(o.FUNC_ADD),o.blendFunc(o.ONE,o.ONE_MINUS_SRC_COLOR);break;case x.EXCLUSION:o.blendEquationSeparate(o.FUNC_ADD,o.FUNC_ADD),o.blendFuncSeparate(o.ONE_MINUS_DST_COLOR,o.ONE_MINUS_SRC_COLOR,o.ONE,o.ONE);break;case x.REPLACE:o.blendEquation(o.FUNC_ADD),o.blendFunc(o.ONE,o.ZERO);break;case x.SUBTRACT:o.blendEquationSeparate(o.FUNC_REVERSE_SUBTRACT,o.FUNC_ADD),o.blendFuncSeparate(o.ONE,o.ONE,o.ONE,o.ONE_MINUS_SRC_ALPHA);break;case x.DARKEST:this.blendExt?(o.blendEquationSeparate(this.blendExt.MIN||this.blendExt.MIN_EXT,o.FUNC_ADD),o.blendFuncSeparate(o.ONE,o.ONE,o.ONE,o.ONE)):console.warn("blendMode(DARKEST) does not work in your browser in WEBGL mode.");break;case x.LIGHTEST:this.blendExt?(o.blendEquationSeparate(this.blendExt.MAX||this.blendExt.MAX_EXT,o.FUNC_ADD),o.blendFuncSeparate(o.ONE,o.ONE,o.ONE,o.ONE)):console.warn("blendMode(LIGHTEST) does not work in your browser in WEBGL mode.");break;default:console.error("Oops! Somehow RendererGL set curBlendMode to an unsupported mode.")}this._isErasing||(this._cachedBlendMode=this.curBlendMode)}};var j=u.default;y.default=j},{"../core/constants":262,"../core/main":273,"./p5.Texture":330,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.join":161,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],321:[function(t,A,y){t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.string.sub"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.string.sub"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var d=(t=t("../core/main"))&&t.__esModule?t:{default:t};function c(u,x){for(var j=0;j<x.length;j++){var o=x[j];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(u,o.key,o)}}d.default.prototype.camera=function(){var u;this._assert3d("camera");for(var x=arguments.length,j=new Array(x),o=0;o<x;o++)j[o]=arguments[o];return d.default._validateParameters("camera",j),(u=this._renderer._curCamera).camera.apply(u,j),this},d.default.prototype.perspective=function(){var u;this._assert3d("perspective");for(var x=arguments.length,j=new Array(x),o=0;o<x;o++)j[o]=arguments[o];return d.default._validateParameters("perspective",j),(u=this._renderer._curCamera).perspective.apply(u,j),this},d.default.prototype.ortho=function(){var u;this._assert3d("ortho");for(var x=arguments.length,j=new Array(x),o=0;o<x;o++)j[o]=arguments[o];return d.default._validateParameters("ortho",j),(u=this._renderer._curCamera).ortho.apply(u,j),this},d.default.prototype.frustum=function(){var u;this._assert3d("frustum");for(var x=arguments.length,j=new Array(x),o=0;o<x;o++)j[o]=arguments[o];return d.default._validateParameters("frustum",j),(u=this._renderer._curCamera).frustum.apply(u,j),this},d.default.prototype.createCamera=function(){this._assert3d("createCamera");var u=new d.default.Camera(this._renderer);return u._computeCameraDefaultSettings(),u._setDefaultCamera(),this._renderer._curCamera=u},d.default.Camera=function(){function u(o){if(!(this instanceof u))throw new TypeError("Cannot call a class as a function");this._renderer=o,this.cameraType="default",this.cameraMatrix=new d.default.Matrix,this.projMatrix=new d.default.Matrix,this.yScale=1}var x,j;return x=u,(j=[{key:"perspective",value:function(o,h,f,l){this.cameraType=0<arguments.length?"custom":"default",o===void 0?(o=this.defaultCameraFOV,this.cameraFOV=o):this.cameraFOV=this._renderer._pInst._toRadians(o),h===void 0&&(h=this.defaultAspectRatio),f===void 0&&(f=this.defaultCameraNear),l===void 0&&(l=this.defaultCameraFar),f<=1e-4&&(f=.01,console.log("Avoid perspective near plane values close to or below 0. Setting value to 0.01.")),l<f&&console.log("Perspective far plane value is less than near plane value. Nothing will be shown."),this.aspectRatio=h,this.cameraNear=f,this.cameraFar=l,this.projMatrix=d.default.Matrix.identity(),o=1/Math.tan(this.cameraFOV/2);var m=1/(this.cameraNear-this.cameraFar);this.projMatrix.set(o/h,0,0,0,0,-o*this.yScale,0,0,0,0,(l+f)*m,-1,0,0,2*l*f*m,0),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix.mat4[0],this.projMatrix.mat4[1],this.projMatrix.mat4[2],this.projMatrix.mat4[3],this.projMatrix.mat4[4],this.projMatrix.mat4[5],this.projMatrix.mat4[6],this.projMatrix.mat4[7],this.projMatrix.mat4[8],this.projMatrix.mat4[9],this.projMatrix.mat4[10],this.projMatrix.mat4[11],this.projMatrix.mat4[12],this.projMatrix.mat4[13],this.projMatrix.mat4[14],this.projMatrix.mat4[15])}},{key:"ortho",value:function(o,h,f,l,m,_){o===void 0&&(o=-this._renderer.width/2),h===void 0&&(h=+this._renderer.width/2),f===void 0&&(f=-this._renderer.height/2),l===void 0&&(l=+this._renderer.height/2),m===void 0&&(m=0),_===void 0&&(_=Math.max(this._renderer.width,this._renderer.height)),this.cameraNear=m;var w=h-o,v=l-f,E=(this.cameraFar=_)-m,C=2/w,O=2/v*this.yScale,U=-2/E;h=-(h+o)/w,o=-(l+f)/v,w=-(_+m)/E,this.projMatrix=d.default.Matrix.identity(),this.projMatrix.set(C,0,0,0,0,-O,0,0,0,0,U,0,h,o,w,1),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix.mat4[0],this.projMatrix.mat4[1],this.projMatrix.mat4[2],this.projMatrix.mat4[3],this.projMatrix.mat4[4],this.projMatrix.mat4[5],this.projMatrix.mat4[6],this.projMatrix.mat4[7],this.projMatrix.mat4[8],this.projMatrix.mat4[9],this.projMatrix.mat4[10],this.projMatrix.mat4[11],this.projMatrix.mat4[12],this.projMatrix.mat4[13],this.projMatrix.mat4[14],this.projMatrix.mat4[15]),this.cameraType="custom"}},{key:"frustum",value:function(o,h,f,l,m,_){o===void 0&&(o=.05*-this._renderer.width),h===void 0&&(h=.05*+this._renderer.width),f===void 0&&(f=.05*+this._renderer.height),l===void 0&&(l=.05*-this._renderer.height),m===void 0&&(m=this.defaultCameraNear),_===void 0&&(_=this.defaultCameraFar),this.cameraNear=m;var w=h-o,v=l-f,E=(this.cameraFar=_)-m,C=2*m/w,O=2*m/v*this.yScale,U=-2*_*m/E;h=(h+o)/w,o=(l+f)/v,w=-(_+m)/E,this.projMatrix=d.default.Matrix.identity(),this.projMatrix.set(C,0,0,0,0,-O,0,0,h,o,w,-1,0,0,U,0),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix.mat4[0],this.projMatrix.mat4[1],this.projMatrix.mat4[2],this.projMatrix.mat4[3],this.projMatrix.mat4[4],this.projMatrix.mat4[5],this.projMatrix.mat4[6],this.projMatrix.mat4[7],this.projMatrix.mat4[8],this.projMatrix.mat4[9],this.projMatrix.mat4[10],this.projMatrix.mat4[11],this.projMatrix.mat4[12],this.projMatrix.mat4[13],this.projMatrix.mat4[14],this.projMatrix.mat4[15]),this.cameraType="custom"}},{key:"_rotateView",value:function(o,h,f,l){var m=this.centerX,_=this.centerY,w=this.centerZ,v=(m-=this.eyeX,_-=this.eyeY,w-=this.eyeZ,d.default.Matrix.identity(this._renderer._pInst));(o=(v.rotate(this._renderer._pInst._toRadians(o),h,f,l),[m*v.mat4[0]+_*v.mat4[4]+w*v.mat4[8],m*v.mat4[1]+_*v.mat4[5]+w*v.mat4[9],m*v.mat4[2]+_*v.mat4[6]+w*v.mat4[10]]))[0]+=this.eyeX,o[1]+=this.eyeY,o[2]+=this.eyeZ,this.camera(this.eyeX,this.eyeY,this.eyeZ,o[0],o[1],o[2],this.upX,this.upY,this.upZ)}},{key:"pan",value:function(o){var h=this._getLocalAxes();this._rotateView(o,h.y[0],h.y[1],h.y[2])}},{key:"tilt",value:function(o){var h=this._getLocalAxes();this._rotateView(o,h.x[0],h.x[1],h.x[2])}},{key:"lookAt",value:function(o,h,f){this.camera(this.eyeX,this.eyeY,this.eyeZ,o,h,f,this.upX,this.upY,this.upZ)}},{key:"camera",value:function(o,h,f,l,m,_,w,v,E){return o===void 0&&(o=this.defaultEyeX,h=this.defaultEyeY,f=this.defaultEyeZ,l=o,m=h,v=1,E=w=_=0),this.eyeX=o,this.eyeY=h,this.eyeZ=f,l!==void 0&&(this.centerX=l,this.centerY=m,this.centerZ=_),w!==void 0&&(this.upX=w,this.upY=v,this.upZ=E),l=this._getLocalAxes(),this.cameraMatrix.set(l.x[0],l.y[0],l.z[0],0,l.x[1],l.y[1],l.z[1],0,l.x[2],l.y[2],l.z[2],0,0,0,0,1),m=-o,this.cameraMatrix.translate([m,-h,-f]),this._isActive()&&this._renderer.uMVMatrix.set(this.cameraMatrix.mat4[0],this.cameraMatrix.mat4[1],this.cameraMatrix.mat4[2],this.cameraMatrix.mat4[3],this.cameraMatrix.mat4[4],this.cameraMatrix.mat4[5],this.cameraMatrix.mat4[6],this.cameraMatrix.mat4[7],this.cameraMatrix.mat4[8],this.cameraMatrix.mat4[9],this.cameraMatrix.mat4[10],this.cameraMatrix.mat4[11],this.cameraMatrix.mat4[12],this.cameraMatrix.mat4[13],this.cameraMatrix.mat4[14],this.cameraMatrix.mat4[15]),this}},{key:"move",value:function(o,h,f){o=[(l=this._getLocalAxes()).x[0]*o,l.x[1]*o,l.x[2]*o],h=[l.y[0]*h,l.y[1]*h,l.y[2]*h];var l=[l.z[0]*f,l.z[1]*f,l.z[2]*f];this.camera(this.eyeX+o[0]+h[0]+l[0],this.eyeY+o[1]+h[1]+l[1],this.eyeZ+o[2]+h[2]+l[2],this.centerX+o[0]+h[0]+l[0],this.centerY+o[1]+h[1]+l[1],this.centerZ+o[2]+h[2]+l[2],this.upX,this.upY,this.upZ)}},{key:"setPosition",value:function(o,h,f){var l=o-this.eyeX,m=h-this.eyeY,_=f-this.eyeZ;this.camera(o,h,f,this.centerX+l,this.centerY+m,this.centerZ+_,this.upX,this.upY,this.upZ)}},{key:"set",value:function(o){for(var h=0,f=["eyeX","eyeY","eyeZ","centerX","centerY","centerZ","upX","upY","upZ","cameraFOV","aspectRatio","cameraNear","cameraFar","cameraType"];h<f.length;h++){var l=f[h];this[l]=o[l]}this.cameraMatrix=o.cameraMatrix.copy(),this.projMatrix=o.projMatrix.copy(),this._isActive()&&(this._renderer.uMVMatrix.mat4=this.cameraMatrix.mat4.slice(),this._renderer.uPMatrix.mat4=this.projMatrix.mat4.slice())}},{key:"slerp",value:function(o,h,f){var l,m,_,w,v,E,C,O,U,N,D,H,I,V,G,q,X,B;f===0?this.set(o):f===1?this.set(h):(this.projMatrix.mat4[15]!==0&&(this.projMatrix.mat4[0]=o.projMatrix.mat4[0]*Math.pow(h.projMatrix.mat4[0]/o.projMatrix.mat4[0],f),this.projMatrix.mat4[5]=o.projMatrix.mat4[5]*Math.pow(h.projMatrix.mat4[5]/o.projMatrix.mat4[5],f),this._isActive()&&(this._renderer.uPMatrix.mat4=this.projMatrix.mat4.slice())),w=new d.default.Vector(o.eyeX,o.eyeY,o.eyeZ),v=new d.default.Vector(h.eyeX,h.eyeY,h.eyeZ),q=new d.default.Vector(o.centerX,o.centerY,o.centerZ),B=new d.default.Vector(h.centerX,h.centerY,h.centerZ),_=d.default.Vector.dist(w,q),l=d.default.Vector.dist(v,B),l=_*Math.pow(l/_,f),_=d.default.Vector.sub(w,v),m=1,1e-6<(X=(V=w.copy().sub(v).sub(q).add(B)).magSq())&&(m=d.default.Vector.dot(_,V)/X,m=Math.max(0,Math.min(m,1))),_=d.default.Vector.lerp(d.default.Vector.lerp(w,q,m),d.default.Vector.lerp(v,B,m),f),V=o.cameraMatrix.createSubMatrix3x3(),X=h.cameraMatrix.createSubMatrix3x3(),w=V.column(2),q=X.column(2),v=V.column(1),B=X.column(1),o=new d.default.Vector,h=new d.default.Vector,E=new d.default.Vector,C=new d.default.Vector,1-(O=.5*((V=(X=X.mult3x3(V.copy().transpose3x3())).diagonal())[0]+V[1]+V[2]-1))<1e-7?(o.set(d.default.Vector.lerp(w,q,f)).normalize(),E.set(o).mult(m*l).add(_),C.set(o).mult((m-1)*l).add(_),h.set(d.default.Vector.lerp(v,B,f)).normalize()):(q=1/(1-O),B=Math.max(V[0],V[1],V[2]),H=X.mat3[1]+X.mat3[3],I=X.mat3[2]+X.mat3[6],G=X.mat3[5]+X.mat3[7],B=B===V[0]?(N=.5*H*(q/=U=Math.sqrt((V[0]-O)*q)),D=.5*I*q,.5*(X.mat3[7]-X.mat3[5])/U):B===V[1]?(D=.5*G*(q/=N=Math.sqrt((V[1]-O)*q)),U=.5*H*q,.5*(X.mat3[2]-X.mat3[6])/N):(U=.5*I*(q/=D=Math.sqrt((V[2]-O)*q)),N=.5*G*q,.5*(X.mat3[3]-X.mat3[1])/D),H=f*Math.atan2(B,O),I=Math.cos(H),V=Math.sin(H),(B=new d.default.Matrix("mat3",[I+(G=1-I)*U*U,G*(q=U*N)-V*D,G*(X=D*U)+V*N,G*q+V*D,I+G*N*N,G*(f=N*D)-V*U,G*X-V*N,G*f+V*U,I+G*D*D])).multiplyVec3(w,o),E.set(o).mult(m*l).add(_),C.set(o).mult((m-1)*l).add(_),B.multiplyVec3(v,h)),this.camera(E.x,E.y,E.z,C.x,C.y,C.z,h.x,h.y,h.z))}},{key:"_computeCameraDefaultSettings",value:function(){this.defaultCameraFOV=60/180*Math.PI,this.defaultAspectRatio=this._renderer.width/this._renderer.height,this.defaultEyeX=0,this.defaultEyeY=0,this.defaultEyeZ=this._renderer.height/2/Math.tan(this.defaultCameraFOV/2),this.defaultCenterX=0,this.defaultCenterY=0,this.defaultCenterZ=0,this.defaultCameraNear=.1*this.defaultEyeZ,this.defaultCameraFar=10*this.defaultEyeZ}},{key:"_setDefaultCamera",value:function(){this.cameraFOV=this.defaultCameraFOV,this.aspectRatio=this.defaultAspectRatio,this.eyeX=this.defaultEyeX,this.eyeY=this.defaultEyeY,this.eyeZ=this.defaultEyeZ,this.centerX=this.defaultCenterX,this.centerY=this.defaultCenterY,this.centerZ=this.defaultCenterZ,this.upX=0,this.upY=1,this.upZ=0,this.cameraNear=this.defaultCameraNear,this.cameraFar=this.defaultCameraFar,this.perspective(),this.camera(),this.cameraType="default"}},{key:"_resize",value:function(){this.cameraType==="default"?(this._computeCameraDefaultSettings(),this._setDefaultCamera()):this.perspective(this.cameraFOV,this._renderer.width/this._renderer.height)}},{key:"copy",value:function(){var o=new d.default.Camera(this._renderer);return o.cameraFOV=this.cameraFOV,o.aspectRatio=this.aspectRatio,o.eyeX=this.eyeX,o.eyeY=this.eyeY,o.eyeZ=this.eyeZ,o.centerX=this.centerX,o.centerY=this.centerY,o.centerZ=this.centerZ,o.upX=this.upX,o.upY=this.upY,o.upZ=this.upZ,o.cameraNear=this.cameraNear,o.cameraFar=this.cameraFar,o.cameraType=this.cameraType,o.cameraMatrix=this.cameraMatrix.copy(),o.projMatrix=this.projMatrix.copy(),o}},{key:"_getLocalAxes",value:function(){var o,h=this.eyeX-this.centerX,f=this.eyeY-this.centerY,l=this.eyeZ-this.centerZ,m=((m=Math.sqrt(h*h+f*f+l*l))!==0&&(h/=m,f/=m,l/=m),this.upX),_=(E=this.upY)*l-(C=this.upZ)*f,w=-m*l+C*h,v=m*f-E*h,E=(m=f*v-l*w,-h*v+l*_),C=h*w-f*_;return(o=((o=Math.sqrt(_*_+w*w+v*v))!==0&&(_/=o,w/=o,v/=o),Math.sqrt(m*m+E*E+C*C)))!==0&&(m/=o,E/=o,C/=o),{x:[_,w,v],y:[m,E,C],z:[h,f,l]}}},{key:"_orbit",value:function(o,h,f){var l=this.eyeX-this.centerX,m=this.eyeY-this.centerY,_=this.eyeZ-this.centerZ,w=Math.hypot(l,m,_),v=(l=new d.default.Vector(l,m,_).normalize(),m=new d.default.Vector(this.upX,this.upY,this.upZ).normalize(),_=new d.default.Vector.cross(m,l).normalize(),new d.default.Vector.cross(_,m));(w=(w*=Math.pow(10,f))<this.cameraNear?this.cameraNear:w)>this.cameraFar&&(w=this.cameraFar),f=Math.acos(Math.max(-1,Math.min(1,d.default.Vector.dot(l,m))))+h,h=o,(f<=0||f>=Math.PI)&&(this.upX*=-1,this.upY*=-1,this.upZ*=-1),m.mult(Math.cos(f)),v.mult(Math.cos(h)*Math.sin(f)),_.mult(Math.sin(h)*Math.sin(f)),l.set(m).add(v).add(_),this.eyeX=w*l.x+this.centerX,this.eyeY=w*l.y+this.centerY,this.eyeZ=w*l.z+this.centerZ,this.camera(this.eyeX,this.eyeY,this.eyeZ,this.centerX,this.centerY,this.centerZ,this.upX,this.upY,this.upZ)}},{key:"_orbitFree",value:function(o,h,f){var l=this.eyeX-this.centerX,m=this.eyeY-this.centerY,_=this.eyeZ-this.centerZ,w=Math.hypot(l,m,_),v=(l=new d.default.Vector(l,m,_).normalize(),m=new d.default.Vector(this.upX,this.upY,this.upZ),_=new d.default.Vector.cross(m,l).normalize(),new d.default.Vector.cross(l,_)),E=Math.atan2(h,o),C=(E=(v.mult(Math.sin(E)),_.mult(Math.cos(E)).add(v),Math.sqrt(o*o+h*h)),v=new d.default.Vector.cross(l,_),o=((w=(w*=Math.pow(10,f))<this.cameraNear?this.cameraNear:w)>this.cameraFar&&(w=this.cameraFar),Math.cos(E)),h=Math.sin(E),(f=m.dot(l))*o+(E=m.dot(_))*h);f=-f*h+E*o,E=m.dot(v),m.x=C*l.x+f*_.x+E*v.x,m.y=C*l.y+f*_.y+E*v.y,m.z=C*l.z+f*_.z+E*v.z,_.mult(-h),l.mult(o).add(_).mult(w),this.camera(l.x+this.centerX,l.y+this.centerY,l.z+this.centerZ,this.centerX,this.centerY,this.centerZ,m.x,m.y,m.z)}},{key:"_isActive",value:function(){return this===this._renderer._curCamera}}])&&c(x.prototype,j),u}(),d.default.prototype.setCamera=function(u){this._renderer._curCamera=u,this._renderer.uPMatrix.set(u.projMatrix.mat4[0],u.projMatrix.mat4[1],u.projMatrix.mat4[2],u.projMatrix.mat4[3],u.projMatrix.mat4[4],u.projMatrix.mat4[5],u.projMatrix.mat4[6],u.projMatrix.mat4[7],u.projMatrix.mat4[8],u.projMatrix.mat4[9],u.projMatrix.mat4[10],u.projMatrix.mat4[11],u.projMatrix.mat4[12],u.projMatrix.mat4[13],u.projMatrix.mat4[14],u.projMatrix.mat4[15])},t=d.default.Camera,y.default=t},{"../core/main":273,"core-js/modules/es.array.slice":164,"core-js/modules/es.math.hypot":169,"core-js/modules/es.string.sub":198}],322:[function(t,A,y){function d(N){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(D){return typeof D}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D})(N)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.reflect.get"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.float32-array"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.uint8-clamped-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.reflect.get"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.float32-array"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.uint8-clamped-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var c=(U=t("../core/main"))&&U.__esModule?U:{default:U},u=function(N){if(N&&N.__esModule)return N;if(N===null||f(N)!=="object"&&typeof N!="function")return{default:N};var D=function(){var q;return typeof WeakMap!="function"?null:(q=new WeakMap,q)}();if(D&&D.has(N))return D.get(N);var H,I={},V=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(H in N){var G;Object.prototype.hasOwnProperty.call(N,H)&&((G=V?Object.getOwnPropertyDescriptor(N,H):null)&&(G.get||G.set)?Object.defineProperty(I,H,G):I[H]=N[H])}return I.default=N,D&&D.set(N,I),I}(t("../core/constants")),x=t("./p5.Texture"),j=t("./p5.RendererGL");function o(N,D){return function(H){if(Array.isArray(H))return H}(N)||function(H,I){if(Symbol.iterator in Object(H)||Object.prototype.toString.call(H)==="[object Arguments]"){var V=[],G=!0,q=!1,X=void 0;try{for(var B,W=H[Symbol.iterator]();!(G=(B=W.next()).done)&&(V.push(B.value),!I||V.length!==I);G=!0);}catch(K){q=!0,X=K}finally{try{G||W.return==null||W.return()}finally{if(q)throw X}}return V}}(N,D)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function h(N,D,H){return D in N?Object.defineProperty(N,D,{value:H,enumerable:!0,configurable:!0,writable:!0}):N[D]=H,N}function f(N){return(f=typeof Symbol=="function"&&d(Symbol.iterator)==="symbol"?function(D){return d(D)}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":d(D)})(N)}function l(N,D){if(!(N instanceof D))throw new TypeError("Cannot call a class as a function")}function m(N,D){for(var H=0;H<D.length;H++){var I=D[H];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(N,I.key,I)}}function _(N,D,H){D&&m(N.prototype,D)}function w(N,D,H){return(w=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(I,V,G){if(I=function(q,X){for(;!Object.prototype.hasOwnProperty.call(q,X)&&(q=E(q))!==null;);return q}(I,V))return(I=Object.getOwnPropertyDescriptor(I,V)).get?I.get.call(G):I.value})(N,D,H||N)}function v(N,D){return(v=Object.setPrototypeOf||function(H,I){return H.__proto__=I,H})(N,D)}function E(N){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(D){return D.__proto__||Object.getPrototypeOf(D)})(N)}var C=function(N){var D=I;if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function");D.prototype=Object.create(N&&N.prototype,{constructor:{value:D,writable:!0,configurable:!0}}),N&&v(D,N);var H=function(V){return function(){var G,q=E(V);if(G=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(G=E(this).constructor,Reflect.construct(q,arguments,G)):q.apply(this,arguments),q=this,!G||f(G)!=="object"&&typeof G!="function"){if(q!==void 0)return q;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return G}}(I);function I(V){var G;return l(this,I),(G=H.call(this,V.target._renderer)).fbo=V,G.yScale=-1,G}return _(I,[{key:"_computeCameraDefaultSettings",value:function(){w(E(I.prototype),"_computeCameraDefaultSettings",this).call(this),this.defaultAspectRatio=this.fbo.width/this.fbo.height,this.defaultEyeZ=this.fbo.height/2/Math.tan(this.defaultCameraFOV/2),this.defaultCameraNear=.1*this.defaultEyeZ,this.defaultCameraFar=10*this.defaultEyeZ}},{key:"_resize",value:function(){this.cameraType==="default"?(this._computeCameraDefaultSettings(),this._setDefaultCamera()):this.perspective(this.cameraFOV,this.fbo.width/this.fbo.height)}}]),I}(c.default.Camera),O=(c.default.FramebufferCamera=C,function(){function N(D,H){l(this,N),this.framebuffer=D,this.property=H}return _(N,[{key:"rawTexture",value:function(){return this.framebuffer[this.property]}},{key:"width",get:function(){return this.framebuffer.width*this.framebuffer.density}},{key:"height",get:function(){return this.framebuffer.height*this.framebuffer.density}}]),N}()),U=(c.default.FramebufferTexture=O,function(){function N(D){var H=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};if(l(this,N),this.target=D,this.target._renderer.framebuffers.add(this),this.pixels=[],this.format=H.format||u.UNSIGNED_BYTE,this.channels=H.channels||(D._renderer._pInst._glAttributes.alpha?u.RGBA:u.RGB),this.useDepth=H.depth===void 0||H.depth,this.depthFormat=H.depthFormat||u.FLOAT,this.textureFiltering=H.textureFiltering||u.LINEAR,H.antialias===void 0?this.antialiasSamples=D._renderer._pInst._glAttributes.antialias?2:0:typeof H.antialias=="number"?this.antialiasSamples=H.antialias:this.antialiasSamples=H.antialias?2:0,this.antialias=0<this.antialiasSamples,this.antialias&&D.webglVersion!==u.WEBGL2&&(console.warn("Antialiasing is unsupported in a WebGL 1 context"),this.antialias=!1),H.width&&H.height?(this.width=H.width,this.height=H.height,this.autoSized=!1):(H.width===void 0!=(H.height===void 0)&&console.warn("Please supply both width and height for a framebuffer to give it a size. Only one was given, so the framebuffer will match the size of its canvas."),this.width=D.width,this.height=D.height,this.autoSized=!0),this.density=H.density||D.pixelDensity(),H=D._renderer.GL,this.gl=H,this._checkIfFormatsAvailable(),this.framebuffer=H.createFramebuffer(),!this.framebuffer)throw new Error("Unable to create a framebuffer");if(this.antialias&&(this.aaFramebuffer=H.createFramebuffer(),!this.aaFramebuffer))throw new Error("Unable to create a framebuffer for antialiasing");this._recreateTextures(),D=this.target._renderer._curCamera,this.defaultCamera=this.createCamera(),this.target._renderer._curCamera=D}return _(N,[{key:"resize",value:function(D,H){this.autoSized=!1,this.width=D,this.height=H,this._handleResize()}},{key:"pixelDensity",value:function(D){if(!D)return this.density;this.autoSized=!1,this.density=D,this._handleResize()}},{key:"autoSized",value:function(D){if(D===void 0)return this.autoSized;this.autoSized=D,this._handleResize()}},{key:"_checkIfFormatsAvailable",value:function(){var D=this.gl;(D=(this.useDepth&&this.target.webglVersion===u.WEBGL&&!D.getExtension("WEBGL_depth_texture")&&(console.warn("Unable to create depth textures in this environment. Falling back to a framebuffer without depth."),this.useDepth=!1),this.useDepth&&this.target.webglVersion===u.WEBGL&&this.depthFormat===u.FLOAT&&(console.warn("FLOAT depth format is unavailable in WebGL 1. Defaulting to UNSIGNED_INT."),this.depthFormat=u.UNSIGNED_INT),[u.UNSIGNED_BYTE,u.FLOAT,u.HALF_FLOAT].includes(this.format)||(console.warn("Unknown Framebuffer format. Please use UNSIGNED_BYTE, FLOAT, or HALF_FLOAT. Defaulting to UNSIGNED_BYTE."),this.format=u.UNSIGNED_BYTE),this.useDepth&&![u.UNSIGNED_INT,u.FLOAT].includes(this.depthFormat)&&(console.warn("Unknown Framebuffer depth format. Please use UNSIGNED_INT or FLOAT. Defaulting to FLOAT."),this.depthFormat=u.FLOAT),(0,x.checkWebGLCapabilities)(this.target._renderer))).float||this.format!==u.FLOAT||(console.warn("This environment does not support FLOAT textures. Falling back to UNSIGNED_BYTE."),this.format=u.UNSIGNED_BYTE),this.useDepth&&!D.float&&this.depthFormat===u.FLOAT&&(console.warn("This environment does not support FLOAT depth textures. Falling back to UNSIGNED_INT."),this.depthFormat=u.UNSIGNED_INT),D.halfFloat||this.format!==u.HALF_FLOAT||(console.warn("This environment does not support HALF_FLOAT textures. Falling back to UNSIGNED_BYTE."),this.format=u.UNSIGNED_BYTE),this.channels===u.RGB&&[u.FLOAT,u.HALF_FLOAT].includes(this.format)&&(console.warn("FLOAT and HALF_FLOAT formats do not work cross-platform with only RGB channels. Falling back to RGBA."),this.channels=u.RGBA)}},{key:"_recreateTextures",value:function(){var D=this.gl,H=(this._updateSize(),D.getParameter(D.TEXTURE_BINDING_2D)),I=D.getParameter(D.FRAMEBUFFER_BINDING);if(!(G=D.createTexture()))throw new Error("Unable to create color texture");D.bindTexture(D.TEXTURE_2D,G);var V=this._glColorFormat();if(D.texImage2D(D.TEXTURE_2D,0,V.internalFormat,this.width*this.density,this.height*this.density,0,V.format,V.type,null),this.colorTexture=G,D.bindFramebuffer(D.FRAMEBUFFER,this.framebuffer),D.framebufferTexture2D(D.FRAMEBUFFER,D.COLOR_ATTACHMENT0,D.TEXTURE_2D,G,0),this.useDepth){var G;if(!(G=D.createTexture()))throw new Error("Unable to create depth texture");var q=this._glDepthFormat();D.bindTexture(D.TEXTURE_2D,G),D.texImage2D(D.TEXTURE_2D,0,q.internalFormat,this.width*this.density,this.height*this.density,0,q.format,q.type,null),D.framebufferTexture2D(D.FRAMEBUFFER,D.DEPTH_ATTACHMENT,D.TEXTURE_2D,G,0),this.depthTexture=G}this.antialias&&(this.colorRenderbuffer=D.createRenderbuffer(),D.bindRenderbuffer(D.RENDERBUFFER,this.colorRenderbuffer),D.renderbufferStorageMultisample(D.RENDERBUFFER,Math.max(0,Math.min(this.antialiasSamples,D.getParameter(D.MAX_SAMPLES))),V.internalFormat,this.width*this.density,this.height*this.density),this.useDepth&&(q=this._glDepthFormat(),this.depthRenderbuffer=D.createRenderbuffer(),D.bindRenderbuffer(D.RENDERBUFFER,this.depthRenderbuffer),D.renderbufferStorageMultisample(D.RENDERBUFFER,Math.max(0,Math.min(this.antialiasSamples,D.getParameter(D.MAX_SAMPLES))),q.internalFormat,this.width*this.density,this.height*this.density)),D.bindFramebuffer(D.FRAMEBUFFER,this.aaFramebuffer),D.framebufferRenderbuffer(D.FRAMEBUFFER,D.COLOR_ATTACHMENT0,D.RENDERBUFFER,this.colorRenderbuffer),this.useDepth&&D.framebufferRenderbuffer(D.FRAMEBUFFER,D.DEPTH_ATTACHMENT,D.RENDERBUFFER,this.depthRenderbuffer)),this.useDepth&&(this.depth=new O(this,"depthTexture"),G=D.NEAREST,this.depthP5Texture=new c.default.Texture(this.target._renderer,this.depth,{minFilter:G,magFilter:G}),this.target._renderer.textures.set(this.depth,this.depthP5Texture)),this.color=new O(this,"colorTexture"),V=this.textureFiltering===u.LINEAR?D.LINEAR:D.NEAREST,this.colorP5Texture=new c.default.Texture(this.target._renderer,this.color,{glMinFilter:V,glMagFilter:V}),this.target._renderer.textures.set(this.color,this.colorP5Texture),D.bindTexture(D.TEXTURE_2D,H),D.bindFramebuffer(D.FRAMEBUFFER,I)}},{key:"_glColorFormat",value:function(){var D,H,I=this.gl,V=this.format===u.FLOAT?I.FLOAT:this.format===u.HALF_FLOAT?this.target.webglVersion===u.WEBGL2?I.HALF_FLOAT:I.getExtension("OES_texture_half_float").HALF_FLOAT_OES:I.UNSIGNED_BYTE,G=this.channels===u.RGBA?I.RGBA:I.RGB;return{internalFormat:this.target.webglVersion===u.WEBGL2?(h(H={},I.FLOAT,h({},I.RGBA,I.RGBA32F)),h(H,I.HALF_FLOAT,h({},I.RGBA,I.RGBA16F)),h(H,I.UNSIGNED_BYTE,(h(D={},I.RGBA,I.RGBA8),h(D,I.RGB,I.RGB8),D)),H[V][G]):this.format===u.HALF_FLOAT?I.RGBA:G,format:G,type:V}}},{key:"_glDepthFormat",value:function(){var D=this.gl,H=this.depthFormat===u.FLOAT?D.FLOAT:D.UNSIGNED_INT,I=D.DEPTH_COMPONENT;return{internalFormat:D=this.target.webglVersion===u.WEBGL2?this.depthFormat===u.FLOAT?D.DEPTH_COMPONENT32F:D.DEPTH_COMPONENT24:D.DEPTH_COMPONENT,format:I,type:H}}},{key:"_updateSize",value:function(){this.autoSized&&(this.width=this.target.width,this.height=this.target.height,this.density=this.target.pixelDensity())}},{key:"_canvasSizeChanged",value:function(){this.autoSized&&this._handleResize()}},{key:"_handleResize",value:function(){var D=this.color,H=this.depth,I=this.colorRenderbuffer,V=this.depthRenderbuffer;this._deleteTexture(D),H&&this._deleteTexture(H),D=this.gl,I&&D.deleteRenderbuffer(I),V&&D.deleteRenderbuffer(V),this._recreateTextures(),this.defaultCamera._resize()}},{key:"createCamera",value:function(){var D=new C(this);return D._computeCameraDefaultSettings(),D._setDefaultCamera(),this.target._renderer._curCamera=D}},{key:"_deleteTexture",value:function(D){this.gl.deleteTexture(D.rawTexture()),this.target._renderer.textures.delete(D)}},{key:"remove",value:function(){var D=this.gl;this._deleteTexture(this.color),this.depth&&this._deleteTexture(this.depth),D.deleteFramebuffer(this.framebuffer),this.aaFramebuffer&&D.deleteFramebuffer(this.aaFramebuffer),this.depthRenderbuffer&&D.deleteRenderbuffer(this.depthRenderbuffer),this.colorRenderbuffer&&D.deleteRenderbuffer(this.colorRenderbuffer),this.target._renderer.framebuffers.delete(this)}},{key:"begin",value:function(){var D=this.gl;this.prevFramebuffer=D.getParameter(D.FRAMEBUFFER_BINDING),this.antialias?D.bindFramebuffer(D.FRAMEBUFFER,this.aaFramebuffer):D.bindFramebuffer(D.FRAMEBUFFER,this.framebuffer),this.prevViewport=D.getParameter(D.VIEWPORT),D.viewport(0,0,this.width*this.density,this.height*this.density),this.target.push(),this.target.setCamera(this.defaultCamera),this.target._renderer.uMVMatrix.set(this.target._renderer._curCamera.cameraMatrix.mat4[0],this.target._renderer._curCamera.cameraMatrix.mat4[1],this.target._renderer._curCamera.cameraMatrix.mat4[2],this.target._renderer._curCamera.cameraMatrix.mat4[3],this.target._renderer._curCamera.cameraMatrix.mat4[4],this.target._renderer._curCamera.cameraMatrix.mat4[5],this.target._renderer._curCamera.cameraMatrix.mat4[6],this.target._renderer._curCamera.cameraMatrix.mat4[7],this.target._renderer._curCamera.cameraMatrix.mat4[8],this.target._renderer._curCamera.cameraMatrix.mat4[9],this.target._renderer._curCamera.cameraMatrix.mat4[10],this.target._renderer._curCamera.cameraMatrix.mat4[11],this.target._renderer._curCamera.cameraMatrix.mat4[12],this.target._renderer._curCamera.cameraMatrix.mat4[13],this.target._renderer._curCamera.cameraMatrix.mat4[14],this.target._renderer._curCamera.cameraMatrix.mat4[15])}},{key:"end",value:function(){var D=this.gl;if(this.antialias){D.bindFramebuffer(D.READ_FRAMEBUFFER,this.aaFramebuffer),D.bindFramebuffer(D.DRAW_FRAMEBUFFER,this.framebuffer);var H=[[D.COLOR_BUFFER_BIT,this.colorP5Texture.glMagFilter]];this.useDepth&&H.push([D.DEPTH_BUFFER_BIT,this.depthP5Texture.glMagFilter]);for(var I=0,V=H;I<V.length;I++){var G=(q=o(V[I],2))[0],q=q[1];D.blitFramebuffer(0,0,this.width*this.density,this.height*this.density,0,0,this.width*this.density,this.height*this.density,G,q)}}D.bindFramebuffer(D.FRAMEBUFFER,this.prevFramebuffer),D.viewport.apply(D,function(X){return function(B){if(Array.isArray(B)){for(var W=0,K=new Array(B.length);W<B.length;W++)K[W]=B[W];return K}}(X)||function(B){if(Symbol.iterator in Object(B)||Object.prototype.toString.call(B)==="[object Arguments]")return Array.from(B)}(X)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}(this.prevViewport)),this.target.pop()}},{key:"draw",value:function(D){this.begin(),D(),this.end()}},{key:"loadPixels",value:function(){var D=this.gl,H=D.getParameter(D.FRAMEBUFFER_BINDING),I=(D.bindFramebuffer(D.FRAMEBUFFER,this.framebuffer),this._glColorFormat());this.pixels=(0,j.readPixelsWebGL)(this.pixels,D,this.framebuffer,0,0,this.width*this.density,this.height*this.density,I.format,I.type),D.bindFramebuffer(D.FRAMEBUFFER,H)}},{key:"get",value:function(D,H,I,V){c.default._validateParameters("p5.Framebuffer.get",arguments);var G=this._glColorFormat();if(D===void 0&&H===void 0)H=D=0,I=this.width,V=this.height;else if(I===void 0&&V===void 0)return(D<0||H<0||D>=this.width||H>=this.height)&&(console.warn("The x and y values passed to p5.Framebuffer.get are outside of its range and will be clamped."),D=this.target.constrain(D,0,this.width-1),H=this.target.constrain(H,0,this.height-1)),(0,j.readPixelWebGL)(this.gl,this.framebuffer,D*this.density,H*this.density,G.format,G.type);D=this.target.constrain(D,0,this.width-1),H=this.target.constrain(H,0,this.height-1),I=this.target.constrain(I,1,this.width-D),V=this.target.constrain(V,1,this.height-H);for(var q=(0,j.readPixelsWebGL)(void 0,this.gl,this.framebuffer,D*this.density,H*this.density,I*this.density,V*this.density,G.format,G.type),X=new Uint8ClampedArray(I*V*this.density*this.density*4),B=(X.fill(255),G.type===this.gl.RGB?3:4),W=0;W<V*this.density;W++)for(var K=0;K<I*this.density;K++)for(var ee=0;ee<4;ee++){var re,oe=4*(W*I*this.density+K)+ee;ee<B&&(re=B==4?oe:(W*I*this.density+K)*B+ee,X[oe]=q[re])}return(D=new c.default.Image(I*this.density,V*this.density)).imageData=D.canvas.getContext("2d").createImageData(D.width,D.height),D.imageData.data.set(X),D.pixels=D.imageData.data,D.updatePixels(),this.density!==1&&D.resize(I,V),D}},{key:"updatePixels",value:function(){var D=this.gl,H=(this.colorP5Texture.bindTexture(),this._glColorFormat()),I=H.format===D.RGBA?4:3,V=(I=this.width*this.height*this.density*this.density*I,H.type===D.UNSIGNED_BYTE?Uint8Array:Float32Array);if(!(this.pixels instanceof V)||this.pixels.length!==I)throw new Error("The pixels array has not been set correctly. Please call loadPixels() before updatePixels().");D.texImage2D(D.TEXTURE_2D,0,H.internalFormat,this.width*this.density,this.height*this.density,0,H.format,H.type,this.pixels),this.colorP5Texture.unbindTexture(),this.prevFramebuffer=D.getParameter(D.FRAMEBUFFER_BINDING),this.antialias?(this.begin(),this.target.push(),this.target.imageMode(this.target.CENTER),this.target.resetMatrix(),this.target.noStroke(),this.target.clear(),this.target.image(this,0,0),this.target.pop(),this.useDepth&&(D.clearDepth(1),D.clear(D.DEPTH_BUFFER_BIT)),this.end()):(D.bindFramebuffer(D.FRAMEBUFFER,this.framebuffer),this.useDepth&&(D.clearDepth(1),D.clear(D.DEPTH_BUFFER_BIT)),D.bindFramebuffer(D.FRAMEBUFFER,this.prevFramebuffer))}}]),N}());t=c.default.Framebuffer=U,y.default=t},{"../core/constants":262,"../core/main":273,"./p5.RendererGL":328,"./p5.Texture":330,"core-js/modules/es.array.fill":154,"core-js/modules/es.array.from":157,"core-js/modules/es.array.includes":158,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.get-prototype-of":178,"core-js/modules/es.object.to-string":180,"core-js/modules/es.reflect.construct":182,"core-js/modules/es.reflect.get":183,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.includes":189,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.typed-array.copy-within":203,"core-js/modules/es.typed-array.every":204,"core-js/modules/es.typed-array.fill":205,"core-js/modules/es.typed-array.filter":206,"core-js/modules/es.typed-array.find":208,"core-js/modules/es.typed-array.find-index":207,"core-js/modules/es.typed-array.float32-array":209,"core-js/modules/es.typed-array.for-each":211,"core-js/modules/es.typed-array.includes":212,"core-js/modules/es.typed-array.index-of":213,"core-js/modules/es.typed-array.iterator":216,"core-js/modules/es.typed-array.join":217,"core-js/modules/es.typed-array.last-index-of":218,"core-js/modules/es.typed-array.map":219,"core-js/modules/es.typed-array.reduce":221,"core-js/modules/es.typed-array.reduce-right":220,"core-js/modules/es.typed-array.reverse":222,"core-js/modules/es.typed-array.set":223,"core-js/modules/es.typed-array.slice":224,"core-js/modules/es.typed-array.some":225,"core-js/modules/es.typed-array.sort":226,"core-js/modules/es.typed-array.subarray":227,"core-js/modules/es.typed-array.to-locale-string":228,"core-js/modules/es.typed-array.to-string":229,"core-js/modules/es.typed-array.uint8-array":232,"core-js/modules/es.typed-array.uint8-clamped-array":233,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],323:[function(t,A,y){t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.string.sub"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.string.sub"),t("core-js/modules/web.dom-collections.for-each"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var d=(t=t("../core/main"))&&t.__esModule?t:{default:t};function c(u,x){for(var j=0;j<x.length;j++){var o=x[j];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(u,o.key,o)}}d.default.Geometry=function(){function u(o,h,f){if(this instanceof u)return this.vertices=[],this.lineVertices=[],this.lineTangentsIn=[],this.lineTangentsOut=[],this.lineSides=[],this.vertexNormals=[],this.faces=[],this.uvs=[],this.edges=[],this.vertexColors=[],this.vertexStrokeColors=[],this.lineVertexColors=[],this.detailX=o!==void 0?o:1,this.detailY=h!==void 0?h:1,this.dirtyFlags={},f instanceof Function&&f.call(this),this;throw new TypeError("Cannot call a class as a function")}var x,j;return x=u,(j=[{key:"reset",value:function(){this.lineVertices.length=0,this.lineTangentsIn.length=0,this.lineTangentsOut.length=0,this.lineSides.length=0,this.vertices.length=0,this.edges.length=0,this.vertexColors.length=0,this.vertexStrokeColors.length=0,this.lineVertexColors.length=0,this.vertexNormals.length=0,this.uvs.length=0,this.dirtyFlags={}}},{key:"computeFaces",value:function(){this.faces.length=0;for(var o,h,f,l=this.detailX+1,m=0;m<this.detailY;m++)for(var _=0;_<this.detailX;_++)h=(m+1)*l+_+1,this.faces.push([m*l+_,o=m*l+_+1,f=(m+1)*l+_]),this.faces.push([f,o,h]);return this}},{key:"_getFaceNormal",value:function(o){o=this.faces[o];var h=this.vertices[o[0]],f=this.vertices[o[1]],l=(o=this.vertices[o[2]],f=d.default.Vector.sub(f,h),o=d.default.Vector.sub(o,h),h=d.default.Vector.cross(f,o),d.default.Vector.mag(h));return(f=l/(d.default.Vector.mag(f)*d.default.Vector.mag(o)))===0||isNaN(f)?(console.warn("p5.Geometry.prototype._getFaceNormal:","face has colinear sides or a repeated vertex"),h):(1<f&&(f=1),h.mult(Math.asin(f)/l))}},{key:"computeNormals",value:function(){for(var o=this,h=this.vertexNormals,f=this.vertices,l=this.faces,m=h.length=0;m<f.length;++m)h.push(new d.default.Vector);for(l.forEach(function(_,w){for(var v=o._getFaceNormal(w),E=0;E<3;++E){var C=_[E];h[C].add(v)}}),m=0;m<f.length;++m)h[m].normalize();return this}},{key:"averageNormals",value:function(){for(var o=0;o<=this.detailY;o++){var h=this.detailX+1,f=d.default.Vector.add(this.vertexNormals[o*h],this.vertexNormals[o*h+this.detailX]);f=d.default.Vector.div(f,2),this.vertexNormals[o*h]=f,this.vertexNormals[o*h+this.detailX]=f}return this}},{key:"averagePoleNormals",value:function(){for(var o=new d.default.Vector(0,0,0),h=0;h<this.detailX;h++)o.add(this.vertexNormals[h]);o=d.default.Vector.div(o,this.detailX);for(var f=0;f<this.detailX;f++)this.vertexNormals[f]=o;o=new d.default.Vector(0,0,0);for(var l=this.vertices.length-1;l>this.vertices.length-1-this.detailX;l--)o.add(this.vertexNormals[l]);o=d.default.Vector.div(o,this.detailX);for(var m=this.vertices.length-1;m>this.vertices.length-1-this.detailX;m--)this.vertexNormals[m]=o;return this}},{key:"_makeTriangleEdges",value:function(){for(var o=this.edges.length=0;o<this.faces.length;o++)this.edges.push([this.faces[o][0],this.faces[o][1]]),this.edges.push([this.faces[o][1],this.faces[o][2]]),this.edges.push([this.faces[o][2],this.faces[o][0]]);return this}},{key:"_edgesToVertices",value:function(){this.lineVertices.length=0,this.lineTangentsIn.length=0,this.lineTangentsOut.length=0,this.lineSides.length=0;for(var o,h=1<this.edges.length&&this.edges[0][0]===this.edges[this.edges.length-1][1],f=!1,l=0;l<this.edges.length;l++){var m=this.edges[l-1],_=this.edges[l],w=this.vertices[_[0]],v=this.vertices[_[1]],E=0<this.vertexStrokeColors.length?this.vertexStrokeColors.slice(4*_[0],4*(_[0]+1)):[0,0,0,0],C=0<this.vertexStrokeColors.length?this.vertexStrokeColors.slice(4*_[1],4*(_[1]+1)):[0,0,0,0],O=v.copy().sub(w).normalize(),U=0<O.magSq();U&&this._addSegment(w,v,E,C,O),0<l&&m[1]===_[0]?(o&&U&&O.dot(o)<1-1e-8&&this._addJoin(w,o,O,E),!U||f||h||(this._addCap(w,O.copy().mult(-1),E),f=!0)):(f=!1,U&&(!h||0<l)&&(this._addCap(w,O.copy().mult(-1),E),f=!0),o&&(!h||l<this.edges.length-1)&&(this._addCap(this.vertices[m[1]],o,E),o=void 0)),l===this.edges.length-1&&(h?this._addJoin(v,O,this.vertices[this.edges[0][1]].copy().sub(v).normalize(),C):this._addCap(v,O,C)),U&&(o=O)}return this}},{key:"_addSegment",value:function(o,h,f,l,m){o=o.array(),h=h.array();var _=m.array();this.lineSides.push(1,-1,1,1,-1,-1);for(var w=0,v=[this.lineTangentsIn,this.lineTangentsOut];w<v.length;w++)v[w].push(_,_,_,_,_,_);return this.lineVertices.push(o,o,h,h,o,h),this.lineVertexColors.push(f,f,l,l,f,l),this}},{key:"_addCap",value:function(o,h,f){for(var l=o.array(),m=h.array(),_=[0,0,0],w=0;w<6;w++)this.lineVertices.push(l),this.lineTangentsIn.push(m),this.lineTangentsOut.push(_),this.lineVertexColors.push(f);return this.lineSides.push(-1,-2,2,2,1,-1),this}},{key:"_addJoin",value:function(o,h,f,l){for(var m=o.array(),_=h.array(),w=f.array(),v=0;v<12;v++)this.lineVertices.push(m),this.lineTangentsIn.push(_),this.lineTangentsOut.push(w),this.lineVertexColors.push(l);for(var E=0,C=[-1,1];E<C.length;E++){var O=C[E];this.lineSides.push(O,2*O,3*O,O,3*O,0)}return this}},{key:"normalize",value:function(){if(0<this.vertices.length){for(var o=this.vertices[0].copy(),h=this.vertices[0].copy(),f=0;f<this.vertices.length;f++)o.x=Math.max(o.x,this.vertices[f].x),h.x=Math.min(h.x,this.vertices[f].x),o.y=Math.max(o.y,this.vertices[f].y),h.y=Math.min(h.y,this.vertices[f].y),o.z=Math.max(o.z,this.vertices[f].z),h.z=Math.min(h.z,this.vertices[f].z);for(var l=d.default.Vector.lerp(o,h,.5),m=d.default.Vector.sub(o,h),_=200/Math.max(Math.max(m.x,m.y),m.z),w=0;w<this.vertices.length;w++)this.vertices[w].sub(l),this.vertices[w].mult(_)}return this}}])&&c(x.prototype,j),u}(),t=d.default.Geometry,y.default=t},{"../core/main":273,"core-js/modules/es.array.for-each":156,"core-js/modules/es.array.slice":164,"core-js/modules/es.string.sub":198,"core-js/modules/web.dom-collections.for-each":235}],324:[function(t,A,y){t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.float32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.float32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var d=(t=t("../core/main"))&&t.__esModule?t:{default:t};function c(j,o){for(var h=0;h<o.length;h++){var f=o[h];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(j,f.key,f)}}var u=Array,x=function(j){return Array.isArray(j)};typeof Float32Array<"u"&&(u=Float32Array,x=function(j){return Array.isArray(j)||j instanceof Float32Array}),d.default.Matrix=function(){function j(){var l=this,m=j;if(l instanceof m)return arguments.length&&((l=arguments.length-1)<0||arguments.length<=l?void 0:arguments[l])instanceof d.default&&(this.p5=(m=arguments.length-1)<0||arguments.length<=m?void 0:arguments[m]),(arguments.length<=0?void 0:arguments[0])==="mat3"?this.mat3=Array.isArray(arguments.length<=1?void 0:arguments[1])?arguments.length<=1?void 0:arguments[1]:new u([1,0,0,0,1,0,0,0,1]):this.mat4=Array.isArray(arguments.length<=0?void 0:arguments[0])?arguments.length<=0?void 0:arguments[0]:new u([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this;throw new TypeError("Cannot call a class as a function")}var o,h,f;return o=j,f=[{key:"identity",value:function(l){return new d.default.Matrix(l)}}],(h=[{key:"set",value:function(l){return l instanceof d.default.Matrix?this.mat4=l.mat4:x(l)?this.mat4=l:arguments.length===16&&(this.mat4[0]=l,this.mat4[1]=arguments[1],this.mat4[2]=arguments[2],this.mat4[3]=arguments[3],this.mat4[4]=arguments[4],this.mat4[5]=arguments[5],this.mat4[6]=arguments[6],this.mat4[7]=arguments[7],this.mat4[8]=arguments[8],this.mat4[9]=arguments[9],this.mat4[10]=arguments[10],this.mat4[11]=arguments[11],this.mat4[12]=arguments[12],this.mat4[13]=arguments[13],this.mat4[14]=arguments[14],this.mat4[15]=arguments[15]),this}},{key:"get",value:function(){return new d.default.Matrix(this.mat4,this.p5)}},{key:"copy",value:function(){var l;return this.mat3!==void 0?((l=new d.default.Matrix("mat3",this.p5)).mat3[0]=this.mat3[0],l.mat3[1]=this.mat3[1],l.mat3[2]=this.mat3[2],l.mat3[3]=this.mat3[3],l.mat3[4]=this.mat3[4],l.mat3[5]=this.mat3[5],l.mat3[6]=this.mat3[6],l.mat3[7]=this.mat3[7],l.mat3[8]=this.mat3[8]):((l=new d.default.Matrix(this.p5)).mat4[0]=this.mat4[0],l.mat4[1]=this.mat4[1],l.mat4[2]=this.mat4[2],l.mat4[3]=this.mat4[3],l.mat4[4]=this.mat4[4],l.mat4[5]=this.mat4[5],l.mat4[6]=this.mat4[6],l.mat4[7]=this.mat4[7],l.mat4[8]=this.mat4[8],l.mat4[9]=this.mat4[9],l.mat4[10]=this.mat4[10],l.mat4[11]=this.mat4[11],l.mat4[12]=this.mat4[12],l.mat4[13]=this.mat4[13],l.mat4[14]=this.mat4[14],l.mat4[15]=this.mat4[15]),l}},{key:"transpose",value:function(l){var m,_,w,v,E,C;return l instanceof d.default.Matrix?(m=l.mat4[1],_=l.mat4[2],w=l.mat4[3],v=l.mat4[6],E=l.mat4[7],C=l.mat4[11],this.mat4[0]=l.mat4[0],this.mat4[1]=l.mat4[4],this.mat4[2]=l.mat4[8],this.mat4[3]=l.mat4[12],this.mat4[4]=m,this.mat4[5]=l.mat4[5],this.mat4[6]=l.mat4[9],this.mat4[7]=l.mat4[13],this.mat4[8]=_,this.mat4[9]=v,this.mat4[10]=l.mat4[10],this.mat4[11]=l.mat4[14],this.mat4[12]=w,this.mat4[13]=E,this.mat4[14]=C,this.mat4[15]=l.mat4[15]):x(l)&&(m=l[1],_=l[2],w=l[3],v=l[6],E=l[7],C=l[11],this.mat4[0]=l[0],this.mat4[1]=l[4],this.mat4[2]=l[8],this.mat4[3]=l[12],this.mat4[4]=m,this.mat4[5]=l[5],this.mat4[6]=l[9],this.mat4[7]=l[13],this.mat4[8]=_,this.mat4[9]=v,this.mat4[10]=l[10],this.mat4[11]=l[14],this.mat4[12]=w,this.mat4[13]=E,this.mat4[14]=C,this.mat4[15]=l[15]),this}},{key:"invert",value:function(l){l instanceof d.default.Matrix?(m=l.mat4[0],_=l.mat4[1],w=l.mat4[2],v=l.mat4[3],E=l.mat4[4],C=l.mat4[5],O=l.mat4[6],U=l.mat4[7],N=l.mat4[8],D=l.mat4[9],H=l.mat4[10],I=l.mat4[11],V=l.mat4[12],G=l.mat4[13],q=l.mat4[14],X=l.mat4[15]):x(l)&&(m=l[0],_=l[1],w=l[2],v=l[3],E=l[4],C=l[5],O=l[6],U=l[7],N=l[8],D=l[9],H=l[10],I=l[11],V=l[12],G=l[13],q=l[14],X=l[15]);var m,_,w,v,E,C,O,U,N,D,H,I,V,G,q,X,B=m*O-w*E,W=m*U-v*E,K=_*O-w*C,ee=_*U-v*C,re=w*U-v*O,oe=N*G-D*V,le=N*q-H*V,me=N*X-I*V,$=D*q-H*G,Q=D*X-I*G,se=H*X-I*q,de=(l=m*C-_*E)*se-B*Q+W*$+K*me-ee*le+re*oe;return de?(this.mat4[0]=(C*se-O*Q+U*$)*(de=1/de),this.mat4[1]=(w*Q-_*se-v*$)*de,this.mat4[2]=(G*re-q*ee+X*K)*de,this.mat4[3]=(H*ee-D*re-I*K)*de,this.mat4[4]=(O*me-E*se-U*le)*de,this.mat4[5]=(m*se-w*me+v*le)*de,this.mat4[6]=(q*W-V*re-X*B)*de,this.mat4[7]=(N*re-H*W+I*B)*de,this.mat4[8]=(E*Q-C*me+U*oe)*de,this.mat4[9]=(_*me-m*Q-v*oe)*de,this.mat4[10]=(V*ee-G*W+X*l)*de,this.mat4[11]=(D*W-N*ee-I*l)*de,this.mat4[12]=(C*le-E*$-O*oe)*de,this.mat4[13]=(m*$-_*le+w*oe)*de,this.mat4[14]=(G*B-V*K-q*l)*de,this.mat4[15]=(N*K-D*B+H*l)*de,this):null}},{key:"invert3x3",value:function(){var l=this.mat3[0],m=this.mat3[1],_=this.mat3[2],w=this.mat3[3],v=this.mat3[4],E=this.mat3[5],C=this.mat3[6],O=this.mat3[7],U=this.mat3[8],N=U*v-E*O,D=-U*w+E*C,H=O*w-v*C,I=l*N+m*D+_*H;return I?(this.mat3[0]=N*(I=1/I),this.mat3[1]=(-U*m+_*O)*I,this.mat3[2]=(E*m-_*v)*I,this.mat3[3]=D*I,this.mat3[4]=(U*l-_*C)*I,this.mat3[5]=(-E*l+_*w)*I,this.mat3[6]=H*I,this.mat3[7]=(-O*l+m*C)*I,this.mat3[8]=(v*l-m*w)*I,this):null}},{key:"transpose3x3",value:function(l){var m=(l=l===void 0?this.mat3:l)[1],_=l[2],w=l[5];return this.mat3[0]=l[0],this.mat3[1]=l[3],this.mat3[2]=l[6],this.mat3[3]=m,this.mat3[4]=l[4],this.mat3[5]=l[7],this.mat3[6]=_,this.mat3[7]=w,this.mat3[8]=l[8],this}},{key:"inverseTranspose",value:function(l){if(l=l.mat4,this.mat3===void 0?d.default._friendlyError("sorry, this function only works with mat3"):(this.mat3[0]=l[0],this.mat3[1]=l[1],this.mat3[2]=l[2],this.mat3[3]=l[4],this.mat3[4]=l[5],this.mat3[5]=l[6],this.mat3[6]=l[8],this.mat3[7]=l[9],this.mat3[8]=l[10]),l=this.invert3x3())l.transpose3x3(this.mat3);else for(var m=0;m<9;m++)this.mat3[m]=0;return this}},{key:"determinant",value:function(){var l=this.mat4[0]*this.mat4[5]-this.mat4[1]*this.mat4[4],m=this.mat4[0]*this.mat4[6]-this.mat4[2]*this.mat4[4],_=this.mat4[0]*this.mat4[7]-this.mat4[3]*this.mat4[4],w=this.mat4[1]*this.mat4[6]-this.mat4[2]*this.mat4[5],v=this.mat4[1]*this.mat4[7]-this.mat4[3]*this.mat4[5],E=this.mat4[2]*this.mat4[7]-this.mat4[3]*this.mat4[6],C=this.mat4[8]*this.mat4[13]-this.mat4[9]*this.mat4[12],O=this.mat4[8]*this.mat4[14]-this.mat4[10]*this.mat4[12],U=this.mat4[8]*this.mat4[15]-this.mat4[11]*this.mat4[12],N=this.mat4[9]*this.mat4[14]-this.mat4[10]*this.mat4[13],D=this.mat4[9]*this.mat4[15]-this.mat4[11]*this.mat4[13];return l*(this.mat4[10]*this.mat4[15]-this.mat4[11]*this.mat4[14])-m*D+_*N+w*U-v*O+E*C}},{key:"mult",value:function(l){var m;if(l===this||l===this.mat4)m=this.copy().mat4;else if(l instanceof d.default.Matrix)m=l.mat4;else if(x(l))m=l;else{if(arguments.length!==16)return;m=arguments}l=this.mat4[0];var _=this.mat4[1],w=this.mat4[2],v=this.mat4[3];return this.mat4[0]=l*m[0]+_*m[4]+w*m[8]+v*m[12],this.mat4[1]=l*m[1]+_*m[5]+w*m[9]+v*m[13],this.mat4[2]=l*m[2]+_*m[6]+w*m[10]+v*m[14],this.mat4[3]=l*m[3]+_*m[7]+w*m[11]+v*m[15],l=this.mat4[4],_=this.mat4[5],w=this.mat4[6],v=this.mat4[7],this.mat4[4]=l*m[0]+_*m[4]+w*m[8]+v*m[12],this.mat4[5]=l*m[1]+_*m[5]+w*m[9]+v*m[13],this.mat4[6]=l*m[2]+_*m[6]+w*m[10]+v*m[14],this.mat4[7]=l*m[3]+_*m[7]+w*m[11]+v*m[15],l=this.mat4[8],_=this.mat4[9],w=this.mat4[10],v=this.mat4[11],this.mat4[8]=l*m[0]+_*m[4]+w*m[8]+v*m[12],this.mat4[9]=l*m[1]+_*m[5]+w*m[9]+v*m[13],this.mat4[10]=l*m[2]+_*m[6]+w*m[10]+v*m[14],this.mat4[11]=l*m[3]+_*m[7]+w*m[11]+v*m[15],l=this.mat4[12],_=this.mat4[13],w=this.mat4[14],v=this.mat4[15],this.mat4[12]=l*m[0]+_*m[4]+w*m[8]+v*m[12],this.mat4[13]=l*m[1]+_*m[5]+w*m[9]+v*m[13],this.mat4[14]=l*m[2]+_*m[6]+w*m[10]+v*m[14],this.mat4[15]=l*m[3]+_*m[7]+w*m[11]+v*m[15],this}},{key:"apply",value:function(l){var m;if(l===this||l===this.mat4)m=this.copy().mat4;else if(l instanceof d.default.Matrix)m=l.mat4;else if(x(l))m=l;else{if(arguments.length!==16)return;m=arguments}var _=(l=this.mat4)[0],w=l[4],v=l[8],E=l[12];return l[0]=m[0]*_+m[1]*w+m[2]*v+m[3]*E,l[4]=m[4]*_+m[5]*w+m[6]*v+m[7]*E,l[8]=m[8]*_+m[9]*w+m[10]*v+m[11]*E,l[12]=m[12]*_+m[13]*w+m[14]*v+m[15]*E,_=l[1],w=l[5],v=l[9],E=l[13],l[1]=m[0]*_+m[1]*w+m[2]*v+m[3]*E,l[5]=m[4]*_+m[5]*w+m[6]*v+m[7]*E,l[9]=m[8]*_+m[9]*w+m[10]*v+m[11]*E,l[13]=m[12]*_+m[13]*w+m[14]*v+m[15]*E,_=l[2],w=l[6],v=l[10],E=l[14],l[2]=m[0]*_+m[1]*w+m[2]*v+m[3]*E,l[6]=m[4]*_+m[5]*w+m[6]*v+m[7]*E,l[10]=m[8]*_+m[9]*w+m[10]*v+m[11]*E,l[14]=m[12]*_+m[13]*w+m[14]*v+m[15]*E,_=l[3],w=l[7],v=l[11],E=l[15],l[3]=m[0]*_+m[1]*w+m[2]*v+m[3]*E,l[7]=m[4]*_+m[5]*w+m[6]*v+m[7]*E,l[11]=m[8]*_+m[9]*w+m[10]*v+m[11]*E,l[15]=m[12]*_+m[13]*w+m[14]*v+m[15]*E,this}},{key:"scale",value:function(l,m,_){return l instanceof d.default.Vector?(m=l.y,_=l.z,l=l.x):l instanceof Array&&(m=l[1],_=l[2],l=l[0]),this.mat4[0]*=l,this.mat4[1]*=l,this.mat4[2]*=l,this.mat4[3]*=l,this.mat4[4]*=m,this.mat4[5]*=m,this.mat4[6]*=m,this.mat4[7]*=m,this.mat4[8]*=_,this.mat4[9]*=_,this.mat4[10]*=_,this.mat4[11]*=_,this}},{key:"rotate",value:function(l,m,_,w){m instanceof d.default.Vector?(_=m.y,w=m.z,m=m.x):m instanceof Array&&(_=m[1],w=m[2],m=m[0]);var v=(m*=1/(v=Math.sqrt(m*m+_*_+w*w)),_*=1/v,w*=1/v,this.mat4[0]),E=this.mat4[1],C=this.mat4[2],O=this.mat4[3],U=this.mat4[4],N=this.mat4[5],D=this.mat4[6],H=this.mat4[7],I=this.mat4[8],V=this.mat4[9],G=this.mat4[10],q=this.mat4[11],X=Math.sin(l),B=1-(l=Math.cos(l)),W=m*m*B+l,K=_*m*B+w*X,ee=w*m*B-_*X,re=m*_*B-w*X,oe=_*_*B+l,le=w*_*B+m*X,me=m*w*B+_*X;return _=_*w*B-m*X,m=w*w*B+l,this.mat4[0]=v*W+U*K+I*ee,this.mat4[1]=E*W+N*K+V*ee,this.mat4[2]=C*W+D*K+G*ee,this.mat4[3]=O*W+H*K+q*ee,this.mat4[4]=v*re+U*oe+I*le,this.mat4[5]=E*re+N*oe+V*le,this.mat4[6]=C*re+D*oe+G*le,this.mat4[7]=O*re+H*oe+q*le,this.mat4[8]=v*me+U*_+I*m,this.mat4[9]=E*me+N*_+V*m,this.mat4[10]=C*me+D*_+G*m,this.mat4[11]=O*me+H*_+q*m,this}},{key:"translate",value:function(l){var m=l[0],_=l[1];l=l[2]||0,this.mat4[12]+=this.mat4[0]*m+this.mat4[4]*_+this.mat4[8]*l,this.mat4[13]+=this.mat4[1]*m+this.mat4[5]*_+this.mat4[9]*l,this.mat4[14]+=this.mat4[2]*m+this.mat4[6]*_+this.mat4[10]*l,this.mat4[15]+=this.mat4[3]*m+this.mat4[7]*_+this.mat4[11]*l}},{key:"rotateX",value:function(l){this.rotate(l,1,0,0)}},{key:"rotateY",value:function(l){this.rotate(l,0,1,0)}},{key:"rotateZ",value:function(l){this.rotate(l,0,0,1)}},{key:"perspective",value:function(l,m,_,w){l=1/Math.tan(l/2);var v=1/(_-w);return this.mat4[0]=l/m,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=l,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=(w+_)*v,this.mat4[11]=-1,this.mat4[12]=0,this.mat4[13]=0,this.mat4[14]=2*w*_*v,this.mat4[15]=0,this}},{key:"ortho",value:function(l,m,_,w,v,E){var C=1/(l-m),O=1/(_-w),U=1/(v-E);return this.mat4[0]=-2*C,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=-2*O,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=2*U,this.mat4[11]=0,this.mat4[12]=(l+m)*C,this.mat4[13]=(w+_)*O,this.mat4[14]=(E+v)*U,this.mat4[15]=1,this}},{key:"multiplyVec4",value:function(l,m,_,w){var v=new Array(4),E=this.mat4;return v[0]=E[0]*l+E[4]*m+E[8]*_+E[12]*w,v[1]=E[1]*l+E[5]*m+E[9]*_+E[13]*w,v[2]=E[2]*l+E[6]*m+E[10]*_+E[14]*w,v[3]=E[3]*l+E[7]*m+E[11]*_+E[15]*w,v}},{key:"multiplyPoint",value:function(l){var m=l.x,_=l.y;return l=l.z,m=this.multiplyVec4(m,_,l,1),new d.default.Vector(m[0],m[1],m[2])}},{key:"multiplyAndNormalizePoint",value:function(l){var m=l.x,_=l.y;return l=l.z,(m=this.multiplyVec4(m,_,l,1))[0]/=m[3],m[1]/=m[3],m[2]/=m[3],new d.default.Vector(m[0],m[1],m[2])}},{key:"multiplyDirection",value:function(l){var m=l.x,_=l.y;return l=l.z,m=this.multiplyVec4(m,_,l,0),new d.default.Vector(m[0],m[1],m[2])}},{key:"mult3x3",value:function(l){var m;if(l===this||l===this.mat3)m=this.copy().mat3;else if(l instanceof d.default.Matrix)m=l.mat3;else if(x(l))m=l;else{if(arguments.length!==9)return;m=arguments}l=this.mat3[0];var _=this.mat3[1],w=this.mat3[2];return this.mat3[0]=l*m[0]+_*m[3]+w*m[6],this.mat3[1]=l*m[1]+_*m[4]+w*m[7],this.mat3[2]=l*m[2]+_*m[5]+w*m[8],l=this.mat3[3],_=this.mat3[4],w=this.mat3[5],this.mat3[3]=l*m[0]+_*m[3]+w*m[6],this.mat3[4]=l*m[1]+_*m[4]+w*m[7],this.mat3[5]=l*m[2]+_*m[5]+w*m[8],l=this.mat3[6],_=this.mat3[7],w=this.mat3[8],this.mat3[6]=l*m[0]+_*m[3]+w*m[6],this.mat3[7]=l*m[1]+_*m[4]+w*m[7],this.mat3[8]=l*m[2]+_*m[5]+w*m[8],this}},{key:"column",value:function(l){return new d.default.Vector(this.mat3[l],this.mat3[l+3],this.mat3[l+6])}},{key:"row",value:function(l){return new d.default.Vector(this.mat3[3*l],this.mat3[3*l+1],this.mat3[3*l+2])}},{key:"diagonal",value:function(){return this.mat3!==void 0?[this.mat3[0],this.mat3[4],this.mat3[8]]:[this.mat4[0],this.mat4[5],this.mat4[10],this.mat4[15]]}},{key:"multiplyVec3",value:function(l,m){return(m=m===void 0?l.copy():m).x=this.row(0).dot(l),m.y=this.row(1).dot(l),m.z=this.row(2).dot(l),m}},{key:"createSubMatrix3x3",value:function(){var l=new d.default.Matrix("mat3");return l.mat3[0]=this.mat4[0],l.mat3[1]=this.mat4[1],l.mat3[2]=this.mat4[2],l.mat3[3]=this.mat4[4],l.mat3[4]=this.mat4[5],l.mat3[5]=this.mat4[6],l.mat3[6]=this.mat4[8],l.mat3[7]=this.mat4[9],l.mat3[8]=this.mat4[10],l}}])&&c(o.prototype,h),f&&c(o,f),j}(),t=d.default.Matrix,y.default=t},{"../core/main":273,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.to-string":180,"core-js/modules/es.typed-array.copy-within":203,"core-js/modules/es.typed-array.every":204,"core-js/modules/es.typed-array.fill":205,"core-js/modules/es.typed-array.filter":206,"core-js/modules/es.typed-array.find":208,"core-js/modules/es.typed-array.find-index":207,"core-js/modules/es.typed-array.float32-array":209,"core-js/modules/es.typed-array.for-each":211,"core-js/modules/es.typed-array.includes":212,"core-js/modules/es.typed-array.index-of":213,"core-js/modules/es.typed-array.iterator":216,"core-js/modules/es.typed-array.join":217,"core-js/modules/es.typed-array.last-index-of":218,"core-js/modules/es.typed-array.map":219,"core-js/modules/es.typed-array.reduce":221,"core-js/modules/es.typed-array.reduce-right":220,"core-js/modules/es.typed-array.reverse":222,"core-js/modules/es.typed-array.set":223,"core-js/modules/es.typed-array.slice":224,"core-js/modules/es.typed-array.some":225,"core-js/modules/es.typed-array.sort":226,"core-js/modules/es.typed-array.subarray":227,"core-js/modules/es.typed-array.to-locale-string":228,"core-js/modules/es.typed-array.to-string":229}],325:[function(t,A,y){function d(c,u){for(var x=0;x<u.length;x++){var j=u[x];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(c,j.key,j)}}t("core-js/modules/es.array.map"),t("core-js/modules/es.array.map"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0,(t=(t=t("../core/main"))&&t.__esModule?t:{default:t}).default.RenderBuffer=function(){function c(j,o,h,f,l,m){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");this.size=j,this.src=o,this.dst=h,this.attr=f,this._renderer=l,this.map=m}var u,x;return u=c,(x=[{key:"_prepareBuffer",value:function(j,o){var h,f,l,m=o.attributes,_=this._renderer.GL,w=j.model||j;(m=m[this.attr])&&(h=j[this.dst],0<(f=w[this.src]).length?((l=!h)&&(j[this.dst]=h=_.createBuffer()),_.bindBuffer(_.ARRAY_BUFFER,h),!l&&w.dirtyFlags[this.src]===!1||(l=(j=this.map)?j(f):f,this._renderer._bindBuffer(h,_.ARRAY_BUFFER,l),w.dirtyFlags[this.src]=!1),o.enableAttrib(m,this.size)):(j=m.location)!==-1&&this._renderer.registerEnabled[j]&&(_.disableVertexAttribArray(j),this._renderer.registerEnabled[j]=!1))}}])&&d(u.prototype,x),c}(),t=t.default.RenderBuffer,y.default=t},{"../core/main":273,"core-js/modules/es.array.map":163}],326:[function(t,A,y){function d(f){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(f)}function c(f){return(c=typeof Symbol=="function"&&d(Symbol.iterator)==="symbol"?function(l){return d(l)}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":d(l)})(f)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var u=(h=t("../core/main"))&&h.__esModule?h:{default:h},x=function(f){if(f&&f.__esModule)return f;if(f===null||c(f)!=="object"&&typeof f!="function")return{default:f};var l=function(){var E;return typeof WeakMap!="function"?null:(E=new WeakMap,E)}();if(l&&l.has(f))return l.get(f);var m,_={},w=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(m in f){var v;Object.prototype.hasOwnProperty.call(f,m)&&((v=w?Object.getOwnPropertyDescriptor(f,m):null)&&(v.get||v.set)?Object.defineProperty(_,m,v):_[m]=f[m])}return _.default=f,l&&l.set(f,_),_}(t("../core/constants"));function j(f){return function(l){if(Array.isArray(l)){for(var m=0,_=new Array(l.length);m<l.length;m++)_[m]=l[m];return _}}(f)||function(l){if(Symbol.iterator in Object(l)||Object.prototype.toString.call(l)==="[object Arguments]")return Array.from(l)}(f)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}t("./p5.RenderBuffer"),u.default.RendererGL.prototype.beginShape=function(f){return this.immediateMode.shapeMode=f!==void 0?f:x.TESS,this.immediateMode.geometry.reset(),this};var o={vertices:1,vertexNormals:1,vertexColors:4,vertexStrokeColors:4,uvs:2},h=(u.default.RendererGL.prototype.vertex=function(f,l){if(this.immediateMode.shapeMode===x.QUADS&&this.immediateMode.geometry.vertices.length%6==3)for(var m in o){var _=o[m];(m=this.immediateMode.geometry[m]).push.apply(m,j(m.slice(m.length-3*_,m.length-2*_)).concat(j(m.slice(m.length-_,m.length))))}var w,v,E=w=v=0,C=(arguments.length===3?E=arguments[2]:arguments.length===4?(w=arguments[2],v=arguments[3]):arguments.length===5&&(E=arguments[2],w=arguments[3],v=arguments[4]),new u.default.Vector(f,l,E));return this.immediateMode.geometry.vertices.push(C),this.immediateMode.geometry.vertexNormals.push(this._currentNormal),C=this.curFillColor||[.5,.5,.5,1],this.immediateMode.geometry.vertexColors.push(C[0],C[1],C[2],C[3]),C=this.curStrokeColor||[.5,.5,.5,1],this.immediateMode.geometry.vertexStrokeColors.push(C[0],C[1],C[2],C[3]),this.textureMode===x.IMAGE&&(this._tex!==null?0<this._tex.width&&0<this._tex.height&&(w/=this._tex.width,v/=this._tex.height):!this.isProcessingVertices&&this._tex===null&&4<=arguments.length&&console.warn("You must first call texture() before using vertex() with image based u and v coordinates")),this.immediateMode.geometry.uvs.push(w,v),this.immediateMode._bezierVertex[0]=f,this.immediateMode._bezierVertex[1]=l,this.immediateMode._bezierVertex[2]=E,this.immediateMode._quadraticVertex[0]=f,this.immediateMode._quadraticVertex[1]=l,this.immediateMode._quadraticVertex[2]=E,this},u.default.RendererGL.prototype.normal=function(f,l,m){return f instanceof u.default.Vector?this._currentNormal=f:this._currentNormal=new u.default.Vector(f,l,m),this},u.default.RendererGL.prototype.endShape=function(f,l,m,_,w,v){return this.immediateMode.shapeMode===x.POINTS?this._drawPoints(this.immediateMode.geometry.vertices,this.immediateMode.buffers.point):(this.isProcessingVertices=!0,this._processVertices.apply(this,arguments),this.isProcessingVertices=!1,this._doFill&&1<this.immediateMode.geometry.vertices.length&&this._drawImmediateFill(),this._doStroke&&1<this.immediateMode.geometry.lineVertices.length&&this._drawImmediateStroke(),this.isBezier=!1,this.isQuadratic=!1,this.isCurve=!1,this.immediateMode._bezierVertex.length=0,this.immediateMode._quadraticVertex.length=0,this.immediateMode._curveVertex.length=0),this},u.default.RendererGL.prototype._processVertices=function(f){var l;this.immediateMode.geometry.vertices.length!==0&&(l=this._doStroke,f=f===x.CLOSE,l&&(this.immediateMode.geometry.edges=this._calculateEdges(this.immediateMode.shapeMode,this.immediateMode.geometry.vertices,f),this.immediateMode.geometry._edgesToVertices()),l=this.immediateMode.shapeMode===x.TESS,this._doFill&&(this.isBezier||this.isQuadratic||this.isCurve||l)&&this.immediateMode.shapeMode!==x.LINES&&this._tesselateShape())},u.default.RendererGL.prototype._calculateEdges=function(f,l,m){var _=[],w=0;switch(f){case x.TRIANGLE_STRIP:for(w=0;w<l.length-2;w++)_.push([w,w+1]),_.push([w,w+2]);_.push([w,w+1]);break;case x.TRIANGLE_FAN:for(w=1;w<l.length-1;w++)_.push([0,w]),_.push([w,w+1]);_.push([0,l.length-1]);break;case x.TRIANGLES:for(w=0;w<l.length-2;w+=3)_.push([w,w+1]),_.push([w+1,w+2]),_.push([w+2,w]);break;case x.LINES:for(w=0;w<l.length-1;w+=2)_.push([w,w+1]);break;case x.QUADS:for(w=0;w<l.length-5;w+=6)_.push([w,w+1]),_.push([w+1,w+2]),_.push([w+3,w+5]),_.push([w+4,w+5]);break;case x.QUAD_STRIP:for(w=0;w<l.length-2;w+=2)_.push([w,w+1]),_.push([w,w+2]),_.push([w+1,w+3]);_.push([w,w+1]);break;default:for(w=0;w<l.length-1;w++)_.push([w,w+1])}return m&&_.push([l.length-1,0]),_},u.default.RendererGL.prototype._tesselateShape=function(){for(var f=this,l=(this.immediateMode.shapeMode=x.TRIANGLES,[this._flatten(this.immediateMode.geometry.vertices.map(function(E,C){return[E.x,E.y,E.z,f.immediateMode.geometry.uvs[2*C],f.immediateMode.geometry.uvs[2*C+1],f.immediateMode.geometry.vertexColors[4*C],f.immediateMode.geometry.vertexColors[4*C+1],f.immediateMode.geometry.vertexColors[4*C+2],f.immediateMode.geometry.vertexColors[4*C+3],f.immediateMode.geometry.vertexNormals[C].x,f.immediateMode.geometry.vertexNormals[C].y,f.immediateMode.geometry.vertexNormals[C].z]}))]),m=this._triangulate(l),_=(this.immediateMode.geometry.vertices=[],this.immediateMode.geometry.vertexNormals=[],this.immediateMode.geometry.uvs=[],[]),w=0,v=m.length;w<v;w+=u.default.RendererGL.prototype.tessyVertexSize)_.push.apply(_,j(m.slice(w+5,w+9))),this.normal.apply(this,j(m.slice(w+9,w+12))),this.vertex.apply(this,j(m.slice(w,w+5)));this.immediateMode.geometry.vertexColors=_},u.default.RendererGL.prototype._drawImmediateFill=function(){var f=this.GL,l=(this._useVertexColor=0<this.immediateMode.geometry.vertexColors.length,this._getImmediateFillShader()),m=(this._setFillUniforms(l),!0),_=!1,w=void 0;try{for(var v,E=this.immediateMode.buffers.fill[Symbol.iterator]();!(m=(v=E.next()).done);m=!0)v.value._prepareBuffer(this.immediateMode.geometry,l)}catch(C){_=!0,w=C}finally{try{m||E.return==null||E.return()}finally{if(_)throw w}}this.immediateMode.shapeMode!==x.LINE_STRIP&&this.immediateMode.shapeMode!==x.LINES||(this.immediateMode.shapeMode=x.TRIANGLE_FAN),this.immediateMode.shapeMode===x.QUADS?this.immediateMode.shapeMode=x.TRIANGLES:this.immediateMode.shapeMode===x.QUAD_STRIP&&(this.immediateMode.shapeMode=x.TRIANGLE_STRIP),this._applyColorBlend(this.curFillColor),f.drawArrays(this.immediateMode.shapeMode,0,this.immediateMode.geometry.vertices.length),l.unbindShader()},u.default.RendererGL.prototype._drawImmediateStroke=function(){var f=this.GL,l=f.isEnabled(f.CULL_FACE),m=(f.disable(f.CULL_FACE),this._getImmediateStrokeShader()),_=(this._useLineColor=0<this.immediateMode.geometry.vertexStrokeColors.length,this._setStrokeUniforms(m),!0),w=!1,v=void 0;try{for(var E,C=this.immediateMode.buffers.stroke[Symbol.iterator]();!(_=(E=C.next()).done);_=!0)E.value._prepareBuffer(this.immediateMode.geometry,m)}catch(O){w=!0,v=O}finally{try{_||C.return==null||C.return()}finally{if(w)throw v}}this._applyColorBlend(this.curStrokeColor),f.drawArrays(f.TRIANGLES,0,this.immediateMode.geometry.lineVertices.length),l&&f.enable(f.CULL_FACE),m.unbindShader()},u.default.RendererGL);y.default=h},{"../core/constants":262,"../core/main":273,"./p5.RenderBuffer":325,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.fill":154,"core-js/modules/es.array.from":157,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.map":163,"core-js/modules/es.array.slice":164,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],327:[function(t,A,y){function d(h){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(h)}function c(h){return(c=typeof Symbol=="function"&&d(Symbol.iterator)==="symbol"?function(f){return d(f)}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":d(f)})(h)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.some"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.float32-array"),t("core-js/modules/es.typed-array.uint16-array"),t("core-js/modules/es.typed-array.uint32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.some"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.float32-array"),t("core-js/modules/es.typed-array.uint16-array"),t("core-js/modules/es.typed-array.uint32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var u=(o=t("../core/main"))&&o.__esModule?o:{default:o},x=(t("./p5.RendererGL"),t("./p5.RenderBuffer"),function(h){if(h&&h.__esModule)return h;if(h===null||c(h)!=="object"&&typeof h!="function")return{default:h};var f=function(){var v;return typeof WeakMap!="function"?null:(v=new WeakMap,v)}();if(f&&f.has(h))return f.get(h);var l,m={},_=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(l in h){var w;Object.prototype.hasOwnProperty.call(h,l)&&((w=_?Object.getOwnPropertyDescriptor(h,l):null)&&(w.get||w.set)?Object.defineProperty(m,l,w):m[l]=h[l])}return m.default=h,f&&f.set(h,m),m}(t("../core/constants"))),j=0,o=(u.default.RendererGL.prototype._initBufferDefaults=function(h){var f;return this._freeBuffers(h),1e3<++j&&(f=Object.keys(this.retainedMode.geometry)[0],delete this.retainedMode.geometry[f],j--),this.retainedMode.geometry[h]={}},u.default.RendererGL.prototype._freeBuffers=function(h){var f,l=this.retainedMode.geometry[h];function m(_){var w=!0,v=!1,E=void 0;try{for(var C,O=_[Symbol.iterator]();!(w=(C=O.next()).done);w=!0){var U=C.value;l[U.dst]&&(f.deleteBuffer(l[U.dst]),l[U.dst]=null)}}catch(N){v=!0,E=N}finally{try{w||O.return==null||O.return()}finally{if(v)throw E}}}l&&(delete this.retainedMode.geometry[h],j--,f=this.GL,l.indexBuffer&&f.deleteBuffer(l.indexBuffer),m(this.retainedMode.buffers.stroke),m(this.retainedMode.buffers.fill))},u.default.RendererGL.prototype.createBuffers=function(h,f){var l,m,_,w=this.GL,v=((h=this._initBufferDefaults(h)).model=f,h.indexBuffer);return f.faces.length?(v=v||(h.indexBuffer=w.createBuffer()),_=(m=(l=u.default.RendererGL.prototype._flatten(f.faces)).some(function(E){return 65535<E}))?Uint32Array:Uint16Array,this._bindBuffer(v,w.ELEMENT_ARRAY_BUFFER,l,_),h.indexBufferType=m?w.UNSIGNED_INT:w.UNSIGNED_SHORT,h.vertexCount=3*f.faces.length):(v&&(w.deleteBuffer(v),h.indexBuffer=null),h.vertexCount=f.vertices?f.vertices.length:0),h.lineVertexCount=f.lineVertices?f.lineVertices.length:0,h},u.default.RendererGL.prototype.drawBuffers=function(h){var f=this.GL,l=this.retainedMode.geometry[h];if(this._doFill){this._useVertexColor=0<l.model.vertexColors.length;var m=this._getRetainedFillShader(),_=(this._setFillUniforms(m),!0),w=!1,v=void 0;try{for(var E,C=this.retainedMode.buffers.fill[Symbol.iterator]();!(_=(E=C.next()).done);_=!0)E.value._prepareBuffer(l,m)}catch(I){w=!0,v=I}finally{try{_||C.return==null||C.return()}finally{if(w)throw v}}l.indexBuffer&&this._bindBuffer(l.indexBuffer,f.ELEMENT_ARRAY_BUFFER),this._applyColorBlend(this.curFillColor),this._drawElements(f.TRIANGLES,h),m.unbindShader()}if(this._doStroke&&0<l.lineVertexCount){w=f.isEnabled(f.CULL_FACE);var O=(f.disable(f.CULL_FACE),this._getRetainedStrokeShader()),U=(this._useLineColor=0<l.model.vertexStrokeColors.length,this._setStrokeUniforms(O),!0),N=(v=!1,void 0);try{for(var D,H=this.retainedMode.buffers.stroke[Symbol.iterator]();!(U=(D=H.next()).done);U=!0)D.value._prepareBuffer(l,O)}catch(I){v=!0,N=I}finally{try{U||H.return==null||H.return()}finally{if(v)throw N}}this._applyColorBlend(this.curStrokeColor),this._drawArrays(f.TRIANGLES,h),w&&f.enable(f.CULL_FACE),O.unbindShader()}return this},u.default.RendererGL.prototype.drawBuffersScaled=function(h,f,l,m){var _=this.uMVMatrix.copy();try{this.uMVMatrix.scale(f,l,m),this.drawBuffers(h)}finally{this.uMVMatrix=_}},u.default.RendererGL.prototype._drawArrays=function(h,f){return this.GL.drawArrays(h,0,this.retainedMode.geometry[f].lineVertexCount),this},u.default.RendererGL.prototype._drawElements=function(h,f){f=this.retainedMode.geometry[f];var l=this.GL;if(f.indexBuffer){if(this._pInst.webglVersion!==x.WEBGL2&&f.indexBufferType===l.UNSIGNED_INT&&!l.getExtension("OES_element_index_uint"))throw new Error("Unable to render a 3d model with > 65535 triangles. Your web browser does not support the WebGL Extension OES_element_index_uint.");l.drawElements(l.TRIANGLES,f.vertexCount,f.indexBufferType,0)}else l.drawArrays(h||l.TRIANGLES,0,f.vertexCount)},u.default.RendererGL.prototype._drawPoints=function(h,f){var l=this.GL,m=this._getImmediatePointShader();this._setPointUniforms(m),this._bindBuffer(f,l.ARRAY_BUFFER,this._vToNArray(h),Float32Array,l.STATIC_DRAW),m.enableAttrib(m.attributes.aPosition,3),this._applyColorBlend(this.curStrokeColor),l.drawArrays(l.Points,0,h.length),m.unbindShader()},u.default.RendererGL);y.default=o},{"../core/constants":262,"../core/main":273,"./p5.RenderBuffer":325,"./p5.RendererGL":328,"core-js/modules/es.array.fill":154,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.some":165,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.keys":179,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.typed-array.copy-within":203,"core-js/modules/es.typed-array.every":204,"core-js/modules/es.typed-array.fill":205,"core-js/modules/es.typed-array.filter":206,"core-js/modules/es.typed-array.find":208,"core-js/modules/es.typed-array.find-index":207,"core-js/modules/es.typed-array.float32-array":209,"core-js/modules/es.typed-array.for-each":211,"core-js/modules/es.typed-array.includes":212,"core-js/modules/es.typed-array.index-of":213,"core-js/modules/es.typed-array.iterator":216,"core-js/modules/es.typed-array.join":217,"core-js/modules/es.typed-array.last-index-of":218,"core-js/modules/es.typed-array.map":219,"core-js/modules/es.typed-array.reduce":221,"core-js/modules/es.typed-array.reduce-right":220,"core-js/modules/es.typed-array.reverse":222,"core-js/modules/es.typed-array.set":223,"core-js/modules/es.typed-array.slice":224,"core-js/modules/es.typed-array.some":225,"core-js/modules/es.typed-array.sort":226,"core-js/modules/es.typed-array.subarray":227,"core-js/modules/es.typed-array.to-locale-string":228,"core-js/modules/es.typed-array.to-string":229,"core-js/modules/es.typed-array.uint16-array":230,"core-js/modules/es.typed-array.uint32-array":231,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],328:[function(t,A,y){function d(V){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(G){return typeof G}:function(G){return G&&typeof Symbol=="function"&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G})(V)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.copy-within"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.some"),t("core-js/modules/es.map"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.float32-array"),t("core-js/modules/es.typed-array.float64-array"),t("core-js/modules/es.typed-array.int16-array"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.uint16-array"),t("core-js/modules/es.typed-array.uint32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.copy-within"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.some"),t("core-js/modules/es.map"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.float32-array"),t("core-js/modules/es.typed-array.float64-array"),t("core-js/modules/es.typed-array.int16-array"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.uint16-array"),t("core-js/modules/es.typed-array.uint32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.readPixelsWebGL=H,y.readPixelWebGL=I,y.default=void 0;var c=j(t("../core/main")),u=function(V){if(V&&V.__esModule)return V;if(V===null||o(V)!=="object"&&typeof V!="function")return{default:V};var G=function(){var K;return typeof WeakMap!="function"?null:(K=new WeakMap,K)}();if(G&&G.has(V))return G.get(V);var q,X={},B=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(q in V){var W;Object.prototype.hasOwnProperty.call(V,q)&&((W=B?Object.getOwnPropertyDescriptor(V,q):null)&&(W.get||W.set)?Object.defineProperty(X,q,W):X[q]=V[q])}return X.default=V,G&&G.set(V,X),X}(t("../core/constants")),x=j(t("libtess"));function j(V){return V&&V.__esModule?V:{default:V}}function o(V){return(o=typeof Symbol=="function"&&d(Symbol.iterator)==="symbol"?function(G){return d(G)}:function(G){return G&&typeof Symbol=="function"&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":d(G)})(V)}function h(V){return function(G){if(Array.isArray(G)){for(var q=0,X=new Array(G.length);q<G.length;q++)X[q]=G[q];return X}}(V)||function(G){if(Symbol.iterator in Object(G)||Object.prototype.toString.call(G)==="[object Arguments]")return Array.from(G)}(V)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function f(V,G){for(var q=0;q<G.length;q++){var X=G[q];X.enumerable=X.enumerable||!1,X.configurable=!0,"value"in X&&(X.writable=!0),Object.defineProperty(V,X.key,X)}}function l(V,G){return(l=Object.setPrototypeOf||function(q,X){return q.__proto__=X,q})(V,G)}function m(V){return function(){var G,q,X=w(V);return G=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(G=w(this).constructor,Reflect.construct(X,arguments,G)):X.apply(this,arguments),X=this,!(q=G)||o(q)!=="object"&&typeof q!="function"?_(X):q}}function _(V){if(V===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return V}function w(V){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(G){return G.__proto__||Object.getPrototypeOf(G)})(V)}function v(V,G){U+="#define STROKE_CAP_".concat(V," ").concat(G,`
`),C[u[V]]=G}function E(V,G){U+="#define STROKE_JOIN_".concat(V," ").concat(G,`
`),O[u[V]]=G}t("./p5.Shader"),t("./p5.Camera"),t("../core/p5.Renderer"),t("./p5.Matrix"),t("path");var C={},O={},U="",N=`#ifdef WEBGL2

#define IN in
#define OUT out

#ifdef FRAGMENT_SHADER
out vec4 outColor;
#define OUT_COLOR outColor
#endif
#define TEXTURE texture

#else

#ifdef FRAGMENT_SHADER
#define IN varying
#else
#define IN attribute
#endif
#define OUT varying
#define TEXTURE texture2D

#ifdef FRAGMENT_SHADER
#define OUT_COLOR gl_FragColor
#endif

#endif
`,D={immediateVert:`attribute vec3 aPosition;
attribute vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform float uResolution;
uniform float uPointSize;

varying vec4 vColor;
void main(void) {
  vec4 positionVec4 = vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vColor = aVertexColor;
  gl_PointSize = uPointSize;
}
`,vertexColorFrag:`precision mediump float;
varying vec4 vColor;
void main(void) {
  gl_FragColor = vec4(vColor.rgb, 1.) * vColor.a;
}
`,normalVert:`attribute vec3 aPosition;
attribute vec3 aNormal;
attribute vec2 aTexCoord;
attribute vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;

uniform vec4 uMaterialColor;
uniform bool uUseVertexColor;

varying vec3 vVertexNormal;
varying highp vec2 vVertTexCoord;
varying vec4 vColor;

void main(void) {
  vec4 positionVec4 = vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vVertexNormal = normalize(vec3( uNormalMatrix * aNormal ));
  vVertTexCoord = aTexCoord;
  vColor = (uUseVertexColor ? aVertexColor : uMaterialColor);
}
`,normalFrag:`precision mediump float;
varying vec3 vVertexNormal;
void main(void) {
  gl_FragColor = vec4(vVertexNormal, 1.0);
}`,basicFrag:`precision mediump float;
varying vec4 vColor;
void main(void) {
  gl_FragColor = vec4(vColor.rgb, 1.) * vColor.a;
}
`,lightVert:(t=(v("ROUND",0),v("PROJECT",1),v("SQUARE",2),E("ROUND",0),E("MITER",1),E("BEVEL",2),`precision highp float;
precision highp int;

uniform mat4 uViewMatrix;

uniform bool uUseLighting;

uniform int uAmbientLightCount;
uniform vec3 uAmbientColor[5];

uniform int uDirectionalLightCount;
uniform vec3 uLightingDirection[5];
uniform vec3 uDirectionalDiffuseColors[5];
uniform vec3 uDirectionalSpecularColors[5];

uniform int uPointLightCount;
uniform vec3 uPointLightLocation[5];
uniform vec3 uPointLightDiffuseColors[5];	
uniform vec3 uPointLightSpecularColors[5];

uniform int uSpotLightCount;
uniform float uSpotLightAngle[5];
uniform float uSpotLightConc[5];
uniform vec3 uSpotLightDiffuseColors[5];
uniform vec3 uSpotLightSpecularColors[5];
uniform vec3 uSpotLightLocation[5];
uniform vec3 uSpotLightDirection[5];

uniform bool uSpecular;
uniform float uShininess;

uniform float uConstantAttenuation;
uniform float uLinearAttenuation;
uniform float uQuadraticAttenuation;

const float specularFactor = 2.0;
const float diffuseFactor = 0.73;

struct LightResult {
  float specular;
  float diffuse;
};

float _phongSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float shininess) {

  vec3 R = reflect(lightDirection, surfaceNormal);
  return pow(max(0.0, dot(R, viewDirection)), shininess);
}

float _lambertDiffuse(vec3 lightDirection, vec3 surfaceNormal) {
  return max(0.0, dot(-lightDirection, surfaceNormal));
}

LightResult _light(vec3 viewDirection, vec3 normal, vec3 lightVector) {

  vec3 lightDir = normalize(lightVector);

  //compute our diffuse & specular terms
  LightResult lr;
  if (uSpecular)
    lr.specular = _phongSpecular(lightDir, viewDirection, normal, uShininess);
  lr.diffuse = _lambertDiffuse(lightDir, normal);
  return lr;
}

void totalLight(
  vec3 modelPosition,
  vec3 normal,
  out vec3 totalDiffuse,
  out vec3 totalSpecular
) {

  totalSpecular = vec3(0.0);

  if (!uUseLighting) {
    totalDiffuse = vec3(1.0);
    return;
  }

  totalDiffuse = vec3(0.0);

  vec3 viewDirection = normalize(-modelPosition);

  for (int j = 0; j < 5; j++) {
    if (j < uDirectionalLightCount) {
      vec3 lightVector = (uViewMatrix * vec4(uLightingDirection[j], 0.0)).xyz;
      vec3 lightColor = uDirectionalDiffuseColors[j];
      vec3 specularColor = uDirectionalSpecularColors[j];
      LightResult result = _light(viewDirection, normal, lightVector);
      totalDiffuse += result.diffuse * lightColor;
      totalSpecular += result.specular * lightColor * specularColor;
    }

    if (j < uPointLightCount) {
      vec3 lightPosition = (uViewMatrix * vec4(uPointLightLocation[j], 1.0)).xyz;
      vec3 lightVector = modelPosition - lightPosition;
    
      //calculate attenuation
      float lightDistance = length(lightVector);
      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);
      vec3 lightColor = lightFalloff * uPointLightDiffuseColors[j];
      vec3 specularColor = lightFalloff * uPointLightSpecularColors[j];

      LightResult result = _light(viewDirection, normal, lightVector);
      totalDiffuse += result.diffuse * lightColor;
      totalSpecular += result.specular * lightColor * specularColor;
    }

    if(j < uSpotLightCount) {
      vec3 lightPosition = (uViewMatrix * vec4(uSpotLightLocation[j], 1.0)).xyz;
      vec3 lightVector = modelPosition - lightPosition;
    
      float lightDistance = length(lightVector);
      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);

      vec3 lightDirection = (uViewMatrix * vec4(uSpotLightDirection[j], 0.0)).xyz;
      float spotDot = dot(normalize(lightVector), normalize(lightDirection));
      float spotFalloff;
      if(spotDot < uSpotLightAngle[j]) {
        spotFalloff = 0.0;
      }
      else {
        spotFalloff = pow(spotDot, uSpotLightConc[j]);
      }
      lightFalloff *= spotFalloff;

      vec3 lightColor = uSpotLightDiffuseColors[j];
      vec3 specularColor = uSpotLightSpecularColors[j];
     
      LightResult result = _light(viewDirection, normal, lightVector);
      
      totalDiffuse += result.diffuse * lightColor * lightFalloff;
      totalSpecular += result.specular * lightColor * specularColor * lightFalloff;
    }
  }

  totalDiffuse *= diffuseFactor;
  totalSpecular *= specularFactor;
}
`))+`// include lighting.glgl

attribute vec3 aPosition;
attribute vec3 aNormal;
attribute vec2 aTexCoord;
attribute vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;

uniform bool uUseVertexColor;
uniform vec4 uMaterialColor;

varying highp vec2 vVertTexCoord;
varying vec3 vDiffuseColor;
varying vec3 vSpecularColor;
varying vec4 vColor;

void main(void) {

  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * viewModelPosition;

  vec3 vertexNormal = normalize(uNormalMatrix * aNormal);
  vVertTexCoord = aTexCoord;

  totalLight(viewModelPosition.xyz, vertexNormal, vDiffuseColor, vSpecularColor);

  for (int i = 0; i < 8; i++) {
    if (i < uAmbientLightCount) {
      vDiffuseColor += uAmbientColor[i];
    }
  }
  
  vColor = (uUseVertexColor ? aVertexColor : uMaterialColor);
}
`,lightTextureFrag:`precision highp float;

uniform vec4 uTint;
uniform sampler2D uSampler;
uniform bool isTexture;
uniform bool uEmissive;

varying highp vec2 vVertTexCoord;
varying vec3 vDiffuseColor;
varying vec3 vSpecularColor;
varying vec4 vColor;

void main(void) {
  if(uEmissive && !isTexture) {
    gl_FragColor = vColor;
  }
  else {
    vec4 baseColor = isTexture
      // Textures come in with premultiplied alpha. To apply tint and still have
      // premultiplied alpha output, we need to multiply the RGB channels by the
      // tint RGB, and all channels by the tint alpha.
      ? texture2D(uSampler, vVertTexCoord) * vec4(uTint.rgb/255., 1.) * (uTint.a/255.)
      // Colors come in with unmultiplied alpha, so we need to multiply the RGB
      // channels by alpha to convert it to premultiplied alpha.
      : vec4(vColor.rgb * vColor.a, vColor.a);
    gl_FragColor = vec4(baseColor.rgb * vDiffuseColor + vSpecularColor, baseColor.a);
  }
}
`,phongVert:`precision highp float;
precision highp int;

attribute vec3 aPosition;
attribute vec3 aNormal;
attribute vec2 aTexCoord;
attribute vec4 aVertexColor;

uniform vec3 uAmbientColor[5];

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;
uniform int uAmbientLightCount;

uniform bool uUseVertexColor;
uniform vec4 uMaterialColor;

varying vec3 vNormal;
varying vec2 vTexCoord;
varying vec3 vViewPosition;
varying vec3 vAmbientColor;
varying vec4 vColor;

void main(void) {

  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);

  // Pass varyings to fragment shader
  vViewPosition = viewModelPosition.xyz;
  gl_Position = uProjectionMatrix * viewModelPosition;  

  vNormal = uNormalMatrix * aNormal;
  vTexCoord = aTexCoord;

  // TODO: this should be a uniform
  vAmbientColor = vec3(0.0);
  for (int i = 0; i < 5; i++) {
    if (i < uAmbientLightCount) {
      vAmbientColor += uAmbientColor[i];
    }
  }
  
  vColor = (uUseVertexColor ? aVertexColor : uMaterialColor);
}
`,phongFrag:t+`// include lighting.glsl
precision highp float;
precision highp int;

uniform bool uHasSetAmbient;
uniform vec4 uSpecularMatColor;
uniform vec4 uAmbientMatColor;
uniform vec4 uEmissiveMatColor;

uniform vec4 uTint;
uniform sampler2D uSampler;
uniform bool isTexture;

varying vec3 vNormal;
varying vec2 vTexCoord;
varying vec3 vViewPosition;
varying vec3 vAmbientColor;
varying vec4 vColor;

void main(void) {

  vec3 diffuse;
  vec3 specular;
  totalLight(vViewPosition, normalize(vNormal), diffuse, specular);

  // Calculating final color as result of all lights (plus emissive term).

  vec4 baseColor = isTexture
    // Textures come in with premultiplied alpha. To apply tint and still have
    // premultiplied alpha output, we need to multiply the RGB channels by the
    // tint RGB, and all channels by the tint alpha.
    ? texture2D(uSampler, vTexCoord) * vec4(uTint.rgb/255., 1.) * (uTint.a/255.)
    // Colors come in with unmultiplied alpha, so we need to multiply the RGB
    // channels by alpha to convert it to premultiplied alpha.
    : vec4(vColor.rgb * vColor.a, vColor.a);
  gl_FragColor = vec4(diffuse * baseColor.rgb + 
                    vAmbientColor * (
                      uHasSetAmbient ? uAmbientMatColor.rgb : baseColor.rgb
                    ) + 
                    specular * uSpecularMatColor.rgb + 
                    uEmissiveMatColor.rgb, baseColor.a);
}
`,fontVert:N+`IN vec3 aPosition;
IN vec2 aTexCoord;
uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

uniform vec4 uGlyphRect;
uniform float uGlyphOffset;

OUT vec2 vTexCoord;
OUT float w;

void main() {
  vec4 positionVec4 = vec4(aPosition, 1.0);

  // scale by the size of the glyph's rectangle
  positionVec4.xy *= uGlyphRect.zw - uGlyphRect.xy;

  // Expand glyph bounding boxes by 1px on each side to give a bit of room
  // for antialiasing
  vec2 pixelScale = vec2(
    1. / uModelViewMatrix[0][0],
    1. / uModelViewMatrix[1][1]
  );
  vec2 offset = pixelScale * normalize(aTexCoord - vec2(0.5, 0.5)) * vec2(1., -1.);
  vec2 textureOffset = offset * (1. / vec2(
    uGlyphRect.z - uGlyphRect.x,
    uGlyphRect.w - uGlyphRect.y
  ));

  // move to the corner of the glyph
  positionVec4.xy += uGlyphRect.xy;

  // move to the letter's line offset
  positionVec4.x += uGlyphOffset;

  positionVec4.xy += offset;
  
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vTexCoord = aTexCoord + textureOffset;
  w = gl_Position.w;
}
`,fontFrag:N+`#ifndef WEBGL2
#extension GL_OES_standard_derivatives : enable
#endif

#if 0
  // simulate integer math using floats
	#define int float
	#define ivec2 vec2
	#define INT(x) float(x)

	int ifloor(float v) { return floor(v); }
	ivec2 ifloor(vec2 v) { return floor(v); }

#else
  // use native integer math
	precision highp int;
	#define INT(x) x

	int ifloor(float v) { return int(v); }
	int ifloor(int v) { return v; }
	ivec2 ifloor(vec2 v) { return ivec2(v); }

#endif

uniform sampler2D uSamplerStrokes;
uniform sampler2D uSamplerRowStrokes;
uniform sampler2D uSamplerRows;
uniform sampler2D uSamplerColStrokes;
uniform sampler2D uSamplerCols;

uniform ivec2 uStrokeImageSize;
uniform ivec2 uCellsImageSize;
uniform ivec2 uGridImageSize;

uniform ivec2 uGridOffset;
uniform ivec2 uGridSize;
uniform vec4 uMaterialColor;

IN vec2 vTexCoord;

// some helper functions
int ROUND(float v) { return ifloor(v + 0.5); }
ivec2 ROUND(vec2 v) { return ifloor(v + 0.5); }
float saturate(float v) { return clamp(v, 0.0, 1.0); }
vec2 saturate(vec2 v) { return clamp(v, 0.0, 1.0); }

int mul(float v1, int v2) {
  return ifloor(v1 * float(v2));
}

ivec2 mul(vec2 v1, ivec2 v2) {
  return ifloor(v1 * vec2(v2) + 0.5);
}

// unpack a 16-bit integer from a float vec2
int getInt16(vec2 v) {
  ivec2 iv = ROUND(v * 255.0);
  return iv.x * INT(128) + iv.y;
}

vec2 pixelScale;
vec2 coverage = vec2(0.0);
vec2 weight = vec2(0.5);
const float minDistance = 1.0/8192.0;
const float hardness = 1.05; // amount of antialias

// the maximum number of curves in a glyph
const int N = INT(250);

// retrieves an indexed pixel from a sampler
vec4 getTexel(sampler2D sampler, int pos, ivec2 size) {
  int width = size.x;
  int y = ifloor(pos / width);
  int x = pos - y * width;  // pos % width

  return TEXTURE(sampler, (vec2(x, y) + 0.5) / vec2(size));
}

void calulateCrossings(vec2 p0, vec2 p1, vec2 p2, out vec2 C1, out vec2 C2) {

  // get the coefficients of the quadratic in t
  vec2 a = p0 - p1 * 2.0 + p2;
  vec2 b = p0 - p1;
  vec2 c = p0 - vTexCoord;

  // found out which values of 't' it crosses the axes
  vec2 surd = sqrt(max(vec2(0.0), b * b - a * c));
  vec2 t1 = ((b - surd) / a).yx;
  vec2 t2 = ((b + surd) / a).yx;

  // approximate straight lines to avoid rounding errors
  if (abs(a.y) < 0.001)
    t1.x = t2.x = c.y / (2.0 * b.y);

  if (abs(a.x) < 0.001)
    t1.y = t2.y = c.x / (2.0 * b.x);

  // plug into quadratic formula to find the corrdinates of the crossings
  C1 = ((a * t1 - b * 2.0) * t1 + c) * pixelScale;
  C2 = ((a * t2 - b * 2.0) * t2 + c) * pixelScale;
}

void coverageX(vec2 p0, vec2 p1, vec2 p2) {

  vec2 C1, C2;
  calulateCrossings(p0, p1, p2, C1, C2);

  // determine on which side of the x-axis the points lie
  bool y0 = p0.y > vTexCoord.y;
  bool y1 = p1.y > vTexCoord.y;
  bool y2 = p2.y > vTexCoord.y;

  // could web be under the curve (after t1)?
  if (y1 ? !y2 : y0) {
    // add the coverage for t1
    coverage.x += saturate(C1.x + 0.5);
    // calculate the anti-aliasing for t1
    weight.x = min(weight.x, abs(C1.x));
  }

  // are we outside the curve (after t2)?
  if (y1 ? !y0 : y2) {
    // subtract the coverage for t2
    coverage.x -= saturate(C2.x + 0.5);
    // calculate the anti-aliasing for t2
    weight.x = min(weight.x, abs(C2.x));
  }
}

// this is essentially the same as coverageX, but with the axes swapped
void coverageY(vec2 p0, vec2 p1, vec2 p2) {

  vec2 C1, C2;
  calulateCrossings(p0, p1, p2, C1, C2);

  bool x0 = p0.x > vTexCoord.x;
  bool x1 = p1.x > vTexCoord.x;
  bool x2 = p2.x > vTexCoord.x;

  if (x1 ? !x2 : x0) {
    coverage.y -= saturate(C1.y + 0.5);
    weight.y = min(weight.y, abs(C1.y));
  }

  if (x1 ? !x0 : x2) {
    coverage.y += saturate(C2.y + 0.5);
    weight.y = min(weight.y, abs(C2.y));
  }
}

void main() {

  // calculate the pixel scale based on screen-coordinates
  pixelScale = hardness / fwidth(vTexCoord);

  // which grid cell is this pixel in?
  ivec2 gridCoord = ifloor(vTexCoord * vec2(uGridSize));

  // intersect curves in this row
  {
    // the index into the row info bitmap
    int rowIndex = gridCoord.y + uGridOffset.y;
    // fetch the info texel
    vec4 rowInfo = getTexel(uSamplerRows, rowIndex, uGridImageSize);
    // unpack the rowInfo
    int rowStrokeIndex = getInt16(rowInfo.xy);
    int rowStrokeCount = getInt16(rowInfo.zw);

    for (int iRowStroke = INT(0); iRowStroke < N; iRowStroke++) {
      if (iRowStroke >= rowStrokeCount)
        break;

      // each stroke is made up of 3 points: the start and control point
      // and the start of the next curve.
      // fetch the indices of this pair of strokes:
      vec4 strokeIndices = getTexel(uSamplerRowStrokes, rowStrokeIndex++, uCellsImageSize);

      // unpack the stroke index
      int strokePos = getInt16(strokeIndices.xy);

      // fetch the two strokes
      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);
      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);

      // calculate the coverage
      coverageX(stroke0.xy, stroke0.zw, stroke1.xy);
    }
  }

  // intersect curves in this column
  {
    int colIndex = gridCoord.x + uGridOffset.x;
    vec4 colInfo = getTexel(uSamplerCols, colIndex, uGridImageSize);
    int colStrokeIndex = getInt16(colInfo.xy);
    int colStrokeCount = getInt16(colInfo.zw);
    
    for (int iColStroke = INT(0); iColStroke < N; iColStroke++) {
      if (iColStroke >= colStrokeCount)
        break;

      vec4 strokeIndices = getTexel(uSamplerColStrokes, colStrokeIndex++, uCellsImageSize);

      int strokePos = getInt16(strokeIndices.xy);
      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);
      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);
      coverageY(stroke0.xy, stroke0.zw, stroke1.xy);
    }
  }

  weight = saturate(1.0 - weight * 2.0);
  float distance = max(weight.x + weight.y, minDistance); // manhattan approx.
  float antialias = abs(dot(coverage, weight) / distance);
  float cover = min(abs(coverage.x), abs(coverage.y));
  OUT_COLOR = vec4(uMaterialColor.rgb, 1.) * uMaterialColor.a;
  OUT_COLOR *= saturate(max(antialias, cover));
}
`,lineVert:U+`/*
  Part of the Processing project - http://processing.org
  Copyright (c) 2012-15 The Processing Foundation
  Copyright (c) 2004-12 Ben Fry and Casey Reas
  Copyright (c) 2001-04 Massachusetts Institute of Technology
  This library is free software; you can redistribute it and/or
  modify it under the terms of the GNU Lesser General Public
  License as published by the Free Software Foundation, version 2.1.
  This library is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
  Lesser General Public License for more details.
  You should have received a copy of the GNU Lesser General
  Public License along with this library; if not, write to the
  Free Software Foundation, Inc., 59 Temple Place, Suite 330,
  Boston, MA  02111-1307  USA
*/

#define PROCESSING_LINE_SHADER

precision mediump float;
precision mediump int;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform float uStrokeWeight;

uniform bool uUseLineColor;
uniform vec4 uMaterialColor;

uniform vec4 uViewport;
uniform int uPerspective;
uniform int uStrokeJoin;

attribute vec4 aPosition;
attribute vec3 aTangentIn;
attribute vec3 aTangentOut;
attribute float aSide;
attribute vec4 aVertexColor;

varying vec4 vColor;
varying vec2 vTangent;
varying vec2 vCenter;
varying vec2 vPosition;
varying float vMaxDist;
varying float vCap;
varying float vJoin;

vec2 lineIntersection(vec2 aPoint, vec2 aDir, vec2 bPoint, vec2 bDir) {
  // Rotate and translate so a starts at the origin and goes out to the right
  bPoint -= aPoint;
  vec2 rotatedBFrom = vec2(
    bPoint.x*aDir.x + bPoint.y*aDir.y,
    bPoint.y*aDir.x - bPoint.x*aDir.y
  );
  vec2 bTo = bPoint + bDir;
  vec2 rotatedBTo = vec2(
    bTo.x*aDir.x + bTo.y*aDir.y,
    bTo.y*aDir.x - bTo.x*aDir.y
  );
  float intersectionDistance =
    rotatedBTo.x + (rotatedBFrom.x - rotatedBTo.x) * rotatedBTo.y /
    (rotatedBTo.y - rotatedBFrom.y);
  return aPoint + aDir * intersectionDistance;
}

void main() {
  // Caps have one of either the in or out tangent set to 0
  vCap = (aTangentIn == vec3(0.)) != (aTangentOut == (vec3(0.)))
    ? 1. : 0.;

  // Joins have two unique, defined tangents
  vJoin = (
    aTangentIn != vec3(0.) &&
    aTangentOut != vec3(0.) &&
    aTangentIn != aTangentOut
  ) ? 1. : 0.;

  vec4 posp = uModelViewMatrix * aPosition;
  vec4 posqIn = uModelViewMatrix * (aPosition + vec4(aTangentIn, 0));
  vec4 posqOut = uModelViewMatrix * (aPosition + vec4(aTangentOut, 0));

  float facingCamera = pow(
    // The word space tangent's z value is 0 if it's facing the camera
    abs(normalize(posqIn-posp).z),

    // Using pow() here to ramp \`facingCamera\` up from 0 to 1 really quickly
    // so most lines get scaled and don't get clipped
    0.25
  );

  // using a scale <1 moves the lines towards the camera
  // in order to prevent popping effects due to half of
  // the line disappearing behind the geometry faces.
  float scale = mix(1., 0.995, facingCamera);

  // Moving vertices slightly toward the camera
  // to avoid depth-fighting with the fill triangles.
  // Discussed here:
  // http://www.opengl.org/discussion_boards/ubbthreads.php?ubb=showflat&Number=252848  
  posp.xyz = posp.xyz * scale;
  posqIn.xyz = posqIn.xyz * scale;
  posqOut.xyz = posqOut.xyz * scale;

  vec4 p = uProjectionMatrix * posp;
  vec4 qIn = uProjectionMatrix * posqIn;
  vec4 qOut = uProjectionMatrix * posqOut;
  vCenter = p.xy;

  // formula to convert from clip space (range -1..1) to screen space (range 0..[width or height])
  // screen_p = (p.xy/p.w + <1,1>) * 0.5 * uViewport.zw

  // prevent division by W by transforming the tangent formula (div by 0 causes
  // the line to disappear, see https://github.com/processing/processing/issues/5183)
  // t = screen_q - screen_p
  //
  // tangent is normalized and we don't care which aDirection it points to (+-)
  // t = +- normalize( screen_q - screen_p )
  // t = +- normalize( (q.xy/q.w+<1,1>)*0.5*uViewport.zw - (p.xy/p.w+<1,1>)*0.5*uViewport.zw )
  //
  // extract common factor, <1,1> - <1,1> cancels out
  // t = +- normalize( (q.xy/q.w - p.xy/p.w) * 0.5 * uViewport.zw )
  //
  // convert to common divisor
  // t = +- normalize( ((q.xy*p.w - p.xy*q.w) / (p.w*q.w)) * 0.5 * uViewport.zw )
  //
  // remove the common scalar divisor/factor, not needed due to normalize and +-
  // (keep uViewport - can't remove because it has different components for x and y
  //  and corrects for aspect ratio, see https://github.com/processing/processing/issues/5181)
  // t = +- normalize( (q.xy*p.w - p.xy*q.w) * uViewport.zw )

  vec2 tangentIn = normalize((qIn.xy*p.w - p.xy*qIn.w) * uViewport.zw);
  vec2 tangentOut = normalize((qOut.xy*p.w - p.xy*qOut.w) * uViewport.zw);

  vec2 curPerspScale;
  if(uPerspective == 1) {
    // Perspective ---
    // convert from world to clip by multiplying with projection scaling factor
    // to get the right thickness (see https://github.com/processing/processing/issues/5182)
    // invert Y, projections in Processing invert Y
    curPerspScale = (uProjectionMatrix * vec4(1, -1, 0, 0)).xy;
  } else {
    // No Perspective ---
    // multiply by W (to cancel out division by W later in the pipeline) and
    // convert from screen to clip (derived from clip to screen above)
    curPerspScale = p.w / (0.5 * uViewport.zw);
  }

  vec2 offset;
  if (vJoin == 1.) {
    vTangent = normalize(tangentIn + tangentOut);
    vec2 normalIn = vec2(-tangentIn.y, tangentIn.x);
    vec2 normalOut = vec2(-tangentOut.y, tangentOut.x);
    float side = sign(aSide);
    float sideEnum = abs(aSide);

    // We generate vertices for joins on either side of the centerline, but
    // the "elbow" side is the only one needing a join. By not setting the
    // offset for the other side, all its vertices will end up in the same
    // spot and not render, effectively discarding it.
    if (sign(dot(tangentOut, vec2(-tangentIn.y, tangentIn.x))) != side) {
      // Side enums:
      //   1: the side going into the join
      //   2: the middle of the join
      //   3: the side going out of the join
      if (sideEnum == 2.) {
        // Calculate the position + tangent on either side of the join, and
        // find where the lines intersect to find the elbow of the join
        vec2 c = (posp.xy/posp.w + vec2(1.,1.)) * 0.5 * uViewport.zw;
        vec2 intersection = lineIntersection(
          c + (side * normalIn * uStrokeWeight / 2.) * curPerspScale,
          tangentIn,
          c + (side * normalOut * uStrokeWeight / 2.) * curPerspScale,
          tangentOut
        );
        offset = (intersection - c);

        // When lines are thick and the angle of the join approaches 180, the
        // elbow might be really far from the center. We'll apply a limit to
        // the magnitude to avoid lines going across the whole screen when this
        // happens.
        float mag = length(offset);
        float maxMag = 3. * uStrokeWeight;
        if (mag > maxMag) {
          offset *= maxMag / mag;
        }
      } else if (sideEnum == 1.) {
        offset = side * normalIn * curPerspScale * uStrokeWeight / 2.;
      } else if (sideEnum == 3.) {
        offset = side * normalOut * curPerspScale * uStrokeWeight / 2.;
      }
    }
    if (uStrokeJoin == STROKE_JOIN_BEVEL) {
      vec2 avgNormal = vec2(-vTangent.y, vTangent.x);
      vMaxDist = abs(dot(avgNormal, normalIn * uStrokeWeight / 2.));
    } else {
      vMaxDist = uStrokeWeight / 2.;
    }
  } else {
    vec2 tangent = aTangentIn == vec3(0.) ? tangentOut : tangentIn;
    vTangent = tangent;
    vec2 normal = vec2(-tangent.y, tangent.x);

    float normalOffset = sign(aSide);
    // Caps will have side values of -2 or 2 on the edge of the cap that
    // extends out from the line
    float tangentOffset = abs(aSide) - 1.;
    offset = (normal * normalOffset + tangent * tangentOffset) *
      uStrokeWeight * 0.5 * curPerspScale;
    vMaxDist = uStrokeWeight / 2.;
  }
  vPosition = vCenter + offset / curPerspScale;

  gl_Position.xy = p.xy + offset.xy;
  gl_Position.zw = p.zw;
  
  vColor = (uUseLineColor ? aVertexColor : uMaterialColor);
}
`,lineFrag:U+`precision mediump float;
precision mediump int;

uniform vec4 uMaterialColor;
uniform int uStrokeCap;
uniform int uStrokeJoin;
uniform float uStrokeWeight;

varying vec4 vColor;
varying vec2 vTangent;
varying vec2 vCenter;
varying vec2 vPosition;
varying float vMaxDist;
varying float vCap;
varying float vJoin;

float distSquared(vec2 a, vec2 b) {
  vec2 aToB = b - a;
  return dot(aToB, aToB);
}

void main() {
  if (vCap > 0.) {
    if (
      uStrokeCap == STROKE_CAP_ROUND &&
      distSquared(vPosition, vCenter) > uStrokeWeight * uStrokeWeight * 0.25
    ) {
      discard;
    } else if (
      uStrokeCap == STROKE_CAP_SQUARE &&
      dot(vPosition - vCenter, vTangent) > 0.
    ) {
      discard;
    }
    // Use full area for PROJECT
  } else if (vJoin > 0.) {
    if (
      uStrokeJoin == STROKE_JOIN_ROUND &&
      distSquared(vPosition, vCenter) > uStrokeWeight * uStrokeWeight * 0.25
    ) {
      discard;
    } else if (uStrokeJoin == STROKE_JOIN_BEVEL) {
      vec2 normal = vec2(-vTangent.y, vTangent.x);
      if (abs(dot(vPosition - vCenter, normal)) > vMaxDist) {
        discard;
      }
    }
    // Use full area for MITER
  }
  gl_FragColor = vec4(vColor.rgb, 1.) * vColor.a;
}
`,pointVert:`attribute vec3 aPosition;
uniform float uPointSize;
varying float vStrokeWeight;
uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
void main() {
	vec4 positionVec4 =  vec4(aPosition, 1.0);
	gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
	gl_PointSize = uPointSize;
	vStrokeWeight = uPointSize;
}`,pointFrag:`precision mediump float;
precision mediump int;
uniform vec4 uMaterialColor;
varying float vStrokeWeight;

void main(){
  float mask = 0.0;

  // make a circular mask using the gl_PointCoord (goes from 0 - 1 on a point)
  // might be able to get a nicer edge on big strokeweights with smoothstep but slightly less performant

  mask = step(0.98, length(gl_PointCoord * 2.0 - 1.0));

  // if strokeWeight is 1 or less lets just draw a square
  // this prevents weird artifacting from carving circles when our points are really small
  // if strokeWeight is larger than 1, we just use it as is

  mask = mix(0.0, mask, clamp(floor(vStrokeWeight - 0.5),0.0,1.0));

  // throw away the borders of the mask
  // otherwise we get weird alpha blending issues

  if(mask > 0.98){
    discard;
  }

  gl_FragColor = vec4(uMaterialColor.rgb, 1.) * uMaterialColor.a;
}
`};function H(V,G,q,X,B,W,K,ee,re,oe){var le=G.getParameter(G.FRAMEBUFFER_BINDING),me=W*K*(q=(G.bindFramebuffer(G.FRAMEBUFFER,q),ee===G.RGBA?4:3)),$=re===G.UNSIGNED_BYTE?Uint8Array:Float32Array;if(V instanceof $&&V.length===me||(V=new $(me)),G.readPixels(X,oe?oe-B-K:B,W,K,ee,re,V),G.bindFramebuffer(G.FRAMEBUFFER,le),oe)for(var Q=Math.floor(K/2),se=new $(W*q),de=0;de<Q;de++){var ge=de*W*4,ve=(K-de-1)*W*4;se.set(V.subarray(ge,ge+4*W)),V.copyWithin(ge,ve,ve+4*W),V.set(se,ve)}return V}function I(V,G,q,X,B,W,K){var ee=V.getParameter(V.FRAMEBUFFER_BINDING);return V.bindFramebuffer(V.FRAMEBUFFER,G),G=B===V.RGBA?4:3,G=new(W===V.UNSIGNED_BYTE?Uint8Array:Float32Array)(G),V.readPixels(q,K?K-X-1:X,1,1,B,W,G),V.bindFramebuffer(V.FRAMEBUFFER,ee),Array.from(G)}c.default.prototype.setAttributes=function(V,G){if(this._glAttributes===void 0)console.log("You are trying to use setAttributes on a p5.Graphics object that does not use a WEBGL renderer.");else{var q=!0;if(G!==void 0?(this._glAttributes===null&&(this._glAttributes={}),this._glAttributes[V]!==G&&(this._glAttributes[V]=G,q=!1)):V instanceof Object&&this._glAttributes!==V&&(this._glAttributes=V,q=!1),this._renderer.isP3D&&!q){if(!this._setupDone){for(var X in this._renderer.retainedMode.geometry)if(this._renderer.retainedMode.geometry.hasOwnProperty(X))return void c.default._friendlyError("Sorry, Could not set the attributes, you need to call setAttributes() before calling the other drawing methods in setup()")}this.push(),this._renderer._resetContext(),this.pop(),this._renderer._curCamera&&(this._renderer._curCamera._renderer=this._renderer)}}},c.default.RendererGL=function(V){var G=X;if(typeof V!="function"&&V!==null)throw new TypeError("Super expression must either be null or a function");G.prototype=Object.create(V&&V.prototype,{constructor:{value:G,writable:!0,configurable:!0}}),V&&l(G,V);var q=m(X);function X(B,W,K,ee){if(this instanceof X)return(B=q.call(this,B,W,K))._setAttributeDefaults(W),B._initContext(),B.isP3D=!0,B.GL=B.drawingContext,B._pInst._setProperty("drawingContext",B.drawingContext),B._isErasing=!1,B._enableLighting=!1,B.ambientLightColors=[],B.specularColors=[1,1,1],B.directionalLightDirections=[],B.directionalLightDiffuseColors=[],B.directionalLightSpecularColors=[],B.pointLightPositions=[],B.pointLightDiffuseColors=[],B.pointLightSpecularColors=[],B.spotLightPositions=[],B.spotLightDirections=[],B.spotLightDiffuseColors=[],B.spotLightSpecularColors=[],B.spotLightAngle=[],B.spotLightConc=[],B.drawMode=u.FILL,B.curFillColor=B._cachedFillStyle=[1,1,1,1],B.curAmbientColor=B._cachedFillStyle=[1,1,1,1],B.curSpecularColor=B._cachedFillStyle=[0,0,0,0],B.curEmissiveColor=B._cachedFillStyle=[0,0,0,0],B.curStrokeColor=B._cachedStrokeStyle=[0,0,0,1],B.curBlendMode=u.BLEND,B._cachedBlendMode=void 0,B.webglVersion===u.WEBGL2?B.blendExt=B.GL:B.blendExt=B.GL.getExtension("EXT_blend_minmax"),B._isBlending=!1,B._hasSetAmbient=!1,B._useSpecularMaterial=!1,B._useEmissiveMaterial=!1,B._useNormalMaterial=!1,B._useShininess=1,B._useLineColor=!1,B._useVertexColor=!1,B.registerEnabled=[],B._tint=[255,255,255,255],B.constantAttenuation=1,B.linearAttenuation=0,B.quadraticAttenuation=0,B.uMVMatrix=new c.default.Matrix,B.uPMatrix=new c.default.Matrix,B.uNMatrix=new c.default.Matrix("mat3"),B._currentNormal=new c.default.Vector(0,0,1),B._curCamera=new c.default.Camera(_(B)),B._curCamera._computeCameraDefaultSettings(),B._curCamera._setDefaultCamera(),B.prevTouches=[],B.zoomVelocity=0,B.rotateVelocity=new c.default.Vector(0,0),B.moveVelocity=new c.default.Vector(0,0),B.executeZoom=!1,B.executeRotateAndMove=!1,B._defaultLightShader=void 0,B._defaultImmediateModeShader=void 0,B._defaultNormalShader=void 0,B._defaultColorShader=void 0,B._defaultPointShader=void 0,B.userFillShader=void 0,B.userStrokeShader=void 0,B.userPointShader=void 0,B.retainedMode={geometry:{},buffers:{stroke:[new c.default.RenderBuffer(4,"lineVertexColors","lineColorBuffer","aVertexColor",_(B),B._flatten),new c.default.RenderBuffer(3,"lineVertices","lineVerticesBuffer","aPosition",_(B),B._flatten),new c.default.RenderBuffer(3,"lineTangentsIn","lineTangentsInBuffer","aTangentIn",_(B),B._flatten),new c.default.RenderBuffer(3,"lineTangentsOut","lineTangentsOutBuffer","aTangentOut",_(B),B._flatten),new c.default.RenderBuffer(1,"lineSides","lineSidesBuffer","aSide",_(B))],fill:[new c.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",_(B),B._vToNArray),new c.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",_(B),B._vToNArray),new c.default.RenderBuffer(4,"vertexColors","colorBuffer","aVertexColor",_(B)),new c.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",_(B)),new c.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",_(B),B._flatten)],text:[new c.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",_(B),B._vToNArray),new c.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",_(B),B._flatten)]}},B.immediateMode={geometry:new c.default.Geometry,shapeMode:u.TRIANGLE_FAN,_bezierVertex:[],_quadraticVertex:[],_curveVertex:[],buffers:{fill:[new c.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",_(B),B._vToNArray),new c.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",_(B),B._vToNArray),new c.default.RenderBuffer(4,"vertexColors","colorBuffer","aVertexColor",_(B)),new c.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",_(B)),new c.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",_(B),B._flatten)],stroke:[new c.default.RenderBuffer(4,"lineVertexColors","lineColorBuffer","aVertexColor",_(B),B._flatten),new c.default.RenderBuffer(3,"lineVertices","lineVerticesBuffer","aPosition",_(B),B._flatten),new c.default.RenderBuffer(3,"lineTangentsIn","lineTangentsInBuffer","aTangentIn",_(B),B._flatten),new c.default.RenderBuffer(3,"lineTangentsOut","lineTangentsOutBuffer","aTangentOut",_(B),B._flatten),new c.default.RenderBuffer(1,"lineSides","lineSidesBuffer","aSide",_(B))],point:B.GL.createBuffer()}},B.pointSize=5,B.curStrokeWeight=1,B.curStrokeCap=u.ROUND,B.curStrokeJoin=u.ROUND,B.textures=new Map,B.framebuffers=new Set,B.textureMode=u.IMAGE,B.textureWrapX=u.CLAMP,B.textureWrapY=u.CLAMP,B._tex=null,B._curveTightness=6,B._lookUpTableBezier=[],B._lookUpTableQuadratic=[],B._lutBezierDetail=0,B._lutQuadraticDetail=0,B.isProcessingVertices=!1,B._tessy=B._initTessy(),B.fontInfos={},B._curShader=void 0,B;throw new TypeError("Cannot call a class as a function")}return G=X,(V=[{key:"_setAttributeDefaults",value:function(B){var W={alpha:!0,depth:!0,stencil:!0,antialias:navigator.userAgent.toLowerCase().includes("safari"),premultipliedAlpha:!0,preserveDrawingBuffer:!0,perPixelLighting:!0,version:2};B._glAttributes===null?B._glAttributes=W:B._glAttributes=Object.assign(W,B._glAttributes)}},{key:"_initContext",value:function(){if(this._pInst._glAttributes.version!==1&&(this.drawingContext=this.canvas.getContext("webgl2",this._pInst._glAttributes)),this.webglVersion=this.drawingContext?u.WEBGL2:u.WEBGL,this._pInst._setProperty("webglVersion",this.webglVersion),this.drawingContext||(this.drawingContext=this.canvas.getContext("webgl",this._pInst._glAttributes)||this.canvas.getContext("experimental-webgl",this._pInst._glAttributes)),this.drawingContext===null)throw new Error("Error creating webgl context");var B=this.drawingContext;B.enable(B.DEPTH_TEST),B.depthFunc(B.LEQUAL),B.viewport(0,0,B.drawingBufferWidth,B.drawingBufferHeight),B.pixelStorei(B.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),this._viewport=this.drawingContext.getParameter(this.drawingContext.VIEWPORT)}},{key:"_resetContext",value:function(B,W){var K,ee=this.width,re=this.height,oe=this.canvas.id,le=this._pInst instanceof c.default.Graphics;le?((K=this._pInst).canvas.parentNode.removeChild(K.canvas),K.canvas=document.createElement("canvas"),(K._pInst._userNode||document.body).appendChild(K.canvas),c.default.Element.call(K,K.canvas,K._pInst),K.width=ee,K.height=re):((K=this.canvas)&&K.parentNode.removeChild(K),(K=document.createElement("canvas")).id=oe,(this._pInst._userNode||document.body).appendChild(K),this._pInst.canvas=K,this.canvas=K),oe=new c.default.RendererGL(this._pInst.canvas,this._pInst,!le),this._pInst._setProperty("_renderer",oe),oe.resize(ee,re),oe._applyDefaults(),le||this._pInst._elements.push(oe),typeof W=="function"&&setTimeout(function(){W.apply(window._renderer,B)},0)}},{key:"_update",value:function(){this.uMVMatrix.set(this._curCamera.cameraMatrix.mat4[0],this._curCamera.cameraMatrix.mat4[1],this._curCamera.cameraMatrix.mat4[2],this._curCamera.cameraMatrix.mat4[3],this._curCamera.cameraMatrix.mat4[4],this._curCamera.cameraMatrix.mat4[5],this._curCamera.cameraMatrix.mat4[6],this._curCamera.cameraMatrix.mat4[7],this._curCamera.cameraMatrix.mat4[8],this._curCamera.cameraMatrix.mat4[9],this._curCamera.cameraMatrix.mat4[10],this._curCamera.cameraMatrix.mat4[11],this._curCamera.cameraMatrix.mat4[12],this._curCamera.cameraMatrix.mat4[13],this._curCamera.cameraMatrix.mat4[14],this._curCamera.cameraMatrix.mat4[15]),this.ambientLightColors.length=0,this.specularColors=[1,1,1],this.directionalLightDirections.length=0,this.directionalLightDiffuseColors.length=0,this.directionalLightSpecularColors.length=0,this.pointLightPositions.length=0,this.pointLightDiffuseColors.length=0,this.pointLightSpecularColors.length=0,this.spotLightPositions.length=0,this.spotLightDirections.length=0,this.spotLightDiffuseColors.length=0,this.spotLightSpecularColors.length=0,this.spotLightAngle.length=0,this.spotLightConc.length=0,this._enableLighting=!1,this._tint=[255,255,255,255],this.GL.clear(this.GL.DEPTH_BUFFER_BIT)}},{key:"background",value:function(){var B=(ee=(ee=this._pInst).color.apply(ee,arguments)).levels[0]/255,W=ee.levels[1]/255,K=ee.levels[2]/255,ee=ee.levels[3]/255;this.clear(B,W,K,ee)}},{key:"fill",value:function(B,W,K,ee){var re=c.default.prototype.color.apply(this._pInst,arguments);this.curFillColor=re._array,this.drawMode=u.FILL,this._useNormalMaterial=!1,this._tex=null}},{key:"stroke",value:function(B,W,K,ee){var re=c.default.prototype.color.apply(this._pInst,arguments);this.curStrokeColor=re._array}},{key:"strokeCap",value:function(B){this.curStrokeCap=B}},{key:"strokeJoin",value:function(B){this.curStrokeJoin=B}},{key:"filter",value:function(B){c.default._friendlyError("filter() does not work in WEBGL mode")}},{key:"blendMode",value:function(B){B===u.DARKEST||B===u.LIGHTEST||B===u.ADD||B===u.BLEND||B===u.SUBTRACT||B===u.SCREEN||B===u.EXCLUSION||B===u.REPLACE||B===u.MULTIPLY||B===u.REMOVE?this.curBlendMode=B:B!==u.BURN&&B!==u.OVERLAY&&B!==u.HARD_LIGHT&&B!==u.SOFT_LIGHT&&B!==u.DODGE||console.warn("BURN, OVERLAY, HARD_LIGHT, SOFT_LIGHT, and DODGE only work for blendMode in 2D mode.")}},{key:"erase",value:function(B,W){this._isErasing||(this._applyBlendMode(u.REMOVE),this._isErasing=!0,this._cachedFillStyle=this.curFillColor.slice(),this.curFillColor=[1,1,1,B/255],this._cachedStrokeStyle=this.curStrokeColor.slice(),this.curStrokeColor=[1,1,1,W/255])}},{key:"noErase",value:function(){this._isErasing&&(this._isErasing=!1,this.curFillColor=this._cachedFillStyle.slice(),this.curStrokeColor=this._cachedStrokeStyle.slice(),this.blendMode(this._cachedBlendMode))}},{key:"strokeWeight",value:function(B){this.curStrokeWeight!==B&&(this.pointSize=B,this.curStrokeWeight=B)}},{key:"_getPixel",value:function(B,W){var K=this.GL;return I(K,null,B,W,K.RGBA,K.UNSIGNED_BYTE,this._pInst.height*this._pInst.pixelDensity())}},{key:"loadPixels",value:function(){var B,W,K=this._pixelsState;this._pInst._glAttributes.preserveDrawingBuffer!==!0?console.log("loadPixels only works in WebGL when preserveDrawingBuffer is true."):(B=this._pInst._pixelDensity,W=this.GL,K._setProperty("pixels",H(K.pixels,W,null,0,0,this.width*B,this.height*B,W.RGBA,W.UNSIGNED_BYTE,this.height*B)))}},{key:"updatePixels",value:function(){var B=this._getTempFramebuffer();B.pixels=this._pixelsState.pixels,B.updatePixels(),this._pInst.push(),this._pInst.resetMatrix(),this._pInst.clear(),this._pInst.imageMode(u.CENTER),this._pInst.image(B,0,0),this._pInst.pop(),this.GL.clearDepth(1),this.GL.clear(this.GL.DEPTH_BUFFER_BIT)}},{key:"_getTempFramebuffer",value:function(){return this._tempFramebuffer||(this._tempFramebuffer=this._pInst.createFramebuffer({format:u.UNSIGNED_BYTE,useDepth:this._pInst._glAttributes.depth,depthFormat:u.UNSIGNED_INT,antialias:this._pInst._glAttributes.antialias})),this._tempFramebuffer}},{key:"geometryInHash",value:function(B){return this.retainedMode.geometry[B]!==void 0}},{key:"resize",value:function(B,W){c.default.Renderer.prototype.resize.call(this,B,W),this.GL.viewport(0,0,this.GL.drawingBufferWidth,this.GL.drawingBufferHeight),this._viewport=this.GL.getParameter(this.GL.VIEWPORT),this._curCamera._resize();var K=((B=this._pixelsState).pixels!==void 0&&B._setProperty("pixels",new Uint8Array(this.GL.drawingBufferWidth*this.GL.drawingBufferHeight*4)),!0);W=!1,B=void 0;try{for(var ee,re=this.framebuffers[Symbol.iterator]();!(K=(ee=re.next()).done);K=!0)ee.value._canvasSizeChanged()}catch(oe){W=!0,B=oe}finally{try{K||re.return==null||re.return()}finally{if(W)throw B}}}},{key:"clear",value:function(){var B=(arguments.length<=0?void 0:arguments[0])||0,W=(arguments.length<=1?void 0:arguments[1])||0,K=(arguments.length<=2?void 0:arguments[2])||0,ee=(arguments.length<=3?void 0:arguments[3])||0;this.GL.clearColor(B*ee,W*ee,K*ee,ee),this.GL.clearDepth(1),this.GL.clear(this.GL.COLOR_BUFFER_BIT|this.GL.DEPTH_BUFFER_BIT)}},{key:"applyMatrix",value:function(B,W,K,ee,re,oe){arguments.length===16?c.default.Matrix.prototype.apply.apply(this.uMVMatrix,arguments):this.uMVMatrix.apply([B,W,0,0,K,ee,0,0,0,0,1,0,re,oe,0,1])}},{key:"translate",value:function(B,W,K){return B instanceof c.default.Vector&&(K=B.z,W=B.y,B=B.x),this.uMVMatrix.translate([B,W,K]),this}},{key:"scale",value:function(B,W,K){return this.uMVMatrix.scale(B,W,K),this}},{key:"rotate",value:function(B,W){return W===void 0?this.rotateZ(B):(c.default.Matrix.prototype.rotate.apply(this.uMVMatrix,arguments),this)}},{key:"rotateX",value:function(B){return this.rotate(B,1,0,0),this}},{key:"rotateY",value:function(B){return this.rotate(B,0,1,0),this}},{key:"rotateZ",value:function(B){return this.rotate(B,0,0,1),this}},{key:"push",value:function(){var B=c.default.Renderer.prototype.push.apply(this),W=B.properties;return W.uMVMatrix=this.uMVMatrix.copy(),W.uPMatrix=this.uPMatrix.copy(),W._curCamera=this._curCamera,this._curCamera=this._curCamera.copy(),W.ambientLightColors=this.ambientLightColors.slice(),W.specularColors=this.specularColors.slice(),W.directionalLightDirections=this.directionalLightDirections.slice(),W.directionalLightDiffuseColors=this.directionalLightDiffuseColors.slice(),W.directionalLightSpecularColors=this.directionalLightSpecularColors.slice(),W.pointLightPositions=this.pointLightPositions.slice(),W.pointLightDiffuseColors=this.pointLightDiffuseColors.slice(),W.pointLightSpecularColors=this.pointLightSpecularColors.slice(),W.spotLightPositions=this.spotLightPositions.slice(),W.spotLightDirections=this.spotLightDirections.slice(),W.spotLightDiffuseColors=this.spotLightDiffuseColors.slice(),W.spotLightSpecularColors=this.spotLightSpecularColors.slice(),W.spotLightAngle=this.spotLightAngle.slice(),W.spotLightConc=this.spotLightConc.slice(),W.userFillShader=this.userFillShader,W.userStrokeShader=this.userStrokeShader,W.userPointShader=this.userPointShader,W.pointSize=this.pointSize,W.curStrokeWeight=this.curStrokeWeight,W.curStrokeColor=this.curStrokeColor,W.curFillColor=this.curFillColor,W.curAmbientColor=this.curAmbientColor,W.curSpecularColor=this.curSpecularColor,W.curEmissiveColor=this.curEmissiveColor,W._hasSetAmbient=this._hasSetAmbient,W._useSpecularMaterial=this._useSpecularMaterial,W._useEmissiveMaterial=this._useEmissiveMaterial,W._useShininess=this._useShininess,W.constantAttenuation=this.constantAttenuation,W.linearAttenuation=this.linearAttenuation,W.quadraticAttenuation=this.quadraticAttenuation,W._enableLighting=this._enableLighting,W._useNormalMaterial=this._useNormalMaterial,W._tex=this._tex,W.drawMode=this.drawMode,W._currentNormal=this._currentNormal,W.curBlendMode=this.curBlendMode,B}},{key:"resetMatrix",value:function(){return this.uMVMatrix.set(this._curCamera.cameraMatrix.mat4[0],this._curCamera.cameraMatrix.mat4[1],this._curCamera.cameraMatrix.mat4[2],this._curCamera.cameraMatrix.mat4[3],this._curCamera.cameraMatrix.mat4[4],this._curCamera.cameraMatrix.mat4[5],this._curCamera.cameraMatrix.mat4[6],this._curCamera.cameraMatrix.mat4[7],this._curCamera.cameraMatrix.mat4[8],this._curCamera.cameraMatrix.mat4[9],this._curCamera.cameraMatrix.mat4[10],this._curCamera.cameraMatrix.mat4[11],this._curCamera.cameraMatrix.mat4[12],this._curCamera.cameraMatrix.mat4[13],this._curCamera.cameraMatrix.mat4[14],this._curCamera.cameraMatrix.mat4[15]),this}},{key:"_getImmediateStrokeShader",value:function(){var B=this.userStrokeShader;return B&&B.isStrokeShader()?B:this._getLineShader()}},{key:"_getRetainedStrokeShader",value:function(){return this._getImmediateStrokeShader()}},{key:"_getImmediateFillShader",value:function(){var B=this.userFillShader;if(this._useNormalMaterial&&(!B||!B.isNormalShader()))return this._getNormalShader();if(this._enableLighting){if(!B||!B.isLightShader())return this._getLightShader()}else if(this._tex){if(!B||!B.isTextureShader())return this._getLightShader()}else if(!B)return this._getImmediateModeShader();return B}},{key:"_getRetainedFillShader",value:function(){if(this._useNormalMaterial)return this._getNormalShader();var B=this.userFillShader;if(this._enableLighting){if(!B||!B.isLightShader())return this._getLightShader()}else if(this._tex){if(!B||!B.isTextureShader())return this._getLightShader()}else if(!B)return this._getColorShader();return B}},{key:"_getImmediatePointShader",value:function(){var B=this.userPointShader;return B&&B.isPointShader()?B:this._getPointShader()}},{key:"_getRetainedLineShader",value:function(){return this._getImmediateLineShader()}},{key:"_getLightShader",value:function(){return this._defaultLightShader||(this._pInst._glAttributes.perPixelLighting?this._defaultLightShader=new c.default.Shader(this,D.phongVert,D.phongFrag):this._defaultLightShader=new c.default.Shader(this,D.lightVert,D.lightTextureFrag)),this._defaultLightShader}},{key:"_getImmediateModeShader",value:function(){return this._defaultImmediateModeShader||(this._defaultImmediateModeShader=new c.default.Shader(this,D.immediateVert,D.vertexColorFrag)),this._defaultImmediateModeShader}},{key:"_getNormalShader",value:function(){return this._defaultNormalShader||(this._defaultNormalShader=new c.default.Shader(this,D.normalVert,D.normalFrag)),this._defaultNormalShader}},{key:"_getColorShader",value:function(){return this._defaultColorShader||(this._defaultColorShader=new c.default.Shader(this,D.normalVert,D.basicFrag)),this._defaultColorShader}},{key:"_getPointShader",value:function(){return this._defaultPointShader||(this._defaultPointShader=new c.default.Shader(this,D.pointVert,D.pointFrag)),this._defaultPointShader}},{key:"_getLineShader",value:function(){return this._defaultLineShader||(this._defaultLineShader=new c.default.Shader(this,D.lineVert,D.lineFrag)),this._defaultLineShader}},{key:"_getFontShader",value:function(){return this._defaultFontShader||(this.webglVersion===u.WEBGL&&this.GL.getExtension("OES_standard_derivatives"),this._defaultFontShader=new c.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+D.fontVert,this._webGL2CompatibilityPrefix("frag","mediump")+D.fontFrag)),this._defaultFontShader}},{key:"_webGL2CompatibilityPrefix",value:function(B,W){var K="";return this.webglVersion===u.WEBGL2&&(K+=`#version 300 es
#define WEBGL2
`),B==="vert"?K+=`#define VERTEX_SHADER
`:B==="frag"&&(K+=`#define FRAGMENT_SHADER
`),W&&(K+="precision ".concat(W,` float;
`)),K}},{key:"_getEmptyTexture",value:function(){var B;return this._emptyTexture||((B=new c.default.Image(1,1)).set(0,0,255),this._emptyTexture=new c.default.Texture(this,B)),this._emptyTexture}},{key:"getTexture",value:function(B){B instanceof c.default.Framebuffer&&(B=B.color);var W=this.textures.get(B);return W||(W=new c.default.Texture(this,B),this.textures.set(B,W),W)}},{key:"createFramebuffer",value:function(B){return new c.default.Framebuffer(this,B)}},{key:"_setStrokeUniforms",value:function(B){B.bindShader(),B.setUniform("uUseLineColor",this._useLineColor),B.setUniform("uMaterialColor",this.curStrokeColor),B.setUniform("uStrokeWeight",this.curStrokeWeight),B.setUniform("uStrokeCap",C[this.curStrokeCap]),B.setUniform("uStrokeJoin",O[this.curStrokeJoin])}},{key:"_setFillUniforms",value:function(B){B.bindShader(),B.setUniform("uUseVertexColor",this._useVertexColor),B.setUniform("uMaterialColor",this.curFillColor),B.setUniform("isTexture",!!this._tex),this._tex&&B.setUniform("uSampler",this._tex),B.setUniform("uTint",this._tint),B.setUniform("uHasSetAmbient",this._hasSetAmbient),B.setUniform("uAmbientMatColor",this.curAmbientColor),B.setUniform("uSpecularMatColor",this.curSpecularColor),B.setUniform("uEmissiveMatColor",this.curEmissiveColor),B.setUniform("uSpecular",this._useSpecularMaterial),B.setUniform("uEmissive",this._useEmissiveMaterial),B.setUniform("uShininess",this._useShininess),B.setUniform("uUseLighting",this._enableLighting);var W=this.pointLightDiffuseColors.length/3;B.setUniform("uPointLightCount",W),B.setUniform("uPointLightLocation",this.pointLightPositions),B.setUniform("uPointLightDiffuseColors",this.pointLightDiffuseColors),B.setUniform("uPointLightSpecularColors",this.pointLightSpecularColors),W=this.directionalLightDiffuseColors.length/3,B.setUniform("uDirectionalLightCount",W),B.setUniform("uLightingDirection",this.directionalLightDirections),B.setUniform("uDirectionalDiffuseColors",this.directionalLightDiffuseColors),B.setUniform("uDirectionalSpecularColors",this.directionalLightSpecularColors),W=this.ambientLightColors.length/3,B.setUniform("uAmbientLightCount",W),B.setUniform("uAmbientColor",this.ambientLightColors),W=this.spotLightDiffuseColors.length/3,B.setUniform("uSpotLightCount",W),B.setUniform("uSpotLightAngle",this.spotLightAngle),B.setUniform("uSpotLightConc",this.spotLightConc),B.setUniform("uSpotLightDiffuseColors",this.spotLightDiffuseColors),B.setUniform("uSpotLightSpecularColors",this.spotLightSpecularColors),B.setUniform("uSpotLightLocation",this.spotLightPositions),B.setUniform("uSpotLightDirection",this.spotLightDirections),B.setUniform("uConstantAttenuation",this.constantAttenuation),B.setUniform("uLinearAttenuation",this.linearAttenuation),B.setUniform("uQuadraticAttenuation",this.quadraticAttenuation),B.bindTextures()}},{key:"_setPointUniforms",value:function(B){B.bindShader(),B.setUniform("uMaterialColor",this.curStrokeColor),B.setUniform("uPointSize",this.pointSize*this._pInst._pixelDensity)}},{key:"_bindBuffer",value:function(B,W,K,ee,re){W=W||this.GL.ARRAY_BUFFER,this.GL.bindBuffer(W,B),K!==void 0&&(B=new(ee||Float32Array)(K),this.GL.bufferData(W,B,re||this.GL.STATIC_DRAW))}},{key:"_arraysEqual",value:function(B,W){return B.length===W.length&&B.every(function(K,ee){return K===W[ee]})}},{key:"_isTypedArray",value:function(B){return[Float32Array,Float64Array,Int16Array,Uint16Array,Uint32Array].some(function(W){return B instanceof W})}},{key:"_flatten",value:function(B){if(B.length===0)return[];var W;if(2e4<B.length){for(var K=[],ee=B.slice(),re=ee.pop();Array.isArray(re)?ee.push.apply(ee,h(re)):K.push(re),ee.length&&(re=ee.pop())!==void 0;);return K.reverse(),K}return(W=[]).concat.apply(W,h(B))}},{key:"_vToNArray",value:function(B){var W=[],K=!0,ee=!1,re=void 0;try{for(var oe,le=B[Symbol.iterator]();!(K=(oe=le.next()).done);K=!0){var me=oe.value;W.push(me.x,me.y,me.z)}}catch($){ee=!0,re=$}finally{try{K||le.return==null||le.return()}finally{if(ee)throw re}}return W}},{key:"_bezierCoefficients",value:function(B){var W=B*B,K=1-B,ee=K*K;return[ee*K,3*ee*B,3*K*W,W*B]}},{key:"_quadraticCoefficients",value:function(B){var W=1-B;return[W*W,2*W*B,B*B]}},{key:"_bezierToCatmull",value:function(B){return[B[1],B[1]+(B[2]-B[0])/this._curveTightness,B[2]-(B[3]-B[1])/this._curveTightness,B[2]]}},{key:"_initTessy",value:function(){var B=new x.default.GluTesselator;return B.gluTessCallback(x.default.gluEnum.GLU_TESS_VERTEX_DATA,function(W,K){for(var ee=0;ee<W.length;ee++)K.push(W[ee])}),B.gluTessCallback(x.default.gluEnum.GLU_TESS_BEGIN,function(W){W!==x.default.primitiveType.GL_TRIANGLES&&console.log("expected TRIANGLES but got type: ".concat(W))}),B.gluTessCallback(x.default.gluEnum.GLU_TESS_ERROR,function(W){console.log("error callback"),console.log("error number: ".concat(W))}),B.gluTessCallback(x.default.gluEnum.GLU_TESS_COMBINE,function(W,K,ee){for(var re=new Array(c.default.RendererGL.prototype.tessyVertexSize).fill(0),oe=0;oe<ee.length;oe++)for(var le=0;le<re.length;le++)ee[oe]!==0&&K[oe]&&(re[le]+=K[oe][le]*ee[oe]);return re}),B.gluTessCallback(x.default.gluEnum.GLU_TESS_EDGE_FLAG,function(W){}),B}},{key:"_triangulate",value:function(B){var W=B[0]?B[0][2]:void 0,K=!0,ee=!0,re=!1,oe=void 0;try{for(var le,me=B[Symbol.iterator]();!(ee=(le=me.next()).done);ee=!0)for(var $=le.value,Q=0;Q<$.length;Q+=c.default.RendererGL.prototype.tessyVertexSize)if($[Q+2]!==W){K=!1;break}}catch(Me){re=!0,oe=Me}finally{try{ee||me.return==null||me.return()}finally{if(re)throw oe}}K?this._tessy.gluTessNormal(0,0,1):this._tessy.gluTessNormal(0,0,0),re=[];var se=(this._tessy.gluTessBeginPolygon(re),!0),de=(oe=!1,void 0);try{for(var ge,ve=B[Symbol.iterator]();!(se=(ge=ve.next()).done);se=!0){var ae=ge.value;this._tessy.gluTessBeginContour();for(var ye=0;ye<ae.length;ye+=c.default.RendererGL.prototype.tessyVertexSize){var Se=ae.slice(ye,ye+c.default.RendererGL.prototype.tessyVertexSize);this._tessy.gluTessVertex(Se,Se)}this._tessy.gluTessEndContour()}}catch(Me){oe=!0,de=Me}finally{try{se||ve.return==null||ve.return()}finally{if(oe)throw de}}return this._tessy.gluTessEndPolygon(),re}}])&&f(G.prototype,V),X}(c.default.Renderer),c.default.prototype._assert3d=function(V){if(!this._renderer.isP3D)throw new Error("".concat(V,"() is only supported in WEBGL mode. If you'd like to use 3D graphics and WebGL, see  https://p5js.org/examples/form-3d-primitives.html for more information."))},c.default.RendererGL.prototype.tessyVertexSize=12,t=c.default.RendererGL,y.default=t},{"../core/constants":262,"../core/main":273,"../core/p5.Renderer":276,"./p5.Camera":321,"./p5.Matrix":324,"./p5.Shader":329,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.copy-within":152,"core-js/modules/es.array.every":153,"core-js/modules/es.array.fill":154,"core-js/modules/es.array.from":157,"core-js/modules/es.array.includes":158,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.slice":164,"core-js/modules/es.array.some":165,"core-js/modules/es.map":168,"core-js/modules/es.object.assign":174,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.get-prototype-of":178,"core-js/modules/es.object.to-string":180,"core-js/modules/es.reflect.construct":182,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.set":187,"core-js/modules/es.string.includes":189,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.typed-array.copy-within":203,"core-js/modules/es.typed-array.every":204,"core-js/modules/es.typed-array.fill":205,"core-js/modules/es.typed-array.filter":206,"core-js/modules/es.typed-array.find":208,"core-js/modules/es.typed-array.find-index":207,"core-js/modules/es.typed-array.float32-array":209,"core-js/modules/es.typed-array.float64-array":210,"core-js/modules/es.typed-array.for-each":211,"core-js/modules/es.typed-array.includes":212,"core-js/modules/es.typed-array.index-of":213,"core-js/modules/es.typed-array.int16-array":214,"core-js/modules/es.typed-array.iterator":216,"core-js/modules/es.typed-array.join":217,"core-js/modules/es.typed-array.last-index-of":218,"core-js/modules/es.typed-array.map":219,"core-js/modules/es.typed-array.reduce":221,"core-js/modules/es.typed-array.reduce-right":220,"core-js/modules/es.typed-array.reverse":222,"core-js/modules/es.typed-array.set":223,"core-js/modules/es.typed-array.slice":224,"core-js/modules/es.typed-array.some":225,"core-js/modules/es.typed-array.sort":226,"core-js/modules/es.typed-array.subarray":227,"core-js/modules/es.typed-array.to-locale-string":228,"core-js/modules/es.typed-array.to-string":229,"core-js/modules/es.typed-array.uint16-array":230,"core-js/modules/es.typed-array.uint32-array":231,"core-js/modules/es.typed-array.uint8-array":232,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236,libtess:245,path:248}],329:[function(t,A,y){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var d=(t=t("../core/main"))&&t.__esModule?t:{default:t};function c(u,x){for(var j=0;j<x.length;j++){var o=x[j];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(u,o.key,o)}}d.default.Shader=function(){function u(o,h,f){if(!(this instanceof u))throw new TypeError("Cannot call a class as a function");this._renderer=o,this._vertSrc=h,this._fragSrc=f,this._vertShader=-1,this._fragShader=-1,this._glProgram=0,this._loadedAttributes=!1,this.attributes={},this._loadedUniforms=!1,this.uniforms={},this._bound=!1,this.samplers=[]}var x,j;return x=u,(j=[{key:"init",value:function(){if(this._glProgram===0){var o=this._renderer.GL;if(this._vertShader=o.createShader(o.VERTEX_SHADER),o.shaderSource(this._vertShader,this._vertSrc),o.compileShader(this._vertShader),!o.getShaderParameter(this._vertShader,o.COMPILE_STATUS))return d.default._friendlyError("Yikes! An error occurred compiling the vertex shader:".concat(o.getShaderInfoLog(this._vertShader))),null;if(this._fragShader=o.createShader(o.FRAGMENT_SHADER),o.shaderSource(this._fragShader,this._fragSrc),o.compileShader(this._fragShader),!o.getShaderParameter(this._fragShader,o.COMPILE_STATUS))return d.default._friendlyError("Darn! An error occurred compiling the fragment shader:".concat(o.getShaderInfoLog(this._fragShader))),null;this._glProgram=o.createProgram(),o.attachShader(this._glProgram,this._vertShader),o.attachShader(this._glProgram,this._fragShader),o.linkProgram(this._glProgram),o.getProgramParameter(this._glProgram,o.LINK_STATUS)||d.default._friendlyError("Snap! Error linking shader program: ".concat(o.getProgramInfoLog(this._glProgram))),this._loadAttributes(),this._loadUniforms()}return this}},{key:"_loadAttributes",value:function(){if(!this._loadedAttributes){this.attributes={};for(var o=this._renderer.GL,h=o.getProgramParameter(this._glProgram,o.ACTIVE_ATTRIBUTES),f=0;f<h;++f){var l=o.getActiveAttrib(this._glProgram,f),m=l.name,_=o.getAttribLocation(this._glProgram,m),w={};w.name=m,w.location=_,w.index=f,w.type=l.type,w.size=l.size,this.attributes[m]=w}this._loadedAttributes=!0}}},{key:"_loadUniforms",value:function(){if(!this._loadedUniforms){for(var o=this._renderer.GL,h=o.getProgramParameter(this._glProgram,o.ACTIVE_UNIFORMS),f=0,l=0;l<h;++l){var m=o.getActiveUniform(this._glProgram,l),_={},w=(_.location=o.getUniformLocation(this._glProgram,m.name),_.size=m.size,m.name);1<m.size&&(w=w.substring(0,w.indexOf("[0]"))),_.name=w,_.type=m.type,_._cachedData=void 0,_.type===o.SAMPLER_2D&&(_.samplerIndex=f,f++,this.samplers.push(_)),_.isArray=1<m.size||_.type===o.FLOAT_MAT3||_.type===o.FLOAT_MAT4||_.type===o.FLOAT_VEC2||_.type===o.FLOAT_VEC3||_.type===o.FLOAT_VEC4||_.type===o.INT_VEC2||_.type===o.INT_VEC4||_.type===o.INT_VEC3,this.uniforms[w]=_}this._loadedUniforms=!0}}},{key:"compile",value:function(){}},{key:"bindShader",value:function(){this.init(),this._bound||(this.useProgram(),this._bound=!0,this._setMatrixUniforms(),this.setUniform("uViewport",this._renderer._viewport))}},{key:"unbindShader",value:function(){return this._bound&&(this.unbindTextures(),this._bound=!1),this}},{key:"bindTextures",value:function(){var o=this._renderer.GL,h=!0,f=!1,l=void 0;try{for(var m,_=this.samplers[Symbol.iterator]();!(h=(m=_.next()).done);h=!0){var w=m.value,v=w.texture;v===void 0&&(v=this._renderer._getEmptyTexture()),o.activeTexture(o.TEXTURE0+w.samplerIndex),v.bindTexture(),v.update(),o.uniform1i(w.location,w.samplerIndex)}}catch(E){f=!0,l=E}finally{try{h||_.return==null||_.return()}finally{if(f)throw l}}}},{key:"updateTextures",value:function(){var o=!0,h=!1,f=void 0;try{for(var l,m=this.samplers[Symbol.iterator]();!(o=(l=m.next()).done);o=!0){var _=l.value.texture;_&&_.update()}}catch(w){h=!0,f=w}finally{try{o||m.return==null||m.return()}finally{if(h)throw f}}}},{key:"unbindTextures",value:function(){var o=!0,h=!1,f=void 0;try{for(var l,m=this.samplers[Symbol.iterator]();!(o=(l=m.next()).done);o=!0){var _=l.value;this.setUniform(_.name,this._renderer._getEmptyTexture())}}catch(w){h=!0,f=w}finally{try{o||m.return==null||m.return()}finally{if(h)throw f}}}},{key:"_setMatrixUniforms",value:function(){var o=this._renderer._curCamera.cameraMatrix,h=this._renderer.uPMatrix,f=this._renderer.uMVMatrix,l=f.copy();l.mult(h),this.isStrokeShader()&&(this._renderer._curCamera.cameraType==="default"?this.setUniform("uPerspective",1):this.setUniform("uPerspective",0)),this.setUniform("uViewMatrix",o.mat4),this.setUniform("uProjectionMatrix",h.mat4),this.setUniform("uModelViewMatrix",f.mat4),this.setUniform("uModelViewProjectionMatrix",l.mat4),this.uniforms.uNormalMatrix&&(this._renderer.uNMatrix.inverseTranspose(this._renderer.uMVMatrix),this.setUniform("uNormalMatrix",this._renderer.uNMatrix.mat3))}},{key:"useProgram",value:function(){var o=this._renderer.GL;return this._renderer._curShader!==this&&(o.useProgram(this._glProgram),this._renderer._curShader=this),this}},{key:"setUniform",value:function(o,h){var f=this.uniforms[o];if(f){var l=this._renderer.GL;if(f.isArray){if(f._cachedData&&this._renderer._arraysEqual(f._cachedData,h))return;f._cachedData=h.slice(0)}else{if(f._cachedData&&f._cachedData===h)return;Array.isArray(h)?f._cachedData=h.slice(0):f._cachedData=h}var m=f.location;switch(this.useProgram(),f.type){case l.BOOL:h===!0?l.uniform1i(m,1):l.uniform1i(m,0);break;case l.INT:1<f.size?h.length&&l.uniform1iv(m,h):l.uniform1i(m,h);break;case l.FLOAT:1<f.size?h.length&&l.uniform1fv(m,h):l.uniform1f(m,h);break;case l.FLOAT_MAT3:l.uniformMatrix3fv(m,!1,h);break;case l.FLOAT_MAT4:l.uniformMatrix4fv(m,!1,h);break;case l.FLOAT_VEC2:1<f.size?h.length&&l.uniform2fv(m,h):l.uniform2f(m,h[0],h[1]);break;case l.FLOAT_VEC3:1<f.size?h.length&&l.uniform3fv(m,h):l.uniform3f(m,h[0],h[1],h[2]);break;case l.FLOAT_VEC4:1<f.size?h.length&&l.uniform4fv(m,h):l.uniform4f(m,h[0],h[1],h[2],h[3]);break;case l.INT_VEC2:1<f.size?h.length&&l.uniform2iv(m,h):l.uniform2i(m,h[0],h[1]);break;case l.INT_VEC3:1<f.size?h.length&&l.uniform3iv(m,h):l.uniform3i(m,h[0],h[1],h[2]);break;case l.INT_VEC4:1<f.size?h.length&&l.uniform4iv(m,h):l.uniform4i(m,h[0],h[1],h[2],h[3]);break;case l.SAMPLER_2D:l.activeTexture(l.TEXTURE0+f.samplerIndex),f.texture=h instanceof d.default.Texture?h:this._renderer.getTexture(h),l.uniform1i(m,f.samplerIndex),f.texture.src.gifProperties&&f.texture.src._animateGif(this._renderer._pInst)}return this}}},{key:"isLightShader",value:function(){return this.attributes.aNormal!==void 0||this.uniforms.uUseLighting!==void 0||this.uniforms.uAmbientLightCount!==void 0||this.uniforms.uDirectionalLightCount!==void 0||this.uniforms.uPointLightCount!==void 0||this.uniforms.uAmbientColor!==void 0||this.uniforms.uDirectionalDiffuseColors!==void 0||this.uniforms.uDirectionalSpecularColors!==void 0||this.uniforms.uPointLightLocation!==void 0||this.uniforms.uPointLightDiffuseColors!==void 0||this.uniforms.uPointLightSpecularColors!==void 0||this.uniforms.uLightingDirection!==void 0||this.uniforms.uSpecular!==void 0}},{key:"isNormalShader",value:function(){return this.attributes.aNormal!==void 0}},{key:"isTextureShader",value:function(){return 0<this.samplers.length}},{key:"isColorShader",value:function(){return this.attributes.aVertexColor!==void 0||this.uniforms.uMaterialColor!==void 0}},{key:"isTexLightShader",value:function(){return this.isLightShader()&&this.isTextureShader()}},{key:"isStrokeShader",value:function(){return this.uniforms.uStrokeWeight!==void 0}},{key:"enableAttrib",value:function(o,h,f,l,m,_){var w;return o&&(o=o.location)!==-1&&(w=this._renderer.GL,this._renderer.registerEnabled[o]||(w.enableVertexAttribArray(o),this._renderer.registerEnabled[o]=!0),this._renderer.GL.vertexAttribPointer(o,h,f||w.FLOAT,l||!1,m||0,_||0)),this}}])&&c(x.prototype,j),u}(),t=d.default.Shader,y.default=t},{"../core/main":273,"core-js/modules/es.array.index-of":159,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.slice":164,"core-js/modules/es.function.name":167,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/web.dom-collections.iterator":236}],330:[function(t,A,y){function d(f){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(f)}function c(f){return(c=typeof Symbol=="function"&&d(Symbol.iterator)==="symbol"?function(l){return d(l)}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":d(l)})(f)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),Object.defineProperty(y,"__esModule",{value:!0}),y.checkWebGLCapabilities=o,y.default=void 0;var u=(h=t("../core/main"))&&h.__esModule?h:{default:h},x=function(f){if(f&&f.__esModule)return f;if(f===null||c(f)!=="object"&&typeof f!="function")return{default:f};var l=function(){var E;return typeof WeakMap!="function"?null:(E=new WeakMap,E)}();if(l&&l.has(f))return l.get(f);var m,_={},w=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(m in f){var v;Object.prototype.hasOwnProperty.call(f,m)&&((v=w?Object.getOwnPropertyDescriptor(f,m):null)&&(v.get||v.set)?Object.defineProperty(_,m,v):_[m]=f[m])}return _.default=f,l&&l.set(f,_),_}(t("../core/constants"));function j(f,l){for(var m=0;m<l.length;m++){var _=l[m];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(f,_.key,_)}}function o(f){var l=f.GL,m=(f=f.webglVersion)===x.WEBGL2?l.getExtension("EXT_color_buffer_float")&&l.getExtension("EXT_float_blend"):l.getExtension("OES_texture_float");return{float:m,floatLinear:m&&l.getExtension("OES_texture_float_linear"),halfFloat:f=f===x.WEBGL2?l.getExtension("EXT_color_buffer_float"):l.getExtension("OES_texture_half_float"),halfFloatLinear:f&&l.getExtension("OES_texture_half_float_linear")}}u.default.Texture=function(){function f(_,w,v){if(!(this instanceof f))throw new TypeError("Cannot call a class as a function");this._renderer=_;var E=this._renderer.GL;return v=v||{},this.src=w,this.glTex=void 0,this.glTarget=E.TEXTURE_2D,this.glFormat=v.format||E.RGBA,this.mipmaps=!1,this.glMinFilter=v.minFilter||E.LINEAR,this.glMagFilter=v.magFilter||E.LINEAR,this.glWrapS=v.wrapS||E.CLAMP_TO_EDGE,this.glWrapT=v.wrapT||E.CLAMP_TO_EDGE,this.glDataType=v.dataType||E.UNSIGNED_BYTE,v=o(_),this.glFormat!==E.HALF_FLOAT||v.halfFloat||(console.log("This device does not support dataType HALF_FLOAT. Falling back to FLOAT."),this.glDataType=E.FLOAT),this.glFormat!==E.HALF_FLOAT||this.glMinFilter!==E.LINEAR&&this.glMagFilter!==E.LINEAR||v.halfFloatLinear||(console.log("This device does not support linear filtering for dataType FLOAT. Falling back to NEAREST."),this.glMinFilter===E.LINEAR&&(this.glMinFilter=E.NEAREST),this.glMagFilter===E.LINEAR&&(this.glMagFilter=E.NEAREST)),this.glFormat!==E.FLOAT||v.float||(console.log("This device does not support dataType FLOAT. Falling back to UNSIGNED_BYTE."),this.glDataType=E.UNSIGNED_BYTE),this.glFormat!==E.FLOAT||this.glMinFilter!==E.LINEAR&&this.glMagFilter!==E.LINEAR||v.floatLinear||(console.log("This device does not support linear filtering for dataType FLOAT. Falling back to NEAREST."),this.glMinFilter===E.LINEAR&&(this.glMinFilter=E.NEAREST),this.glMagFilter===E.LINEAR&&(this.glMagFilter=E.NEAREST)),this.isSrcMediaElement=u.default.MediaElement!==void 0&&w instanceof u.default.MediaElement,this._videoPrevUpdateTime=0,this.isSrcHTMLElement=u.default.Element!==void 0&&w instanceof u.default.Element&&!(w instanceof u.default.Graphics)&&!(w instanceof u.default.Renderer),this.isSrcP5Image=w instanceof u.default.Image,this.isSrcP5Graphics=w instanceof u.default.Graphics,this.isSrcP5Renderer=w instanceof u.default.Renderer,this.isImageData=typeof ImageData<"u"&&w instanceof ImageData,this.isFramebufferTexture=w instanceof u.default.FramebufferTexture,_=this._getTextureDataFromSource(),this.width=_.width,this.height=_.height,this.init(_),this}var l,m;return l=f,(m=[{key:"_getTextureDataFromSource",value:function(){var _;return this.isFramebufferTexture?_=this.src.rawTexture():this.isSrcP5Image?_=this.src.canvas:this.isSrcMediaElement||this.isSrcP5Graphics||this.isSrcP5Renderer||this.isSrcHTMLElement?_=this.src.elt:this.isImageData&&(_=this.src),_}},{key:"init",value:function(_){var w,v=this._renderer.GL;this.isFramebufferTexture||(this.glTex=v.createTexture()),this.glWrapS=this._renderer.textureWrapX,this.glWrapT=this._renderer.textureWrapY,this.setWrapMode(this.glWrapS,this.glWrapT),this.bindTexture(),v.texParameteri(v.TEXTURE_2D,v.TEXTURE_MAG_FILTER,this.glMagFilter),v.texParameteri(v.TEXTURE_2D,v.TEXTURE_MIN_FILTER,this.glMinFilter),this.isFramebufferTexture||(this.width===0||this.height===0||this.isSrcMediaElement&&!this.src.loadedmetadata?(w=new Uint8Array([1,1,1,1]),v.texImage2D(this.glTarget,0,v.RGBA,1,1,0,this.glFormat,this.glDataType,w)):v.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,this.glDataType,_))}},{key:"update",value:function(){var _,w,v,E=this.src;return E.width!==0&&E.height!==0&&!this.isFramebufferTexture&&(_=this._getTextureDataFromSource(),w=!1,v=this._renderer.GL,_.width!==this.width||_.height!==this.height?(w=!0,this.width=_.width||E.width,this.height=_.height||E.height,this.isSrcP5Image?E.setModified(!1):(this.isSrcMediaElement||this.isSrcHTMLElement)&&E.setModified(!0)):this.isSrcP5Image?E.isModified()&&E.setModified(!(w=!0)):this.isSrcMediaElement?E.isModified()?E.setModified(!(w=!0)):E.loadedmetadata&&this._videoPrevUpdateTime!==E.time()&&(this._videoPrevUpdateTime=E.time(),w=!0):this.isImageData?E._dirty&&(w=!(E._dirty=!1)):w=!0,w&&(this.bindTexture(),v.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,this.glDataType,_)),w)}},{key:"bindTexture",value:function(){return this._renderer.GL.bindTexture(this.glTarget,this.getTexture()),this}},{key:"unbindTexture",value:function(){this._renderer.GL.bindTexture(this.glTarget,null)}},{key:"getTexture",value:function(){return this.isFramebufferTexture?this.src.rawTexture():this.glTex}},{key:"setInterpolation",value:function(_,w){var v=this._renderer.GL;_===x.NEAREST?this.glMinFilter=v.NEAREST:this.glMinFilter=v.LINEAR,w===x.NEAREST?this.glMagFilter=v.NEAREST:this.glMagFilter=v.LINEAR,this.bindTexture(),v.texParameteri(v.TEXTURE_2D,v.TEXTURE_MIN_FILTER,this.glMinFilter),v.texParameteri(v.TEXTURE_2D,v.TEXTURE_MAG_FILTER,this.glMagFilter),this.unbindTexture()}},{key:"setWrapMode",value:function(_,w){function v(U){return(U&U-1)==0}var E=this._renderer.GL,C=(C=this._getTextureDataFromSource()).naturalWidth&&C.naturalHeight?(O=C.naturalWidth,C.naturalHeight):(O=this.width,this.height),O=v(O);C=v(C),_===x.REPEAT?this._renderer.webglVersion===x.WEBGL2||O&&C?this.glWrapS=E.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=E.CLAMP_TO_EDGE):_===x.MIRROR?this._renderer.webglVersion===x.WEBGL2||O&&C?this.glWrapS=E.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=E.CLAMP_TO_EDGE):this.glWrapS=E.CLAMP_TO_EDGE,w===x.REPEAT?this._renderer.webglVersion===x.WEBGL2||O&&C?this.glWrapT=E.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=E.CLAMP_TO_EDGE):w===x.MIRROR?this._renderer.webglVersion===x.WEBGL2||O&&C?this.glWrapT=E.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=E.CLAMP_TO_EDGE):this.glWrapT=E.CLAMP_TO_EDGE,this.bindTexture(),E.texParameteri(E.TEXTURE_2D,E.TEXTURE_WRAP_S,this.glWrapS),E.texParameteri(E.TEXTURE_2D,E.TEXTURE_WRAP_T,this.glWrapT),this.unbindTexture()}}])&&j(l.prototype,m),f}();var h=u.default.Texture;y.default=h},{"../core/constants":262,"../core/main":273,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.typed-array.copy-within":203,"core-js/modules/es.typed-array.every":204,"core-js/modules/es.typed-array.fill":205,"core-js/modules/es.typed-array.filter":206,"core-js/modules/es.typed-array.find":208,"core-js/modules/es.typed-array.find-index":207,"core-js/modules/es.typed-array.for-each":211,"core-js/modules/es.typed-array.includes":212,"core-js/modules/es.typed-array.index-of":213,"core-js/modules/es.typed-array.iterator":216,"core-js/modules/es.typed-array.join":217,"core-js/modules/es.typed-array.last-index-of":218,"core-js/modules/es.typed-array.map":219,"core-js/modules/es.typed-array.reduce":221,"core-js/modules/es.typed-array.reduce-right":220,"core-js/modules/es.typed-array.reverse":222,"core-js/modules/es.typed-array.set":223,"core-js/modules/es.typed-array.slice":224,"core-js/modules/es.typed-array.some":225,"core-js/modules/es.typed-array.sort":226,"core-js/modules/es.typed-array.subarray":227,"core-js/modules/es.typed-array.to-locale-string":228,"core-js/modules/es.typed-array.to-string":229,"core-js/modules/es.typed-array.uint8-array":232,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],331:[function(t,A,y){function d(v){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E})(v)}function c(v){return(c=typeof Symbol=="function"&&d(Symbol.iterator)==="symbol"?function(E){return d(E)}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":d(E)})(v)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.sub"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.sub"),t("core-js/modules/web.dom-collections.iterator");var u,x=(u=t("../core/main"))&&u.__esModule?u:{default:u},j=function(v){if(v&&v.__esModule)return v;if(v===null||c(v)!=="object"&&typeof v!="function")return{default:v};var E=function(){var D;return typeof WeakMap!="function"?null:(D=new WeakMap,D)}();if(E&&E.has(v))return E.get(v);var C,O={},U=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(C in v){var N;Object.prototype.hasOwnProperty.call(v,C)&&((N=U?Object.getOwnPropertyDescriptor(v,C):null)&&(N.get||N.set)?Object.defineProperty(O,C,N):O[C]=v[C])}return O.default=v,E&&E.set(v,O),O}(t("../core/constants"));function o(v,E){if(!(v instanceof E))throw new TypeError("Cannot call a class as a function")}function h(v,E){for(var C=0;C<E.length;C++){var O=E[C];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(v,O.key,O)}}function f(v,E,C){E&&h(v.prototype,E)}t("./p5.Shader"),t("./p5.RendererGL.Retained"),x.default.RendererGL.prototype._applyTextProperties=function(){},x.default.RendererGL.prototype.textWidth=function(v){return this._isOpenType()?this._textFont._textWidth(v,this._textSize):0};var l=function(){function v(E,C){o(this,v),this.width=E,this.height=C,this.infos=[]}return f(v,[{key:"findImage",value:function(E){var C,O,U=this.width*this.height;if(U<E)throw new Error("font is too complex to render in 3D");for(var N=this.infos.length-1;0<=N;--N){var D=this.infos[N];if(D.index+E<U){O=(C=D).imageData;break}}if(!C){try{O=new ImageData(this.width,this.height)}catch{var H=document.getElementsByTagName("canvas")[0],I=!H,V=(H||((H=document.createElement("canvas")).style.display="none",document.body.appendChild(H)),H.getContext("2d"));V&&(O=V.createImageData(this.width,this.height)),I&&document.body.removeChild(H)}this.infos.push(C={index:0,imageData:O})}return V=C.index,C.index+=E,O._dirty=!0,{imageData:O,index:V}}}]),v}();function m(v,E,C,O,U){var N=v.imageData.data;v=4*v.index++,N[v++]=E,N[v++]=C,N[v++]=O,N[+v]=U}var _=Math.sqrt(3),w=function(){function v(E){o(this,v),this.font=E,this.strokeImageInfos=new l(64,64),this.colDimImageInfos=new l(64,64),this.rowDimImageInfos=new l(64,64),this.colCellImageInfos=new l(64,64),this.rowCellImageInfos=new l(64,64),this.glyphInfos={}}return f(v,[{key:"getGlyphInfo",value:function(E){var C=this.glyphInfos[E.index];if(!C){var O=E.getBoundingBox(),U=O.x1,N=O.y1,D=O.x2-U,H=O.y2-N,I=E.path.commands;if(D==0||H==0||!I.length)return this.glyphInfos[E.index]={};for(var V=[],G=[],q=[],X=8;0<=X;--X)q.push([]);for(X=8;0<=X;--X)G.push([]);var B,W,K,ee,re=function(){function je(Ve,He,nt,vt){o(this,je),this.p0=Ve,this.c0=He,this.c1=nt,this.p1=vt}return f(je,[{key:"toQuadratic",value:function(){return{x:this.p0.x,y:this.p0.y,x1:this.p1.x,y1:this.p1.y,cx:(3*(this.c0.x+this.c1.x)-(this.p0.x+this.p1.x))/4,cy:(3*(this.c0.y+this.c1.y)-(this.p0.y+this.p1.y))/4}}},{key:"quadError",value:function(){return x.default.Vector.sub(x.default.Vector.sub(this.p1,this.p0),x.default.Vector.mult(x.default.Vector.sub(this.c1,this.c0),3)).mag()/2}},{key:"split",value:function(Ve){var He=x.default.Vector.lerp(this.p0,this.c0,Ve),nt=x.default.Vector.lerp(this.c0,this.c1,Ve),vt=x.default.Vector.lerp(He,nt,Ve);return this.c1=x.default.Vector.lerp(this.c1,this.p1,Ve),this.c0=x.default.Vector.lerp(nt,this.c1,Ve),nt=x.default.Vector.lerp(vt,this.c0,Ve),Ve=new je(this.p0,He,vt,nt),this.p0=nt,Ve}},{key:"splitInflections",value:function(){var Ve=x.default.Vector.sub(this.c0,this.p0),He=x.default.Vector.sub(x.default.Vector.sub(this.c1,this.c0),Ve),nt=x.default.Vector.sub(x.default.Vector.sub(x.default.Vector.sub(this.p1,this.c1),Ve),x.default.Vector.mult(He,2)),vt=[],Lt=He.x*nt.y-He.y*nt.x;return Lt!==0&&0<=(Ve=(nt=Ve.x*nt.y-Ve.y*nt.x)*nt-4*Lt*(Ve.x*He.y-Ve.y*He.x))&&(Lt<0&&(Lt=-Lt,nt=-nt),Ve=(-nt+(He=Math.sqrt(Ve)))/(2*Lt),0<(nt=(-nt-He)/(2*Lt))&&nt<1&&(vt.push(this.split(nt)),Ve=1-(1-Ve)/(1-nt)),0<Ve&&Ve<1&&vt.push(this.split(Ve))),vt.push(this),vt}}]),je}(),oe=!0,le=!1,me=void 0;try{for(var $,Q=I[Symbol.iterator]();!(oe=($=Q.next()).done);oe=!0){var se=$.value,de=(se.x-U)/D,ge=(se.y-N)/H;if(!Pt(B,W,de,ge)){switch(se.type){case"M":K=de,ee=ge;break;case"L":ot(B,W,de,ge);break;case"Q":var ve=(se.x1-U)/D,ae=(se.y1-N)/H;et([B,de,ve],[W,ge,ae],{x:B,y:W,cx:ve,cy:ae});break;case"Z":Pt(B,W,K,ee)?V.push({x:B,y:W}):(ot(B,W,K,ee),V.push({x:K,y:ee}));break;case"C":for(var ye=function(je,Ve,He,nt,vt,Lt,xt,mt){je=new re(new x.default.Vector(je,Ve),new x.default.Vector(He,nt),new x.default.Vector(vt,Lt),new x.default.Vector(xt,mt)).splitInflections();var fe=[],ue=30/_,he=!0;Ve=!1,He=void 0;try{for(var we,Oe=je[Symbol.iterator]();!(he=(we=Oe.next()).done);he=!0){for(var We=we.value,lt=[],st=void 0;!(.125<=(st=ue/We.quadError()));){var De=Math.pow(st,.3333333333333333),ht=We.split(De),_t=We.split(1-De/(1-De));fe.push(ht),lt.push(We),We=_t}st<1&&fe.push(We.split(.5)),fe.push(We),Array.prototype.push.apply(fe,lt.reverse())}}catch(Kt){Ve=!0,He=Kt}finally{try{he||Oe.return==null||Oe.return()}finally{if(Ve)throw He}}return fe}(B,W,(se.x1-U)/D,(se.y1-N)/H,(se.x2-U)/D,(se.y2-N)/H,de,ge),Se=0;Se<ye.length;Se++){var Me=ye[Se].toQuadratic();et([Me.x,Me.x1,Me.cx],[Me.y,Me.y1,Me.cy],Me)}break;default:throw new Error("unknown command type: ".concat(se.type))}B=de,W=ge}}}catch(je){le=!0,me=je}finally{try{oe||Q.return==null||Q.return()}finally{if(le)throw me}}for(var Ee=V.length,Te=this.strokeImageInfos.findImage(Ee),Pe=Te.index,Ke=0;Ke<Ee;++Ke){var Ge=V[Ke];m(Te,ft(Ge.x),ft(Ge.y),ft(Ge.cx),ft(Ge.cy))}(C=this.glyphInfos[E.index]={glyph:E,uGlyphRect:[O.x1,-O.y1,O.x2,-O.y2],strokeImageInfo:Te,strokes:V,colInfo:bt(q,this.colDimImageInfos,this.colCellImageInfos),rowInfo:bt(G,this.rowDimImageInfos,this.rowCellImageInfos)}).uGridOffset=[C.colInfo.dimOffset,C.rowInfo.dimOffset]}return C;function et(je,Ve,He){var nt=V.length;function vt(ue,he,we){for(var Oe=ue.length;0<Oe--;){var We=ue[Oe];We<he&&(he=We),we<We&&(we=We)}return{min:he,max:we}}V.push(He),He=vt(je,1,0),je=Math.max(Math.floor(9*He.min-.5),0);for(var Lt=Math.min(Math.ceil(9*He.max+.5),9),xt=je;xt<Lt;++xt)q[xt].push(nt);He=vt(Ve,1,0),je=Math.max(Math.floor(9*He.min-.5),0);for(var mt=Math.min(Math.ceil(9*He.max+.5),9),fe=je;fe<mt;++fe)G[fe].push(nt)}function ft(je){return(je=255*je)<0?0:255<je?255:je}function ot(je,Ve,He,nt){et([je,He],[Ve,nt],{x:je,y:Ve,cx:(je+He)/2,cy:(Ve+nt)/2})}function Pt(je,Ve,He,nt){return Math.abs(He-je)<1e-5&&Math.abs(nt-Ve)<1e-5}function bt(je,Ve,He){for(var nt=je.length,vt=Ve.findImage(nt),Lt=(Ve=vt.index,0),xt=0;xt<nt;++xt)Lt+=je[xt].length;for(var mt=He.findImage(Lt),fe=0;fe<nt;++fe){var ue=je[fe],he=ue.length,we=mt.index;m(vt,we>>7,127&we,he>>7,127&he);for(var Oe=0;Oe<he;++Oe){var We=ue[Oe]+Pe;m(mt,We>>7,127&We,0,0)}}return{cellImageInfo:mt,dimOffset:Ve,dimImageInfo:vt}}}}]),v}();x.default.RendererGL.prototype._renderText=function(v,E,C,O,U){if(this._textFont&&typeof this._textFont!="string"){if(!(U<=O)&&this._doFill){if(this._isOpenType()){v.push(),U=this._doStroke;var N=this.drawMode,D=(this._doStroke=!1,this.drawMode=j.TEXTURE,this._textFont.font),H=(H=this._textFont._fontInfo)||(this._textFont._fontInfo=new w(D)),I=(C=this._textFont._handleAlignment(this,E,C,O),O=this._textSize/D.unitsPerEm,this.translate(C.x,C.y,0),this.scale(O,O,1),this.GL),V=(C=!this._defaultFontShader,this._getFontShader()),G=(V.init(),V.bindShader(),C&&(V.setUniform("uGridImageSize",[64,64]),V.setUniform("uCellsImageSize",[64,64]),V.setUniform("uStrokeImageSize",[64,64]),V.setUniform("uGridSize",[9,9])),this._applyColorBlend(this.curFillColor),this.retainedMode.geometry.glyph),q=(G||((O=this._textGeom=new x.default.Geometry(1,1,function(){for(var ve=0;ve<=1;ve++)for(var ae=0;ae<=1;ae++)this.vertices.push(new x.default.Vector(ae,ve,0)),this.uvs.push(ae,ve)})).computeFaces().computeNormals(),G=this.createBuffers("glyph",O)),!0);C=!1,O=void 0;try{for(var X,B=this.retainedMode.buffers.text[Symbol.iterator]();!(q=(X=B.next()).done);q=!0)X.value._prepareBuffer(G,V)}catch(ve){C=!0,O=ve}finally{try{q||B.return==null||B.return()}finally{if(C)throw O}}this._bindBuffer(G.indexBuffer,I.ELEMENT_ARRAY_BUFFER),V.setUniform("uMaterialColor",this.curFillColor),I.pixelStorei(I.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1);try{var W=0,K=null,ee=D.stringToGlyphs(E),re=!0,oe=!1,le=void 0;try{for(var me,$=ee[Symbol.iterator]();!(re=(me=$.next()).done);re=!0){var Q,se,de=me.value,ge=(K&&(W+=D.getKerningValue(K,de)),H.getGlyphInfo(de));ge.uGlyphRect&&(Q=ge.rowInfo,se=ge.colInfo,V.setUniform("uSamplerStrokes",ge.strokeImageInfo.imageData),V.setUniform("uSamplerRowStrokes",Q.cellImageInfo.imageData),V.setUniform("uSamplerRows",Q.dimImageInfo.imageData),V.setUniform("uSamplerColStrokes",se.cellImageInfo.imageData),V.setUniform("uSamplerCols",se.dimImageInfo.imageData),V.setUniform("uGridOffset",ge.uGridOffset),V.setUniform("uGlyphRect",ge.uGlyphRect),V.setUniform("uGlyphOffset",W),V.bindTextures(),I.drawElements(I.TRIANGLES,6,this.GL.UNSIGNED_SHORT,0)),W+=de.advanceWidth,K=de}}catch(ve){oe=!0,le=ve}finally{try{re||$.return==null||$.return()}finally{if(oe)throw le}}}finally{V.unbindShader(),this._doStroke=U,this.drawMode=N,I.pixelStorei(I.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),v.pop()}}else console.log("WEBGL: only Opentype (.otf) and Truetype (.ttf) fonts are supported");return v}}else console.log("WEBGL: you must load and set a font before drawing text. See `loadFont` and `textFont` for more details.")}},{"../core/constants":262,"../core/main":273,"./p5.RendererGL.Retained":327,"./p5.Shader":329,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.string.iterator":190,"core-js/modules/es.string.split":196,"core-js/modules/es.string.sub":198,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}]},{},[257])(257)})}).call(this,b(3))},function(i,p,b){b.r(p),b.d(p,"p5Events",function(){return h}),b.d(p,"default",function(){return f});var M=b(0),t=b.n(M),A=b(1),y=b.n(A);function d(l){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(l)}function c(l,m){for(var _=0;_<m.length;_++){var w=m[_];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(l,(v=w.key,E=void 0,E=function(C,O){if(d(C)!=="object"||C===null)return C;var U=C[Symbol.toPrimitive];if(U!==void 0){var N=U.call(C,O);if(d(N)!=="object")return N;throw new TypeError("@@toPrimitive must return a primitive value.")}return(O==="string"?String:Number)(C)}(v,"string"),d(E)==="symbol"?E:String(E)),w)}var v,E}function u(l,m){return(u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(_,w){return _.__proto__=w,_})(l,m)}function x(l){var m=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var _,w=o(l);if(m){var v=o(this).constructor;_=Reflect.construct(w,arguments,v)}else _=w.apply(this,arguments);return j(this,_)}}function j(l,m){if(m&&(d(m)==="object"||typeof m=="function"))return m;if(m!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(_){if(_===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _}(l)}function o(l){return(o=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(m){return m.__proto__||Object.getPrototypeOf(m)})(l)}typeof window<"u"&&(window.p5=y.a);var h=["draw","windowResized","preload","mouseClicked","doubleClicked","mouseMoved","mousePressed","mouseWheel","mouseDragged","mouseReleased","keyPressed","keyReleased","keyTyped","touchStarted","touchMoved","touchEnded","deviceMoved","deviceTurned","deviceShaken"],f=function(l){(function(E,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function");E.prototype=Object.create(C&&C.prototype,{constructor:{value:E,writable:!0,configurable:!0}}),Object.defineProperty(E,"prototype",{writable:!1}),C&&u(E,C)})(v,l);var m,_,w=x(v);function v(E){var C;return function(O,U){if(!(O instanceof U))throw new TypeError("Cannot call a class as a function")}(this,v),(C=w.call(this,E)).canvasParentRef=t.a.createRef(),C}return m=v,(_=[{key:"componentDidMount",value:function(){var E=this;this.sketch=new y.a(function(C){C.setup=function(){E.props.setup(C,E.canvasParentRef.current)},h.forEach(function(O){E.props[O]&&(C[O]=function(){for(var U,N=arguments.length,D=new Array(N),H=0;H<N;H++)D[H]=arguments[H];(U=E.props)[O].apply(U,[C].concat(D))})})})}},{key:"shouldComponentUpdate",value:function(){return!1}},{key:"componentWillUnmount",value:function(){this.sketch.remove()}},{key:"render",value:function(){return t.a.createElement("div",{ref:this.canvasParentRef,className:this.props.className||"react-p5","data-testid":"react-p5",style:this.props.style||{}})}}])&&c(m.prototype,_),Object.defineProperty(m,"prototype",{writable:!1}),v}(t.a.Component)},function(i,p){var b;b=function(){return this}();try{b=b||new Function("return this")()}catch{typeof window=="object"&&(b=window)}i.exports=b}]).default})}(Fv)),Fv.exports}var qO=VO();const WO=Y0(qO),XO=()=>{let T=[];const i=(t,A)=>{t.createCanvas(window.innerWidth,window.innerHeight).parent(A),t.canvas.style.position="fixed",t.canvas.style.top="0",t.canvas.style.left="0",t.canvas.style.zIndex="-1";for(let y=0;y<200;y++)T.push(new M(t))},p=t=>{t.clear(),t.background(15,15,30,240);for(let A of T)A.update(t),A.display(t)},b=t=>{t.remove()};class M{constructor(A){this.reset(A)}reset(A){this.x=A.random(A.width),this.y=A.random(A.height),this.vx=A.random(-.2,.2),this.vy=A.random(-.2,.2),this.size=A.random(2,4),this.alpha=A.random(100,255),this.isShooting=!1,this.shootDirection=A.random([[-1,0],[1,0],[0,-1],[0,1]]),this.starLife=0}update(A){if(this.isShooting)this.x+=this.shootDirection[0]*4,this.y+=this.shootDirection[1]*4,this.starLife--,(this.starLife<=0||this.outOfBounds(A))&&this.reset(A);else{this.x+=this.vx,this.y+=this.vy;const y=this.x-A.mouseX,d=this.y-A.mouseY;A.sqrt(y*y+d*d)<100?(this.vx+=y*5e-4,this.vy+=d*5e-4):((this.vx>.2||this.vx<-.2)&&(this.vx*=.95),(this.vy>.2||this.vy<-.2)&&(this.vy*=.95)),(this.x<30||this.x>A.width-30||this.y<30||this.y>A.height-30)&&(this.isShooting=!0,this.starLife=100)}}outOfBounds(A){return this.x<-50||this.x>A.width+50||this.y<-50||this.y>A.height+50}display(A){this.isShooting?(A.push(),A.translate(this.x,this.y),A.rotate(A.frameCount/20),this.drawStar(A,0,0,2,6,5),A.pop()):(A.noStroke(),A.fill(255,this.alpha),A.circle(this.x,this.y,this.size))}drawStar(A,y,d,c,u,x){const j=A.TWO_PI/x,o=j/2;A.beginShape();for(let h=0;h<A.TWO_PI;h+=j){let f=y+A.cos(h)*u,l=d+A.sin(h)*u;A.vertex(f,l),f=y+A.cos(h+o)*c,l=d+A.sin(h+o)*c,A.vertex(f,l)}A.endShape(A.CLOSE)}}return gt.jsx(WO,{setup:i,draw:p,cleanup:b})};/*!
 * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */function YO(T,r,n){return(r=ZO(r))in T?Object.defineProperty(T,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):T[r]=n,T}function tE(T,r){var n=Object.keys(T);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(T);r&&(i=i.filter(function(p){return Object.getOwnPropertyDescriptor(T,p).enumerable})),n.push.apply(n,i)}return n}function pt(T){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?tE(Object(n),!0).forEach(function(i){YO(T,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(T,Object.getOwnPropertyDescriptors(n)):tE(Object(n)).forEach(function(i){Object.defineProperty(T,i,Object.getOwnPropertyDescriptor(n,i))})}return T}function $O(T,r){if(typeof T!="object"||!T)return T;var n=T[Symbol.toPrimitive];if(n!==void 0){var i=n.call(T,r);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(T)}function ZO(T){var r=$O(T,"string");return typeof r=="symbol"?r:r+""}const rE=()=>{};let _x={},LA={},DA=null,PA={mark:rE,measure:rE};try{typeof window<"u"&&(_x=window),typeof document<"u"&&(LA=document),typeof MutationObserver<"u"&&(DA=MutationObserver),typeof performance<"u"&&(PA=performance)}catch{}const{userAgent:nE=""}=_x.navigator||{},xu=_x,en=LA,sE=DA,Av=PA;xu.document;const ul=!!en.documentElement&&!!en.head&&typeof en.addEventListener=="function"&&typeof en.createElement=="function",NA=~nE.indexOf("MSIE")||~nE.indexOf("Trident/");var KO=/fa(s|r|l|t|d|dr|dl|dt|b|k|kd|ss|sr|sl|st|sds|sdr|sdl|sdt)?[\-\ ]/,QO=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit)?.*/i,IA={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fab:"brands","fa-brands":"brands"},duotone:{fa:"solid",fad:"solid","fa-solid":"solid","fa-duotone":"solid",fadr:"regular","fa-regular":"regular",fadl:"light","fa-light":"light",fadt:"thin","fa-thin":"thin"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid",fasdr:"regular","fa-regular":"regular",fasdl:"light","fa-light":"light",fasdt:"thin","fa-thin":"thin"}},JO={GROUP:"duotone-group",PRIMARY:"primary",SECONDARY:"secondary"},FA=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],Es="classic",Q0="duotone",eL="sharp",tL="sharp-duotone",UA=[Es,Q0,eL,tL],rL={classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},duotone:{900:"fad",400:"fadr",300:"fadl",100:"fadt"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds",400:"fasdr",300:"fasdl",100:"fasdt"}},nL={"Font Awesome 6 Free":{900:"fas",400:"far"},"Font Awesome 6 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 6 Brands":{400:"fab",normal:"fab"},"Font Awesome 6 Duotone":{900:"fad",400:"fadr",normal:"fadr",300:"fadl",100:"fadt"},"Font Awesome 6 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 6 Sharp Duotone":{900:"fasds",400:"fasdr",normal:"fasdr",300:"fasdl",100:"fasdt"}},sL=new Map([["classic",{defaultShortPrefixId:"fas",defaultStyleId:"solid",styleIds:["solid","regular","light","thin","brands"],futureStyleIds:[],defaultFontWeight:900}],["sharp",{defaultShortPrefixId:"fass",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["duotone",{defaultShortPrefixId:"fad",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp-duotone",{defaultShortPrefixId:"fasds",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}]]),iL={classic:{solid:"fas",regular:"far",light:"fal",thin:"fat",brands:"fab"},duotone:{solid:"fad",regular:"fadr",light:"fadl",thin:"fadt"},sharp:{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"},"sharp-duotone":{solid:"fasds",regular:"fasdr",light:"fasdl",thin:"fasdt"}},aL=["fak","fa-kit","fakd","fa-kit-duotone"],iE={kit:{fak:"kit","fa-kit":"kit"},"kit-duotone":{fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"}},oL=["kit"],lL={kit:{"fa-kit":"fak"}},uL=["fak","fakd"],cL={kit:{fak:"fa-kit"}},aE={kit:{kit:"fak"},"kit-duotone":{"kit-duotone":"fakd"}},Tv={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},dL=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],hL=["fak","fa-kit","fakd","fa-kit-duotone"],fL={"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}},pL={classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},duotone:{"fa-regular":"fadr","fa-light":"fadl","fa-thin":"fadt"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds","fa-regular":"fasdr","fa-light":"fasdl","fa-thin":"fasdt"}},mL={classic:["fas","far","fal","fat","fad"],duotone:["fadr","fadl","fadt"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds","fasdr","fasdl","fasdt"]},P_={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},duotone:{fadr:"fa-regular",fadl:"fa-light",fadt:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid",fasdr:"fa-regular",fasdl:"fa-light",fasdt:"fa-thin"}},gL=["fa-solid","fa-regular","fa-light","fa-thin","fa-duotone","fa-brands"],N_=["fa","fas","far","fal","fat","fad","fadr","fadl","fadt","fab","fass","fasr","fasl","fast","fasds","fasdr","fasdl","fasdt",...dL,...gL],yL=["solid","regular","light","thin","duotone","brands"],BA=[1,2,3,4,5,6,7,8,9,10],vL=BA.concat([11,12,13,14,15,16,17,18,19,20]),bL=[...Object.keys(mL),...yL,"2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",Tv.GROUP,Tv.SWAP_OPACITY,Tv.PRIMARY,Tv.SECONDARY].concat(BA.map(T=>"".concat(T,"x"))).concat(vL.map(T=>"w-".concat(T))),_L={"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"}};const sl="___FONT_AWESOME___",I_=16,GA="fa",zA="svg-inline--fa",yd="data-fa-i2svg",F_="data-fa-pseudo-element",wL="data-fa-pseudo-element-pending",wx="data-prefix",xx="data-icon",oE="fontawesome-i2svg",xL="async",SL=["HTML","HEAD","STYLE","SCRIPT"],HA=(()=>{try{return!0}catch{return!1}})();function $g(T){return new Proxy(T,{get(r,n){return n in r?r[n]:r[Es]}})}const VA=pt({},IA);VA[Es]=pt(pt(pt(pt({},{"fa-duotone":"duotone"}),IA[Es]),iE.kit),iE["kit-duotone"]);const jL=$g(VA),U_=pt({},iL);U_[Es]=pt(pt(pt(pt({},{duotone:"fad"}),U_[Es]),aE.kit),aE["kit-duotone"]);const lE=$g(U_),B_=pt({},P_);B_[Es]=pt(pt({},B_[Es]),cL.kit);const Sx=$g(B_),G_=pt({},pL);G_[Es]=pt(pt({},G_[Es]),lL.kit);$g(G_);const EL=KO,qA="fa-layers-text",AL=QO,TL=pt({},rL);$g(TL);const ML=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],m_=JO,CL=[...oL,...bL],im=xu.FontAwesomeConfig||{};function RL(T){var r=en.querySelector("script["+T+"]");if(r)return r.getAttribute(T)}function kL(T){return T===""?!0:T==="false"?!1:T==="true"?!0:T}en&&typeof en.querySelector=="function"&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(r=>{let[n,i]=r;const p=kL(RL(n));p!=null&&(im[i]=p)});const WA={styleDefault:"solid",familyDefault:Es,cssPrefix:GA,replacementClass:zA,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};im.familyPrefix&&(im.cssPrefix=im.familyPrefix);const kf=pt(pt({},WA),im);kf.autoReplaceSvg||(kf.observeMutations=!1);const Ft={};Object.keys(WA).forEach(T=>{Object.defineProperty(Ft,T,{enumerable:!0,set:function(r){kf[T]=r,am.forEach(n=>n(Ft))},get:function(){return kf[T]}})});Object.defineProperty(Ft,"familyPrefix",{enumerable:!0,set:function(T){kf.cssPrefix=T,am.forEach(r=>r(Ft))},get:function(){return kf.cssPrefix}});xu.FontAwesomeConfig=Ft;const am=[];function OL(T){return am.push(T),()=>{am.splice(am.indexOf(T),1)}}const Il=I_,Wa={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function LL(T){if(!T||!ul)return;const r=en.createElement("style");r.setAttribute("type","text/css"),r.innerHTML=T;const n=en.head.childNodes;let i=null;for(let p=n.length-1;p>-1;p--){const b=n[p],M=(b.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(M)>-1&&(i=b)}return en.head.insertBefore(r,i),T}const DL="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function um(){let T=12,r="";for(;T-- >0;)r+=DL[Math.random()*62|0];return r}function Nf(T){const r=[];for(let n=(T||[]).length>>>0;n--;)r[n]=T[n];return r}function jx(T){return T.classList?Nf(T.classList):(T.getAttribute("class")||"").split(" ").filter(r=>r)}function XA(T){return"".concat(T).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function PL(T){return Object.keys(T||{}).reduce((r,n)=>r+"".concat(n,'="').concat(XA(T[n]),'" '),"").trim()}function J0(T){return Object.keys(T||{}).reduce((r,n)=>r+"".concat(n,": ").concat(T[n].trim(),";"),"")}function Ex(T){return T.size!==Wa.size||T.x!==Wa.x||T.y!==Wa.y||T.rotate!==Wa.rotate||T.flipX||T.flipY}function NL(T){let{transform:r,containerWidth:n,iconWidth:i}=T;const p={transform:"translate(".concat(n/2," 256)")},b="translate(".concat(r.x*32,", ").concat(r.y*32,") "),M="scale(".concat(r.size/16*(r.flipX?-1:1),", ").concat(r.size/16*(r.flipY?-1:1),") "),t="rotate(".concat(r.rotate," 0 0)"),A={transform:"".concat(b," ").concat(M," ").concat(t)},y={transform:"translate(".concat(i/2*-1," -256)")};return{outer:p,inner:A,path:y}}function IL(T){let{transform:r,width:n=I_,height:i=I_,startCentered:p=!1}=T,b="";return p&&NA?b+="translate(".concat(r.x/Il-n/2,"em, ").concat(r.y/Il-i/2,"em) "):p?b+="translate(calc(-50% + ".concat(r.x/Il,"em), calc(-50% + ").concat(r.y/Il,"em)) "):b+="translate(".concat(r.x/Il,"em, ").concat(r.y/Il,"em) "),b+="scale(".concat(r.size/Il*(r.flipX?-1:1),", ").concat(r.size/Il*(r.flipY?-1:1),") "),b+="rotate(".concat(r.rotate,"deg) "),b}var FL=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Free";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Free";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Pro";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Pro";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-regular: normal 400 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-light: normal 300 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-thin: normal 100 1em/1 "Font Awesome 6 Duotone";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-regular: normal 400 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-light: normal 300 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-thin: normal 100 1em/1 "Font Awesome 6 Sharp Duotone";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-counter-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(-1 * var(--fa-li-width, 2em));
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  animation-name: fa-beat;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  animation-name: fa-bounce;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  animation-name: fa-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  animation-name: fa-beat-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  animation-name: fa-flip;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  animation-name: fa-shake;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  animation-name: fa-spin;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 2s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  animation-name: fa-spin;
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    animation-delay: -1ms;
    animation-duration: 1ms;
    animation-iteration-count: 1;
    transition-delay: 0s;
    transition-duration: 0s;
  }
}
@keyframes fa-beat {
  0%, 90% {
    transform: scale(1);
  }
  45% {
    transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-bounce {
  0% {
    transform: scale(1, 1) translateY(0);
  }
  10% {
    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    transform: scale(1, 1) translateY(0);
  }
  100% {
    transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    transform: scale(1);
  }
  50% {
    opacity: 1;
    transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-flip {
  50% {
    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-shake {
  0% {
    transform: rotate(-15deg);
  }
  4% {
    transform: rotate(15deg);
  }
  8%, 24% {
    transform: rotate(-18deg);
  }
  12%, 28% {
    transform: rotate(18deg);
  }
  16% {
    transform: rotate(-22deg);
  }
  20% {
    transform: rotate(22deg);
  }
  32% {
    transform: rotate(-12deg);
  }
  36% {
    transform: rotate(12deg);
  }
  40%, 100% {
    transform: rotate(0deg);
  }
}
@keyframes fa-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  transform: rotate(90deg);
}

.fa-rotate-180 {
  transform: rotate(180deg);
}

.fa-rotate-270 {
  transform: rotate(270deg);
}

.fa-flip-horizontal {
  transform: scale(-1, 1);
}

.fa-flip-vertical {
  transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  transform: scale(-1, -1);
}

.fa-rotate-by {
  transform: rotate(var(--fa-rotate-angle, 0));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}`;function YA(){const T=GA,r=zA,n=Ft.cssPrefix,i=Ft.replacementClass;let p=FL;if(n!==T||i!==r){const b=new RegExp("\\.".concat(T,"\\-"),"g"),M=new RegExp("\\--".concat(T,"\\-"),"g"),t=new RegExp("\\.".concat(r),"g");p=p.replace(b,".".concat(n,"-")).replace(M,"--".concat(n,"-")).replace(t,".".concat(i))}return p}let uE=!1;function g_(){Ft.autoAddCss&&!uE&&(LL(YA()),uE=!0)}var UL={mixout(){return{dom:{css:YA,insertCss:g_}}},hooks(){return{beforeDOMElementCreation(){g_()},beforeI2svg(){g_()}}}};const il=xu||{};il[sl]||(il[sl]={});il[sl].styles||(il[sl].styles={});il[sl].hooks||(il[sl].hooks={});il[sl].shims||(il[sl].shims=[]);var Xa=il[sl];const $A=[],ZA=function(){en.removeEventListener("DOMContentLoaded",ZA),v0=1,$A.map(T=>T())};let v0=!1;ul&&(v0=(en.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(en.readyState),v0||en.addEventListener("DOMContentLoaded",ZA));function BL(T){ul&&(v0?setTimeout(T,0):$A.push(T))}function Zg(T){const{tag:r,attributes:n={},children:i=[]}=T;return typeof T=="string"?XA(T):"<".concat(r," ").concat(PL(n),">").concat(i.map(Zg).join(""),"</").concat(r,">")}function cE(T,r,n){if(T&&T[r]&&T[r][n])return{prefix:r,iconName:n,icon:T[r][n]}}var y_=function(r,n,i,p){var b=Object.keys(r),M=b.length,t=n,A,y,d;for(i===void 0?(A=1,d=r[b[0]]):(A=0,d=i);A<M;A++)y=b[A],d=t(d,r[y],y,r);return d};function GL(T){const r=[];let n=0;const i=T.length;for(;n<i;){const p=T.charCodeAt(n++);if(p>=55296&&p<=56319&&n<i){const b=T.charCodeAt(n++);(b&64512)==56320?r.push(((p&1023)<<10)+(b&1023)+65536):(r.push(p),n--)}else r.push(p)}return r}function z_(T){const r=GL(T);return r.length===1?r[0].toString(16):null}function zL(T,r){const n=T.length;let i=T.charCodeAt(r),p;return i>=55296&&i<=56319&&n>r+1&&(p=T.charCodeAt(r+1),p>=56320&&p<=57343)?(i-55296)*1024+p-56320+65536:i}function dE(T){return Object.keys(T).reduce((r,n)=>{const i=T[n];return!!i.icon?r[i.iconName]=i.icon:r[n]=i,r},{})}function H_(T,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{skipHooks:i=!1}=n,p=dE(r);typeof Xa.hooks.addPack=="function"&&!i?Xa.hooks.addPack(T,dE(r)):Xa.styles[T]=pt(pt({},Xa.styles[T]||{}),p),T==="fas"&&H_("fa",r)}const{styles:cm,shims:HL}=Xa,KA=Object.keys(Sx),VL=KA.reduce((T,r)=>(T[r]=Object.keys(Sx[r]),T),{});let Ax=null,QA={},JA={},eT={},tT={},rT={};function qL(T){return~CL.indexOf(T)}function WL(T,r){const n=r.split("-"),i=n[0],p=n.slice(1).join("-");return i===T&&p!==""&&!qL(p)?p:null}const nT=()=>{const T=i=>y_(cm,(p,b,M)=>(p[M]=y_(b,i,{}),p),{});QA=T((i,p,b)=>(p[3]&&(i[p[3]]=b),p[2]&&p[2].filter(t=>typeof t=="number").forEach(t=>{i[t.toString(16)]=b}),i)),JA=T((i,p,b)=>(i[b]=b,p[2]&&p[2].filter(t=>typeof t=="string").forEach(t=>{i[t]=b}),i)),rT=T((i,p,b)=>{const M=p[2];return i[b]=b,M.forEach(t=>{i[t]=b}),i});const r="far"in cm||Ft.autoFetchSvg,n=y_(HL,(i,p)=>{const b=p[0];let M=p[1];const t=p[2];return M==="far"&&!r&&(M="fas"),typeof b=="string"&&(i.names[b]={prefix:M,iconName:t}),typeof b=="number"&&(i.unicodes[b.toString(16)]={prefix:M,iconName:t}),i},{names:{},unicodes:{}});eT=n.names,tT=n.unicodes,Ax=eb(Ft.styleDefault,{family:Ft.familyDefault})};OL(T=>{Ax=eb(T.styleDefault,{family:Ft.familyDefault})});nT();function Tx(T,r){return(QA[T]||{})[r]}function XL(T,r){return(JA[T]||{})[r]}function lc(T,r){return(rT[T]||{})[r]}function sT(T){return eT[T]||{prefix:null,iconName:null}}function YL(T){const r=tT[T],n=Tx("fas",T);return r||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}function Su(){return Ax}const iT=()=>({prefix:null,iconName:null,rest:[]});function $L(T){let r=Es;const n=KA.reduce((i,p)=>(i[p]="".concat(Ft.cssPrefix,"-").concat(p),i),{});return UA.forEach(i=>{(T.includes(n[i])||T.some(p=>VL[i].includes(p)))&&(r=i)}),r}function eb(T){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{family:n=Es}=r,i=jL[n][T];if(n===Q0&&!T)return"fad";const p=lE[n][T]||lE[n][i],b=T in Xa.styles?T:null;return p||b||null}function ZL(T){let r=[],n=null;return T.forEach(i=>{const p=WL(Ft.cssPrefix,i);p?n=p:i&&r.push(i)}),{iconName:n,rest:r}}function hE(T){return T.sort().filter((r,n,i)=>i.indexOf(r)===n)}function tb(T){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{skipLookups:n=!1}=r;let i=null;const p=N_.concat(hL),b=hE(T.filter(c=>p.includes(c))),M=hE(T.filter(c=>!N_.includes(c))),t=b.filter(c=>(i=c,!FA.includes(c))),[A=null]=t,y=$L(b),d=pt(pt({},ZL(M)),{},{prefix:eb(A,{family:y})});return pt(pt(pt({},d),e3({values:T,family:y,styles:cm,config:Ft,canonical:d,givenPrefix:i})),KL(n,i,d))}function KL(T,r,n){let{prefix:i,iconName:p}=n;if(T||!i||!p)return{prefix:i,iconName:p};const b=r==="fa"?sT(p):{},M=lc(i,p);return p=b.iconName||M||p,i=b.prefix||i,i==="far"&&!cm.far&&cm.fas&&!Ft.autoFetchSvg&&(i="fas"),{prefix:i,iconName:p}}const QL=UA.filter(T=>T!==Es||T!==Q0),JL=Object.keys(P_).filter(T=>T!==Es).map(T=>Object.keys(P_[T])).flat();function e3(T){const{values:r,family:n,canonical:i,givenPrefix:p="",styles:b={},config:M={}}=T,t=n===Q0,A=r.includes("fa-duotone")||r.includes("fad"),y=M.familyDefault==="duotone",d=i.prefix==="fad"||i.prefix==="fa-duotone";if(!t&&(A||y||d)&&(i.prefix="fad"),(r.includes("fa-brands")||r.includes("fab"))&&(i.prefix="fab"),!i.prefix&&QL.includes(n)&&(Object.keys(b).find(u=>JL.includes(u))||M.autoFetchSvg)){const u=sL.get(n).defaultShortPrefixId;i.prefix=u,i.iconName=lc(i.prefix,i.iconName)||i.iconName}return(i.prefix==="fa"||p==="fa")&&(i.prefix=Su()||"fas"),i}class t3{constructor(){this.definitions={}}add(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];const p=n.reduce(this._pullDefinitions,{});Object.keys(p).forEach(b=>{this.definitions[b]=pt(pt({},this.definitions[b]||{}),p[b]),H_(b,p[b]);const M=Sx[Es][b];M&&H_(M,p[b]),nT()})}reset(){this.definitions={}}_pullDefinitions(r,n){const i=n.prefix&&n.iconName&&n.icon?{0:n}:n;return Object.keys(i).map(p=>{const{prefix:b,iconName:M,icon:t}=i[p],A=t[2];r[b]||(r[b]={}),A.length>0&&A.forEach(y=>{typeof y=="string"&&(r[b][y]=t)}),r[b][M]=t}),r}}let fE=[],mh={};const _h={},r3=Object.keys(_h);function n3(T,r){let{mixoutsTo:n}=r;return fE=T,mh={},Object.keys(_h).forEach(i=>{r3.indexOf(i)===-1&&delete _h[i]}),fE.forEach(i=>{const p=i.mixout?i.mixout():{};if(Object.keys(p).forEach(b=>{typeof p[b]=="function"&&(n[b]=p[b]),typeof p[b]=="object"&&Object.keys(p[b]).forEach(M=>{n[b]||(n[b]={}),n[b][M]=p[b][M]})}),i.hooks){const b=i.hooks();Object.keys(b).forEach(M=>{mh[M]||(mh[M]=[]),mh[M].push(b[M])})}i.provides&&i.provides(_h)}),n}function V_(T,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),p=2;p<n;p++)i[p-2]=arguments[p];return(mh[T]||[]).forEach(M=>{r=M.apply(null,[r,...i])}),r}function vd(T){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];(mh[T]||[]).forEach(b=>{b.apply(null,n)})}function ju(){const T=arguments[0],r=Array.prototype.slice.call(arguments,1);return _h[T]?_h[T].apply(null,r):void 0}function q_(T){T.prefix==="fa"&&(T.prefix="fas");let{iconName:r}=T;const n=T.prefix||Su();if(r)return r=lc(n,r)||r,cE(aT.definitions,n,r)||cE(Xa.styles,n,r)}const aT=new t3,s3=()=>{Ft.autoReplaceSvg=!1,Ft.observeMutations=!1,vd("noAuto")},i3={i2svg:function(){let T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return ul?(vd("beforeI2svg",T),ju("pseudoElements2svg",T),ju("i2svg",T)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){let T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:r}=T;Ft.autoReplaceSvg===!1&&(Ft.autoReplaceSvg=!0),Ft.observeMutations=!0,BL(()=>{o3({autoReplaceSvgRoot:r}),vd("watch",T)})}},a3={icon:T=>{if(T===null)return null;if(typeof T=="object"&&T.prefix&&T.iconName)return{prefix:T.prefix,iconName:lc(T.prefix,T.iconName)||T.iconName};if(Array.isArray(T)&&T.length===2){const r=T[1].indexOf("fa-")===0?T[1].slice(3):T[1],n=eb(T[0]);return{prefix:n,iconName:lc(n,r)||r}}if(typeof T=="string"&&(T.indexOf("".concat(Ft.cssPrefix,"-"))>-1||T.match(EL))){const r=tb(T.split(" "),{skipLookups:!0});return{prefix:r.prefix||Su(),iconName:lc(r.prefix,r.iconName)||r.iconName}}if(typeof T=="string"){const r=Su();return{prefix:r,iconName:lc(r,T)||T}}}},bi={noAuto:s3,config:Ft,dom:i3,parse:a3,library:aT,findIconDefinition:q_,toHtml:Zg},o3=function(){let T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:r=en}=T;(Object.keys(Xa.styles).length>0||Ft.autoFetchSvg)&&ul&&Ft.autoReplaceSvg&&bi.dom.i2svg({node:r})};function rb(T,r){return Object.defineProperty(T,"abstract",{get:r}),Object.defineProperty(T,"html",{get:function(){return T.abstract.map(n=>Zg(n))}}),Object.defineProperty(T,"node",{get:function(){if(!ul)return;const n=en.createElement("div");return n.innerHTML=T.html,n.children}}),T}function l3(T){let{children:r,main:n,mask:i,attributes:p,styles:b,transform:M}=T;if(Ex(M)&&n.found&&!i.found){const{width:t,height:A}=n,y={x:t/A/2,y:.5};p.style=J0(pt(pt({},b),{},{"transform-origin":"".concat(y.x+M.x/16,"em ").concat(y.y+M.y/16,"em")}))}return[{tag:"svg",attributes:p,children:r}]}function u3(T){let{prefix:r,iconName:n,children:i,attributes:p,symbol:b}=T;const M=b===!0?"".concat(r,"-").concat(Ft.cssPrefix,"-").concat(n):b;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:pt(pt({},p),{},{id:M}),children:i}]}]}function Mx(T){const{icons:{main:r,mask:n},prefix:i,iconName:p,transform:b,symbol:M,title:t,maskId:A,titleId:y,extra:d,watchable:c=!1}=T,{width:u,height:x}=n.found?n:r,j=uL.includes(i),o=[Ft.replacementClass,p?"".concat(Ft.cssPrefix,"-").concat(p):""].filter(w=>d.classes.indexOf(w)===-1).filter(w=>w!==""||!!w).concat(d.classes).join(" ");let h={children:[],attributes:pt(pt({},d.attributes),{},{"data-prefix":i,"data-icon":p,class:o,role:d.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(u," ").concat(x)})};const f=j&&!~d.classes.indexOf("fa-fw")?{width:"".concat(u/x*16*.0625,"em")}:{};c&&(h.attributes[yd]=""),t&&(h.children.push({tag:"title",attributes:{id:h.attributes["aria-labelledby"]||"title-".concat(y||um())},children:[t]}),delete h.attributes.title);const l=pt(pt({},h),{},{prefix:i,iconName:p,main:r,mask:n,maskId:A,transform:b,symbol:M,styles:pt(pt({},f),d.styles)}),{children:m,attributes:_}=n.found&&r.found?ju("generateAbstractMask",l)||{children:[],attributes:{}}:ju("generateAbstractIcon",l)||{children:[],attributes:{}};return l.children=m,l.attributes=_,M?u3(l):l3(l)}function pE(T){const{content:r,width:n,height:i,transform:p,title:b,extra:M,watchable:t=!1}=T,A=pt(pt(pt({},M.attributes),b?{title:b}:{}),{},{class:M.classes.join(" ")});t&&(A[yd]="");const y=pt({},M.styles);Ex(p)&&(y.transform=IL({transform:p,startCentered:!0,width:n,height:i}),y["-webkit-transform"]=y.transform);const d=J0(y);d.length>0&&(A.style=d);const c=[];return c.push({tag:"span",attributes:A,children:[r]}),b&&c.push({tag:"span",attributes:{class:"sr-only"},children:[b]}),c}function c3(T){const{content:r,title:n,extra:i}=T,p=pt(pt(pt({},i.attributes),n?{title:n}:{}),{},{class:i.classes.join(" ")}),b=J0(i.styles);b.length>0&&(p.style=b);const M=[];return M.push({tag:"span",attributes:p,children:[r]}),n&&M.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),M}const{styles:v_}=Xa;function W_(T){const r=T[0],n=T[1],[i]=T.slice(4);let p=null;return Array.isArray(i)?p={tag:"g",attributes:{class:"".concat(Ft.cssPrefix,"-").concat(m_.GROUP)},children:[{tag:"path",attributes:{class:"".concat(Ft.cssPrefix,"-").concat(m_.SECONDARY),fill:"currentColor",d:i[0]}},{tag:"path",attributes:{class:"".concat(Ft.cssPrefix,"-").concat(m_.PRIMARY),fill:"currentColor",d:i[1]}}]}:p={tag:"path",attributes:{fill:"currentColor",d:i}},{found:!0,width:r,height:n,icon:p}}const d3={found:!1,width:512,height:512};function h3(T,r){!HA&&!Ft.showMissingIcons&&T&&console.error('Icon with name "'.concat(T,'" and prefix "').concat(r,'" is missing.'))}function X_(T,r){let n=r;return r==="fa"&&Ft.styleDefault!==null&&(r=Su()),new Promise((i,p)=>{if(n==="fa"){const b=sT(T)||{};T=b.iconName||T,r=b.prefix||r}if(T&&r&&v_[r]&&v_[r][T]){const b=v_[r][T];return i(W_(b))}h3(T,r),i(pt(pt({},d3),{},{icon:Ft.showMissingIcons&&T?ju("missingIconAbstract")||{}:{}}))})}const mE=()=>{},Y_=Ft.measurePerformance&&Av&&Av.mark&&Av.measure?Av:{mark:mE,measure:mE},Up='FA "6.7.2"',f3=T=>(Y_.mark("".concat(Up," ").concat(T," begins")),()=>oT(T)),oT=T=>{Y_.mark("".concat(Up," ").concat(T," ends")),Y_.measure("".concat(Up," ").concat(T),"".concat(Up," ").concat(T," begins"),"".concat(Up," ").concat(T," ends"))};var Cx={begin:f3,end:oT};const Uv=()=>{};function gE(T){return typeof(T.getAttribute?T.getAttribute(yd):null)=="string"}function p3(T){const r=T.getAttribute?T.getAttribute(wx):null,n=T.getAttribute?T.getAttribute(xx):null;return r&&n}function m3(T){return T&&T.classList&&T.classList.contains&&T.classList.contains(Ft.replacementClass)}function g3(){return Ft.autoReplaceSvg===!0?Bv.replace:Bv[Ft.autoReplaceSvg]||Bv.replace}function y3(T){return en.createElementNS("http://www.w3.org/2000/svg",T)}function v3(T){return en.createElement(T)}function lT(T){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{ceFn:n=T.tag==="svg"?y3:v3}=r;if(typeof T=="string")return en.createTextNode(T);const i=n(T.tag);return Object.keys(T.attributes||[]).forEach(function(b){i.setAttribute(b,T.attributes[b])}),(T.children||[]).forEach(function(b){i.appendChild(lT(b,{ceFn:n}))}),i}function b3(T){let r=" ".concat(T.outerHTML," ");return r="".concat(r,"Font Awesome fontawesome.com "),r}const Bv={replace:function(T){const r=T[0];if(r.parentNode)if(T[1].forEach(n=>{r.parentNode.insertBefore(lT(n),r)}),r.getAttribute(yd)===null&&Ft.keepOriginalSource){let n=en.createComment(b3(r));r.parentNode.replaceChild(n,r)}else r.remove()},nest:function(T){const r=T[0],n=T[1];if(~jx(r).indexOf(Ft.replacementClass))return Bv.replace(T);const i=new RegExp("".concat(Ft.cssPrefix,"-.*"));if(delete n[0].attributes.id,n[0].attributes.class){const b=n[0].attributes.class.split(" ").reduce((M,t)=>(t===Ft.replacementClass||t.match(i)?M.toSvg.push(t):M.toNode.push(t),M),{toNode:[],toSvg:[]});n[0].attributes.class=b.toSvg.join(" "),b.toNode.length===0?r.removeAttribute("class"):r.setAttribute("class",b.toNode.join(" "))}const p=n.map(b=>Zg(b)).join(`
`);r.setAttribute(yd,""),r.innerHTML=p}};function yE(T){T()}function uT(T,r){const n=typeof r=="function"?r:Uv;if(T.length===0)n();else{let i=yE;Ft.mutateApproach===xL&&(i=xu.requestAnimationFrame||yE),i(()=>{const p=g3(),b=Cx.begin("mutate");T.map(p),b(),n()})}}let Rx=!1;function cT(){Rx=!0}function $_(){Rx=!1}let b0=null;function vE(T){if(!sE||!Ft.observeMutations)return;const{treeCallback:r=Uv,nodeCallback:n=Uv,pseudoElementsCallback:i=Uv,observeMutationsRoot:p=en}=T;b0=new sE(b=>{if(Rx)return;const M=Su();Nf(b).forEach(t=>{if(t.type==="childList"&&t.addedNodes.length>0&&!gE(t.addedNodes[0])&&(Ft.searchPseudoElements&&i(t.target),r(t.target)),t.type==="attributes"&&t.target.parentNode&&Ft.searchPseudoElements&&i(t.target.parentNode),t.type==="attributes"&&gE(t.target)&&~ML.indexOf(t.attributeName))if(t.attributeName==="class"&&p3(t.target)){const{prefix:A,iconName:y}=tb(jx(t.target));t.target.setAttribute(wx,A||M),y&&t.target.setAttribute(xx,y)}else m3(t.target)&&n(t.target)})}),ul&&b0.observe(p,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}function _3(){b0&&b0.disconnect()}function w3(T){const r=T.getAttribute("style");let n=[];return r&&(n=r.split(";").reduce((i,p)=>{const b=p.split(":"),M=b[0],t=b.slice(1);return M&&t.length>0&&(i[M]=t.join(":").trim()),i},{})),n}function x3(T){const r=T.getAttribute("data-prefix"),n=T.getAttribute("data-icon"),i=T.innerText!==void 0?T.innerText.trim():"";let p=tb(jx(T));return p.prefix||(p.prefix=Su()),r&&n&&(p.prefix=r,p.iconName=n),p.iconName&&p.prefix||(p.prefix&&i.length>0&&(p.iconName=XL(p.prefix,T.innerText)||Tx(p.prefix,z_(T.innerText))),!p.iconName&&Ft.autoFetchSvg&&T.firstChild&&T.firstChild.nodeType===Node.TEXT_NODE&&(p.iconName=T.firstChild.data)),p}function S3(T){const r=Nf(T.attributes).reduce((p,b)=>(p.name!=="class"&&p.name!=="style"&&(p[b.name]=b.value),p),{}),n=T.getAttribute("title"),i=T.getAttribute("data-fa-title-id");return Ft.autoA11y&&(n?r["aria-labelledby"]="".concat(Ft.replacementClass,"-title-").concat(i||um()):(r["aria-hidden"]="true",r.focusable="false")),r}function j3(){return{iconName:null,title:null,titleId:null,prefix:null,transform:Wa,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function bE(T){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0};const{iconName:n,prefix:i,rest:p}=x3(T),b=S3(T),M=V_("parseNodeAttributes",{},T);let t=r.styleParser?w3(T):[];return pt({iconName:n,title:T.getAttribute("title"),titleId:T.getAttribute("data-fa-title-id"),prefix:i,transform:Wa,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:p,styles:t,attributes:b}},M)}const{styles:E3}=Xa;function dT(T){const r=Ft.autoReplaceSvg==="nest"?bE(T,{styleParser:!1}):bE(T);return~r.extra.classes.indexOf(qA)?ju("generateLayersText",T,r):ju("generateSvgReplacementMutation",T,r)}function A3(){return[...aL,...N_]}function _E(T){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!ul)return Promise.resolve();const n=en.documentElement.classList,i=d=>n.add("".concat(oE,"-").concat(d)),p=d=>n.remove("".concat(oE,"-").concat(d)),b=Ft.autoFetchSvg?A3():FA.concat(Object.keys(E3));b.includes("fa")||b.push("fa");const M=[".".concat(qA,":not([").concat(yd,"])")].concat(b.map(d=>".".concat(d,":not([").concat(yd,"])"))).join(", ");if(M.length===0)return Promise.resolve();let t=[];try{t=Nf(T.querySelectorAll(M))}catch{}if(t.length>0)i("pending"),p("complete");else return Promise.resolve();const A=Cx.begin("onTree"),y=t.reduce((d,c)=>{try{const u=dT(c);u&&d.push(u)}catch(u){HA||u.name==="MissingIcon"&&console.error(u)}return d},[]);return new Promise((d,c)=>{Promise.all(y).then(u=>{uT(u,()=>{i("active"),i("complete"),p("pending"),typeof r=="function"&&r(),A(),d()})}).catch(u=>{A(),c(u)})})}function T3(T){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;dT(T).then(n=>{n&&uT([n],r)})}function M3(T){return function(r){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const i=(r||{}).icon?r:q_(r||{});let{mask:p}=n;return p&&(p=(p||{}).icon?p:q_(p||{})),T(i,pt(pt({},n),{},{mask:p}))}}const C3=function(T){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:n=Wa,symbol:i=!1,mask:p=null,maskId:b=null,title:M=null,titleId:t=null,classes:A=[],attributes:y={},styles:d={}}=r;if(!T)return;const{prefix:c,iconName:u,icon:x}=T;return rb(pt({type:"icon"},T),()=>(vd("beforeDOMElementCreation",{iconDefinition:T,params:r}),Ft.autoA11y&&(M?y["aria-labelledby"]="".concat(Ft.replacementClass,"-title-").concat(t||um()):(y["aria-hidden"]="true",y.focusable="false")),Mx({icons:{main:W_(x),mask:p?W_(p.icon):{found:!1,width:null,height:null,icon:{}}},prefix:c,iconName:u,transform:pt(pt({},Wa),n),symbol:i,title:M,maskId:b,titleId:t,extra:{attributes:y,styles:d,classes:A}})))};var R3={mixout(){return{icon:M3(C3)}},hooks(){return{mutationObserverCallbacks(T){return T.treeCallback=_E,T.nodeCallback=T3,T}}},provides(T){T.i2svg=function(r){const{node:n=en,callback:i=()=>{}}=r;return _E(n,i)},T.generateSvgReplacementMutation=function(r,n){const{iconName:i,title:p,titleId:b,prefix:M,transform:t,symbol:A,mask:y,maskId:d,extra:c}=n;return new Promise((u,x)=>{Promise.all([X_(i,M),y.iconName?X_(y.iconName,y.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(j=>{let[o,h]=j;u([r,Mx({icons:{main:o,mask:h},prefix:M,iconName:i,transform:t,symbol:A,maskId:d,title:p,titleId:b,extra:c,watchable:!0})])}).catch(x)})},T.generateAbstractIcon=function(r){let{children:n,attributes:i,main:p,transform:b,styles:M}=r;const t=J0(M);t.length>0&&(i.style=t);let A;return Ex(b)&&(A=ju("generateAbstractTransformGrouping",{main:p,transform:b,containerWidth:p.width,iconWidth:p.width})),n.push(A||p.icon),{children:n,attributes:i}}}},k3={mixout(){return{layer(T){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{classes:n=[]}=r;return rb({type:"layer"},()=>{vd("beforeDOMElementCreation",{assembler:T,params:r});let i=[];return T(p=>{Array.isArray(p)?p.map(b=>{i=i.concat(b.abstract)}):i=i.concat(p.abstract)}),[{tag:"span",attributes:{class:["".concat(Ft.cssPrefix,"-layers"),...n].join(" ")},children:i}]})}}}},O3={mixout(){return{counter(T){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{title:n=null,classes:i=[],attributes:p={},styles:b={}}=r;return rb({type:"counter",content:T},()=>(vd("beforeDOMElementCreation",{content:T,params:r}),c3({content:T.toString(),title:n,extra:{attributes:p,styles:b,classes:["".concat(Ft.cssPrefix,"-layers-counter"),...i]}})))}}}},L3={mixout(){return{text(T){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:n=Wa,title:i=null,classes:p=[],attributes:b={},styles:M={}}=r;return rb({type:"text",content:T},()=>(vd("beforeDOMElementCreation",{content:T,params:r}),pE({content:T,transform:pt(pt({},Wa),n),title:i,extra:{attributes:b,styles:M,classes:["".concat(Ft.cssPrefix,"-layers-text"),...p]}})))}}},provides(T){T.generateLayersText=function(r,n){const{title:i,transform:p,extra:b}=n;let M=null,t=null;if(NA){const A=parseInt(getComputedStyle(r).fontSize,10),y=r.getBoundingClientRect();M=y.width/A,t=y.height/A}return Ft.autoA11y&&!i&&(b.attributes["aria-hidden"]="true"),Promise.resolve([r,pE({content:r.innerHTML,width:M,height:t,transform:p,title:i,extra:b,watchable:!0})])}}};const D3=new RegExp('"',"ug"),wE=[1105920,1112319],xE=pt(pt(pt(pt({},{FontAwesome:{normal:"fas",400:"fas"}}),nL),_L),fL),Z_=Object.keys(xE).reduce((T,r)=>(T[r.toLowerCase()]=xE[r],T),{}),P3=Object.keys(Z_).reduce((T,r)=>{const n=Z_[r];return T[r]=n[900]||[...Object.entries(n)][0][1],T},{});function N3(T){const r=T.replace(D3,""),n=zL(r,0),i=n>=wE[0]&&n<=wE[1],p=r.length===2?r[0]===r[1]:!1;return{value:z_(p?r[0]:r),isSecondary:i||p}}function I3(T,r){const n=T.replace(/^['"]|['"]$/g,"").toLowerCase(),i=parseInt(r),p=isNaN(i)?"normal":i;return(Z_[n]||{})[p]||P3[n]}function SE(T,r){const n="".concat(wL).concat(r.replace(":","-"));return new Promise((i,p)=>{if(T.getAttribute(n)!==null)return i();const M=Nf(T.children).filter(u=>u.getAttribute(F_)===r)[0],t=xu.getComputedStyle(T,r),A=t.getPropertyValue("font-family"),y=A.match(AL),d=t.getPropertyValue("font-weight"),c=t.getPropertyValue("content");if(M&&!y)return T.removeChild(M),i();if(y&&c!=="none"&&c!==""){const u=t.getPropertyValue("content");let x=I3(A,d);const{value:j,isSecondary:o}=N3(u),h=y[0].startsWith("FontAwesome");let f=Tx(x,j),l=f;if(h){const m=YL(j);m.iconName&&m.prefix&&(f=m.iconName,x=m.prefix)}if(f&&!o&&(!M||M.getAttribute(wx)!==x||M.getAttribute(xx)!==l)){T.setAttribute(n,l),M&&T.removeChild(M);const m=j3(),{extra:_}=m;_.attributes[F_]=r,X_(f,x).then(w=>{const v=Mx(pt(pt({},m),{},{icons:{main:w,mask:iT()},prefix:x,iconName:l,extra:_,watchable:!0})),E=en.createElementNS("http://www.w3.org/2000/svg","svg");r==="::before"?T.insertBefore(E,T.firstChild):T.appendChild(E),E.outerHTML=v.map(C=>Zg(C)).join(`
`),T.removeAttribute(n),i()}).catch(p)}else i()}else i()})}function F3(T){return Promise.all([SE(T,"::before"),SE(T,"::after")])}function U3(T){return T.parentNode!==document.head&&!~SL.indexOf(T.tagName.toUpperCase())&&!T.getAttribute(F_)&&(!T.parentNode||T.parentNode.tagName!=="svg")}function jE(T){if(ul)return new Promise((r,n)=>{const i=Nf(T.querySelectorAll("*")).filter(U3).map(F3),p=Cx.begin("searchPseudoElements");cT(),Promise.all(i).then(()=>{p(),$_(),r()}).catch(()=>{p(),$_(),n()})})}var B3={hooks(){return{mutationObserverCallbacks(T){return T.pseudoElementsCallback=jE,T}}},provides(T){T.pseudoElements2svg=function(r){const{node:n=en}=r;Ft.searchPseudoElements&&jE(n)}}};let EE=!1;var G3={mixout(){return{dom:{unwatch(){cT(),EE=!0}}}},hooks(){return{bootstrap(){vE(V_("mutationObserverCallbacks",{}))},noAuto(){_3()},watch(T){const{observeMutationsRoot:r}=T;EE?$_():vE(V_("mutationObserverCallbacks",{observeMutationsRoot:r}))}}}};const AE=T=>{let r={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return T.toLowerCase().split(" ").reduce((n,i)=>{const p=i.toLowerCase().split("-"),b=p[0];let M=p.slice(1).join("-");if(b&&M==="h")return n.flipX=!0,n;if(b&&M==="v")return n.flipY=!0,n;if(M=parseFloat(M),isNaN(M))return n;switch(b){case"grow":n.size=n.size+M;break;case"shrink":n.size=n.size-M;break;case"left":n.x=n.x-M;break;case"right":n.x=n.x+M;break;case"up":n.y=n.y-M;break;case"down":n.y=n.y+M;break;case"rotate":n.rotate=n.rotate+M;break}return n},r)};var z3={mixout(){return{parse:{transform:T=>AE(T)}}},hooks(){return{parseNodeAttributes(T,r){const n=r.getAttribute("data-fa-transform");return n&&(T.transform=AE(n)),T}}},provides(T){T.generateAbstractTransformGrouping=function(r){let{main:n,transform:i,containerWidth:p,iconWidth:b}=r;const M={transform:"translate(".concat(p/2," 256)")},t="translate(".concat(i.x*32,", ").concat(i.y*32,") "),A="scale(".concat(i.size/16*(i.flipX?-1:1),", ").concat(i.size/16*(i.flipY?-1:1),") "),y="rotate(".concat(i.rotate," 0 0)"),d={transform:"".concat(t," ").concat(A," ").concat(y)},c={transform:"translate(".concat(b/2*-1," -256)")},u={outer:M,inner:d,path:c};return{tag:"g",attributes:pt({},u.outer),children:[{tag:"g",attributes:pt({},u.inner),children:[{tag:n.icon.tag,children:n.icon.children,attributes:pt(pt({},n.icon.attributes),u.path)}]}]}}}};const b_={x:0,y:0,width:"100%",height:"100%"};function TE(T){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return T.attributes&&(T.attributes.fill||r)&&(T.attributes.fill="black"),T}function H3(T){return T.tag==="g"?T.children:[T]}var V3={hooks(){return{parseNodeAttributes(T,r){const n=r.getAttribute("data-fa-mask"),i=n?tb(n.split(" ").map(p=>p.trim())):iT();return i.prefix||(i.prefix=Su()),T.mask=i,T.maskId=r.getAttribute("data-fa-mask-id"),T}}},provides(T){T.generateAbstractMask=function(r){let{children:n,attributes:i,main:p,mask:b,maskId:M,transform:t}=r;const{width:A,icon:y}=p,{width:d,icon:c}=b,u=NL({transform:t,containerWidth:d,iconWidth:A}),x={tag:"rect",attributes:pt(pt({},b_),{},{fill:"white"})},j=y.children?{children:y.children.map(TE)}:{},o={tag:"g",attributes:pt({},u.inner),children:[TE(pt({tag:y.tag,attributes:pt(pt({},y.attributes),u.path)},j))]},h={tag:"g",attributes:pt({},u.outer),children:[o]},f="mask-".concat(M||um()),l="clip-".concat(M||um()),m={tag:"mask",attributes:pt(pt({},b_),{},{id:f,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[x,h]},_={tag:"defs",children:[{tag:"clipPath",attributes:{id:l},children:H3(c)},m]};return n.push(_,{tag:"rect",attributes:pt({fill:"currentColor","clip-path":"url(#".concat(l,")"),mask:"url(#".concat(f,")")},b_)}),{children:n,attributes:i}}}},q3={provides(T){let r=!1;xu.matchMedia&&(r=xu.matchMedia("(prefers-reduced-motion: reduce)").matches),T.missingIconAbstract=function(){const n=[],i={fill:"currentColor"},p={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};n.push({tag:"path",attributes:pt(pt({},i),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});const b=pt(pt({},p),{},{attributeName:"opacity"}),M={tag:"circle",attributes:pt(pt({},i),{},{cx:"256",cy:"364",r:"28"}),children:[]};return r||M.children.push({tag:"animate",attributes:pt(pt({},p),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:pt(pt({},b),{},{values:"1;0;1;1;0;1;"})}),n.push(M),n.push({tag:"path",attributes:pt(pt({},i),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:r?[]:[{tag:"animate",attributes:pt(pt({},b),{},{values:"1;0;0;0;0;1;"})}]}),r||n.push({tag:"path",attributes:pt(pt({},i),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:pt(pt({},b),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:n}}}},W3={hooks(){return{parseNodeAttributes(T,r){const n=r.getAttribute("data-fa-symbol"),i=n===null?!1:n===""?!0:n;return T.symbol=i,T}}}},X3=[UL,R3,k3,O3,L3,B3,G3,z3,V3,q3,W3];n3(X3,{mixoutsTo:bi});bi.noAuto;bi.config;bi.library;bi.dom;const K_=bi.parse;bi.findIconDefinition;bi.toHtml;const Y3=bi.icon;bi.layer;bi.text;bi.counter;var __={exports:{}},w_,ME;function $3(){if(ME)return w_;ME=1;var T="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return w_=T,w_}var x_,CE;function Z3(){if(CE)return x_;CE=1;var T=$3();function r(){}function n(){}return n.resetWarningCache=r,x_=function(){function i(M,t,A,y,d,c){if(c!==T){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}i.isRequired=i;function p(){return i}var b={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:p,element:i,elementType:i,instanceOf:p,node:i,objectOf:p,oneOf:p,oneOfType:p,shape:p,exact:p,checkPropTypes:n,resetWarningCache:r};return b.PropTypes=b,b},x_}var RE;function K3(){return RE||(RE=1,__.exports=Z3()()),__.exports}var Q3=K3();const cr=Y0(Q3);function kE(T,r){var n=Object.keys(T);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(T);r&&(i=i.filter(function(p){return Object.getOwnPropertyDescriptor(T,p).enumerable})),n.push.apply(n,i)}return n}function Ha(T){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?kE(Object(n),!0).forEach(function(i){gh(T,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(T,Object.getOwnPropertyDescriptors(n)):kE(Object(n)).forEach(function(i){Object.defineProperty(T,i,Object.getOwnPropertyDescriptor(n,i))})}return T}function _0(T){"@babel/helpers - typeof";return _0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},_0(T)}function gh(T,r,n){return r in T?Object.defineProperty(T,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):T[r]=n,T}function J3(T,r){if(T==null)return{};var n={},i=Object.keys(T),p,b;for(b=0;b<i.length;b++)p=i[b],!(r.indexOf(p)>=0)&&(n[p]=T[p]);return n}function e5(T,r){if(T==null)return{};var n=J3(T,r),i,p;if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(T);for(p=0;p<b.length;p++)i=b[p],!(r.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(T,i)&&(n[i]=T[i])}return n}function Q_(T){return t5(T)||r5(T)||n5(T)||s5()}function t5(T){if(Array.isArray(T))return J_(T)}function r5(T){if(typeof Symbol<"u"&&T[Symbol.iterator]!=null||T["@@iterator"]!=null)return Array.from(T)}function n5(T,r){if(T){if(typeof T=="string")return J_(T,r);var n=Object.prototype.toString.call(T).slice(8,-1);if(n==="Object"&&T.constructor&&(n=T.constructor.name),n==="Map"||n==="Set")return Array.from(T);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return J_(T,r)}}function J_(T,r){(r==null||r>T.length)&&(r=T.length);for(var n=0,i=new Array(r);n<r;n++)i[n]=T[n];return i}function s5(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function i5(T){var r,n=T.beat,i=T.fade,p=T.beatFade,b=T.bounce,M=T.shake,t=T.flash,A=T.spin,y=T.spinPulse,d=T.spinReverse,c=T.pulse,u=T.fixedWidth,x=T.inverse,j=T.border,o=T.listItem,h=T.flip,f=T.size,l=T.rotation,m=T.pull,_=(r={"fa-beat":n,"fa-fade":i,"fa-beat-fade":p,"fa-bounce":b,"fa-shake":M,"fa-flash":t,"fa-spin":A,"fa-spin-reverse":d,"fa-spin-pulse":y,"fa-pulse":c,"fa-fw":u,"fa-inverse":x,"fa-border":j,"fa-li":o,"fa-flip":h===!0,"fa-flip-horizontal":h==="horizontal"||h==="both","fa-flip-vertical":h==="vertical"||h==="both"},gh(r,"fa-".concat(f),typeof f<"u"&&f!==null),gh(r,"fa-rotate-".concat(l),typeof l<"u"&&l!==null&&l!==0),gh(r,"fa-pull-".concat(m),typeof m<"u"&&m!==null),gh(r,"fa-swap-opacity",T.swapOpacity),r);return Object.keys(_).map(function(w){return _[w]?w:null}).filter(function(w){return w})}function a5(T){return T=T-0,T===T}function hT(T){return a5(T)?T:(T=T.replace(/[\-_\s]+(.)?/g,function(r,n){return n?n.toUpperCase():""}),T.substr(0,1).toLowerCase()+T.substr(1))}var o5=["style"];function l5(T){return T.charAt(0).toUpperCase()+T.slice(1)}function u5(T){return T.split(";").map(function(r){return r.trim()}).filter(function(r){return r}).reduce(function(r,n){var i=n.indexOf(":"),p=hT(n.slice(0,i)),b=n.slice(i+1).trim();return p.startsWith("webkit")?r[l5(p)]=b:r[p]=b,r},{})}function fT(T,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof r=="string")return r;var i=(r.children||[]).map(function(A){return fT(T,A)}),p=Object.keys(r.attributes||{}).reduce(function(A,y){var d=r.attributes[y];switch(y){case"class":A.attrs.className=d,delete r.attributes.class;break;case"style":A.attrs.style=u5(d);break;default:y.indexOf("aria-")===0||y.indexOf("data-")===0?A.attrs[y.toLowerCase()]=d:A.attrs[hT(y)]=d}return A},{attrs:{}}),b=n.style,M=b===void 0?{}:b,t=e5(n,o5);return p.attrs.style=Ha(Ha({},p.attrs.style),M),T.apply(void 0,[r.tag,Ha(Ha({},p.attrs),t)].concat(Q_(i)))}var pT=!1;try{pT=!0}catch{}function c5(){if(!pT&&console&&typeof console.error=="function"){var T;(T=console).error.apply(T,arguments)}}function OE(T){if(T&&_0(T)==="object"&&T.prefix&&T.iconName&&T.icon)return T;if(K_.icon)return K_.icon(T);if(T===null)return null;if(T&&_0(T)==="object"&&T.prefix&&T.iconName)return T;if(Array.isArray(T)&&T.length===2)return{prefix:T[0],iconName:T[1]};if(typeof T=="string")return{prefix:"fas",iconName:T}}function S_(T,r){return Array.isArray(r)&&r.length>0||!Array.isArray(r)&&r?gh({},T,r):{}}var LE={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1},nb=fA.forwardRef(function(T,r){var n=Ha(Ha({},LE),T),i=n.icon,p=n.mask,b=n.symbol,M=n.className,t=n.title,A=n.titleId,y=n.maskId,d=OE(i),c=S_("classes",[].concat(Q_(i5(n)),Q_((M||"").split(" ")))),u=S_("transform",typeof n.transform=="string"?K_.transform(n.transform):n.transform),x=S_("mask",OE(p)),j=Y3(d,Ha(Ha(Ha(Ha({},c),u),x),{},{symbol:b,title:t,titleId:A,maskId:y}));if(!j)return c5("Could not find icon",d),null;var o=j.abstract,h={ref:r};return Object.keys(n).forEach(function(f){LE.hasOwnProperty(f)||(h[f]=n[f])}),d5(o[0],h)});nb.displayName="FontAwesomeIcon";nb.propTypes={beat:cr.bool,border:cr.bool,beatFade:cr.bool,bounce:cr.bool,className:cr.string,fade:cr.bool,flash:cr.bool,mask:cr.oneOfType([cr.object,cr.array,cr.string]),maskId:cr.string,fixedWidth:cr.bool,inverse:cr.bool,flip:cr.oneOf([!0,!1,"horizontal","vertical","both"]),icon:cr.oneOfType([cr.object,cr.array,cr.string]),listItem:cr.bool,pull:cr.oneOf(["right","left"]),pulse:cr.bool,rotation:cr.oneOf([0,90,180,270]),shake:cr.bool,size:cr.oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:cr.bool,spinPulse:cr.bool,spinReverse:cr.bool,symbol:cr.oneOfType([cr.bool,cr.string]),title:cr.string,titleId:cr.string,transform:cr.oneOfType([cr.string,cr.object]),swapOpacity:cr.bool};var d5=fT.bind(null,fA.createElement);/*!
 * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */const h5={prefix:"fas",iconName:"user",icon:[448,512,[128100,62144],"f007","M224 256A128 128 0 1 0 224 0a128 128 0 1 0 0 256zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512l388.6 0c16.4 0 29.7-13.3 29.7-29.7C448 383.8 368.2 304 269.7 304l-91.4 0z"]},f5={prefix:"fas",iconName:"arrow-down",icon:[384,512,[8595],"f063","M169.4 470.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 370.8 224 64c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 306.7L54.6 265.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z"]},p5="/my-website/assets/final_launch-DBhcw0aL.png",mT="/my-website/assets/resume_photo1-BYlBQb-r.jpg",gT="/my-website/assets/resume_photo2-BP_xBKMb.jpg",DE=({images:T,to:r,content:n})=>{const i=SA(),[p,b]=Be.useState(0),[M,t]=Be.useState(!1);return Be.useEffect(()=>{let A;return M?A=setInterval(()=>{b(y=>(y+1)%T.length)},1e3):b(0),()=>clearInterval(A)},[M]),gt.jsx("div",{className:"image-container",onMouseEnter:()=>t(!0),onMouseLeave:()=>t(!1),style:{backgroundImage:`url(${T[p]})`,transition:"background-image 0.8s ease-in-out"},onClick:()=>i(r),children:gt.jsx("li",{children:gt.jsx("h4",{className:"font-bold",children:n})})})},m5=[OA,ic,p5],g5=[mT,gT],y5=()=>gt.jsx("div",{id:"project-preview",className:"relative text-white top-90 flex px-20 items-center justify-center flex-col py-20 bg-gray-900",children:gt.jsxs("ul",{className:"flex flex-wrap gap-10 justify-center w-full",children:[gt.jsx(DE,{images:m5,to:"/projects",content:"Projects"}),gt.jsx(DE,{images:g5,to:"/resume",content:"Resume"})]})}),v5=()=>{const T=Ru(),r=n=>{const i=document.getElementById(n);i&&i.scrollIntoView({behavior:"smooth"})};return gt.jsxs("div",{className:"homepage-container",children:[gt.jsx(XO,{},T.pathname),gt.jsxs("header",{className:"intro-section",children:[gt.jsx("h1",{className:"text-white",children:"Hello I'm Max Schaefer"}),gt.jsx("p",{className:"text-sky-200",children:"I'm a recent computer science gradute from Western Washington University"}),gt.jsxs("button",{onClick:()=>r("project-preview"),children:["See More",gt.jsx(nb,{icon:f5,className:"mr-2 text-sky-200 ml-5"})]})]}),gt.jsx(y5,{})]})},Ps=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),ew=[.001,0,0,.001,0,0],j_=1.35,mi={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},Va={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},yT="pdfjs_internal_editor_",Xt={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,SIGNATURE:101},hr={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35,DRAW_STEP:41},vT={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},vs={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},om={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},En={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},lh={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},Kg={ERRORS:0,WARNINGS:1,INFOS:5},dm={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},Mv={moveTo:0,lineTo:1,curveTo:2,closePath:3},bT={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let sb=Kg.WARNINGS;function b5(T){Number.isInteger(T)&&(sb=T)}function _5(){return sb}function ib(T){sb>=Kg.INFOS&&console.log(`Info: ${T}`)}function Zt(T){sb>=Kg.WARNINGS&&console.log(`Warning: ${T}`)}function Vr(T){throw new Error(T)}function Nn(T,r){T||Vr(r)}function w5(T){switch(T==null?void 0:T.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function kx(T,r=null,n=null){if(!T)return null;if(n&&typeof T=="string"){if(n.addDefaultProtocol&&T.startsWith("www.")){const p=T.match(/\./g);(p==null?void 0:p.length)>=2&&(T=`http://${T}`)}if(n.tryConvertEncoding)try{T=A5(T)}catch{}}const i=r?URL.parse(T,r):URL.parse(T);return w5(i)?i:null}function Ox(T,r,n=!1){const i=URL.parse(T);return i?(i.hash=r,i.href):n&&kx(T,"http://example.com")?T.split("#",1)[0]+`${r?`#${r}`:""}`:""}function dr(T,r,n,i=!1){return Object.defineProperty(T,r,{value:n,enumerable:!i,configurable:!0,writable:!1}),n}const wd=function(){function r(n,i){this.message=n,this.name=i}return r.prototype=new Error,r.constructor=r,r}();class PE extends wd{constructor(r,n){super(r,"PasswordException"),this.code=n}}class E_ extends wd{constructor(r,n){super(r,"UnknownErrorException"),this.details=n}}class w0 extends wd{constructor(r){super(r,"InvalidPDFException")}}class hm extends wd{constructor(r,n,i){super(r,"ResponseException"),this.status=n,this.missing=i}}class x5 extends wd{constructor(r){super(r,"FormatError")}}class al extends wd{constructor(r){super(r,"AbortException")}}function _T(T){(typeof T!="object"||(T==null?void 0:T.length)===void 0)&&Vr("Invalid argument for bytesToString");const r=T.length,n=8192;if(r<n)return String.fromCharCode.apply(null,T);const i=[];for(let p=0;p<r;p+=n){const b=Math.min(p+n,r),M=T.subarray(p,b);i.push(String.fromCharCode.apply(null,M))}return i.join("")}function Qg(T){typeof T!="string"&&Vr("Invalid argument for stringToBytes");const r=T.length,n=new Uint8Array(r);for(let i=0;i<r;++i)n[i]=T.charCodeAt(i)&255;return n}function S5(T){return String.fromCharCode(T>>24&255,T>>16&255,T>>8&255,T&255)}function j5(){const T=new Uint8Array(4);return T[0]=1,new Uint32Array(T.buffer,0,1)[0]===1}function E5(){try{return new Function(""),!0}catch{return!1}}class ns{static get isLittleEndian(){return dr(this,"isLittleEndian",j5())}static get isEvalSupported(){return dr(this,"isEvalSupported",E5())}static get isOffscreenCanvasSupported(){return dr(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return dr(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get platform(){const{platform:r,userAgent:n}=navigator;return dr(this,"platform",{isAndroid:n.includes("Android"),isLinux:r.includes("Linux"),isMac:r.includes("Mac"),isWindows:r.includes("Win"),isFirefox:n.includes("Firefox")})}static get isCSSRoundSupported(){var r,n;return dr(this,"isCSSRoundSupported",(n=(r=globalThis.CSS)==null?void 0:r.supports)==null?void 0:n.call(r,"width: round(1.5px, 1px)"))}}const A_=Array.from(Array(256).keys(),T=>T.toString(16).padStart(2,"0"));var tl,Gv,tw;class Ut{static makeHexColor(r,n,i){return`#${A_[r]}${A_[n]}${A_[i]}`}static scaleMinMax(r,n){let i;r[0]?(r[0]<0&&(i=n[0],n[0]=n[2],n[2]=i),n[0]*=r[0],n[2]*=r[0],r[3]<0&&(i=n[1],n[1]=n[3],n[3]=i),n[1]*=r[3],n[3]*=r[3]):(i=n[0],n[0]=n[1],n[1]=i,i=n[2],n[2]=n[3],n[3]=i,r[1]<0&&(i=n[1],n[1]=n[3],n[3]=i),n[1]*=r[1],n[3]*=r[1],r[2]<0&&(i=n[0],n[0]=n[2],n[2]=i),n[0]*=r[2],n[2]*=r[2]),n[0]+=r[4],n[1]+=r[5],n[2]+=r[4],n[3]+=r[5]}static transform(r,n){return[r[0]*n[0]+r[2]*n[1],r[1]*n[0]+r[3]*n[1],r[0]*n[2]+r[2]*n[3],r[1]*n[2]+r[3]*n[3],r[0]*n[4]+r[2]*n[5]+r[4],r[1]*n[4]+r[3]*n[5]+r[5]]}static applyTransform(r,n,i=0){const p=r[i],b=r[i+1];r[i]=p*n[0]+b*n[2]+n[4],r[i+1]=p*n[1]+b*n[3]+n[5]}static applyTransformToBezier(r,n,i=0){const p=n[0],b=n[1],M=n[2],t=n[3],A=n[4],y=n[5];for(let d=0;d<6;d+=2){const c=r[i+d],u=r[i+d+1];r[i+d]=c*p+u*M+A,r[i+d+1]=c*b+u*t+y}}static applyInverseTransform(r,n){const i=r[0],p=r[1],b=n[0]*n[3]-n[1]*n[2];r[0]=(i*n[3]-p*n[2]+n[2]*n[5]-n[4]*n[3])/b,r[1]=(-i*n[1]+p*n[0]+n[4]*n[1]-n[5]*n[0])/b}static axialAlignedBoundingBox(r,n,i){const p=n[0],b=n[1],M=n[2],t=n[3],A=n[4],y=n[5],d=r[0],c=r[1],u=r[2],x=r[3];let j=p*d+A,o=j,h=p*u+A,f=h,l=t*c+y,m=l,_=t*x+y,w=_;if(b!==0||M!==0){const v=b*d,E=b*u,C=M*c,O=M*x;j+=C,f+=C,h+=O,o+=O,l+=v,w+=v,_+=E,m+=E}i[0]=Math.min(i[0],j,h,o,f),i[1]=Math.min(i[1],l,_,m,w),i[2]=Math.max(i[2],j,h,o,f),i[3]=Math.max(i[3],l,_,m,w)}static inverseTransform(r){const n=r[0]*r[3]-r[1]*r[2];return[r[3]/n,-r[1]/n,-r[2]/n,r[0]/n,(r[2]*r[5]-r[4]*r[3])/n,(r[4]*r[1]-r[5]*r[0])/n]}static singularValueDecompose2dScale(r,n){const i=r[0],p=r[1],b=r[2],M=r[3],t=i**2+p**2,A=i*b+p*M,y=b**2+M**2,d=(t+y)/2,c=Math.sqrt(d**2-(t*y-A**2));n[0]=Math.sqrt(d+c||1),n[1]=Math.sqrt(d-c||1)}static normalizeRect(r){const n=r.slice(0);return r[0]>r[2]&&(n[0]=r[2],n[2]=r[0]),r[1]>r[3]&&(n[1]=r[3],n[3]=r[1]),n}static intersect(r,n){const i=Math.max(Math.min(r[0],r[2]),Math.min(n[0],n[2])),p=Math.min(Math.max(r[0],r[2]),Math.max(n[0],n[2]));if(i>p)return null;const b=Math.max(Math.min(r[1],r[3]),Math.min(n[1],n[3])),M=Math.min(Math.max(r[1],r[3]),Math.max(n[1],n[3]));return b>M?null:[i,b,p,M]}static pointBoundingBox(r,n,i){i[0]=Math.min(i[0],r),i[1]=Math.min(i[1],n),i[2]=Math.max(i[2],r),i[3]=Math.max(i[3],n)}static rectBoundingBox(r,n,i,p,b){b[0]=Math.min(b[0],r,i),b[1]=Math.min(b[1],n,p),b[2]=Math.max(b[2],r,i),b[3]=Math.max(b[3],n,p)}static bezierBoundingBox(r,n,i,p,b,M,t,A,y){y[0]=Math.min(y[0],r,t),y[1]=Math.min(y[1],n,A),y[2]=Math.max(y[2],r,t),y[3]=Math.max(y[3],n,A),pe(this,tl,tw).call(this,r,i,b,t,n,p,M,A,3*(-r+3*(i-b)+t),6*(r-2*i+b),3*(i-r),y),pe(this,tl,tw).call(this,r,i,b,t,n,p,M,A,3*(-n+3*(p-M)+A),6*(n-2*p+M),3*(p-n),y)}}tl=new WeakSet,Gv=function(r,n,i,p,b,M,t,A,y,d){if(y<=0||y>=1)return;const c=1-y,u=y*y,x=u*y,j=c*(c*(c*r+3*y*n)+3*u*i)+x*p,o=c*(c*(c*b+3*y*M)+3*u*t)+x*A;d[0]=Math.min(d[0],j),d[1]=Math.min(d[1],o),d[2]=Math.max(d[2],j),d[3]=Math.max(d[3],o)},tw=function(r,n,i,p,b,M,t,A,y,d,c,u){if(Math.abs(y)<1e-12){Math.abs(d)>=1e-12&&pe(this,tl,Gv).call(this,r,n,i,p,b,M,t,A,-c/d,u);return}const x=d**2-4*c*y;if(x<0)return;const j=Math.sqrt(x),o=2*y;pe(this,tl,Gv).call(this,r,n,i,p,b,M,t,A,(-d+j)/o,u),pe(this,tl,Gv).call(this,r,n,i,p,b,M,t,A,(-d-j)/o,u)},ce(Ut,tl);function A5(T){return decodeURIComponent(escape(T))}let T_=null,NE=null;function wT(T){return T_||(T_=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,NE=new Map([["ﬅ","ſt"]])),T.replaceAll(T_,(r,n,i)=>n?n.normalize("NFKC"):NE.get(i))}function Lx(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const T=new Uint8Array(32);return crypto.getRandomValues(T),_T(T)}const Dx="pdfjs_internal_id_";function T5(T,r,n){if(!Array.isArray(n)||n.length<2)return!1;const[i,p,...b]=n;if(!T(i)&&!Number.isInteger(i)||!r(p))return!1;const M=b.length;let t=!0;switch(p.name){case"XYZ":if(M<2||M>3)return!1;break;case"Fit":case"FitB":return M===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(M>1)return!1;break;case"FitR":if(M!==4)return!1;t=!1;break;default:return!1}for(const A of b)if(!(typeof A=="number"||t&&A===null))return!1;return!0}function Ss(T,r,n){return Math.min(Math.max(T,r),n)}function xT(T){return Uint8Array.prototype.toBase64?T.toBase64():btoa(_T(T))}function M5(T){return Uint8Array.fromBase64?Uint8Array.fromBase64(T):Qg(atob(T))}typeof Promise.try!="function"&&(Promise.try=function(T,...r){return new Promise(n=>{n(T(...r))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(T){return T.reduce((r,n)=>r+n,0)});const bo="http://www.w3.org/2000/svg",ac=class ac{};yt(ac,"CSS",96),yt(ac,"PDF",72),yt(ac,"PDF_TO_CSS_UNITS",ac.CSS/ac.PDF);let ol=ac;async function If(T,r="text"){if(Bp(T,document.baseURI)){const n=await fetch(T);if(!n.ok)throw new Error(n.statusText);switch(r){case"arraybuffer":return n.arrayBuffer();case"blob":return n.blob();case"json":return n.json()}return n.text()}return new Promise((n,i)=>{const p=new XMLHttpRequest;p.open("GET",T,!0),p.responseType=r,p.onreadystatechange=()=>{if(p.readyState===XMLHttpRequest.DONE){if(p.status===200||p.status===0){switch(r){case"arraybuffer":case"blob":case"json":n(p.response);return}n(p.responseText);return}i(new Error(p.statusText))}},p.send(null)})}class Jg{constructor({viewBox:r,userUnit:n,scale:i,rotation:p,offsetX:b=0,offsetY:M=0,dontFlip:t=!1}){this.viewBox=r,this.userUnit=n,this.scale=i,this.rotation=p,this.offsetX=b,this.offsetY=M,i*=n;const A=(r[2]+r[0])/2,y=(r[3]+r[1])/2;let d,c,u,x;switch(p%=360,p<0&&(p+=360),p){case 180:d=-1,c=0,u=0,x=1;break;case 90:d=0,c=1,u=1,x=0;break;case 270:d=0,c=-1,u=-1,x=0;break;case 0:d=1,c=0,u=0,x=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}t&&(u=-u,x=-x);let j,o,h,f;d===0?(j=Math.abs(y-r[1])*i+b,o=Math.abs(A-r[0])*i+M,h=(r[3]-r[1])*i,f=(r[2]-r[0])*i):(j=Math.abs(A-r[0])*i+b,o=Math.abs(y-r[1])*i+M,h=(r[2]-r[0])*i,f=(r[3]-r[1])*i),this.transform=[d*i,c*i,u*i,x*i,j-d*i*A-u*i*y,o-c*i*A-x*i*y],this.width=h,this.height=f}get rawDims(){const r=this.viewBox;return dr(this,"rawDims",{pageWidth:r[2]-r[0],pageHeight:r[3]-r[1],pageX:r[0],pageY:r[1]})}clone({scale:r=this.scale,rotation:n=this.rotation,offsetX:i=this.offsetX,offsetY:p=this.offsetY,dontFlip:b=!1}={}){return new Jg({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:r,rotation:n,offsetX:i,offsetY:p,dontFlip:b})}convertToViewportPoint(r,n){const i=[r,n];return Ut.applyTransform(i,this.transform),i}convertToViewportRectangle(r){const n=[r[0],r[1]];Ut.applyTransform(n,this.transform);const i=[r[2],r[3]];return Ut.applyTransform(i,this.transform),[n[0],n[1],i[0],i[1]]}convertToPdfPoint(r,n){const i=[r,n];return Ut.applyInverseTransform(i,this.transform),i}}class ab extends wd{constructor(r,n=0){super(r,"RenderingCancelledException"),this.extraDelay=n}}function ey(T){const r=T.length;let n=0;for(;n<r&&T[n].trim()==="";)n++;return T.substring(n,n+5).toLowerCase()==="data:"}function ob(T){return typeof T=="string"&&/\.pdf$/i.test(T)}function ST(T){return[T]=T.split(/[#?]/,1),T.substring(T.lastIndexOf("/")+1)}function jT(T,r="document.pdf"){if(typeof T!="string")return r;if(ey(T))return Zt('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),r;const i=(t=>{try{return new URL(t)}catch{try{return new URL(decodeURIComponent(t))}catch{try{return new URL(t,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(t),"https://foo.bar")}catch{return null}}}}})(T);if(!i)return r;const p=t=>{try{let A=decodeURIComponent(t);return A.includes("/")?(A=A.split("/").at(-1),A.test(/^\.pdf$/i)?A:t):A}catch{return t}},b=/\.pdf$/i,M=i.pathname.split("/").at(-1);if(b.test(M))return p(M);if(i.searchParams.size>0){const t=Array.from(i.searchParams.values()).reverse();for(const y of t)if(b.test(y))return p(y);const A=Array.from(i.searchParams.keys()).reverse();for(const y of A)if(b.test(y))return p(y)}if(i.hash){const A=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(i.hash);if(A)return p(A[0])}return r}class IE{constructor(){yt(this,"started",Object.create(null));yt(this,"times",[])}time(r){r in this.started&&Zt(`Timer is already running for ${r}`),this.started[r]=Date.now()}timeEnd(r){r in this.started||Zt(`Timer has not been started for ${r}`),this.times.push({name:r,start:this.started[r],end:Date.now()}),delete this.started[r]}toString(){const r=[];let n=0;for(const{name:i}of this.times)n=Math.max(i.length,n);for(const{name:i,start:p,end:b}of this.times)r.push(`${i.padEnd(n)} ${b-p}ms
`);return r.join("")}}function Bp(T,r){const n=r?URL.parse(T,r):URL.parse(T);return(n==null?void 0:n.protocol)==="http:"||(n==null?void 0:n.protocol)==="https:"}function zi(T){T.preventDefault()}function Mn(T){T.preventDefault(),T.stopPropagation()}function C5(T){console.log("Deprecated API usage: "+T)}var vm;class lb{static toDateObject(r){if(!r||typeof r!="string")return null;R(this,vm)||ne(this,vm,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const n=R(this,vm).exec(r);if(!n)return null;const i=parseInt(n[1],10);let p=parseInt(n[2],10);p=p>=1&&p<=12?p-1:0;let b=parseInt(n[3],10);b=b>=1&&b<=31?b:1;let M=parseInt(n[4],10);M=M>=0&&M<=23?M:0;let t=parseInt(n[5],10);t=t>=0&&t<=59?t:0;let A=parseInt(n[6],10);A=A>=0&&A<=59?A:0;const y=n[7]||"Z";let d=parseInt(n[8],10);d=d>=0&&d<=23?d:0;let c=parseInt(n[9],10)||0;return c=c>=0&&c<=59?c:0,y==="-"?(M+=d,t+=c):y==="+"&&(M-=d,t-=c),new Date(Date.UTC(i,p,b,M,t,A))}}vm=new WeakMap,ce(lb,vm);function ET(T,{scale:r=1,rotation:n=0}){const{width:i,height:p}=T.attributes.style,b=[0,0,parseInt(i),parseInt(p)];return new Jg({viewBox:b,userUnit:1,scale:r,rotation:n})}function Px(T){if(T.startsWith("#")){const r=parseInt(T.slice(1),16);return[(r&16711680)>>16,(r&65280)>>8,r&255]}return T.startsWith("rgb(")?T.slice(4,-1).split(",").map(r=>parseInt(r)):T.startsWith("rgba(")?T.slice(5,-1).split(",").map(r=>parseInt(r)).slice(0,3):(Zt(`Not a valid color format: "${T}"`),[0,0,0])}function R5(T){const r=document.createElement("span");r.style.visibility="hidden",r.style.colorScheme="only light",document.body.append(r);for(const n of T.keys()){r.style.color=n;const i=window.getComputedStyle(r).color;T.set(n,Px(i))}r.remove()}function pn(T){const{a:r,b:n,c:i,d:p,e:b,f:M}=T.getTransform();return[r,n,i,p,b,M]}function Sa(T){const{a:r,b:n,c:i,d:p,e:b,f:M}=T.getTransform().invertSelf();return[r,n,i,p,b,M]}function Eu(T,r,n=!1,i=!0){if(r instanceof Jg){const{pageWidth:p,pageHeight:b}=r.rawDims,{style:M}=T,t=ns.isCSSRoundSupported,A=`var(--total-scale-factor) * ${p}px`,y=`var(--total-scale-factor) * ${b}px`,d=t?`round(down, ${A}, var(--scale-round-x))`:`calc(${A})`,c=t?`round(down, ${y}, var(--scale-round-y))`:`calc(${y})`;!n||r.rotation%180===0?(M.width=d,M.height=c):(M.width=c,M.height=d)}i&&T.setAttribute("data-main-rotation",r.rotation)}class ca{constructor(){const{pixelRatio:r}=ca;this.sx=r,this.sy=r}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(r,n,i,p,b=-1){let M=1/0,t=1/0,A=1/0;i=ca.capPixels(i,b),i>0&&(M=Math.sqrt(i/(r*n))),p!==-1&&(t=p/r,A=p/n);const y=Math.min(M,t,A);return this.sx>y||this.sy>y?(this.sx=y,this.sy=y,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(r,n){if(n>=0){const i=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+n/100));return r>0?Math.min(r,i):i}return r}}const x0=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];var Ul,uc,Oi,Bl,bm,jh,_m,C0,AT,Ns,TT,MT,Gp,zv;const xo=class xo{constructor(r){ce(this,Ns);ce(this,Ul,null);ce(this,uc,null);ce(this,Oi);ce(this,Bl,null);ce(this,bm,null);ce(this,jh,null);ne(this,Oi,r),R(xo,_m)||ne(xo,_m,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"}))}render(){const r=ne(this,Ul,document.createElement("div"));r.classList.add("editToolbar","hidden"),r.setAttribute("role","toolbar");const n=R(this,Oi)._uiManager._signal;r.addEventListener("contextmenu",zi,{signal:n}),r.addEventListener("pointerdown",pe(xo,C0,AT),{signal:n});const i=ne(this,Bl,document.createElement("div"));i.className="buttons",r.append(i);const p=R(this,Oi).toolbarPosition;if(p){const{style:b}=r,M=R(this,Oi)._uiManager.direction==="ltr"?1-p[0]:p[0];b.insetInlineEnd=`${100*M}%`,b.top=`calc(${100*p[1]}% + var(--editor-toolbar-vert-offset))`}return r}get div(){return R(this,Ul)}hide(){var r;R(this,Ul).classList.add("hidden"),(r=R(this,uc))==null||r.hideDropdown()}show(){var r;R(this,Ul).classList.remove("hidden"),(r=R(this,bm))==null||r.shown()}addDeleteButton(){const{editorType:r,_uiManager:n}=R(this,Oi),i=document.createElement("button");i.className="delete",i.tabIndex=0,i.setAttribute("data-l10n-id",R(xo,_m)[r]),pe(this,Ns,Gp).call(this,i),i.addEventListener("click",p=>{n.delete()},{signal:n._signal}),R(this,Bl).append(i)}async addAltText(r){const n=await r.render();pe(this,Ns,Gp).call(this,n),R(this,Bl).append(n,R(this,Ns,zv)),ne(this,bm,r)}addColorPicker(r){ne(this,uc,r);const n=r.renderButton();pe(this,Ns,Gp).call(this,n),R(this,Bl).append(n,R(this,Ns,zv))}async addEditSignatureButton(r){const n=ne(this,jh,await r.renderEditButton(R(this,Oi)));pe(this,Ns,Gp).call(this,n),R(this,Bl).append(n,R(this,Ns,zv))}async addButton(r,n){switch(r){case"colorPicker":this.addColorPicker(n);break;case"altText":await this.addAltText(n);break;case"editSignature":await this.addEditSignatureButton(n);break;case"delete":this.addDeleteButton();break}}updateEditSignatureButton(r){R(this,jh)&&(R(this,jh).title=r)}remove(){var r;R(this,Ul).remove(),(r=R(this,uc))==null||r.destroy(),ne(this,uc,null)}};Ul=new WeakMap,uc=new WeakMap,Oi=new WeakMap,Bl=new WeakMap,bm=new WeakMap,jh=new WeakMap,_m=new WeakMap,C0=new WeakSet,AT=function(r){r.stopPropagation()},Ns=new WeakSet,TT=function(r){R(this,Oi)._focusEventsAllowed=!1,Mn(r)},MT=function(r){R(this,Oi)._focusEventsAllowed=!0,Mn(r)},Gp=function(r){const n=R(this,Oi)._uiManager._signal;r.addEventListener("focusin",pe(this,Ns,TT).bind(this),{capture:!0,signal:n}),r.addEventListener("focusout",pe(this,Ns,MT).bind(this),{capture:!0,signal:n}),r.addEventListener("contextmenu",zi,{signal:n})},zv=function(){const r=document.createElement("div");return r.className="divider",r},ce(xo,C0),ce(xo,_m,null);let rw=xo;var wm,cc,dc,Tu,CT,RT,kT;class k5{constructor(r){ce(this,Tu);ce(this,wm,null);ce(this,cc,null);ce(this,dc);ne(this,dc,r)}show(r,n,i){const[p,b]=pe(this,Tu,RT).call(this,n,i),{style:M}=R(this,cc)||ne(this,cc,pe(this,Tu,CT).call(this));r.append(R(this,cc)),M.insetInlineEnd=`${100*p}%`,M.top=`calc(${100*b}% + var(--editor-toolbar-vert-offset))`}hide(){R(this,cc).remove()}}wm=new WeakMap,cc=new WeakMap,dc=new WeakMap,Tu=new WeakSet,CT=function(){const r=ne(this,cc,document.createElement("div"));r.className="editToolbar",r.setAttribute("role","toolbar"),r.addEventListener("contextmenu",zi,{signal:R(this,dc)._signal});const n=ne(this,wm,document.createElement("div"));return n.className="buttons",r.append(n),pe(this,Tu,kT).call(this),r},RT=function(r,n){let i=0,p=0;for(const b of r){const M=b.y+b.height;if(M<i)continue;const t=b.x+(n?b.width:0);if(M>i){p=t,i=M;continue}n?t>p&&(p=t):t<p&&(p=t)}return[n?1-p:p,i]},kT=function(){const r=document.createElement("button");r.className="highlightButton",r.tabIndex=0,r.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const n=document.createElement("span");r.append(n),n.className="visuallyHidden",n.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const i=R(this,dc)._signal;r.addEventListener("contextmenu",zi,{signal:i}),r.addEventListener("click",()=>{R(this,dc).highlightSelection("floating_button")},{signal:i}),R(this,wm).append(r)};function OT(T,r,n){for(const i of n)r.addEventListener(i,T[i].bind(T))}var R0;class O5{constructor(){ce(this,R0,0)}get id(){return`${yT}${Cs(this,R0)._++}`}}R0=new WeakMap;var Eh,xm,_s,Ah,Hv;const Xx=class Xx{constructor(){ce(this,Ah);ce(this,Eh,Lx());ce(this,xm,0);ce(this,_s,null)}static get _isSVGFittingCanvas(){const r='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',i=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),p=new Image;p.src=r;const b=p.decode().then(()=>(i.drawImage(p,0,0,1,1,0,0,1,3),new Uint32Array(i.getImageData(0,0,1,1).data.buffer)[0]===0));return dr(this,"_isSVGFittingCanvas",b)}async getFromFile(r){const{lastModified:n,name:i,size:p,type:b}=r;return pe(this,Ah,Hv).call(this,`${n}_${i}_${p}_${b}`,r)}async getFromUrl(r){return pe(this,Ah,Hv).call(this,r,r)}async getFromBlob(r,n){const i=await n;return pe(this,Ah,Hv).call(this,r,i)}async getFromId(r){R(this,_s)||ne(this,_s,new Map);const n=R(this,_s).get(r);if(!n)return null;if(n.bitmap)return n.refCounter+=1,n;if(n.file)return this.getFromFile(n.file);if(n.blobPromise){const{blobPromise:i}=n;return delete n.blobPromise,this.getFromBlob(n.id,i)}return this.getFromUrl(n.url)}getFromCanvas(r,n){R(this,_s)||ne(this,_s,new Map);let i=R(this,_s).get(r);if(i!=null&&i.bitmap)return i.refCounter+=1,i;const p=new OffscreenCanvas(n.width,n.height);return p.getContext("2d").drawImage(n,0,0),i={bitmap:p.transferToImageBitmap(),id:`image_${R(this,Eh)}_${Cs(this,xm)._++}`,refCounter:1,isSvg:!1},R(this,_s).set(r,i),R(this,_s).set(i.id,i),i}getSvgUrl(r){const n=R(this,_s).get(r);return n!=null&&n.isSvg?n.svgUrl:null}deleteId(r){var p;R(this,_s)||ne(this,_s,new Map);const n=R(this,_s).get(r);if(!n||(n.refCounter-=1,n.refCounter!==0))return;const{bitmap:i}=n;if(!n.url&&!n.file){const b=new OffscreenCanvas(i.width,i.height);b.getContext("bitmaprenderer").transferFromImageBitmap(i),n.blobPromise=b.convertToBlob()}(p=i.close)==null||p.call(i),n.bitmap=null}isValidId(r){return r.startsWith(`image_${R(this,Eh)}_`)}};Eh=new WeakMap,xm=new WeakMap,_s=new WeakMap,Ah=new WeakSet,Hv=async function(r,n){R(this,_s)||ne(this,_s,new Map);let i=R(this,_s).get(r);if(i===null)return null;if(i!=null&&i.bitmap)return i.refCounter+=1,i;try{i||(i={bitmap:null,id:`image_${R(this,Eh)}_${Cs(this,xm)._++}`,refCounter:0,isSvg:!1});let p;if(typeof n=="string"?(i.url=n,p=await If(n,"blob")):n instanceof File?p=i.file=n:n instanceof Blob&&(p=n),p.type==="image/svg+xml"){const b=Xx._isSVGFittingCanvas,M=new FileReader,t=new Image,A=new Promise((y,d)=>{t.onload=()=>{i.bitmap=t,i.isSvg=!0,y()},M.onload=async()=>{const c=i.svgUrl=M.result;t.src=await b?`${c}#svgView(preserveAspectRatio(none))`:c},t.onerror=M.onerror=d});M.readAsDataURL(p),await A}else i.bitmap=await createImageBitmap(p);i.refCounter=1}catch(p){Zt(p),i=null}return R(this,_s).set(r,i),i&&R(this,_s).set(i.id,i),i};let nw=Xx;var An,Gl,Sm,fn;class L5{constructor(r=128){ce(this,An,[]);ce(this,Gl,!1);ce(this,Sm);ce(this,fn,-1);ne(this,Sm,r)}add({cmd:r,undo:n,post:i,mustExec:p,type:b=NaN,overwriteIfSameType:M=!1,keepUndo:t=!1}){if(p&&r(),R(this,Gl))return;const A={cmd:r,undo:n,post:i,type:b};if(R(this,fn)===-1){R(this,An).length>0&&(R(this,An).length=0),ne(this,fn,0),R(this,An).push(A);return}if(M&&R(this,An)[R(this,fn)].type===b){t&&(A.undo=R(this,An)[R(this,fn)].undo),R(this,An)[R(this,fn)]=A;return}const y=R(this,fn)+1;y===R(this,Sm)?R(this,An).splice(0,1):(ne(this,fn,y),y<R(this,An).length&&R(this,An).splice(y)),R(this,An).push(A)}undo(){if(R(this,fn)===-1)return;ne(this,Gl,!0);const{undo:r,post:n}=R(this,An)[R(this,fn)];r(),n==null||n(),ne(this,Gl,!1),ne(this,fn,R(this,fn)-1)}redo(){if(R(this,fn)<R(this,An).length-1){ne(this,fn,R(this,fn)+1),ne(this,Gl,!0);const{cmd:r,post:n}=R(this,An)[R(this,fn)];r(),n==null||n(),ne(this,Gl,!1)}}hasSomethingToUndo(){return R(this,fn)!==-1}hasSomethingToRedo(){return R(this,fn)<R(this,An).length-1}cleanType(r){if(R(this,fn)!==-1){for(let n=R(this,fn);n>=0;n--)if(R(this,An)[n].type!==r){R(this,An).splice(n+1,R(this,fn)-n),ne(this,fn,n);return}R(this,An).length=0,ne(this,fn,-1)}}destroy(){ne(this,An,null)}}An=new WeakMap,Gl=new WeakMap,Sm=new WeakMap,fn=new WeakMap;var k0,LT;class ty{constructor(r){ce(this,k0);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:n}=ns.platform;for(const[i,p,b={}]of r)for(const M of i){const t=M.startsWith("mac+");n&&t?(this.callbacks.set(M.slice(4),{callback:p,options:b}),this.allKeys.add(M.split("+").at(-1))):!n&&!t&&(this.callbacks.set(M,{callback:p,options:b}),this.allKeys.add(M.split("+").at(-1)))}}exec(r,n){if(!this.allKeys.has(n.key))return;const i=this.callbacks.get(pe(this,k0,LT).call(this,n));if(!i)return;const{callback:p,options:{bubbles:b=!1,args:M=[],checker:t=null}}=i;t&&!t(r,n)||(p.bind(r,...M,n)(),b||Mn(n))}}k0=new WeakSet,LT=function(r){r.altKey&&this.buffer.push("alt"),r.ctrlKey&&this.buffer.push("ctrl"),r.metaKey&&this.buffer.push("meta"),r.shiftKey&&this.buffer.push("shift"),this.buffer.push(r.key);const n=this.buffer.join("+");return this.buffer.length=0,n};const O0=class O0{get _colors(){const r=new Map([["CanvasText",null],["Canvas",null]]);return R5(r),dr(this,"_colors",r)}convert(r){const n=Px(r);if(!window.matchMedia("(forced-colors: active)").matches)return n;for(const[i,p]of this._colors)if(p.every((b,M)=>b===n[M]))return O0._colorsMapping.get(i);return n}getHexCode(r){const n=this._colors.get(r);return n?Ut.makeHexColor(...n):r}};yt(O0,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let sw=O0;var Th,ti,Vn,ls,Mh,jo,Ch,Li,zl,Hl,Rh,hc,Aa,Ki,fc,jm,Em,kh,Am,Ta,Vl,Oh,ql,Ma,L0,Wl,Tm,Xl,pc,mc,Yl,Mm,Zn,Pr,Eo,$l,gc,Cm,Rm,Zl,Ca,Ao,km,Om,Di,At,Vv,iw,DT,PT,qv,NT,IT,FT,aw,UT,ow,lw,BT,Rs,_o,GT,zT,uw,HT,zp,cw;const vh=class vh{constructor(r,n,i,p,b,M,t,A,y,d,c,u,x,j,o){ce(this,At);ce(this,Th,new AbortController);ce(this,ti,null);ce(this,Vn,new Map);ce(this,ls,new Map);ce(this,Mh,null);ce(this,jo,null);ce(this,Ch,null);ce(this,Li,new L5);ce(this,zl,null);ce(this,Hl,null);ce(this,Rh,0);ce(this,hc,new Set);ce(this,Aa,null);ce(this,Ki,null);ce(this,fc,new Set);yt(this,"_editorUndoBar",null);ce(this,jm,!1);ce(this,Em,!1);ce(this,kh,!1);ce(this,Am,null);ce(this,Ta,null);ce(this,Vl,null);ce(this,Oh,null);ce(this,ql,!1);ce(this,Ma,null);ce(this,L0,new O5);ce(this,Wl,!1);ce(this,Tm,!1);ce(this,Xl,null);ce(this,pc,null);ce(this,mc,null);ce(this,Yl,null);ce(this,Mm,null);ce(this,Zn,Xt.NONE);ce(this,Pr,new Set);ce(this,Eo,null);ce(this,$l,null);ce(this,gc,null);ce(this,Cm,null);ce(this,Rm,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});ce(this,Zl,[0,0]);ce(this,Ca,null);ce(this,Ao,null);ce(this,km,null);ce(this,Om,null);ce(this,Di,null);const h=this._signal=R(this,Th).signal;ne(this,Ao,r),ne(this,km,n),ne(this,Om,i),ne(this,Mh,p),ne(this,$l,b),this._eventBus=M,M._on("editingaction",this.onEditingAction.bind(this),{signal:h}),M._on("pagechanging",this.onPageChanging.bind(this),{signal:h}),M._on("scalechanging",this.onScaleChanging.bind(this),{signal:h}),M._on("rotationchanging",this.onRotationChanging.bind(this),{signal:h}),M._on("setpreference",this.onSetPreference.bind(this),{signal:h}),M._on("switchannotationeditorparams",f=>this.updateParams(f.type,f.value),{signal:h}),pe(this,At,NT).call(this),pe(this,At,BT).call(this),pe(this,At,aw).call(this),ne(this,jo,t.annotationStorage),ne(this,Am,t.filterFactory),ne(this,gc,A),ne(this,Oh,y||null),ne(this,jm,d),ne(this,Em,c),ne(this,kh,u),ne(this,Mm,x||null),this.viewParameters={realScale:ol.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=j||null,this._supportsPinchToZoom=o!==!1}static get _keyboardManager(){const r=vh.prototype,n=M=>R(M,Ao).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&M.hasSomethingToControl(),i=(M,{target:t})=>{if(t instanceof HTMLInputElement){const{type:A}=t;return A!=="text"&&A!=="number"}return!0},p=this.TRANSLATE_SMALL,b=this.TRANSLATE_BIG;return dr(this,"_keyboardManager",new ty([[["ctrl+a","mac+meta+a"],r.selectAll,{checker:i}],[["ctrl+z","mac+meta+z"],r.undo,{checker:i}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],r.redo,{checker:i}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],r.delete,{checker:i}],[["Enter","mac+Enter"],r.addNewEditorFromKeyboard,{checker:(M,{target:t})=>!(t instanceof HTMLButtonElement)&&R(M,Ao).contains(t)&&!M.isEnterHandled}],[[" ","mac+ "],r.addNewEditorFromKeyboard,{checker:(M,{target:t})=>!(t instanceof HTMLButtonElement)&&R(M,Ao).contains(document.activeElement)}],[["Escape","mac+Escape"],r.unselectAll],[["ArrowLeft","mac+ArrowLeft"],r.translateSelectedEditors,{args:[-p,0],checker:n}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],r.translateSelectedEditors,{args:[-b,0],checker:n}],[["ArrowRight","mac+ArrowRight"],r.translateSelectedEditors,{args:[p,0],checker:n}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],r.translateSelectedEditors,{args:[b,0],checker:n}],[["ArrowUp","mac+ArrowUp"],r.translateSelectedEditors,{args:[0,-p],checker:n}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],r.translateSelectedEditors,{args:[0,-b],checker:n}],[["ArrowDown","mac+ArrowDown"],r.translateSelectedEditors,{args:[0,p],checker:n}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],r.translateSelectedEditors,{args:[0,b],checker:n}]]))}destroy(){var r,n,i,p,b,M,t,A;(r=R(this,Di))==null||r.resolve(),ne(this,Di,null),(n=R(this,Th))==null||n.abort(),ne(this,Th,null),this._signal=null;for(const y of R(this,ls).values())y.destroy();R(this,ls).clear(),R(this,Vn).clear(),R(this,fc).clear(),(i=R(this,Yl))==null||i.clear(),ne(this,ti,null),R(this,Pr).clear(),R(this,Li).destroy(),(p=R(this,Mh))==null||p.destroy(),(b=R(this,$l))==null||b.destroy(),(M=R(this,Ma))==null||M.hide(),ne(this,Ma,null),(t=R(this,mc))==null||t.destroy(),ne(this,mc,null),R(this,Ta)&&(clearTimeout(R(this,Ta)),ne(this,Ta,null)),R(this,Ca)&&(clearTimeout(R(this,Ca)),ne(this,Ca,null)),(A=this._editorUndoBar)==null||A.destroy()}combinedSignal(r){return AbortSignal.any([this._signal,r.signal])}get mlManager(){return R(this,Mm)}get useNewAltTextFlow(){return R(this,Em)}get useNewAltTextWhenAddingImage(){return R(this,kh)}get hcmFilter(){return dr(this,"hcmFilter",R(this,gc)?R(this,Am).addHCMFilter(R(this,gc).foreground,R(this,gc).background):"none")}get direction(){return dr(this,"direction",getComputedStyle(R(this,Ao)).direction)}get highlightColors(){return dr(this,"highlightColors",R(this,Oh)?new Map(R(this,Oh).split(",").map(r=>(r=r.split("=").map(n=>n.trim()),r[1]=r[1].toUpperCase(),r))):null)}get highlightColorNames(){return dr(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,r=>r.reverse())):null)}setCurrentDrawingSession(r){r?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),ne(this,Hl,r)}setMainHighlightColorPicker(r){ne(this,mc,r)}editAltText(r,n=!1){var i;(i=R(this,Mh))==null||i.editAltText(this,r,n)}getSignature(r){var n;(n=R(this,$l))==null||n.getSignature({uiManager:this,editor:r})}get signatureManager(){return R(this,$l)}switchToMode(r,n){this._eventBus.on("annotationeditormodechanged",n,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:r})}setPreference(r,n){this._eventBus.dispatch("setpreference",{source:this,name:r,value:n})}onSetPreference({name:r,value:n}){switch(r){case"enableNewAltTextWhenAddingImage":ne(this,kh,n);break}}onPageChanging({pageNumber:r}){ne(this,Rh,r-1)}focusMainContainer(){R(this,Ao).focus()}findParent(r,n){for(const i of R(this,ls).values()){const{x:p,y:b,width:M,height:t}=i.div.getBoundingClientRect();if(r>=p&&r<=p+M&&n>=b&&n<=b+t)return i}return null}disableUserSelect(r=!1){R(this,km).classList.toggle("noUserSelect",r)}addShouldRescale(r){R(this,fc).add(r)}removeShouldRescale(r){R(this,fc).delete(r)}onScaleChanging({scale:r}){var n;this.commitOrRemove(),this.viewParameters.realScale=r*ol.PDF_TO_CSS_UNITS;for(const i of R(this,fc))i.onScaleChanging();(n=R(this,Hl))==null||n.onScaleChanging()}onRotationChanging({pagesRotation:r}){this.commitOrRemove(),this.viewParameters.rotation=r}highlightSelection(r=""){const n=document.getSelection();if(!n||n.isCollapsed)return;const{anchorNode:i,anchorOffset:p,focusNode:b,focusOffset:M}=n,t=n.toString(),y=pe(this,At,Vv).call(this,n).closest(".textLayer"),d=this.getSelectionBoxes(y);if(!d)return;n.empty();const c=pe(this,At,iw).call(this,y),u=R(this,Zn)===Xt.NONE,x=()=>{c==null||c.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:r,boxes:d,anchorNode:i,anchorOffset:p,focusNode:b,focusOffset:M,text:t}),u&&this.showAllEditors("highlight",!0,!0)};if(u){this.switchToMode(Xt.HIGHLIGHT,x);return}x()}addToAnnotationStorage(r){!r.isEmpty()&&R(this,jo)&&!R(this,jo).has(r.id)&&R(this,jo).setValue(r.id,r)}a11yAlert(r,n=null){const i=R(this,Om);i&&(i.setAttribute("data-l10n-id",r),n?i.setAttribute("data-l10n-args",JSON.stringify(n)):i.removeAttribute("data-l10n-args"))}blur(){if(this.isShiftKeyDown=!1,R(this,ql)&&(ne(this,ql,!1),pe(this,At,qv).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:r}=document;for(const n of R(this,Pr))if(n.div.contains(r)){ne(this,pc,[n,r]),n._focusEventsAllowed=!1;break}}focus(){if(!R(this,pc))return;const[r,n]=R(this,pc);ne(this,pc,null),n.addEventListener("focusin",()=>{r._focusEventsAllowed=!0},{once:!0,signal:this._signal}),n.focus()}addEditListeners(){pe(this,At,aw).call(this),pe(this,At,ow).call(this)}removeEditListeners(){pe(this,At,UT).call(this),pe(this,At,lw).call(this)}dragOver(r){for(const{type:n}of r.dataTransfer.items)for(const i of R(this,Ki))if(i.isHandlingMimeForPasting(n)){r.dataTransfer.dropEffect="copy",r.preventDefault();return}}drop(r){for(const n of r.dataTransfer.items)for(const i of R(this,Ki))if(i.isHandlingMimeForPasting(n.type)){i.paste(n,this.currentLayer),r.preventDefault();return}}copy(r){var i;if(r.preventDefault(),(i=R(this,ti))==null||i.commitOrRemove(),!this.hasSelection)return;const n=[];for(const p of R(this,Pr)){const b=p.serialize(!0);b&&n.push(b)}n.length!==0&&r.clipboardData.setData("application/pdfjs",JSON.stringify(n))}cut(r){this.copy(r),this.delete()}async paste(r){r.preventDefault();const{clipboardData:n}=r;for(const b of n.items)for(const M of R(this,Ki))if(M.isHandlingMimeForPasting(b.type)){M.paste(b,this.currentLayer);return}let i=n.getData("application/pdfjs");if(!i)return;try{i=JSON.parse(i)}catch(b){Zt(`paste: "${b.message}".`);return}if(!Array.isArray(i))return;this.unselectAll();const p=this.currentLayer;try{const b=[];for(const A of i){const y=await p.deserialize(A);if(!y)return;b.push(y)}const M=()=>{for(const A of b)pe(this,At,uw).call(this,A);pe(this,At,cw).call(this,b)},t=()=>{for(const A of b)A.remove()};this.addCommands({cmd:M,undo:t,mustExec:!0})}catch(b){Zt(`paste: "${b.message}".`)}}keydown(r){!this.isShiftKeyDown&&r.key==="Shift"&&(this.isShiftKeyDown=!0),R(this,Zn)!==Xt.NONE&&!this.isEditorHandlingKeyboard&&vh._keyboardManager.exec(this,r)}keyup(r){this.isShiftKeyDown&&r.key==="Shift"&&(this.isShiftKeyDown=!1,R(this,ql)&&(ne(this,ql,!1),pe(this,At,qv).call(this,"main_toolbar")))}onEditingAction({name:r}){switch(r){case"undo":case"redo":case"delete":case"selectAll":this[r]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(r){r?(pe(this,At,IT).call(this),pe(this,At,ow).call(this),pe(this,At,Rs).call(this,{isEditing:R(this,Zn)!==Xt.NONE,isEmpty:pe(this,At,zp).call(this),hasSomethingToUndo:R(this,Li).hasSomethingToUndo(),hasSomethingToRedo:R(this,Li).hasSomethingToRedo(),hasSelectedEditor:!1})):(pe(this,At,FT).call(this),pe(this,At,lw).call(this),pe(this,At,Rs).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(r){if(!R(this,Ki)){ne(this,Ki,r);for(const n of R(this,Ki))pe(this,At,_o).call(this,n.defaultPropertiesToUpdate)}}getId(){return R(this,L0).id}get currentLayer(){return R(this,ls).get(R(this,Rh))}getLayer(r){return R(this,ls).get(r)}get currentPageIndex(){return R(this,Rh)}addLayer(r){R(this,ls).set(r.pageIndex,r),R(this,Wl)?r.enable():r.disable()}removeLayer(r){R(this,ls).delete(r.pageIndex)}async updateMode(r,n=null,i=!1,p=!1){var b,M,t;if(R(this,Zn)!==r&&!(R(this,Di)&&(await R(this,Di).promise,!R(this,Di)))){if(ne(this,Di,Promise.withResolvers()),(b=R(this,Hl))==null||b.commitOrRemove(),ne(this,Zn,r),r===Xt.NONE){this.setEditingState(!1),pe(this,At,zT).call(this),(M=this._editorUndoBar)==null||M.hide(),R(this,Di).resolve();return}r===Xt.SIGNATURE&&await((t=R(this,$l))==null?void 0:t.loadSignatures()),this.setEditingState(!0),await pe(this,At,GT).call(this),this.unselectAll();for(const A of R(this,ls).values())A.updateMode(r);if(!n){i&&this.addNewEditorFromKeyboard(),R(this,Di).resolve();return}for(const A of R(this,Vn).values())A.annotationElementId===n||A.id===n?(this.setSelected(A),p&&A.enterInEditMode()):A.unselect();R(this,Di).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(r){r.mode!==R(this,Zn)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...r})}updateParams(r,n){var i;if(R(this,Ki)){switch(r){case hr.CREATE:this.currentLayer.addNewEditor(n);return;case hr.HIGHLIGHT_DEFAULT_COLOR:(i=R(this,mc))==null||i.updateColor(n);break;case hr.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(R(this,Cm)||ne(this,Cm,new Map)).set(r,n),this.showAllEditors("highlight",n);break}for(const p of R(this,Pr))p.updateParams(r,n);for(const p of R(this,Ki))p.updateDefaultParams(r,n)}}showAllEditors(r,n,i=!1){var b;for(const M of R(this,Vn).values())M.editorType===r&&M.show(n);(((b=R(this,Cm))==null?void 0:b.get(hr.HIGHLIGHT_SHOW_ALL))??!0)!==n&&pe(this,At,_o).call(this,[[hr.HIGHLIGHT_SHOW_ALL,n]])}enableWaiting(r=!1){if(R(this,Tm)!==r){ne(this,Tm,r);for(const n of R(this,ls).values())r?n.disableClick():n.enableClick(),n.div.classList.toggle("waiting",r)}}getEditors(r){const n=[];for(const i of R(this,Vn).values())i.pageIndex===r&&n.push(i);return n}getEditor(r){return R(this,Vn).get(r)}addEditor(r){R(this,Vn).set(r.id,r)}removeEditor(r){var n,i;r.div.contains(document.activeElement)&&(R(this,Ta)&&clearTimeout(R(this,Ta)),ne(this,Ta,setTimeout(()=>{this.focusMainContainer(),ne(this,Ta,null)},0))),R(this,Vn).delete(r.id),r.annotationElementId&&((n=R(this,Yl))==null||n.delete(r.annotationElementId)),this.unselect(r),(!r.annotationElementId||!R(this,hc).has(r.annotationElementId))&&((i=R(this,jo))==null||i.remove(r.id))}addDeletedAnnotationElement(r){R(this,hc).add(r.annotationElementId),this.addChangedExistingAnnotation(r),r.deleted=!0}isDeletedAnnotationElement(r){return R(this,hc).has(r)}removeDeletedAnnotationElement(r){R(this,hc).delete(r.annotationElementId),this.removeChangedExistingAnnotation(r),r.deleted=!1}setActiveEditor(r){R(this,ti)!==r&&(ne(this,ti,r),r&&pe(this,At,_o).call(this,r.propertiesToUpdate))}updateUI(r){R(this,At,HT)===r&&pe(this,At,_o).call(this,r.propertiesToUpdate)}updateUIForDefaultProperties(r){pe(this,At,_o).call(this,r.defaultPropertiesToUpdate)}toggleSelected(r){if(R(this,Pr).has(r)){R(this,Pr).delete(r),r.unselect(),pe(this,At,Rs).call(this,{hasSelectedEditor:this.hasSelection});return}R(this,Pr).add(r),r.select(),pe(this,At,_o).call(this,r.propertiesToUpdate),pe(this,At,Rs).call(this,{hasSelectedEditor:!0})}setSelected(r){var n;this.updateToolbar({mode:r.mode,editId:r.id}),(n=R(this,Hl))==null||n.commitOrRemove();for(const i of R(this,Pr))i!==r&&i.unselect();R(this,Pr).clear(),R(this,Pr).add(r),r.select(),pe(this,At,_o).call(this,r.propertiesToUpdate),pe(this,At,Rs).call(this,{hasSelectedEditor:!0})}isSelected(r){return R(this,Pr).has(r)}get firstSelectedEditor(){return R(this,Pr).values().next().value}unselect(r){r.unselect(),R(this,Pr).delete(r),pe(this,At,Rs).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return R(this,Pr).size!==0}get isEnterHandled(){return R(this,Pr).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){var r;R(this,Li).undo(),pe(this,At,Rs).call(this,{hasSomethingToUndo:R(this,Li).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:pe(this,At,zp).call(this)}),(r=this._editorUndoBar)==null||r.hide()}redo(){R(this,Li).redo(),pe(this,At,Rs).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:R(this,Li).hasSomethingToRedo(),isEmpty:pe(this,At,zp).call(this)})}addCommands(r){R(this,Li).add(r),pe(this,At,Rs).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:pe(this,At,zp).call(this)})}cleanUndoStack(r){R(this,Li).cleanType(r)}delete(){var b;this.commitOrRemove();const r=(b=this.currentLayer)==null?void 0:b.endDrawingSession(!0);if(!this.hasSelection&&!r)return;const n=r?[r]:[...R(this,Pr)],i=()=>{var M;(M=this._editorUndoBar)==null||M.show(p,n.length===1?n[0].editorType:n.length);for(const t of n)t.remove()},p=()=>{for(const M of n)pe(this,At,uw).call(this,M)};this.addCommands({cmd:i,undo:p,mustExec:!0})}commitOrRemove(){var r;(r=R(this,ti))==null||r.commitOrRemove()}hasSomethingToControl(){return R(this,ti)||this.hasSelection}selectAll(){for(const r of R(this,Pr))r.commit();pe(this,At,cw).call(this,R(this,Vn).values())}unselectAll(){var r;if(!(R(this,ti)&&(R(this,ti).commitOrRemove(),R(this,Zn)!==Xt.NONE))&&!((r=R(this,Hl))!=null&&r.commitOrRemove())&&this.hasSelection){for(const n of R(this,Pr))n.unselect();R(this,Pr).clear(),pe(this,At,Rs).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(r,n,i=!1){if(i||this.commitOrRemove(),!this.hasSelection)return;R(this,Zl)[0]+=r,R(this,Zl)[1]+=n;const[p,b]=R(this,Zl),M=[...R(this,Pr)],t=1e3;R(this,Ca)&&clearTimeout(R(this,Ca)),ne(this,Ca,setTimeout(()=>{ne(this,Ca,null),R(this,Zl)[0]=R(this,Zl)[1]=0,this.addCommands({cmd:()=>{for(const A of M)R(this,Vn).has(A.id)&&(A.translateInPage(p,b),A.translationDone())},undo:()=>{for(const A of M)R(this,Vn).has(A.id)&&(A.translateInPage(-p,-b),A.translationDone())},mustExec:!1})},t));for(const A of M)A.translateInPage(r,n),A.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),ne(this,Aa,new Map);for(const r of R(this,Pr))R(this,Aa).set(r,{savedX:r.x,savedY:r.y,savedPageIndex:r.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!R(this,Aa))return!1;this.disableUserSelect(!1);const r=R(this,Aa);ne(this,Aa,null);let n=!1;for(const[{x:p,y:b,pageIndex:M},t]of r)t.newX=p,t.newY=b,t.newPageIndex=M,n||(n=p!==t.savedX||b!==t.savedY||M!==t.savedPageIndex);if(!n)return!1;const i=(p,b,M,t)=>{if(R(this,Vn).has(p.id)){const A=R(this,ls).get(t);A?p._setParentAndPosition(A,b,M):(p.pageIndex=t,p.x=b,p.y=M)}};return this.addCommands({cmd:()=>{for(const[p,{newX:b,newY:M,newPageIndex:t}]of r)i(p,b,M,t)},undo:()=>{for(const[p,{savedX:b,savedY:M,savedPageIndex:t}]of r)i(p,b,M,t)},mustExec:!0}),!0}dragSelectedEditors(r,n){if(R(this,Aa))for(const i of R(this,Aa).keys())i.drag(r,n)}rebuild(r){if(r.parent===null){const n=this.getLayer(r.pageIndex);n?(n.changeParent(r),n.addOrRebuild(r)):(this.addEditor(r),this.addToAnnotationStorage(r),r.rebuild())}else r.parent.addOrRebuild(r)}get isEditorHandlingKeyboard(){var r;return((r=this.getActive())==null?void 0:r.shouldGetKeyboardEvents())||R(this,Pr).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(r){return R(this,ti)===r}getActive(){return R(this,ti)}getMode(){return R(this,Zn)}get imageManager(){return dr(this,"imageManager",new nw)}getSelectionBoxes(r){if(!r)return null;const n=document.getSelection();for(let y=0,d=n.rangeCount;y<d;y++)if(!r.contains(n.getRangeAt(y).commonAncestorContainer))return null;const{x:i,y:p,width:b,height:M}=r.getBoundingClientRect();let t;switch(r.getAttribute("data-main-rotation")){case"90":t=(y,d,c,u)=>({x:(d-p)/M,y:1-(y+c-i)/b,width:u/M,height:c/b});break;case"180":t=(y,d,c,u)=>({x:1-(y+c-i)/b,y:1-(d+u-p)/M,width:c/b,height:u/M});break;case"270":t=(y,d,c,u)=>({x:1-(d+u-p)/M,y:(y-i)/b,width:u/M,height:c/b});break;default:t=(y,d,c,u)=>({x:(y-i)/b,y:(d-p)/M,width:c/b,height:u/M});break}const A=[];for(let y=0,d=n.rangeCount;y<d;y++){const c=n.getRangeAt(y);if(!c.collapsed)for(const{x:u,y:x,width:j,height:o}of c.getClientRects())j===0||o===0||A.push(t(u,x,j,o))}return A.length===0?null:A}addChangedExistingAnnotation({annotationElementId:r,id:n}){(R(this,Ch)||ne(this,Ch,new Map)).set(r,n)}removeChangedExistingAnnotation({annotationElementId:r}){var n;(n=R(this,Ch))==null||n.delete(r)}renderAnnotationElement(r){var p;const n=(p=R(this,Ch))==null?void 0:p.get(r.data.id);if(!n)return;const i=R(this,jo).getRawValue(n);i&&(R(this,Zn)===Xt.NONE&&!i.hasBeenModified||i.renderAnnotationElement(r))}setMissingCanvas(r,n,i){var b;const p=(b=R(this,Yl))==null?void 0:b.get(r);p&&(p.setCanvas(n,i),R(this,Yl).delete(r))}addMissingCanvas(r,n){(R(this,Yl)||ne(this,Yl,new Map)).set(r,n)}};Th=new WeakMap,ti=new WeakMap,Vn=new WeakMap,ls=new WeakMap,Mh=new WeakMap,jo=new WeakMap,Ch=new WeakMap,Li=new WeakMap,zl=new WeakMap,Hl=new WeakMap,Rh=new WeakMap,hc=new WeakMap,Aa=new WeakMap,Ki=new WeakMap,fc=new WeakMap,jm=new WeakMap,Em=new WeakMap,kh=new WeakMap,Am=new WeakMap,Ta=new WeakMap,Vl=new WeakMap,Oh=new WeakMap,ql=new WeakMap,Ma=new WeakMap,L0=new WeakMap,Wl=new WeakMap,Tm=new WeakMap,Xl=new WeakMap,pc=new WeakMap,mc=new WeakMap,Yl=new WeakMap,Mm=new WeakMap,Zn=new WeakMap,Pr=new WeakMap,Eo=new WeakMap,$l=new WeakMap,gc=new WeakMap,Cm=new WeakMap,Rm=new WeakMap,Zl=new WeakMap,Ca=new WeakMap,Ao=new WeakMap,km=new WeakMap,Om=new WeakMap,Di=new WeakMap,At=new WeakSet,Vv=function({anchorNode:r}){return r.nodeType===Node.TEXT_NODE?r.parentElement:r},iw=function(r){const{currentLayer:n}=this;if(n.hasTextLayer(r))return n;for(const i of R(this,ls).values())if(i.hasTextLayer(r))return i;return null},DT=function(){const r=document.getSelection();if(!r||r.isCollapsed)return;const i=pe(this,At,Vv).call(this,r).closest(".textLayer"),p=this.getSelectionBoxes(i);p&&(R(this,Ma)||ne(this,Ma,new k5(this)),R(this,Ma).show(i,p,this.direction==="ltr"))},PT=function(){var b,M,t;const r=document.getSelection();if(!r||r.isCollapsed){R(this,Eo)&&((b=R(this,Ma))==null||b.hide(),ne(this,Eo,null),pe(this,At,Rs).call(this,{hasSelectedText:!1}));return}const{anchorNode:n}=r;if(n===R(this,Eo))return;const p=pe(this,At,Vv).call(this,r).closest(".textLayer");if(!p){R(this,Eo)&&((M=R(this,Ma))==null||M.hide(),ne(this,Eo,null),pe(this,At,Rs).call(this,{hasSelectedText:!1}));return}if((t=R(this,Ma))==null||t.hide(),ne(this,Eo,n),pe(this,At,Rs).call(this,{hasSelectedText:!0}),!(R(this,Zn)!==Xt.HIGHLIGHT&&R(this,Zn)!==Xt.NONE)&&(R(this,Zn)===Xt.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),ne(this,ql,this.isShiftKeyDown),!this.isShiftKeyDown)){const A=R(this,Zn)===Xt.HIGHLIGHT?pe(this,At,iw).call(this,p):null;A==null||A.toggleDrawing();const y=new AbortController,d=this.combinedSignal(y),c=u=>{u.type==="pointerup"&&u.button!==0||(y.abort(),A==null||A.toggleDrawing(!0),u.type==="pointerup"&&pe(this,At,qv).call(this,"main_toolbar"))};window.addEventListener("pointerup",c,{signal:d}),window.addEventListener("blur",c,{signal:d})}},qv=function(r=""){R(this,Zn)===Xt.HIGHLIGHT?this.highlightSelection(r):R(this,jm)&&pe(this,At,DT).call(this)},NT=function(){document.addEventListener("selectionchange",pe(this,At,PT).bind(this),{signal:this._signal})},IT=function(){if(R(this,Vl))return;ne(this,Vl,new AbortController);const r=this.combinedSignal(R(this,Vl));window.addEventListener("focus",this.focus.bind(this),{signal:r}),window.addEventListener("blur",this.blur.bind(this),{signal:r})},FT=function(){var r;(r=R(this,Vl))==null||r.abort(),ne(this,Vl,null)},aw=function(){if(R(this,Xl))return;ne(this,Xl,new AbortController);const r=this.combinedSignal(R(this,Xl));window.addEventListener("keydown",this.keydown.bind(this),{signal:r}),window.addEventListener("keyup",this.keyup.bind(this),{signal:r})},UT=function(){var r;(r=R(this,Xl))==null||r.abort(),ne(this,Xl,null)},ow=function(){if(R(this,zl))return;ne(this,zl,new AbortController);const r=this.combinedSignal(R(this,zl));document.addEventListener("copy",this.copy.bind(this),{signal:r}),document.addEventListener("cut",this.cut.bind(this),{signal:r}),document.addEventListener("paste",this.paste.bind(this),{signal:r})},lw=function(){var r;(r=R(this,zl))==null||r.abort(),ne(this,zl,null)},BT=function(){const r=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:r}),document.addEventListener("drop",this.drop.bind(this),{signal:r})},Rs=function(r){Object.entries(r).some(([i,p])=>R(this,Rm)[i]!==p)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(R(this,Rm),r)}),R(this,Zn)===Xt.HIGHLIGHT&&r.hasSelectedEditor===!1&&pe(this,At,_o).call(this,[[hr.HIGHLIGHT_FREE,!0]]))},_o=function(r){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:r})},GT=async function(){if(!R(this,Wl)){ne(this,Wl,!0);const r=[];for(const n of R(this,ls).values())r.push(n.enable());await Promise.all(r);for(const n of R(this,Vn).values())n.enable()}},zT=function(){if(this.unselectAll(),R(this,Wl)){ne(this,Wl,!1);for(const r of R(this,ls).values())r.disable();for(const r of R(this,Vn).values())r.disable()}},uw=function(r){const n=R(this,ls).get(r.pageIndex);n?n.addOrRebuild(r):(this.addEditor(r),this.addToAnnotationStorage(r))},HT=function(){let r=null;for(r of R(this,Pr));return r},zp=function(){if(R(this,Vn).size===0)return!0;if(R(this,Vn).size===1)for(const r of R(this,Vn).values())return r.isEmpty();return!1},cw=function(r){for(const n of R(this,Pr))n.unselect();R(this,Pr).clear();for(const n of r)n.isEmpty()||(R(this,Pr).add(n),n.select());pe(this,At,Rs).call(this,{hasSelectedEditor:this.hasSelection})},yt(vh,"TRANSLATE_SMALL",1),yt(vh,"TRANSLATE_BIG",10);let Au=vh;var Kn,Ra,Qi,Lh,ka,ri,Dh,Oa,qs,To,yc,La,Kl,ua,Hp,Wv;const ks=class ks{constructor(r){ce(this,ua);ce(this,Kn,null);ce(this,Ra,!1);ce(this,Qi,null);ce(this,Lh,null);ce(this,ka,null);ce(this,ri,null);ce(this,Dh,!1);ce(this,Oa,null);ce(this,qs,null);ce(this,To,null);ce(this,yc,null);ce(this,La,!1);ne(this,qs,r),ne(this,La,r._uiManager.useNewAltTextFlow),R(ks,Kl)||ne(ks,Kl,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(r){ks._l10n??(ks._l10n=r)}async render(){const r=ne(this,Qi,document.createElement("button"));r.className="altText",r.tabIndex="0";const n=ne(this,Lh,document.createElement("span"));r.append(n),R(this,La)?(r.classList.add("new"),r.setAttribute("data-l10n-id",R(ks,Kl).missing),n.setAttribute("data-l10n-id",R(ks,Kl)["missing-label"])):(r.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),n.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const i=R(this,qs)._uiManager._signal;r.addEventListener("contextmenu",zi,{signal:i}),r.addEventListener("pointerdown",b=>b.stopPropagation(),{signal:i});const p=b=>{b.preventDefault(),R(this,qs)._uiManager.editAltText(R(this,qs)),R(this,La)&&R(this,qs)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:R(this,ua,Hp)}})};return r.addEventListener("click",p,{capture:!0,signal:i}),r.addEventListener("keydown",b=>{b.target===r&&b.key==="Enter"&&(ne(this,Dh,!0),p(b))},{signal:i}),await pe(this,ua,Wv).call(this),r}finish(){R(this,Qi)&&(R(this,Qi).focus({focusVisible:R(this,Dh)}),ne(this,Dh,!1))}isEmpty(){return R(this,La)?R(this,Kn)===null:!R(this,Kn)&&!R(this,Ra)}hasData(){return R(this,La)?R(this,Kn)!==null||!!R(this,To):this.isEmpty()}get guessedText(){return R(this,To)}async setGuessedText(r){R(this,Kn)===null&&(ne(this,To,r),ne(this,yc,await ks._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:r})),pe(this,ua,Wv).call(this))}toggleAltTextBadge(r=!1){var n;if(!R(this,La)||R(this,Kn)){(n=R(this,Oa))==null||n.remove(),ne(this,Oa,null);return}if(!R(this,Oa)){const i=ne(this,Oa,document.createElement("div"));i.className="noAltTextBadge",R(this,qs).div.append(i)}R(this,Oa).classList.toggle("hidden",!r)}serialize(r){let n=R(this,Kn);return!r&&R(this,To)===n&&(n=R(this,yc)),{altText:n,decorative:R(this,Ra),guessedText:R(this,To),textWithDisclaimer:R(this,yc)}}get data(){return{altText:R(this,Kn),decorative:R(this,Ra)}}set data({altText:r,decorative:n,guessedText:i,textWithDisclaimer:p,cancel:b=!1}){i&&(ne(this,To,i),ne(this,yc,p)),!(R(this,Kn)===r&&R(this,Ra)===n)&&(b||(ne(this,Kn,r),ne(this,Ra,n)),pe(this,ua,Wv).call(this))}toggle(r=!1){R(this,Qi)&&(!r&&R(this,ri)&&(clearTimeout(R(this,ri)),ne(this,ri,null)),R(this,Qi).disabled=!r)}shown(){R(this,qs)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:R(this,ua,Hp)}})}destroy(){var r,n;(r=R(this,Qi))==null||r.remove(),ne(this,Qi,null),ne(this,Lh,null),ne(this,ka,null),(n=R(this,Oa))==null||n.remove(),ne(this,Oa,null)}};Kn=new WeakMap,Ra=new WeakMap,Qi=new WeakMap,Lh=new WeakMap,ka=new WeakMap,ri=new WeakMap,Dh=new WeakMap,Oa=new WeakMap,qs=new WeakMap,To=new WeakMap,yc=new WeakMap,La=new WeakMap,Kl=new WeakMap,ua=new WeakSet,Hp=function(){return R(this,Kn)&&"added"||R(this,Kn)===null&&this.guessedText&&"review"||"missing"},Wv=async function(){var p,b,M;const r=R(this,Qi);if(!r)return;if(R(this,La)){if(r.classList.toggle("done",!!R(this,Kn)),r.setAttribute("data-l10n-id",R(ks,Kl)[R(this,ua,Hp)]),(p=R(this,Lh))==null||p.setAttribute("data-l10n-id",R(ks,Kl)[`${R(this,ua,Hp)}-label`]),!R(this,Kn)){(b=R(this,ka))==null||b.remove();return}}else{if(!R(this,Kn)&&!R(this,Ra)){r.classList.remove("done"),(M=R(this,ka))==null||M.remove();return}r.classList.add("done"),r.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let n=R(this,ka);if(!n){ne(this,ka,n=document.createElement("span")),n.className="tooltip",n.setAttribute("role","tooltip"),n.id=`alt-text-tooltip-${R(this,qs).id}`;const t=100,A=R(this,qs)._uiManager._signal;A.addEventListener("abort",()=>{clearTimeout(R(this,ri)),ne(this,ri,null)},{once:!0}),r.addEventListener("mouseenter",()=>{ne(this,ri,setTimeout(()=>{ne(this,ri,null),R(this,ka).classList.add("show"),R(this,qs)._reportTelemetry({action:"alt_text_tooltip"})},t))},{signal:A}),r.addEventListener("mouseleave",()=>{var y;R(this,ri)&&(clearTimeout(R(this,ri)),ne(this,ri,null)),(y=R(this,ka))==null||y.classList.remove("show")},{signal:A})}R(this,Ra)?n.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(n.removeAttribute("data-l10n-id"),n.textContent=R(this,Kn)),n.parentNode||r.append(n);const i=R(this,qs).getElementForAltText();i==null||i.setAttribute("aria-describedby",n.id)},ce(ks,Kl,null),yt(ks,"_l10n",null);let S0=ks;var Ph,vc,Lm,Dm,Pm,Nm,Im,Mo,bc,Co,_c,Ro,Mu,VT,qT,WT;const Yx=class Yx{constructor({container:r,isPinchingDisabled:n=null,isPinchingStopped:i=null,onPinchStart:p=null,onPinching:b=null,onPinchEnd:M=null,signal:t}){ce(this,Mu);ce(this,Ph);ce(this,vc,!1);ce(this,Lm,null);ce(this,Dm);ce(this,Pm);ce(this,Nm);ce(this,Im);ce(this,Mo,null);ce(this,bc);ce(this,Co,null);ce(this,_c);ce(this,Ro,null);ne(this,Ph,r),ne(this,Lm,i),ne(this,Dm,n),ne(this,Pm,p),ne(this,Nm,b),ne(this,Im,M),ne(this,_c,new AbortController),ne(this,bc,AbortSignal.any([t,R(this,_c).signal])),r.addEventListener("touchstart",pe(this,Mu,VT).bind(this),{passive:!1,signal:R(this,bc)})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/ca.pixelRatio}destroy(){var r,n;(r=R(this,_c))==null||r.abort(),ne(this,_c,null),(n=R(this,Mo))==null||n.abort(),ne(this,Mo,null)}};Ph=new WeakMap,vc=new WeakMap,Lm=new WeakMap,Dm=new WeakMap,Pm=new WeakMap,Nm=new WeakMap,Im=new WeakMap,Mo=new WeakMap,bc=new WeakMap,Co=new WeakMap,_c=new WeakMap,Ro=new WeakMap,Mu=new WeakSet,VT=function(r){var p,b,M;if((p=R(this,Dm))!=null&&p.call(this))return;if(r.touches.length===1){if(R(this,Mo))return;const t=ne(this,Mo,new AbortController),A=AbortSignal.any([R(this,bc),t.signal]),y=R(this,Ph),d={capture:!0,signal:A,passive:!1},c=u=>{var x;u.pointerType==="touch"&&((x=R(this,Mo))==null||x.abort(),ne(this,Mo,null))};y.addEventListener("pointerdown",u=>{u.pointerType==="touch"&&(Mn(u),c(u))},d),y.addEventListener("pointerup",c,d),y.addEventListener("pointercancel",c,d);return}if(!R(this,Ro)){ne(this,Ro,new AbortController);const t=AbortSignal.any([R(this,bc),R(this,Ro).signal]),A=R(this,Ph),y={signal:t,capture:!1,passive:!1};A.addEventListener("touchmove",pe(this,Mu,qT).bind(this),y);const d=pe(this,Mu,WT).bind(this);A.addEventListener("touchend",d,y),A.addEventListener("touchcancel",d,y),y.capture=!0,A.addEventListener("pointerdown",Mn,y),A.addEventListener("pointermove",Mn,y),A.addEventListener("pointercancel",Mn,y),A.addEventListener("pointerup",Mn,y),(b=R(this,Pm))==null||b.call(this)}if(Mn(r),r.touches.length!==2||(M=R(this,Lm))!=null&&M.call(this)){ne(this,Co,null);return}let[n,i]=r.touches;n.identifier>i.identifier&&([n,i]=[i,n]),ne(this,Co,{touch0X:n.screenX,touch0Y:n.screenY,touch1X:i.screenX,touch1Y:i.screenY})},qT=function(r){var _;if(!R(this,Co)||r.touches.length!==2)return;Mn(r);let[n,i]=r.touches;n.identifier>i.identifier&&([n,i]=[i,n]);const{screenX:p,screenY:b}=n,{screenX:M,screenY:t}=i,A=R(this,Co),{touch0X:y,touch0Y:d,touch1X:c,touch1Y:u}=A,x=c-y,j=u-d,o=M-p,h=t-b,f=Math.hypot(o,h)||1,l=Math.hypot(x,j)||1;if(!R(this,vc)&&Math.abs(l-f)<=Yx.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(A.touch0X=p,A.touch0Y=b,A.touch1X=M,A.touch1Y=t,!R(this,vc)){ne(this,vc,!0);return}const m=[(p+M)/2,(b+t)/2];(_=R(this,Nm))==null||_.call(this,m,l,f)},WT=function(r){var n;r.touches.length>=2||(R(this,Ro)&&(R(this,Ro).abort(),ne(this,Ro,null),(n=R(this,Im))==null||n.call(this)),R(this,Co)&&(Mn(r),ne(this,Co,null),ne(this,vc,!1)))};let fm=Yx;var wc,Ji,an,Nh,Ql,Fm,xc,us,Sc,ko,Jl,Um,jc,ni,Bm,Ec,Oo,Da,Ih,Fh,Pi,Ac,Gm,D0,Gt,dw,zm,hw,Xv,XT,YT,fw,Yv,pw,$T,ZT,KT,mw,QT,gw,JT,eM,tM,yw,Vp;const nr=class nr{constructor(r){ce(this,Gt);ce(this,wc,null);ce(this,Ji,null);ce(this,an,null);ce(this,Nh,!1);ce(this,Ql,null);ce(this,Fm,"");ce(this,xc,!1);ce(this,us,null);ce(this,Sc,null);ce(this,ko,null);ce(this,Jl,null);ce(this,Um,"");ce(this,jc,!1);ce(this,ni,null);ce(this,Bm,!1);ce(this,Ec,!1);ce(this,Oo,!1);ce(this,Da,null);ce(this,Ih,0);ce(this,Fh,0);ce(this,Pi,null);ce(this,Ac,null);yt(this,"isSelected",!1);yt(this,"_isCopy",!1);yt(this,"_editToolbar",null);yt(this,"_initialOptions",Object.create(null));yt(this,"_initialData",null);yt(this,"_isVisible",!0);yt(this,"_uiManager",null);yt(this,"_focusEventsAllowed",!0);ce(this,Gm,!1);ce(this,D0,nr._zIndex++);this.parent=r.parent,this.id=r.id,this.width=this.height=null,this.pageIndex=r.parent.pageIndex,this.name=r.name,this.div=null,this._uiManager=r.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=r.isCentered,this._structTreeParentId=null,this.annotationElementId=r.annotationElementId||null;const{rotation:n,rawDims:{pageWidth:i,pageHeight:p,pageX:b,pageY:M}}=this.parent.viewport;this.rotation=n,this.pageRotation=(360+n-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[i,p],this.pageTranslation=[b,M];const[t,A]=this.parentDimensions;this.x=r.x/t,this.y=r.y/A,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const r=nr.prototype._resizeWithKeyboard,n=Au.TRANSLATE_SMALL,i=Au.TRANSLATE_BIG;return dr(this,"_resizerKeyboardManager",new ty([[["ArrowLeft","mac+ArrowLeft"],r,{args:[-n,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],r,{args:[-i,0]}],[["ArrowRight","mac+ArrowRight"],r,{args:[n,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],r,{args:[i,0]}],[["ArrowUp","mac+ArrowUp"],r,{args:[0,-n]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],r,{args:[0,-i]}],[["ArrowDown","mac+ArrowDown"],r,{args:[0,n]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],r,{args:[0,i]}],[["Escape","mac+Escape"],nr.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return dr(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(r){const n=new D5({id:r.parent.getNextId(),parent:r.parent,uiManager:r._uiManager});n.annotationElementId=r.annotationElementId,n.deleted=!0,n._uiManager.addToAnnotationStorage(n)}static initialize(r,n){if(nr._l10n??(nr._l10n=r),nr._l10nResizer||(nr._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),nr._borderLineWidth!==-1)return;const i=getComputedStyle(document.documentElement);nr._borderLineWidth=parseFloat(i.getPropertyValue("--outline-width"))||0}static updateDefaultParams(r,n){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(r){return!1}static paste(r,n){Vr("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return R(this,Gm)}set _isDraggable(r){var n;ne(this,Gm,r),(n=this.div)==null||n.classList.toggle("draggable",r)}get isEnterHandled(){return!0}center(){const[r,n]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*n/(r*2),this.y+=this.width*r/(n*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*n/(r*2),this.y-=this.width*r/(n*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(r){this._uiManager.addCommands(r)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=R(this,D0)}setParent(r){r!==null?(this.pageIndex=r.pageIndex,this.pageDimensions=r.pageDimensions):pe(this,Gt,Vp).call(this),this.parent=r}focusin(r){this._focusEventsAllowed&&(R(this,jc)?ne(this,jc,!1):this.parent.setSelected(this))}focusout(r){var i;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const n=r.relatedTarget;n!=null&&n.closest(`#${this.id}`)||(r.preventDefault(),(i=this.parent)!=null&&i.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(r,n,i,p){const[b,M]=this.parentDimensions;[i,p]=this.screenToPageTranslation(i,p),this.x=(r+i)/b,this.y=(n+p)/M,this.fixAndSetPosition()}_moveAfterPaste(r,n){const[i,p]=this.parentDimensions;this.setAt(r*i,n*p,this.width*i,this.height*p),this._onTranslated()}translate(r,n){pe(this,Gt,dw).call(this,this.parentDimensions,r,n)}translateInPage(r,n){R(this,ni)||ne(this,ni,[this.x,this.y,this.width,this.height]),pe(this,Gt,dw).call(this,this.pageDimensions,r,n),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(r,n){R(this,ni)||ne(this,ni,[this.x,this.y,this.width,this.height]);const{div:i,parentDimensions:[p,b]}=this;if(this.x+=r/p,this.y+=n/b,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:c,y:u}=this.div.getBoundingClientRect();this.parent.findNewParent(this,c,u)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:M,y:t}=this;const[A,y]=this.getBaseTranslation();M+=A,t+=y;const{style:d}=i;d.left=`${(100*M).toFixed(2)}%`,d.top=`${(100*t).toFixed(2)}%`,this._onTranslating(M,t),i.scrollIntoView({block:"nearest"})}_onTranslating(r,n){}_onTranslated(r,n){}get _hasBeenMoved(){return!!R(this,ni)&&(R(this,ni)[0]!==this.x||R(this,ni)[1]!==this.y)}get _hasBeenResized(){return!!R(this,ni)&&(R(this,ni)[2]!==this.width||R(this,ni)[3]!==this.height)}getBaseTranslation(){const[r,n]=this.parentDimensions,{_borderLineWidth:i}=nr,p=i/r,b=i/n;switch(this.rotation){case 90:return[-p,b];case 180:return[p,b];case 270:return[p,-b];default:return[-p,-b]}}get _mustFixPosition(){return!0}fixAndSetPosition(r=this.rotation){const{div:{style:n},pageDimensions:[i,p]}=this;let{x:b,y:M,width:t,height:A}=this;if(t*=i,A*=p,b*=i,M*=p,this._mustFixPosition)switch(r){case 0:b=Ss(b,0,i-t),M=Ss(M,0,p-A);break;case 90:b=Ss(b,0,i-A),M=Ss(M,t,p);break;case 180:b=Ss(b,t,i),M=Ss(M,A,p);break;case 270:b=Ss(b,A,i),M=Ss(M,0,p-t);break}this.x=b/=i,this.y=M/=p;const[y,d]=this.getBaseTranslation();b+=y,M+=d,n.left=`${(100*b).toFixed(2)}%`,n.top=`${(100*M).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(r,n){var i;return pe(i=nr,zm,hw).call(i,r,n,this.parentRotation)}pageTranslationToScreen(r,n){var i;return pe(i=nr,zm,hw).call(i,r,n,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:r,pageDimensions:[n,i]}=this;return[n*r,i*r]}setDims(r,n){const[i,p]=this.parentDimensions,{style:b}=this.div;b.width=`${(100*r/i).toFixed(2)}%`,R(this,xc)||(b.height=`${(100*n/p).toFixed(2)}%`)}fixDims(){const{style:r}=this.div,{height:n,width:i}=r,p=i.endsWith("%"),b=!R(this,xc)&&n.endsWith("%");if(p&&b)return;const[M,t]=this.parentDimensions;p||(r.width=`${(100*parseFloat(i)/M).toFixed(2)}%`),!R(this,xc)&&!b&&(r.height=`${(100*parseFloat(n)/t).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}_onResized(){}static _round(r){return Math.round(r*1e4)/1e4}_onResizing(){}altTextFinish(){var r;(r=R(this,an))==null||r.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||R(this,Ec))return this._editToolbar;this._editToolbar=new rw(this),this.div.append(this._editToolbar.render());const{toolbarButtons:r}=this;if(r)for(const[n,i]of r)await this._editToolbar.addButton(n,i);return this._editToolbar.addButton("delete"),this._editToolbar}removeEditToolbar(){var r;this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,(r=R(this,an))==null||r.destroy())}addContainer(r){var i;const n=(i=this._editToolbar)==null?void 0:i.div;n?n.before(r):this.div.append(r)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return R(this,an)||(S0.initialize(nr._l10n),ne(this,an,new S0(this)),R(this,wc)&&(R(this,an).data=R(this,wc),ne(this,wc,null))),R(this,an)}get altTextData(){var r;return(r=R(this,an))==null?void 0:r.data}set altTextData(r){R(this,an)&&(R(this,an).data=r)}get guessedAltText(){var r;return(r=R(this,an))==null?void 0:r.guessedText}async setGuessedAltText(r){var n;await((n=R(this,an))==null?void 0:n.setGuessedText(r))}serializeAltText(r){var n;return(n=R(this,an))==null?void 0:n.serialize(r)}hasAltText(){return!!R(this,an)&&!R(this,an).isEmpty()}hasAltTextData(){var r;return((r=R(this,an))==null?void 0:r.hasData())??!1}render(){var M;const r=this.div=document.createElement("div");r.setAttribute("data-editor-rotation",(360-this.rotation)%360),r.className=this.name,r.setAttribute("id",this.id),r.tabIndex=R(this,Nh)?-1:0,r.setAttribute("role","application"),this.defaultL10nId&&r.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||r.classList.add("hidden"),this.setInForeground(),pe(this,Gt,gw).call(this);const[n,i]=this.parentDimensions;this.parentRotation%180!==0&&(r.style.maxWidth=`${(100*i/n).toFixed(2)}%`,r.style.maxHeight=`${(100*n/i).toFixed(2)}%`);const[p,b]=this.getInitialTranslation();return this.translate(p,b),OT(this,r,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(R(this,Ac)||ne(this,Ac,new fm({container:r,isPinchingDisabled:()=>!this.isSelected,onPinchStart:pe(this,Gt,$T).bind(this),onPinching:pe(this,Gt,ZT).bind(this),onPinchEnd:pe(this,Gt,KT).bind(this),signal:this._uiManager._signal}))),(M=this._uiManager._editorUndoBar)==null||M.hide(),r}pointerdown(r){const{isMac:n}=ns.platform;if(r.button!==0||r.ctrlKey&&n){r.preventDefault();return}if(ne(this,jc,!0),this._isDraggable){pe(this,Gt,QT).call(this,r);return}pe(this,Gt,mw).call(this,r)}_onStartDragging(){}_onStopDragging(){}moveInDOM(){R(this,Da)&&clearTimeout(R(this,Da)),ne(this,Da,setTimeout(()=>{var r;ne(this,Da,null),(r=this.parent)==null||r.moveEditorInDOM(this)},0))}_setParentAndPosition(r,n,i){r.changeParent(this),this.x=n,this.y=i,this.fixAndSetPosition(),this._onTranslated()}getRect(r,n,i=this.rotation){const p=this.parentScale,[b,M]=this.pageDimensions,[t,A]=this.pageTranslation,y=r/p,d=n/p,c=this.x*b,u=this.y*M,x=this.width*b,j=this.height*M;switch(i){case 0:return[c+y+t,M-u-d-j+A,c+y+x+t,M-u-d+A];case 90:return[c+d+t,M-u+y+A,c+d+j+t,M-u+y+x+A];case 180:return[c-y-x+t,M-u+d+A,c-y+t,M-u+d+j+A];case 270:return[c-d-j+t,M-u-y-x+A,c-d+t,M-u-y+A];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(r,n){const[i,p,b,M]=r,t=b-i,A=M-p;switch(this.rotation){case 0:return[i,n-M,t,A];case 90:return[i,n-p,A,t];case 180:return[b,n-p,t,A];case 270:return[b,n-M,A,t];default:throw new Error("Invalid rotation")}}onceAdded(r){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),ne(this,Ec,!0),!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),ne(this,Ec,!1),!0):!1}isInEditMode(){return R(this,Ec)}shouldGetKeyboardEvents(){return R(this,Oo)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:r,left:n,bottom:i,right:p}=this.getClientDimensions(),{innerHeight:b,innerWidth:M}=window;return n<M&&p>0&&r<b&&i>0}rebuild(){pe(this,Gt,gw).call(this)}rotate(r){}resize(){}serializeDeleted(){var r;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((r=this._initialData)==null?void 0:r.popupRef)||""}}serialize(r=!1,n=null){Vr("An editor must be serializable")}static async deserialize(r,n,i){const p=new this.prototype.constructor({parent:n,id:n.getNextId(),uiManager:i,annotationElementId:r.annotationElementId});p.rotation=r.rotation,ne(p,wc,r.accessibilityData),p._isCopy=r.isCopy||!1;const[b,M]=p.pageDimensions,[t,A,y,d]=p.getRectInCurrentCoords(r.rect,M);return p.x=t/b,p.y=A/M,p.width=y/b,p.height=d/M,p}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var r,n;if((r=R(this,Jl))==null||r.abort(),ne(this,Jl,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),R(this,Da)&&(clearTimeout(R(this,Da)),ne(this,Da,null)),pe(this,Gt,Vp).call(this),this.removeEditToolbar(),R(this,Pi)){for(const i of R(this,Pi).values())clearTimeout(i);ne(this,Pi,null)}this.parent=null,(n=R(this,Ac))==null||n.destroy(),ne(this,Ac,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(pe(this,Gt,XT).call(this),R(this,us).classList.remove("hidden"))}get toolbarPosition(){return null}keydown(r){if(!this.isResizable||r.target!==this.div||r.key!=="Enter")return;this._uiManager.setSelected(this),ne(this,ko,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const n=R(this,us).children;if(!R(this,Ji)){ne(this,Ji,Array.from(n));const M=pe(this,Gt,JT).bind(this),t=pe(this,Gt,eM).bind(this),A=this._uiManager._signal;for(const y of R(this,Ji)){const d=y.getAttribute("data-resizer-name");y.setAttribute("role","spinbutton"),y.addEventListener("keydown",M,{signal:A}),y.addEventListener("blur",t,{signal:A}),y.addEventListener("focus",pe(this,Gt,tM).bind(this,d),{signal:A}),y.setAttribute("data-l10n-id",nr._l10nResizer[d])}}const i=R(this,Ji)[0];let p=0;for(const M of n){if(M===i)break;p++}const b=(360-this.rotation+this.parentRotation)%360/90*(R(this,Ji).length/4);if(b!==p){if(b<p)for(let t=0;t<p-b;t++)R(this,us).append(R(this,us).firstChild);else if(b>p)for(let t=0;t<b-p;t++)R(this,us).firstChild.before(R(this,us).lastChild);let M=0;for(const t of n){const y=R(this,Ji)[M++].getAttribute("data-resizer-name");t.setAttribute("data-l10n-id",nr._l10nResizer[y])}}pe(this,Gt,yw).call(this,0),ne(this,Oo,!0),R(this,us).firstChild.focus({focusVisible:!0}),r.preventDefault(),r.stopImmediatePropagation()}_resizeWithKeyboard(r,n){R(this,Oo)&&pe(this,Gt,pw).call(this,R(this,Um),{deltaX:r,deltaY:n,fromKeyboard:!0})}_stopResizingWithKeyboard(){pe(this,Gt,Vp).call(this),this.div.focus()}select(){var r,n,i;if(!(this.isSelected&&this._editToolbar)){if(this.isSelected=!0,this.makeResizable(),(r=this.div)==null||r.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var p,b;(p=this.div)!=null&&p.classList.contains("selectedEditor")&&((b=this._editToolbar)==null||b.show())});return}(n=this._editToolbar)==null||n.show(),(i=R(this,an))==null||i.toggleAltTextBadge(!1)}}unselect(){var r,n,i,p,b;this.isSelected&&(this.isSelected=!1,(r=R(this,us))==null||r.classList.add("hidden"),(n=this.div)==null||n.classList.remove("selectedEditor"),(i=this.div)!=null&&i.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(p=this._editToolbar)==null||p.hide(),(b=R(this,an))==null||b.toggleAltTextBadge(!0))}updateParams(r,n){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(r){this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.id})}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return R(this,Bm)}set isEditing(r){ne(this,Bm,r),this.parent&&(r?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(r,n){ne(this,xc,!0);const i=r/n,{style:p}=this.div;p.aspectRatio=i,p.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(r,n=!1){if(n){R(this,Pi)||ne(this,Pi,new Map);const{action:i}=r;let p=R(this,Pi).get(i);p&&clearTimeout(p),p=setTimeout(()=>{this._reportTelemetry(r),R(this,Pi).delete(i),R(this,Pi).size===0&&ne(this,Pi,null)},nr._telemetryTimeout),R(this,Pi).set(i,p);return}r.type||(r.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:r}})}show(r=this._isVisible){this.div.classList.toggle("hidden",!r),this._isVisible=r}enable(){this.div&&(this.div.tabIndex=0),ne(this,Nh,!1)}disable(){this.div&&(this.div.tabIndex=-1),ne(this,Nh,!0)}renderAnnotationElement(r){let n=r.container.querySelector(".annotationContent");if(!n)n=document.createElement("div"),n.classList.add("annotationContent",this.editorType),r.container.prepend(n);else if(n.nodeName==="CANVAS"){const i=n;n=document.createElement("div"),n.classList.add("annotationContent",this.editorType),i.before(n)}return n}resetAnnotationElement(r){const{firstChild:n}=r.container;(n==null?void 0:n.nodeName)==="DIV"&&n.classList.contains("annotationContent")&&n.remove()}};wc=new WeakMap,Ji=new WeakMap,an=new WeakMap,Nh=new WeakMap,Ql=new WeakMap,Fm=new WeakMap,xc=new WeakMap,us=new WeakMap,Sc=new WeakMap,ko=new WeakMap,Jl=new WeakMap,Um=new WeakMap,jc=new WeakMap,ni=new WeakMap,Bm=new WeakMap,Ec=new WeakMap,Oo=new WeakMap,Da=new WeakMap,Ih=new WeakMap,Fh=new WeakMap,Pi=new WeakMap,Ac=new WeakMap,Gm=new WeakMap,D0=new WeakMap,Gt=new WeakSet,dw=function([r,n],i,p){[i,p]=this.screenToPageTranslation(i,p),this.x+=i/r,this.y+=p/n,this._onTranslating(this.x,this.y),this.fixAndSetPosition()},zm=new WeakSet,hw=function(r,n,i){switch(i){case 90:return[n,-r];case 180:return[-r,-n];case 270:return[-n,r];default:return[r,n]}},Xv=function(r){switch(r){case 90:{const[n,i]=this.pageDimensions;return[0,-n/i,i/n,0]}case 180:return[-1,0,0,-1];case 270:{const[n,i]=this.pageDimensions;return[0,n/i,-i/n,0]}default:return[1,0,0,1]}},XT=function(){if(R(this,us))return;ne(this,us,document.createElement("div")),R(this,us).classList.add("resizers");const r=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],n=this._uiManager._signal;for(const i of r){const p=document.createElement("div");R(this,us).append(p),p.classList.add("resizer",i),p.setAttribute("data-resizer-name",i),p.addEventListener("pointerdown",pe(this,Gt,YT).bind(this,i),{signal:n}),p.addEventListener("contextmenu",zi,{signal:n}),p.tabIndex=-1}this.div.prepend(R(this,us))},YT=function(r,n){var d;n.preventDefault();const{isMac:i}=ns.platform;if(n.button!==0||n.ctrlKey&&i)return;(d=R(this,an))==null||d.toggle(!1);const p=this._isDraggable;this._isDraggable=!1,ne(this,Sc,[n.screenX,n.screenY]);const b=new AbortController,M=this._uiManager.combinedSignal(b);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",pe(this,Gt,pw).bind(this,r),{passive:!0,capture:!0,signal:M}),window.addEventListener("touchmove",Mn,{passive:!1,signal:M}),window.addEventListener("contextmenu",zi,{signal:M}),ne(this,ko,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const t=this.parent.div.style.cursor,A=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(n.target).cursor;const y=()=>{var c;b.abort(),this.parent.togglePointerEvents(!0),(c=R(this,an))==null||c.toggle(!0),this._isDraggable=p,this.parent.div.style.cursor=t,this.div.style.cursor=A,pe(this,Gt,Yv).call(this)};window.addEventListener("pointerup",y,{signal:M}),window.addEventListener("blur",y,{signal:M})},fw=function(r,n,i,p){this.width=i,this.height=p,this.x=r,this.y=n;const[b,M]=this.parentDimensions;this.setDims(b*i,M*p),this.fixAndSetPosition(),this._onResized()},Yv=function(){if(!R(this,ko))return;const{savedX:r,savedY:n,savedWidth:i,savedHeight:p}=R(this,ko);ne(this,ko,null);const b=this.x,M=this.y,t=this.width,A=this.height;b===r&&M===n&&t===i&&A===p||this.addCommands({cmd:pe(this,Gt,fw).bind(this,b,M,t,A),undo:pe(this,Gt,fw).bind(this,r,n,i,p),mustExec:!0})},pw=function(r,n){const[i,p]=this.parentDimensions,b=this.x,M=this.y,t=this.width,A=this.height,y=nr.MIN_SIZE/i,d=nr.MIN_SIZE/p,c=pe(this,Gt,Xv).call(this,this.rotation),u=(G,q)=>[c[0]*G+c[2]*q,c[1]*G+c[3]*q],x=pe(this,Gt,Xv).call(this,360-this.rotation),j=(G,q)=>[x[0]*G+x[2]*q,x[1]*G+x[3]*q];let o,h,f=!1,l=!1;switch(r){case"topLeft":f=!0,o=(G,q)=>[0,0],h=(G,q)=>[G,q];break;case"topMiddle":o=(G,q)=>[G/2,0],h=(G,q)=>[G/2,q];break;case"topRight":f=!0,o=(G,q)=>[G,0],h=(G,q)=>[0,q];break;case"middleRight":l=!0,o=(G,q)=>[G,q/2],h=(G,q)=>[0,q/2];break;case"bottomRight":f=!0,o=(G,q)=>[G,q],h=(G,q)=>[0,0];break;case"bottomMiddle":o=(G,q)=>[G/2,q],h=(G,q)=>[G/2,0];break;case"bottomLeft":f=!0,o=(G,q)=>[0,q],h=(G,q)=>[G,0];break;case"middleLeft":l=!0,o=(G,q)=>[0,q/2],h=(G,q)=>[G,q/2];break}const m=o(t,A),_=h(t,A);let w=u(..._);const v=nr._round(b+w[0]),E=nr._round(M+w[1]);let C=1,O=1,U,N;if(n.fromKeyboard)({deltaX:U,deltaY:N}=n);else{const{screenX:G,screenY:q}=n,[X,B]=R(this,Sc);[U,N]=this.screenToPageTranslation(G-X,q-B),R(this,Sc)[0]=G,R(this,Sc)[1]=q}if([U,N]=j(U/i,N/p),f){const G=Math.hypot(t,A);C=O=Math.max(Math.min(Math.hypot(_[0]-m[0]-U,_[1]-m[1]-N)/G,1/t,1/A),y/t,d/A)}else l?C=Ss(Math.abs(_[0]-m[0]-U),y,1)/t:O=Ss(Math.abs(_[1]-m[1]-N),d,1)/A;const D=nr._round(t*C),H=nr._round(A*O);w=u(...h(D,H));const I=v-w[0],V=E-w[1];R(this,ni)||ne(this,ni,[this.x,this.y,this.width,this.height]),this.width=D,this.height=H,this.x=I,this.y=V,this.setDims(i*D,p*H),this.fixAndSetPosition(),this._onResizing()},$T=function(){var r;ne(this,ko,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height}),(r=R(this,an))==null||r.toggle(!1),this.parent.togglePointerEvents(!1)},ZT=function(r,n,i){let b=.7*(i/n)+1-.7;if(b===1)return;const M=pe(this,Gt,Xv).call(this,this.rotation),t=(v,E)=>[M[0]*v+M[2]*E,M[1]*v+M[3]*E],[A,y]=this.parentDimensions,d=this.x,c=this.y,u=this.width,x=this.height,j=nr.MIN_SIZE/A,o=nr.MIN_SIZE/y;b=Math.max(Math.min(b,1/u,1/x),j/u,o/x);const h=nr._round(u*b),f=nr._round(x*b);if(h===u&&f===x)return;R(this,ni)||ne(this,ni,[d,c,u,x]);const l=t(u/2,x/2),m=nr._round(d+l[0]),_=nr._round(c+l[1]),w=t(h/2,f/2);this.x=m-w[0],this.y=_-w[1],this.width=h,this.height=f,this.setDims(A*h,y*f),this.fixAndSetPosition(),this._onResizing()},KT=function(){var r;(r=R(this,an))==null||r.toggle(!0),this.parent.togglePointerEvents(!0),pe(this,Gt,Yv).call(this)},mw=function(r){const{isMac:n}=ns.platform;r.ctrlKey&&!n||r.shiftKey||r.metaKey&&n?this.parent.toggleSelected(this):this.parent.setSelected(this)},QT=function(r){const{isSelected:n}=this;this._uiManager.setUpDragSession();let i=!1;const p=new AbortController,b=this._uiManager.combinedSignal(p),M={capture:!0,passive:!1,signal:b},t=y=>{p.abort(),ne(this,Ql,null),ne(this,jc,!1),this._uiManager.endDragSession()||pe(this,Gt,mw).call(this,y),i&&this._onStopDragging()};n&&(ne(this,Ih,r.clientX),ne(this,Fh,r.clientY),ne(this,Ql,r.pointerId),ne(this,Fm,r.pointerType),window.addEventListener("pointermove",y=>{i||(i=!0,this._onStartDragging());const{clientX:d,clientY:c,pointerId:u}=y;if(u!==R(this,Ql)){Mn(y);return}const[x,j]=this.screenToPageTranslation(d-R(this,Ih),c-R(this,Fh));ne(this,Ih,d),ne(this,Fh,c),this._uiManager.dragSelectedEditors(x,j)},M),window.addEventListener("touchmove",Mn,M),window.addEventListener("pointerdown",y=>{y.pointerType===R(this,Fm)&&(R(this,Ac)||y.isPrimary)&&t(y),Mn(y)},M));const A=y=>{if(!R(this,Ql)||R(this,Ql)===y.pointerId){t(y);return}Mn(y)};window.addEventListener("pointerup",A,{signal:b}),window.addEventListener("blur",A,{signal:b})},gw=function(){if(R(this,Jl)||!this.div)return;ne(this,Jl,new AbortController);const r=this._uiManager.combinedSignal(R(this,Jl));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:r}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:r})},JT=function(r){nr._resizerKeyboardManager.exec(this,r)},eM=function(r){var n;R(this,Oo)&&((n=r.relatedTarget)==null?void 0:n.parentNode)!==R(this,us)&&pe(this,Gt,Vp).call(this)},tM=function(r){ne(this,Um,R(this,Oo)?r:"")},yw=function(r){if(R(this,Ji))for(const n of R(this,Ji))n.tabIndex=r},Vp=function(){ne(this,Oo,!1),pe(this,Gt,yw).call(this,-1),pe(this,Gt,Yv).call(this)},ce(nr,zm),yt(nr,"_l10n",null),yt(nr,"_l10nResizer",null),yt(nr,"_borderLineWidth",-1),yt(nr,"_colorManager",new sw),yt(nr,"_zIndex",1),yt(nr,"_telemetryTimeout",1e3);let Qr=nr;class D5 extends Qr{constructor(r){super(r),this.annotationElementId=r.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const FE=3285377520,ki=4294901760,ja=65535;class rM{constructor(r){this.h1=r?r&4294967295:FE,this.h2=r?r&4294967295:FE}update(r){let n,i;if(typeof r=="string"){n=new Uint8Array(r.length*2),i=0;for(let o=0,h=r.length;o<h;o++){const f=r.charCodeAt(o);f<=255?n[i++]=f:(n[i++]=f>>>8,n[i++]=f&255)}}else if(ArrayBuffer.isView(r))n=r.slice(),i=n.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const p=i>>2,b=i-p*4,M=new Uint32Array(n.buffer,0,p);let t=0,A=0,y=this.h1,d=this.h2;const c=3432918353,u=461845907,x=c&ja,j=u&ja;for(let o=0;o<p;o++)o&1?(t=M[o],t=t*c&ki|t*x&ja,t=t<<15|t>>>17,t=t*u&ki|t*j&ja,y^=t,y=y<<13|y>>>19,y=y*5+3864292196):(A=M[o],A=A*c&ki|A*x&ja,A=A<<15|A>>>17,A=A*u&ki|A*j&ja,d^=A,d=d<<13|d>>>19,d=d*5+3864292196);switch(t=0,b){case 3:t^=n[p*4+2]<<16;case 2:t^=n[p*4+1]<<8;case 1:t^=n[p*4],t=t*c&ki|t*x&ja,t=t<<15|t>>>17,t=t*u&ki|t*j&ja,p&1?y^=t:d^=t}this.h1=y,this.h2=d}hexdigest(){let r=this.h1,n=this.h2;return r^=n>>>1,r=r*3981806797&ki|r*36045&ja,n=n*4283543511&ki|((n<<16|r>>>16)*2950163797&ki)>>>16,r^=n>>>1,r=r*444984403&ki|r*60499&ja,n=n*3301882366&ki|((n<<16|r>>>16)*3120437893&ki)>>>16,r^=n>>>1,(r>>>0).toString(16).padStart(8,"0")+(n>>>0).toString(16).padStart(8,"0")}}const vw=Object.freeze({map:null,hash:"",transfer:void 0});var Tc,Mc,cs,P0,nM;class Nx{constructor(){ce(this,P0);ce(this,Tc,!1);ce(this,Mc,null);ce(this,cs,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(r,n){const i=R(this,cs).get(r);return i===void 0?n:Object.assign(n,i)}getRawValue(r){return R(this,cs).get(r)}remove(r){if(R(this,cs).delete(r),R(this,cs).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const n of R(this,cs).values())if(n instanceof Qr)return;this.onAnnotationEditor(null)}}setValue(r,n){const i=R(this,cs).get(r);let p=!1;if(i!==void 0)for(const[b,M]of Object.entries(n))i[b]!==M&&(p=!0,i[b]=M);else p=!0,R(this,cs).set(r,n);p&&pe(this,P0,nM).call(this),n instanceof Qr&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(n.constructor._type)}has(r){return R(this,cs).has(r)}get size(){return R(this,cs).size}resetModified(){R(this,Tc)&&(ne(this,Tc,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new sM(this)}get serializable(){if(R(this,cs).size===0)return vw;const r=new Map,n=new rM,i=[],p=Object.create(null);let b=!1;for(const[M,t]of R(this,cs)){const A=t instanceof Qr?t.serialize(!1,p):t;A&&(r.set(M,A),n.update(`${M}:${JSON.stringify(A)}`),b||(b=!!A.bitmap))}if(b)for(const M of r.values())M.bitmap&&i.push(M.bitmap);return r.size>0?{map:r,hash:n.hexdigest(),transfer:i}:vw}get editorStats(){let r=null;const n=new Map;for(const i of R(this,cs).values()){if(!(i instanceof Qr))continue;const p=i.telemetryFinalData;if(!p)continue;const{type:b}=p;n.has(b)||n.set(b,Object.getPrototypeOf(i).constructor),r||(r=Object.create(null));const M=r[b]||(r[b]=new Map);for(const[t,A]of Object.entries(p)){if(t==="type")continue;let y=M.get(t);y||(y=new Map,M.set(t,y));const d=y.get(A)??0;y.set(A,d+1)}}for(const[i,p]of n)r[i]=p.computeTelemetryFinalData(r[i]);return r}resetModifiedIds(){ne(this,Mc,null)}get modifiedIds(){if(R(this,Mc))return R(this,Mc);const r=[];for(const n of R(this,cs).values())!(n instanceof Qr)||!n.annotationElementId||!n.serialize()||r.push(n.annotationElementId);return ne(this,Mc,{ids:new Set(r),hash:r.join(",")})}[Symbol.iterator](){return R(this,cs).entries()}}Tc=new WeakMap,Mc=new WeakMap,cs=new WeakMap,P0=new WeakSet,nM=function(){R(this,Tc)||(ne(this,Tc,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var Hm;class sM extends Nx{constructor(n){super();ce(this,Hm);const{map:i,hash:p,transfer:b}=n.serializable,M=structuredClone(i,b?{transfer:b}:null);ne(this,Hm,{map:M,hash:p,transfer:b})}get print(){Vr("Should not call PrintAnnotationStorage.print")}get serializable(){return R(this,Hm)}get modifiedIds(){return dr(this,"modifiedIds",{ids:new Set,hash:""})}}Hm=new WeakMap;var Uh;class P5{constructor({ownerDocument:r=globalThis.document,styleElement:n=null}){ce(this,Uh,new Set);this._document=r,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(r){this.nativeFontFaces.add(r),this._document.fonts.add(r)}removeNativeFontFace(r){this.nativeFontFaces.delete(r),this._document.fonts.delete(r)}insertRule(r){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const n=this.styleElement.sheet;n.insertRule(r,n.cssRules.length)}clear(){for(const r of this.nativeFontFaces)this._document.fonts.delete(r);this.nativeFontFaces.clear(),R(this,Uh).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:r,disableFontFace:n,_inspectFont:i}){if(!(!r||R(this,Uh).has(r.loadedName))){if(Nn(!n,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:p,src:b,style:M}=r,t=new FontFace(p,b,M);this.addNativeFontFace(t);try{await t.load(),R(this,Uh).add(p),i==null||i(r)}catch{Zt(`Cannot load system font: ${r.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(t)}return}Vr("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(r){if(r.attached||r.missingFile&&!r.systemFontInfo)return;if(r.attached=!0,r.systemFontInfo){await this.loadSystemFont(r);return}if(this.isFontLoadingAPISupported){const i=r.createNativeFontFace();if(i){this.addNativeFontFace(i);try{await i.loaded}catch(p){throw Zt(`Failed to load font '${i.family}': '${p}'.`),r.disableFontFace=!0,p}}return}const n=r.createFontFaceRule();if(n){if(this.insertRule(n),this.isSyncFontLoadingSupported)return;await new Promise(i=>{const p=this._queueLoadingCallback(i);this._prepareFontLoadEvent(r,p)})}}get isFontLoadingAPISupported(){var n;const r=!!((n=this._document)!=null&&n.fonts);return dr(this,"isFontLoadingAPISupported",r)}get isSyncFontLoadingSupported(){return dr(this,"isSyncFontLoadingSupported",Ps||ns.platform.isFirefox)}_queueLoadingCallback(r){function n(){for(Nn(!p.done,"completeRequest() cannot be called twice."),p.done=!0;i.length>0&&i[0].done;){const b=i.shift();setTimeout(b.callback,0)}}const{loadingRequests:i}=this,p={done:!1,complete:n,callback:r};return i.push(p),p}get _loadTestFont(){const r=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return dr(this,"_loadTestFont",r)}_prepareFontLoadEvent(r,n){function i(_,w){return _.charCodeAt(w)<<24|_.charCodeAt(w+1)<<16|_.charCodeAt(w+2)<<8|_.charCodeAt(w+3)&255}function p(_,w,v,E){const C=_.substring(0,w),O=_.substring(w+v);return C+E+O}let b,M;const t=this._document.createElement("canvas");t.width=1,t.height=1;const A=t.getContext("2d");let y=0;function d(_,w){if(++y>30){Zt("Load test font never loaded."),w();return}if(A.font="30px "+_,A.fillText(".",0,20),A.getImageData(0,0,1,1).data[3]>0){w();return}setTimeout(d.bind(null,_,w))}const c=`lt${Date.now()}${this.loadTestFontId++}`;let u=this._loadTestFont;u=p(u,976,c.length,c);const j=16,o=1482184792;let h=i(u,j);for(b=0,M=c.length-3;b<M;b+=4)h=h-o+i(c,b)|0;b<c.length&&(h=h-o+i(c+"XXX",b)|0),u=p(u,j,4,S5(h));const f=`url(data:font/opentype;base64,${btoa(u)});`,l=`@font-face {font-family:"${c}";src:${f}}`;this.insertRule(l);const m=this._document.createElement("div");m.style.visibility="hidden",m.style.width=m.style.height="10px",m.style.position="absolute",m.style.top=m.style.left="0px";for(const _ of[r.loadedName,c]){const w=this._document.createElement("span");w.textContent="Hi",w.style.fontFamily=_,m.append(w)}this._document.body.append(m),d(c,()=>{m.remove(),n.complete()})}}Uh=new WeakMap;class N5{constructor(r,n=null){this.compiledGlyphs=Object.create(null);for(const i in r)this[i]=r[i];this._inspectFont=n}createNativeFontFace(){var n;if(!this.data||this.disableFontFace)return null;let r;if(!this.cssFontInfo)r=new FontFace(this.loadedName,this.data,{});else{const i={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(i.style=`oblique ${this.cssFontInfo.italicAngle}deg`),r=new FontFace(this.cssFontInfo.fontFamily,this.data,i)}return(n=this._inspectFont)==null||n.call(this,this),r}createFontFaceRule(){var i;if(!this.data||this.disableFontFace)return null;const r=`url(data:${this.mimetype};base64,${xT(this.data)});`;let n;if(!this.cssFontInfo)n=`@font-face {font-family:"${this.loadedName}";src:${r}}`;else{let p=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(p+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),n=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${p}src:${r}}`}return(i=this._inspectFont)==null||i.call(this,this,r),n}getPathGenerator(r,n){if(this.compiledGlyphs[n]!==void 0)return this.compiledGlyphs[n];const i=this.loadedName+"_path_"+n;let p;try{p=r.get(i)}catch(M){Zt(`getPathGenerator - ignoring character: "${M}".`)}const b=new Path2D(p||"");return this.fontExtraProperties||r.delete(i),this.compiledGlyphs[n]=b}}function I5(T){if(T instanceof URL)return T.href;if(typeof T=="string"){if(Ps)return T;const r=URL.parse(T,window.location);if(r)return r.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function F5(T){if(Ps&&typeof Buffer<"u"&&T instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(T instanceof Uint8Array&&T.byteLength===T.buffer.byteLength)return T;if(typeof T=="string")return Qg(T);if(T instanceof ArrayBuffer||ArrayBuffer.isView(T)||typeof T=="object"&&!isNaN(T==null?void 0:T.length))return new Uint8Array(T);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function Cv(T){if(typeof T!="string")return null;if(T.endsWith("/"))return T;throw new Error(`Invalid factory url: "${T}" must include trailing slash.`)}const bw=T=>typeof T=="object"&&Number.isInteger(T==null?void 0:T.num)&&T.num>=0&&Number.isInteger(T==null?void 0:T.gen)&&T.gen>=0,U5=T=>typeof T=="object"&&typeof(T==null?void 0:T.name)=="string",iM=T5.bind(null,bw,U5);var Lo,N0;class B5{constructor(){ce(this,Lo,new Map);ce(this,N0,Promise.resolve())}postMessage(r,n){const i={data:structuredClone(r,n?{transfer:n}:null)};R(this,N0).then(()=>{for(const[p]of R(this,Lo))p.call(this,i)})}addEventListener(r,n,i=null){let p=null;if((i==null?void 0:i.signal)instanceof AbortSignal){const{signal:b}=i;if(b.aborted){Zt("LoopbackPort - cannot use an `aborted` signal.");return}const M=()=>this.removeEventListener(r,n);p=()=>b.removeEventListener("abort",M),b.addEventListener("abort",M)}R(this,Lo).set(n,p)}removeEventListener(r,n){const i=R(this,Lo).get(n);i==null||i(),R(this,Lo).delete(n)}terminate(){for(const[,r]of R(this,Lo))r==null||r();R(this,Lo).clear()}}Lo=new WeakMap,N0=new WeakMap;const Rv={DATA:1,ERROR:2},Pn={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function UE(){}function Hs(T){if(T instanceof al||T instanceof w0||T instanceof PE||T instanceof hm||T instanceof E_)return T;switch(T instanceof Error||typeof T=="object"&&T!==null||Vr('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),T.name){case"AbortException":return new al(T.message);case"InvalidPDFException":return new w0(T.message);case"PasswordException":return new PE(T.message,T.code);case"ResponseException":return new hm(T.message,T.status,T.missing);case"UnknownErrorException":return new E_(T.message,T.details)}return new E_(T.message,T.toString())}var Bh,Gi,aM,oM,lM,$v;class qp{constructor(r,n,i){ce(this,Gi);ce(this,Bh,new AbortController);this.sourceName=r,this.targetName=n,this.comObj=i,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),i.addEventListener("message",pe(this,Gi,aM).bind(this),{signal:R(this,Bh).signal})}on(r,n){const i=this.actionHandler;if(i[r])throw new Error(`There is already an actionName called "${r}"`);i[r]=n}send(r,n,i){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:r,data:n},i)}sendWithPromise(r,n,i){const p=this.callbackId++,b=Promise.withResolvers();this.callbackCapabilities[p]=b;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:r,callbackId:p,data:n},i)}catch(M){b.reject(M)}return b.promise}sendWithStream(r,n,i,p){const b=this.streamId++,M=this.sourceName,t=this.targetName,A=this.comObj;return new ReadableStream({start:y=>{const d=Promise.withResolvers();return this.streamControllers[b]={controller:y,startCall:d,pullCall:null,cancelCall:null,isClosed:!1},A.postMessage({sourceName:M,targetName:t,action:r,streamId:b,data:n,desiredSize:y.desiredSize},p),d.promise},pull:y=>{const d=Promise.withResolvers();return this.streamControllers[b].pullCall=d,A.postMessage({sourceName:M,targetName:t,stream:Pn.PULL,streamId:b,desiredSize:y.desiredSize}),d.promise},cancel:y=>{Nn(y instanceof Error,"cancel must have a valid reason");const d=Promise.withResolvers();return this.streamControllers[b].cancelCall=d,this.streamControllers[b].isClosed=!0,A.postMessage({sourceName:M,targetName:t,stream:Pn.CANCEL,streamId:b,reason:Hs(y)}),d.promise}},i)}destroy(){var r;(r=R(this,Bh))==null||r.abort(),ne(this,Bh,null)}}Bh=new WeakMap,Gi=new WeakSet,aM=function({data:r}){if(r.targetName!==this.sourceName)return;if(r.stream){pe(this,Gi,lM).call(this,r);return}if(r.callback){const i=r.callbackId,p=this.callbackCapabilities[i];if(!p)throw new Error(`Cannot resolve callback ${i}`);if(delete this.callbackCapabilities[i],r.callback===Rv.DATA)p.resolve(r.data);else if(r.callback===Rv.ERROR)p.reject(Hs(r.reason));else throw new Error("Unexpected callback case");return}const n=this.actionHandler[r.action];if(!n)throw new Error(`Unknown action from worker: ${r.action}`);if(r.callbackId){const i=this.sourceName,p=r.sourceName,b=this.comObj;Promise.try(n,r.data).then(function(M){b.postMessage({sourceName:i,targetName:p,callback:Rv.DATA,callbackId:r.callbackId,data:M})},function(M){b.postMessage({sourceName:i,targetName:p,callback:Rv.ERROR,callbackId:r.callbackId,reason:Hs(M)})});return}if(r.streamId){pe(this,Gi,oM).call(this,r);return}n(r.data)},oM=function(r){const n=r.streamId,i=this.sourceName,p=r.sourceName,b=this.comObj,M=this,t=this.actionHandler[r.action],A={enqueue(y,d=1,c){if(this.isCancelled)return;const u=this.desiredSize;this.desiredSize-=d,u>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),b.postMessage({sourceName:i,targetName:p,stream:Pn.ENQUEUE,streamId:n,chunk:y},c)},close(){this.isCancelled||(this.isCancelled=!0,b.postMessage({sourceName:i,targetName:p,stream:Pn.CLOSE,streamId:n}),delete M.streamSinks[n])},error(y){Nn(y instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,b.postMessage({sourceName:i,targetName:p,stream:Pn.ERROR,streamId:n,reason:Hs(y)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:r.desiredSize,ready:null};A.sinkCapability.resolve(),A.ready=A.sinkCapability.promise,this.streamSinks[n]=A,Promise.try(t,r.data,A).then(function(){b.postMessage({sourceName:i,targetName:p,stream:Pn.START_COMPLETE,streamId:n,success:!0})},function(y){b.postMessage({sourceName:i,targetName:p,stream:Pn.START_COMPLETE,streamId:n,reason:Hs(y)})})},lM=function(r){const n=r.streamId,i=this.sourceName,p=r.sourceName,b=this.comObj,M=this.streamControllers[n],t=this.streamSinks[n];switch(r.stream){case Pn.START_COMPLETE:r.success?M.startCall.resolve():M.startCall.reject(Hs(r.reason));break;case Pn.PULL_COMPLETE:r.success?M.pullCall.resolve():M.pullCall.reject(Hs(r.reason));break;case Pn.PULL:if(!t){b.postMessage({sourceName:i,targetName:p,stream:Pn.PULL_COMPLETE,streamId:n,success:!0});break}t.desiredSize<=0&&r.desiredSize>0&&t.sinkCapability.resolve(),t.desiredSize=r.desiredSize,Promise.try(t.onPull||UE).then(function(){b.postMessage({sourceName:i,targetName:p,stream:Pn.PULL_COMPLETE,streamId:n,success:!0})},function(y){b.postMessage({sourceName:i,targetName:p,stream:Pn.PULL_COMPLETE,streamId:n,reason:Hs(y)})});break;case Pn.ENQUEUE:if(Nn(M,"enqueue should have stream controller"),M.isClosed)break;M.controller.enqueue(r.chunk);break;case Pn.CLOSE:if(Nn(M,"close should have stream controller"),M.isClosed)break;M.isClosed=!0,M.controller.close(),pe(this,Gi,$v).call(this,M,n);break;case Pn.ERROR:Nn(M,"error should have stream controller"),M.controller.error(Hs(r.reason)),pe(this,Gi,$v).call(this,M,n);break;case Pn.CANCEL_COMPLETE:r.success?M.cancelCall.resolve():M.cancelCall.reject(Hs(r.reason)),pe(this,Gi,$v).call(this,M,n);break;case Pn.CANCEL:if(!t)break;const A=Hs(r.reason);Promise.try(t.onCancel||UE,A).then(function(){b.postMessage({sourceName:i,targetName:p,stream:Pn.CANCEL_COMPLETE,streamId:n,success:!0})},function(y){b.postMessage({sourceName:i,targetName:p,stream:Pn.CANCEL_COMPLETE,streamId:n,reason:Hs(y)})}),t.sinkCapability.reject(A),t.isCancelled=!0,delete this.streamSinks[n];break;default:throw new Error("Unexpected stream case")}},$v=async function(r,n){var i,p,b;await Promise.allSettled([(i=r.startCall)==null?void 0:i.promise,(p=r.pullCall)==null?void 0:p.promise,(b=r.cancelCall)==null?void 0:b.promise]),delete this.streamControllers[n]};var Vm;class uM{constructor({enableHWA:r=!1}){ce(this,Vm,!1);ne(this,Vm,r)}create(r,n){if(r<=0||n<=0)throw new Error("Invalid canvas size");const i=this._createCanvas(r,n);return{canvas:i,context:i.getContext("2d",{willReadFrequently:!R(this,Vm)})}}reset(r,n,i){if(!r.canvas)throw new Error("Canvas is not specified");if(n<=0||i<=0)throw new Error("Invalid canvas size");r.canvas.width=n,r.canvas.height=i}destroy(r){if(!r.canvas)throw new Error("Canvas is not specified");r.canvas.width=0,r.canvas.height=0,r.canvas=null,r.context=null}_createCanvas(r,n){Vr("Abstract method `_createCanvas` called.")}}Vm=new WeakMap;class G5 extends uM{constructor({ownerDocument:r=globalThis.document,enableHWA:n=!1}){super({enableHWA:n}),this._document=r}_createCanvas(r,n){const i=this._document.createElement("canvas");return i.width=r,i.height=n,i}}class cM{constructor({baseUrl:r=null,isCompressed:n=!0}){this.baseUrl=r,this.isCompressed=n}async fetch({name:r}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!r)throw new Error("CMap name must be specified.");const n=this.baseUrl+r+(this.isCompressed?".bcmap":"");return this._fetch(n).then(i=>({cMapData:i,isCompressed:this.isCompressed})).catch(i=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${n}`)})}async _fetch(r){Vr("Abstract method `_fetch` called.")}}class BE extends cM{async _fetch(r){const n=await If(r,this.isCompressed?"arraybuffer":"text");return n instanceof ArrayBuffer?new Uint8Array(n):Qg(n)}}class dM{addFilter(r){return"none"}addHCMFilter(r,n){return"none"}addAlphaFilter(r){return"none"}addLuminosityFilter(r){return"none"}addHighlightHCMFilter(r,n,i,p,b){return"none"}destroy(r=!1){}}var Cc,Gh,Do,Po,ws,Rc,kc,Ct,bs,Wp,uh,Zv,ch,hM,_w,dh,Xp,Yp,ww,$p;class z5 extends dM{constructor({docId:n,ownerDocument:i=globalThis.document}){super();ce(this,Ct);ce(this,Cc);ce(this,Gh);ce(this,Do);ce(this,Po);ce(this,ws);ce(this,Rc);ce(this,kc,0);ne(this,Po,n),ne(this,ws,i)}addFilter(n){if(!n)return"none";let i=R(this,Ct,bs).get(n);if(i)return i;const[p,b,M]=pe(this,Ct,Zv).call(this,n),t=n.length===1?p:`${p}${b}${M}`;if(i=R(this,Ct,bs).get(t),i)return R(this,Ct,bs).set(n,i),i;const A=`g_${R(this,Po)}_transfer_map_${Cs(this,kc)._++}`,y=pe(this,Ct,ch).call(this,A);R(this,Ct,bs).set(n,y),R(this,Ct,bs).set(t,y);const d=pe(this,Ct,dh).call(this,A);return pe(this,Ct,Yp).call(this,p,b,M,d),y}addHCMFilter(n,i){var j;const p=`${n}-${i}`,b="base";let M=R(this,Ct,Wp).get(b);if((M==null?void 0:M.key)===p||(M?((j=M.filter)==null||j.remove(),M.key=p,M.url="none",M.filter=null):(M={key:p,url:"none",filter:null},R(this,Ct,Wp).set(b,M)),!n||!i))return M.url;const t=pe(this,Ct,$p).call(this,n);n=Ut.makeHexColor(...t);const A=pe(this,Ct,$p).call(this,i);if(i=Ut.makeHexColor(...A),R(this,Ct,uh).style.color="",n==="#000000"&&i==="#ffffff"||n===i)return M.url;const y=new Array(256);for(let o=0;o<=255;o++){const h=o/255;y[o]=h<=.03928?h/12.92:((h+.055)/1.055)**2.4}const d=y.join(","),c=`g_${R(this,Po)}_hcm_filter`,u=M.filter=pe(this,Ct,dh).call(this,c);pe(this,Ct,Yp).call(this,d,d,d,u),pe(this,Ct,_w).call(this,u);const x=(o,h)=>{const f=t[o]/255,l=A[o]/255,m=new Array(h+1);for(let _=0;_<=h;_++)m[_]=f+_/h*(l-f);return m.join(",")};return pe(this,Ct,Yp).call(this,x(0,5),x(1,5),x(2,5),u),M.url=pe(this,Ct,ch).call(this,c),M.url}addAlphaFilter(n){let i=R(this,Ct,bs).get(n);if(i)return i;const[p]=pe(this,Ct,Zv).call(this,[n]),b=`alpha_${p}`;if(i=R(this,Ct,bs).get(b),i)return R(this,Ct,bs).set(n,i),i;const M=`g_${R(this,Po)}_alpha_map_${Cs(this,kc)._++}`,t=pe(this,Ct,ch).call(this,M);R(this,Ct,bs).set(n,t),R(this,Ct,bs).set(b,t);const A=pe(this,Ct,dh).call(this,M);return pe(this,Ct,ww).call(this,p,A),t}addLuminosityFilter(n){let i=R(this,Ct,bs).get(n||"luminosity");if(i)return i;let p,b;if(n?([p]=pe(this,Ct,Zv).call(this,[n]),b=`luminosity_${p}`):b="luminosity",i=R(this,Ct,bs).get(b),i)return R(this,Ct,bs).set(n,i),i;const M=`g_${R(this,Po)}_luminosity_map_${Cs(this,kc)._++}`,t=pe(this,Ct,ch).call(this,M);R(this,Ct,bs).set(n,t),R(this,Ct,bs).set(b,t);const A=pe(this,Ct,dh).call(this,M);return pe(this,Ct,hM).call(this,A),n&&pe(this,Ct,ww).call(this,p,A),t}addHighlightHCMFilter(n,i,p,b,M){var l;const t=`${i}-${p}-${b}-${M}`;let A=R(this,Ct,Wp).get(n);if((A==null?void 0:A.key)===t||(A?((l=A.filter)==null||l.remove(),A.key=t,A.url="none",A.filter=null):(A={key:t,url:"none",filter:null},R(this,Ct,Wp).set(n,A)),!i||!p))return A.url;const[y,d]=[i,p].map(pe(this,Ct,$p).bind(this));let c=Math.round(.2126*y[0]+.7152*y[1]+.0722*y[2]),u=Math.round(.2126*d[0]+.7152*d[1]+.0722*d[2]),[x,j]=[b,M].map(pe(this,Ct,$p).bind(this));u<c&&([c,u,x,j]=[u,c,j,x]),R(this,Ct,uh).style.color="";const o=(m,_,w)=>{const v=new Array(256),E=(u-c)/w,C=m/255,O=(_-m)/(255*w);let U=0;for(let N=0;N<=w;N++){const D=Math.round(c+N*E),H=C+N*O;for(let I=U;I<=D;I++)v[I]=H;U=D+1}for(let N=U;N<256;N++)v[N]=v[U-1];return v.join(",")},h=`g_${R(this,Po)}_hcm_${n}_filter`,f=A.filter=pe(this,Ct,dh).call(this,h);return pe(this,Ct,_w).call(this,f),pe(this,Ct,Yp).call(this,o(x[0],j[0],5),o(x[1],j[1],5),o(x[2],j[2],5),f),A.url=pe(this,Ct,ch).call(this,h),A.url}destroy(n=!1){var i,p,b,M;n&&((i=R(this,Rc))!=null&&i.size)||((p=R(this,Do))==null||p.parentNode.parentNode.remove(),ne(this,Do,null),(b=R(this,Gh))==null||b.clear(),ne(this,Gh,null),(M=R(this,Rc))==null||M.clear(),ne(this,Rc,null),ne(this,kc,0))}}Cc=new WeakMap,Gh=new WeakMap,Do=new WeakMap,Po=new WeakMap,ws=new WeakMap,Rc=new WeakMap,kc=new WeakMap,Ct=new WeakSet,bs=function(){return R(this,Gh)||ne(this,Gh,new Map)},Wp=function(){return R(this,Rc)||ne(this,Rc,new Map)},uh=function(){if(!R(this,Do)){const n=R(this,ws).createElement("div"),{style:i}=n;i.visibility="hidden",i.contain="strict",i.width=i.height=0,i.position="absolute",i.top=i.left=0,i.zIndex=-1;const p=R(this,ws).createElementNS(bo,"svg");p.setAttribute("width",0),p.setAttribute("height",0),ne(this,Do,R(this,ws).createElementNS(bo,"defs")),n.append(p),p.append(R(this,Do)),R(this,ws).body.append(n)}return R(this,Do)},Zv=function(n){if(n.length===1){const y=n[0],d=new Array(256);for(let u=0;u<256;u++)d[u]=y[u]/255;const c=d.join(",");return[c,c,c]}const[i,p,b]=n,M=new Array(256),t=new Array(256),A=new Array(256);for(let y=0;y<256;y++)M[y]=i[y]/255,t[y]=p[y]/255,A[y]=b[y]/255;return[M.join(","),t.join(","),A.join(",")]},ch=function(n){if(R(this,Cc)===void 0){ne(this,Cc,"");const i=R(this,ws).URL;i!==R(this,ws).baseURI&&(ey(i)?Zt('#createUrl: ignore "data:"-URL for performance reasons.'):ne(this,Cc,Ox(i,"")))}return`url(${R(this,Cc)}#${n})`},hM=function(n){const i=R(this,ws).createElementNS(bo,"feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),n.append(i)},_w=function(n){const i=R(this,ws).createElementNS(bo,"feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),n.append(i)},dh=function(n){const i=R(this,ws).createElementNS(bo,"filter");return i.setAttribute("color-interpolation-filters","sRGB"),i.setAttribute("id",n),R(this,Ct,uh).append(i),i},Xp=function(n,i,p){const b=R(this,ws).createElementNS(bo,i);b.setAttribute("type","discrete"),b.setAttribute("tableValues",p),n.append(b)},Yp=function(n,i,p,b){const M=R(this,ws).createElementNS(bo,"feComponentTransfer");b.append(M),pe(this,Ct,Xp).call(this,M,"feFuncR",n),pe(this,Ct,Xp).call(this,M,"feFuncG",i),pe(this,Ct,Xp).call(this,M,"feFuncB",p)},ww=function(n,i){const p=R(this,ws).createElementNS(bo,"feComponentTransfer");i.append(p),pe(this,Ct,Xp).call(this,p,"feFuncA",n)},$p=function(n){return R(this,Ct,uh).style.color=n,Px(getComputedStyle(R(this,Ct,uh)).getPropertyValue("color"))};class fM{constructor({baseUrl:r=null}){this.baseUrl=r}async fetch({filename:r}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!r)throw new Error("Font filename must be specified.");const n=`${this.baseUrl}${r}`;return this._fetch(n).catch(i=>{throw new Error(`Unable to load font data at: ${n}`)})}async _fetch(r){Vr("Abstract method `_fetch` called.")}}class GE extends fM{async _fetch(r){const n=await If(r,"arraybuffer");return new Uint8Array(n)}}class pM{constructor({baseUrl:r=null}){this.baseUrl=r}async fetch({filename:r}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!r)throw new Error("Wasm filename must be specified.");const n=`${this.baseUrl}${r}`;return this._fetch(n).catch(i=>{throw new Error(`Unable to load wasm data at: ${n}`)})}async _fetch(r){Vr("Abstract method `_fetch` called.")}}class zE extends pM{async _fetch(r){const n=await If(r,"arraybuffer");return new Uint8Array(n)}}Ps&&Zt("Please use the `legacy` build in Node.js environments.");async function Ix(T){const n=await process.getBuiltinModule("fs").promises.readFile(T);return new Uint8Array(n)}class H5 extends dM{}class V5 extends uM{_createCanvas(r,n){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(r,n)}}class q5 extends cM{async _fetch(r){return Ix(r)}}class W5 extends fM{async _fetch(r){return Ix(r)}}class X5 extends pM{async _fetch(r){return Ix(r)}}const fs={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function xw(T,r){if(!r)return;const n=r[2]-r[0],i=r[3]-r[1],p=new Path2D;p.rect(r[0],r[1],n,i),T.clip(p)}class Fx{isModifyingCurrentTransform(){return!1}getPattern(){Vr("Abstract method `getPattern` called.")}}class Y5 extends Fx{constructor(r){super(),this._type=r[1],this._bbox=r[2],this._colorStops=r[3],this._p0=r[4],this._p1=r[5],this._r0=r[6],this._r1=r[7],this.matrix=null}_createGradient(r){let n;this._type==="axial"?n=r.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(n=r.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const i of this._colorStops)n.addColorStop(i[0],i[1]);return n}getPattern(r,n,i,p){let b;if(p===fs.STROKE||p===fs.FILL){const M=n.current.getClippedPathBoundingBox(p,pn(r))||[0,0,0,0],t=Math.ceil(M[2]-M[0])||1,A=Math.ceil(M[3]-M[1])||1,y=n.cachedCanvases.getCanvas("pattern",t,A),d=y.context;d.clearRect(0,0,d.canvas.width,d.canvas.height),d.beginPath(),d.rect(0,0,d.canvas.width,d.canvas.height),d.translate(-M[0],-M[1]),i=Ut.transform(i,[1,0,0,1,M[0],M[1]]),d.transform(...n.baseTransform),this.matrix&&d.transform(...this.matrix),xw(d,this._bbox),d.fillStyle=this._createGradient(d),d.fill(),b=r.createPattern(y.canvas,"no-repeat");const c=new DOMMatrix(i);b.setTransform(c)}else xw(r,this._bbox),b=this._createGradient(r);return b}}function M_(T,r,n,i,p,b,M,t){const A=r.coords,y=r.colors,d=T.data,c=T.width*4;let u;A[n+1]>A[i+1]&&(u=n,n=i,i=u,u=b,b=M,M=u),A[i+1]>A[p+1]&&(u=i,i=p,p=u,u=M,M=t,t=u),A[n+1]>A[i+1]&&(u=n,n=i,i=u,u=b,b=M,M=u);const x=(A[n]+r.offsetX)*r.scaleX,j=(A[n+1]+r.offsetY)*r.scaleY,o=(A[i]+r.offsetX)*r.scaleX,h=(A[i+1]+r.offsetY)*r.scaleY,f=(A[p]+r.offsetX)*r.scaleX,l=(A[p+1]+r.offsetY)*r.scaleY;if(j>=l)return;const m=y[b],_=y[b+1],w=y[b+2],v=y[M],E=y[M+1],C=y[M+2],O=y[t],U=y[t+1],N=y[t+2],D=Math.round(j),H=Math.round(l);let I,V,G,q,X,B,W,K;for(let ee=D;ee<=H;ee++){if(ee<h){const $=ee<j?0:(j-ee)/(j-h);I=x-(x-o)*$,V=m-(m-v)*$,G=_-(_-E)*$,q=w-(w-C)*$}else{let $;ee>l?$=1:h===l?$=0:$=(h-ee)/(h-l),I=o-(o-f)*$,V=v-(v-O)*$,G=E-(E-U)*$,q=C-(C-N)*$}let re;ee<j?re=0:ee>l?re=1:re=(j-ee)/(j-l),X=x-(x-f)*re,B=m-(m-O)*re,W=_-(_-U)*re,K=w-(w-N)*re;const oe=Math.round(Math.min(I,X)),le=Math.round(Math.max(I,X));let me=c*ee+oe*4;for(let $=oe;$<=le;$++)re=(I-$)/(I-X),re<0?re=0:re>1&&(re=1),d[me++]=V-(V-B)*re|0,d[me++]=G-(G-W)*re|0,d[me++]=q-(q-K)*re|0,d[me++]=255}}function $5(T,r,n){const i=r.coords,p=r.colors;let b,M;switch(r.type){case"lattice":const t=r.verticesPerRow,A=Math.floor(i.length/t)-1,y=t-1;for(b=0;b<A;b++){let d=b*t;for(let c=0;c<y;c++,d++)M_(T,n,i[d],i[d+1],i[d+t],p[d],p[d+1],p[d+t]),M_(T,n,i[d+t+1],i[d+1],i[d+t],p[d+t+1],p[d+1],p[d+t])}break;case"triangles":for(b=0,M=i.length;b<M;b+=3)M_(T,n,i[b],i[b+1],i[b+2],p[b],p[b+1],p[b+2]);break;default:throw new Error("illegal figure")}}class Z5 extends Fx{constructor(r){super(),this._coords=r[2],this._colors=r[3],this._figures=r[4],this._bounds=r[5],this._bbox=r[6],this._background=r[7],this.matrix=null}_createMeshCanvas(r,n,i){const t=Math.floor(this._bounds[0]),A=Math.floor(this._bounds[1]),y=Math.ceil(this._bounds[2])-t,d=Math.ceil(this._bounds[3])-A,c=Math.min(Math.ceil(Math.abs(y*r[0]*1.1)),3e3),u=Math.min(Math.ceil(Math.abs(d*r[1]*1.1)),3e3),x=y/c,j=d/u,o={coords:this._coords,colors:this._colors,offsetX:-t,offsetY:-A,scaleX:1/x,scaleY:1/j},h=c+2*2,f=u+2*2,l=i.getCanvas("mesh",h,f),m=l.context,_=m.createImageData(c,u);if(n){const v=_.data;for(let E=0,C=v.length;E<C;E+=4)v[E]=n[0],v[E+1]=n[1],v[E+2]=n[2],v[E+3]=255}for(const v of this._figures)$5(_,v,o);return m.putImageData(_,2,2),{canvas:l.canvas,offsetX:t-2*x,offsetY:A-2*j,scaleX:x,scaleY:j}}isModifyingCurrentTransform(){return!0}getPattern(r,n,i,p){xw(r,this._bbox);const b=new Float32Array(2);if(p===fs.SHADING)Ut.singularValueDecompose2dScale(pn(r),b);else if(this.matrix){Ut.singularValueDecompose2dScale(this.matrix,b);const[t,A]=b;Ut.singularValueDecompose2dScale(n.baseTransform,b),b[0]*=t,b[1]*=A}else Ut.singularValueDecompose2dScale(n.baseTransform,b);const M=this._createMeshCanvas(b,p===fs.SHADING?null:this._background,n.cachedCanvases);return p!==fs.SHADING&&(r.setTransform(...n.baseTransform),this.matrix&&r.transform(...this.matrix)),r.translate(M.offsetX,M.offsetY),r.scale(M.scaleX,M.scaleY),r.createPattern(M.canvas,"no-repeat")}}class K5 extends Fx{getPattern(){return"hotpink"}}function Q5(T){switch(T[0]){case"RadialAxial":return new Y5(T);case"Mesh":return new Z5(T);case"Dummy":return new K5}throw new Error(`Unknown IR type: ${T[0]}`)}const HE={COLORED:1,UNCOLORED:2},I0=class I0{constructor(r,n,i,p){this.color=r[1],this.operatorList=r[2],this.matrix=r[3],this.bbox=r[4],this.xstep=r[5],this.ystep=r[6],this.paintType=r[7],this.tilingType=r[8],this.ctx=n,this.canvasGraphicsFactory=i,this.baseTransform=p}createPatternCanvas(r){const{bbox:n,operatorList:i,paintType:p,tilingType:b,color:M,canvasGraphicsFactory:t}=this;let{xstep:A,ystep:y}=this;A=Math.abs(A),y=Math.abs(y),ib("TilingType: "+b);const d=n[0],c=n[1],u=n[2],x=n[3],j=u-d,o=x-c,h=new Float32Array(2);Ut.singularValueDecompose2dScale(this.matrix,h);const[f,l]=h;Ut.singularValueDecompose2dScale(this.baseTransform,h);const m=f*h[0],_=l*h[1];let w=j,v=o,E=!1,C=!1;const O=Math.ceil(A*m),U=Math.ceil(y*_),N=Math.ceil(j*m),D=Math.ceil(o*_);O>=N?w=A:E=!0,U>=D?v=y:C=!0;const H=this.getSizeAndScale(w,this.ctx.canvas.width,m),I=this.getSizeAndScale(v,this.ctx.canvas.height,_),V=r.cachedCanvases.getCanvas("pattern",H.size,I.size),G=V.context,q=t.createCanvasGraphics(G);if(q.groupLevel=r.groupLevel,this.setFillAndStrokeStyleToContext(q,p,M),G.translate(-H.scale*d,-I.scale*c),q.transform(H.scale,0,0,I.scale,0,0),G.save(),this.clipBbox(q,d,c,u,x),q.baseTransform=pn(q.ctx),q.executeOperatorList(i),q.endDrawing(),G.restore(),E||C){const X=V.canvas;E&&(w=A),C&&(v=y);const B=this.getSizeAndScale(w,this.ctx.canvas.width,m),W=this.getSizeAndScale(v,this.ctx.canvas.height,_),K=B.size,ee=W.size,re=r.cachedCanvases.getCanvas("pattern-workaround",K,ee),oe=re.context,le=E?Math.floor(j/A):0,me=C?Math.floor(o/y):0;for(let $=0;$<=le;$++)for(let Q=0;Q<=me;Q++)oe.drawImage(X,K*$,ee*Q,K,ee,0,0,K,ee);return{canvas:re.canvas,scaleX:B.scale,scaleY:W.scale,offsetX:d,offsetY:c}}return{canvas:V.canvas,scaleX:H.scale,scaleY:I.scale,offsetX:d,offsetY:c}}getSizeAndScale(r,n,i){const p=Math.max(I0.MAX_PATTERN_SIZE,n);let b=Math.ceil(r*i);return b>=p?b=p:i=b/r,{scale:i,size:b}}clipBbox(r,n,i,p,b){const M=p-n,t=b-i;r.ctx.rect(n,i,M,t),Ut.axialAlignedBoundingBox([n,i,p,b],pn(r.ctx),r.current.minMax),r.clip(),r.endPath()}setFillAndStrokeStyleToContext(r,n,i){const p=r.ctx,b=r.current;switch(n){case HE.COLORED:const{fillStyle:M,strokeStyle:t}=this.ctx;p.fillStyle=b.fillColor=M,p.strokeStyle=b.strokeColor=t;break;case HE.UNCOLORED:p.fillStyle=p.strokeStyle=i,b.fillColor=b.strokeColor=i;break;default:throw new x5(`Unsupported paint type: ${n}`)}}isModifyingCurrentTransform(){return!1}getPattern(r,n,i,p){let b=i;p!==fs.SHADING&&(b=Ut.transform(b,n.baseTransform),this.matrix&&(b=Ut.transform(b,this.matrix)));const M=this.createPatternCanvas(n);let t=new DOMMatrix(b);t=t.translate(M.offsetX,M.offsetY),t=t.scale(1/M.scaleX,1/M.scaleY);const A=r.createPattern(M.canvas,"repeat");return A.setTransform(t),A}};yt(I0,"MAX_PATTERN_SIZE",3e3);let Sw=I0;function J5({src:T,srcPos:r=0,dest:n,width:i,height:p,nonBlackColor:b=4294967295,inverseDecode:M=!1}){const t=ns.isLittleEndian?4278190080:255,[A,y]=M?[b,t]:[t,b],d=i>>3,c=i&7,u=T.length;n=new Uint32Array(n.buffer);let x=0;for(let j=0;j<p;j++){for(const h=r+d;r<h;r++){const f=r<u?T[r]:255;n[x++]=f&128?y:A,n[x++]=f&64?y:A,n[x++]=f&32?y:A,n[x++]=f&16?y:A,n[x++]=f&8?y:A,n[x++]=f&4?y:A,n[x++]=f&2?y:A,n[x++]=f&1?y:A}if(c===0)continue;const o=r<u?T[r++]:255;for(let h=0;h<c;h++)n[x++]=o&1<<7-h?y:A}return{srcPos:r,destPos:x}}const VE=16,qE=100,eD=15,WE=10,Ys=16,C_=new DOMMatrix,gi=new Float32Array(2),yh=new Float32Array([1/0,1/0,-1/0,-1/0]);function tD(T,r){if(T._removeMirroring)throw new Error("Context is already forwarding operations.");T.__originalSave=T.save,T.__originalRestore=T.restore,T.__originalRotate=T.rotate,T.__originalScale=T.scale,T.__originalTranslate=T.translate,T.__originalTransform=T.transform,T.__originalSetTransform=T.setTransform,T.__originalResetTransform=T.resetTransform,T.__originalClip=T.clip,T.__originalMoveTo=T.moveTo,T.__originalLineTo=T.lineTo,T.__originalBezierCurveTo=T.bezierCurveTo,T.__originalRect=T.rect,T.__originalClosePath=T.closePath,T.__originalBeginPath=T.beginPath,T._removeMirroring=()=>{T.save=T.__originalSave,T.restore=T.__originalRestore,T.rotate=T.__originalRotate,T.scale=T.__originalScale,T.translate=T.__originalTranslate,T.transform=T.__originalTransform,T.setTransform=T.__originalSetTransform,T.resetTransform=T.__originalResetTransform,T.clip=T.__originalClip,T.moveTo=T.__originalMoveTo,T.lineTo=T.__originalLineTo,T.bezierCurveTo=T.__originalBezierCurveTo,T.rect=T.__originalRect,T.closePath=T.__originalClosePath,T.beginPath=T.__originalBeginPath,delete T._removeMirroring},T.save=function(){r.save(),this.__originalSave()},T.restore=function(){r.restore(),this.__originalRestore()},T.translate=function(n,i){r.translate(n,i),this.__originalTranslate(n,i)},T.scale=function(n,i){r.scale(n,i),this.__originalScale(n,i)},T.transform=function(n,i,p,b,M,t){r.transform(n,i,p,b,M,t),this.__originalTransform(n,i,p,b,M,t)},T.setTransform=function(n,i,p,b,M,t){r.setTransform(n,i,p,b,M,t),this.__originalSetTransform(n,i,p,b,M,t)},T.resetTransform=function(){r.resetTransform(),this.__originalResetTransform()},T.rotate=function(n){r.rotate(n),this.__originalRotate(n)},T.clip=function(n){r.clip(n),this.__originalClip(n)},T.moveTo=function(n,i){r.moveTo(n,i),this.__originalMoveTo(n,i)},T.lineTo=function(n,i){r.lineTo(n,i),this.__originalLineTo(n,i)},T.bezierCurveTo=function(n,i,p,b,M,t){r.bezierCurveTo(n,i,p,b,M,t),this.__originalBezierCurveTo(n,i,p,b,M,t)},T.rect=function(n,i,p,b){r.rect(n,i,p,b),this.__originalRect(n,i,p,b)},T.closePath=function(){r.closePath(),this.__originalClosePath()},T.beginPath=function(){r.beginPath(),this.__originalBeginPath()}}class rD{constructor(r){this.canvasFactory=r,this.cache=Object.create(null)}getCanvas(r,n,i){let p;return this.cache[r]!==void 0?(p=this.cache[r],this.canvasFactory.reset(p,n,i)):(p=this.canvasFactory.create(n,i),this.cache[r]=p),p}delete(r){delete this.cache[r]}clear(){for(const r in this.cache){const n=this.cache[r];this.canvasFactory.destroy(n),delete this.cache[r]}}}function kv(T,r,n,i,p,b,M,t,A,y){const[d,c,u,x,j,o]=pn(T);if(c===0&&u===0){const l=M*d+j,m=Math.round(l),_=t*x+o,w=Math.round(_),v=(M+A)*d+j,E=Math.abs(Math.round(v)-m)||1,C=(t+y)*x+o,O=Math.abs(Math.round(C)-w)||1;return T.setTransform(Math.sign(d),0,0,Math.sign(x),m,w),T.drawImage(r,n,i,p,b,0,0,E,O),T.setTransform(d,c,u,x,j,o),[E,O]}if(d===0&&x===0){const l=t*u+j,m=Math.round(l),_=M*c+o,w=Math.round(_),v=(t+y)*u+j,E=Math.abs(Math.round(v)-m)||1,C=(M+A)*c+o,O=Math.abs(Math.round(C)-w)||1;return T.setTransform(0,Math.sign(c),Math.sign(u),0,m,w),T.drawImage(r,n,i,p,b,0,0,O,E),T.setTransform(d,c,u,x,j,o),[O,E]}T.drawImage(r,n,i,p,b,M,t,A,y);const h=Math.hypot(d,c),f=Math.hypot(u,x);return[h*A,f*y]}class XE{constructor(r,n){yt(this,"alphaIsShape",!1);yt(this,"fontSize",0);yt(this,"fontSizeScale",1);yt(this,"textMatrix",null);yt(this,"textMatrixScale",1);yt(this,"fontMatrix",ew);yt(this,"leading",0);yt(this,"x",0);yt(this,"y",0);yt(this,"lineX",0);yt(this,"lineY",0);yt(this,"charSpacing",0);yt(this,"wordSpacing",0);yt(this,"textHScale",1);yt(this,"textRenderingMode",vs.FILL);yt(this,"textRise",0);yt(this,"fillColor","#000000");yt(this,"strokeColor","#000000");yt(this,"patternFill",!1);yt(this,"patternStroke",!1);yt(this,"fillAlpha",1);yt(this,"strokeAlpha",1);yt(this,"lineWidth",1);yt(this,"activeSMask",null);yt(this,"transferMaps","none");this.clipBox=new Float32Array([0,0,r,n]),this.minMax=yh.slice()}clone(){const r=Object.create(this);return r.clipBox=this.clipBox.slice(),r.minMax=this.minMax.slice(),r}getPathBoundingBox(r=fs.FILL,n=null){const i=this.minMax.slice();if(r===fs.STROKE){n||Vr("Stroke bounding box must include transform."),Ut.singularValueDecompose2dScale(n,gi);const p=gi[0]*this.lineWidth/2,b=gi[1]*this.lineWidth/2;i[0]-=p,i[1]-=b,i[2]+=p,i[3]+=b}return i}updateClipFromPath(){const r=Ut.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(r||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(r){this.clipBox.set(r,0),this.minMax.set(yh,0)}getClippedPathBoundingBox(r=fs.FILL,n=null){return Ut.intersect(this.clipBox,this.getPathBoundingBox(r,n))}}function YE(T,r){if(r instanceof ImageData){T.putImageData(r,0,0);return}const n=r.height,i=r.width,p=n%Ys,b=(n-p)/Ys,M=p===0?b:b+1,t=T.createImageData(i,Ys);let A=0,y;const d=r.data,c=t.data;let u,x,j,o;if(r.kind===om.GRAYSCALE_1BPP){const h=d.byteLength,f=new Uint32Array(c.buffer,0,c.byteLength>>2),l=f.length,m=i+7>>3,_=4294967295,w=ns.isLittleEndian?4278190080:255;for(u=0;u<M;u++){for(j=u<b?Ys:p,y=0,x=0;x<j;x++){const v=h-A;let E=0;const C=v>m?i:v*8-7,O=C&-8;let U=0,N=0;for(;E<O;E+=8)N=d[A++],f[y++]=N&128?_:w,f[y++]=N&64?_:w,f[y++]=N&32?_:w,f[y++]=N&16?_:w,f[y++]=N&8?_:w,f[y++]=N&4?_:w,f[y++]=N&2?_:w,f[y++]=N&1?_:w;for(;E<C;E++)U===0&&(N=d[A++],U=128),f[y++]=N&U?_:w,U>>=1}for(;y<l;)f[y++]=0;T.putImageData(t,0,u*Ys)}}else if(r.kind===om.RGBA_32BPP){for(x=0,o=i*Ys*4,u=0;u<b;u++)c.set(d.subarray(A,A+o)),A+=o,T.putImageData(t,0,x),x+=Ys;u<M&&(o=i*p*4,c.set(d.subarray(A,A+o)),T.putImageData(t,0,x))}else if(r.kind===om.RGB_24BPP)for(j=Ys,o=i*j,u=0;u<M;u++){for(u>=b&&(j=p,o=i*j),y=0,x=o;x--;)c[y++]=d[A++],c[y++]=d[A++],c[y++]=d[A++],c[y++]=255;T.putImageData(t,0,u*Ys)}else throw new Error(`bad image kind: ${r.kind}`)}function $E(T,r){if(r.bitmap){T.drawImage(r.bitmap,0,0);return}const n=r.height,i=r.width,p=n%Ys,b=(n-p)/Ys,M=p===0?b:b+1,t=T.createImageData(i,Ys);let A=0;const y=r.data,d=t.data;for(let c=0;c<M;c++){const u=c<b?Ys:p;({srcPos:A}=J5({src:y,srcPos:A,dest:d,width:i,height:u,nonBlackColor:0})),T.putImageData(t,0,c*Ys)}}function Dp(T,r){const n=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const i of n)T[i]!==void 0&&(r[i]=T[i]);T.setLineDash!==void 0&&(r.setLineDash(T.getLineDash()),r.lineDashOffset=T.lineDashOffset)}function Ov(T){T.strokeStyle=T.fillStyle="#000000",T.fillRule="nonzero",T.globalAlpha=1,T.lineWidth=1,T.lineCap="butt",T.lineJoin="miter",T.miterLimit=10,T.globalCompositeOperation="source-over",T.font="10px sans-serif",T.setLineDash!==void 0&&(T.setLineDash([]),T.lineDashOffset=0);const{filter:r}=T;r!=="none"&&r!==""&&(T.filter="none")}function ZE(T,r){if(r)return!0;Ut.singularValueDecompose2dScale(T,gi);const n=Math.fround(ca.pixelRatio*ol.PDF_TO_CSS_UNITS);return gi[0]<=n&&gi[1]<=n}const nD=["butt","round","square"],sD=["miter","round","bevel"],iD={},KE={};var da,jw,Ew,Aw;const $x=class $x{constructor(r,n,i,p,b,{optionalContentConfig:M,markedContentStack:t=null},A,y){ce(this,da);this.ctx=r,this.current=new XE(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=n,this.objs=i,this.canvasFactory=p,this.filterFactory=b,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=t||[],this.optionalContentConfig=M,this.cachedCanvases=new rD(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=A,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=y,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(r,n=null){return typeof r=="string"?r.startsWith("g_")?this.commonObjs.get(r):this.objs.get(r):n}beginDrawing({transform:r,viewport:n,transparency:i=!1,background:p=null}){const b=this.ctx.canvas.width,M=this.ctx.canvas.height,t=this.ctx.fillStyle;if(this.ctx.fillStyle=p||"#ffffff",this.ctx.fillRect(0,0,b,M),this.ctx.fillStyle=t,i){const A=this.cachedCanvases.getCanvas("transparent",b,M);this.compositeCtx=this.ctx,this.transparentCanvas=A.canvas,this.ctx=A.context,this.ctx.save(),this.ctx.transform(...pn(this.compositeCtx))}this.ctx.save(),Ov(this.ctx),r&&(this.ctx.transform(...r),this.outputScaleX=r[0],this.outputScaleY=r[0]),this.ctx.transform(...n.transform),this.viewportScale=n.scale,this.baseTransform=pn(this.ctx)}executeOperatorList(r,n,i,p){const b=r.argsArray,M=r.fnArray;let t=n||0;const A=b.length;if(A===t)return t;const y=A-t>WE&&typeof i=="function",d=y?Date.now()+eD:0;let c=0;const u=this.commonObjs,x=this.objs;let j;for(;;){if(p!==void 0&&t===p.nextBreakPoint)return p.breakIt(t,i),t;if(j=M[t],j!==dm.dependency)this[j].apply(this,b[t]);else for(const o of b[t]){const h=o.startsWith("g_")?u:x;if(!h.has(o))return h.get(o,i),t}if(t++,t===A)return t;if(y&&++c>WE){if(Date.now()>d)return i(),t;c=0}}}endDrawing(){pe(this,da,jw).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const r of this._cachedBitmapsMap.values()){for(const n of r.values())typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&(n.width=n.height=0);r.clear()}this._cachedBitmapsMap.clear(),pe(this,da,Ew).call(this)}_scaleImage(r,n){const i=r.width??r.displayWidth,p=r.height??r.displayHeight;let b=Math.max(Math.hypot(n[0],n[1]),1),M=Math.max(Math.hypot(n[2],n[3]),1),t=i,A=p,y="prescale1",d,c;for(;b>2&&t>1||M>2&&A>1;){let u=t,x=A;b>2&&t>1&&(u=t>=16384?Math.floor(t/2)-1||1:Math.ceil(t/2),b/=t/u),M>2&&A>1&&(x=A>=16384?Math.floor(A/2)-1||1:Math.ceil(A)/2,M/=A/x),d=this.cachedCanvases.getCanvas(y,u,x),c=d.context,c.clearRect(0,0,u,x),c.drawImage(r,0,0,t,A,0,0,u,x),r=d.canvas,t=u,A=x,y=y==="prescale1"?"prescale2":"prescale1"}return{img:r,paintWidth:t,paintHeight:A}}_createMaskCanvas(r){const n=this.ctx,{width:i,height:p}=r,b=this.current.fillColor,M=this.current.patternFill,t=pn(n);let A,y,d,c;if((r.bitmap||r.data)&&r.count>1){const O=r.bitmap||r.data.buffer;y=JSON.stringify(M?t:[t.slice(0,4),b]),A=this._cachedBitmapsMap.get(O),A||(A=new Map,this._cachedBitmapsMap.set(O,A));const U=A.get(y);if(U&&!M){const N=Math.round(Math.min(t[0],t[2])+t[4]),D=Math.round(Math.min(t[1],t[3])+t[5]);return{canvas:U,offsetX:N,offsetY:D}}d=U}d||(c=this.cachedCanvases.getCanvas("maskCanvas",i,p),$E(c.context,r));let u=Ut.transform(t,[1/i,0,0,-1/p,0,0]);u=Ut.transform(u,[1,0,0,1,0,-p]);const x=yh.slice();Ut.axialAlignedBoundingBox([0,0,i,p],u,x);const[j,o,h,f]=x,l=Math.round(h-j)||1,m=Math.round(f-o)||1,_=this.cachedCanvases.getCanvas("fillCanvas",l,m),w=_.context,v=j,E=o;w.translate(-v,-E),w.transform(...u),d||(d=this._scaleImage(c.canvas,Sa(w)),d=d.img,A&&M&&A.set(y,d)),w.imageSmoothingEnabled=ZE(pn(w),r.interpolate),kv(w,d,0,0,d.width,d.height,0,0,i,p),w.globalCompositeOperation="source-in";const C=Ut.transform(Sa(w),[1,0,0,1,-v,-E]);return w.fillStyle=M?b.getPattern(n,this,C,fs.FILL):b,w.fillRect(0,0,i,p),A&&!M&&(this.cachedCanvases.delete("fillCanvas"),A.set(y,_.canvas)),{canvas:_.canvas,offsetX:Math.round(v),offsetY:Math.round(E)}}setLineWidth(r){r!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=r,this.ctx.lineWidth=r}setLineCap(r){this.ctx.lineCap=nD[r]}setLineJoin(r){this.ctx.lineJoin=sD[r]}setMiterLimit(r){this.ctx.miterLimit=r}setDash(r,n){const i=this.ctx;i.setLineDash!==void 0&&(i.setLineDash(r),i.lineDashOffset=n)}setRenderingIntent(r){}setFlatness(r){}setGState(r){for(const[n,i]of r)switch(n){case"LW":this.setLineWidth(i);break;case"LC":this.setLineCap(i);break;case"LJ":this.setLineJoin(i);break;case"ML":this.setMiterLimit(i);break;case"D":this.setDash(i[0],i[1]);break;case"RI":this.setRenderingIntent(i);break;case"FL":this.setFlatness(i);break;case"Font":this.setFont(i[0],i[1]);break;case"CA":this.current.strokeAlpha=i;break;case"ca":this.ctx.globalAlpha=this.current.fillAlpha=i;break;case"BM":this.ctx.globalCompositeOperation=i;break;case"SMask":this.current.activeSMask=i?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(i);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const r=this.inSMaskMode;this.current.activeSMask&&!r?this.beginSMaskMode():!this.current.activeSMask&&r&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const r=this.ctx.canvas.width,n=this.ctx.canvas.height,i="smaskGroupAt"+this.groupLevel,p=this.cachedCanvases.getCanvas(i,r,n);this.suspendedCtx=this.ctx;const b=this.ctx=p.context;b.setTransform(this.suspendedCtx.getTransform()),Dp(this.suspendedCtx,b),tD(b,this.suspendedCtx),this.setGState([["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Dp(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(r){if(!this.current.activeSMask)return;r?(r[0]=Math.floor(r[0]),r[1]=Math.floor(r[1]),r[2]=Math.ceil(r[2]),r[3]=Math.ceil(r[3])):r=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const n=this.current.activeSMask,i=this.suspendedCtx;this.composeSMask(i,n,this.ctx,r),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(r,n,i,p){const b=p[0],M=p[1],t=p[2]-b,A=p[3]-M;t===0||A===0||(this.genericComposeSMask(n.context,i,t,A,n.subtype,n.backdrop,n.transferMap,b,M,n.offsetX,n.offsetY),r.save(),r.globalAlpha=1,r.globalCompositeOperation="source-over",r.setTransform(1,0,0,1,0,0),r.drawImage(i.canvas,0,0),r.restore())}genericComposeSMask(r,n,i,p,b,M,t,A,y,d,c){let u=r.canvas,x=A-d,j=y-c;if(M)if(x<0||j<0||x+i>u.width||j+p>u.height){const h=this.cachedCanvases.getCanvas("maskExtension",i,p),f=h.context;f.drawImage(u,-x,-j),f.globalCompositeOperation="destination-atop",f.fillStyle=M,f.fillRect(0,0,i,p),f.globalCompositeOperation="source-over",u=h.canvas,x=j=0}else{r.save(),r.globalAlpha=1,r.setTransform(1,0,0,1,0,0);const h=new Path2D;h.rect(x,j,i,p),r.clip(h),r.globalCompositeOperation="destination-atop",r.fillStyle=M,r.fillRect(x,j,i,p),r.restore()}n.save(),n.globalAlpha=1,n.setTransform(1,0,0,1,0,0),b==="Alpha"&&t?n.filter=this.filterFactory.addAlphaFilter(t):b==="Luminosity"&&(n.filter=this.filterFactory.addLuminosityFilter(t));const o=new Path2D;o.rect(A,y,i,p),n.clip(o),n.globalCompositeOperation="destination-in",n.drawImage(u,x,j,i,p,A,y,i,p),n.restore()}save(){this.inSMaskMode&&Dp(this.ctx,this.suspendedCtx),this.ctx.save();const r=this.current;this.stateStack.push(r),this.current=r.clone()}restore(){if(this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&Dp(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(r,n,i,p,b,M){this.ctx.transform(r,n,i,p,b,M),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(r,n,i){let[p]=n;if(!i){p||(p=n[0]=new Path2D),this[r](p);return}if(!(p instanceof Path2D)){const b=n[0]=new Path2D;for(let M=0,t=p.length;M<t;)switch(p[M++]){case Mv.moveTo:b.moveTo(p[M++],p[M++]);break;case Mv.lineTo:b.lineTo(p[M++],p[M++]);break;case Mv.curveTo:b.bezierCurveTo(p[M++],p[M++],p[M++],p[M++],p[M++],p[M++]);break;case Mv.closePath:b.closePath();break;default:Zt(`Unrecognized drawing path operator: ${p[M-1]}`);break}p=b}Ut.axialAlignedBoundingBox(i,pn(this.ctx),this.current.minMax),this[r](p)}closePath(){this.ctx.closePath()}stroke(r,n=!0){const i=this.ctx,p=this.current.strokeColor;if(i.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof p=="object"&&(p!=null&&p.getPattern)){const b=p.isModifyingCurrentTransform()?i.getTransform():null;if(i.save(),i.strokeStyle=p.getPattern(i,this,Sa(i),fs.STROKE),b){const M=new Path2D;M.addPath(r,i.getTransform().invertSelf().multiplySelf(b)),r=M}this.rescaleAndStroke(r,!1),i.restore()}else this.rescaleAndStroke(r,!0);n&&this.consumePath(r,this.current.getClippedPathBoundingBox(fs.STROKE,pn(this.ctx))),i.globalAlpha=this.current.fillAlpha}closeStroke(r){this.stroke(r)}fill(r,n=!0){const i=this.ctx,p=this.current.fillColor,b=this.current.patternFill;let M=!1;if(b){const A=p.isModifyingCurrentTransform()?i.getTransform():null;if(i.save(),i.fillStyle=p.getPattern(i,this,Sa(i),fs.FILL),A){const y=new Path2D;y.addPath(r,i.getTransform().invertSelf().multiplySelf(A)),r=y}M=!0}const t=this.current.getClippedPathBoundingBox();this.contentVisible&&t!==null&&(this.pendingEOFill?(i.fill(r,"evenodd"),this.pendingEOFill=!1):i.fill(r)),M&&i.restore(),n&&this.consumePath(r,t)}eoFill(r){this.pendingEOFill=!0,this.fill(r)}fillStroke(r){this.fill(r,!1),this.stroke(r,!1),this.consumePath(r)}eoFillStroke(r){this.pendingEOFill=!0,this.fillStroke(r)}closeFillStroke(r){this.fillStroke(r)}closeEOFillStroke(r){this.pendingEOFill=!0,this.fillStroke(r)}endPath(r){this.consumePath(r)}rawFillPath(r){this.ctx.fill(r)}clip(){this.pendingClip=iD}eoClip(){this.pendingClip=KE}beginText(){this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const r=this.pendingTextPaths,n=this.ctx;if(r===void 0)return;const i=new Path2D,p=n.getTransform().invertSelf();for(const{transform:b,x:M,y:t,fontSize:A,path:y}of r)i.addPath(y,new DOMMatrix(b).preMultiplySelf(p).translate(M,t).scale(A,-A));n.clip(i),delete this.pendingTextPaths}setCharSpacing(r){this.current.charSpacing=r}setWordSpacing(r){this.current.wordSpacing=r}setHScale(r){this.current.textHScale=r/100}setLeading(r){this.current.leading=-r}setFont(r,n){var d;const i=this.commonObjs.get(r),p=this.current;if(!i)throw new Error(`Can't find font for ${r}`);if(p.fontMatrix=i.fontMatrix||ew,(p.fontMatrix[0]===0||p.fontMatrix[3]===0)&&Zt("Invalid font matrix for font "+r),n<0?(n=-n,p.fontDirection=-1):p.fontDirection=1,this.current.font=i,this.current.fontSize=n,i.isType3Font)return;const b=i.loadedName||"sans-serif",M=((d=i.systemFontInfo)==null?void 0:d.css)||`"${b}", ${i.fallbackName}`;let t="normal";i.black?t="900":i.bold&&(t="bold");const A=i.italic?"italic":"normal";let y=n;n<VE?y=VE:n>qE&&(y=qE),this.current.fontSizeScale=n/y,this.ctx.font=`${A} ${t} ${y}px ${M}`}setTextRenderingMode(r){this.current.textRenderingMode=r}setTextRise(r){this.current.textRise=r}moveText(r,n){this.current.x=this.current.lineX+=r,this.current.y=this.current.lineY+=n}setLeadingMoveText(r,n){this.setLeading(-n),this.moveText(r,n)}setTextMatrix(r){const{current:n}=this;n.textMatrix=r,n.textMatrixScale=Math.hypot(r[0],r[1]),n.x=n.lineX=0,n.y=n.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(r,n,i,p,b){const M=this.ctx,t=this.current,A=t.font,y=t.textRenderingMode,d=t.fontSize/t.fontSizeScale,c=y&vs.FILL_STROKE_MASK,u=!!(y&vs.ADD_TO_PATH_FLAG),x=t.patternFill&&!A.missingFile,j=t.patternStroke&&!A.missingFile;let o;if((A.disableFontFace||u||x||j)&&(o=A.getPathGenerator(this.commonObjs,r)),A.disableFontFace||x||j){M.save(),M.translate(n,i),M.scale(d,-d);let h;if((c===vs.FILL||c===vs.FILL_STROKE)&&(p?(h=M.getTransform(),M.setTransform(...p),M.fill(pe(this,da,Aw).call(this,o,h,p))):M.fill(o)),c===vs.STROKE||c===vs.FILL_STROKE)if(b){h||(h=M.getTransform()),M.setTransform(...b);const{a:f,b:l,c:m,d:_}=h,w=Ut.inverseTransform(b),v=Ut.transform([f,l,m,_,0,0],w);Ut.singularValueDecompose2dScale(v,gi),M.lineWidth*=Math.max(gi[0],gi[1])/d,M.stroke(pe(this,da,Aw).call(this,o,h,b))}else M.lineWidth/=d,M.stroke(o);M.restore()}else(c===vs.FILL||c===vs.FILL_STROKE)&&M.fillText(r,n,i),(c===vs.STROKE||c===vs.FILL_STROKE)&&M.strokeText(r,n,i);u&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:pn(M),x:n,y:i,fontSize:d,path:o})}get isFontSubpixelAAEnabled(){const{context:r}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);r.scale(1.5,1),r.fillText("I",0,10);const n=r.getImageData(0,0,10,10).data;let i=!1;for(let p=3;p<n.length;p+=4)if(n[p]>0&&n[p]<255){i=!0;break}return dr(this,"isFontSubpixelAAEnabled",i)}showText(r){const n=this.current,i=n.font;if(i.isType3Font)return this.showType3Text(r);const p=n.fontSize;if(p===0)return;const b=this.ctx,M=n.fontSizeScale,t=n.charSpacing,A=n.wordSpacing,y=n.fontDirection,d=n.textHScale*y,c=r.length,u=i.vertical,x=u?1:-1,j=i.defaultVMetrics,o=p*n.fontMatrix[0],h=n.textRenderingMode===vs.FILL&&!i.disableFontFace&&!n.patternFill;b.save(),n.textMatrix&&b.transform(...n.textMatrix),b.translate(n.x,n.y+n.textRise),y>0?b.scale(d,-1):b.scale(d,1);let f,l;if(n.patternFill){b.save();const E=n.fillColor.getPattern(b,this,Sa(b),fs.FILL);f=pn(b),b.restore(),b.fillStyle=E}if(n.patternStroke){b.save();const E=n.strokeColor.getPattern(b,this,Sa(b),fs.STROKE);l=pn(b),b.restore(),b.strokeStyle=E}let m=n.lineWidth;const _=n.textMatrixScale;if(_===0||m===0){const E=n.textRenderingMode&vs.FILL_STROKE_MASK;(E===vs.STROKE||E===vs.FILL_STROKE)&&(m=this.getSinglePixelWidth())}else m/=_;if(M!==1&&(b.scale(M,M),m/=M),b.lineWidth=m,i.isInvalidPDFjsFont){const E=[];let C=0;for(const O of r)E.push(O.unicode),C+=O.width;b.fillText(E.join(""),0,0),n.x+=C*o*d,b.restore(),this.compose();return}let w=0,v;for(v=0;v<c;++v){const E=r[v];if(typeof E=="number"){w+=x*E*p/1e3;continue}let C=!1;const O=(E.isSpace?A:0)+t,U=E.fontChar,N=E.accent;let D,H,I=E.width;if(u){const G=E.vmetric||j,q=-(E.vmetric?G[1]:I*.5)*o,X=G[2]*o;I=G?-G[0]:I,D=q/M,H=(w+X)/M}else D=w/M,H=0;if(i.remeasure&&I>0){const G=b.measureText(U).width*1e3/p*M;if(I<G&&this.isFontSubpixelAAEnabled){const q=I/G;C=!0,b.save(),b.scale(q,1),D/=q}else I!==G&&(D+=(I-G)/2e3*p/M)}if(this.contentVisible&&(E.isInFont||i.missingFile)){if(h&&!N)b.fillText(U,D,H);else if(this.paintChar(U,D,H,f,l),N){const G=D+p*N.offset.x/M,q=H-p*N.offset.y/M;this.paintChar(N.fontChar,G,q,f,l)}}const V=u?I*o-O*y:I*o+O*y;w+=V,C&&b.restore()}u?n.y-=w:n.x+=w*d,b.restore(),this.compose()}showType3Text(r){const n=this.ctx,i=this.current,p=i.font,b=i.fontSize,M=i.fontDirection,t=p.vertical?1:-1,A=i.charSpacing,y=i.wordSpacing,d=i.textHScale*M,c=i.fontMatrix||ew,u=r.length,x=i.textRenderingMode===vs.INVISIBLE;let j,o,h,f;if(!(x||b===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,n.save(),i.textMatrix&&n.transform(...i.textMatrix),n.translate(i.x,i.y+i.textRise),n.scale(d,M),j=0;j<u;++j){if(o=r[j],typeof o=="number"){f=t*o*b/1e3,this.ctx.translate(f,0),i.x+=f*d;continue}const l=(o.isSpace?y:0)+A,m=p.charProcOperatorList[o.operatorListId];m?this.contentVisible&&(this.save(),n.scale(b,b),n.transform(...c),this.executeOperatorList(m),this.restore()):Zt(`Type3 character "${o.operatorListId}" is not available.`);const _=[o.width,0];Ut.applyTransform(_,c),h=_[0]*b+l,n.translate(h,0),i.x+=h*d}n.restore()}}setCharWidth(r,n){}setCharWidthAndBounds(r,n,i,p,b,M){const t=new Path2D;t.rect(i,p,b-i,M-p),this.ctx.clip(t),this.endPath()}getColorN_Pattern(r){let n;if(r[0]==="TilingPattern"){const i=this.baseTransform||pn(this.ctx),p={createCanvasGraphics:b=>new $x(b,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};n=new Sw(r,this.ctx,p,i)}else n=this._getPattern(r[1],r[2]);return n}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments),this.current.patternStroke=!0}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(r){this.ctx.strokeStyle=this.current.strokeColor=r,this.current.patternStroke=!1}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(r){this.ctx.fillStyle=this.current.fillColor=r,this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(r,n=null){let i;return this.cachedPatterns.has(r)?i=this.cachedPatterns.get(r):(i=Q5(this.getObject(r)),this.cachedPatterns.set(r,i)),n&&(i.matrix=n),i}shadingFill(r){if(!this.contentVisible)return;const n=this.ctx;this.save();const i=this._getPattern(r);n.fillStyle=i.getPattern(n,this,Sa(n),fs.SHADING);const p=Sa(n);if(p){const{width:b,height:M}=n.canvas,t=yh.slice();Ut.axialAlignedBoundingBox([0,0,b,M],p,t);const[A,y,d,c]=t;this.ctx.fillRect(A,y,d-A,c-y)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){Vr("Should not call beginInlineImage")}beginImageData(){Vr("Should not call beginImageData")}paintFormXObjectBegin(r,n){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),r&&this.transform(...r),this.baseTransform=pn(this.ctx),n)){Ut.axialAlignedBoundingBox(n,this.baseTransform,this.current.minMax);const[i,p,b,M]=n,t=new Path2D;t.rect(i,p,b-i,M-p),this.ctx.clip(t),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(r){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const n=this.ctx;r.isolated||ib("TODO: Support non-isolated groups."),r.knockout&&Zt("Knockout groups not supported.");const i=pn(n);if(r.matrix&&n.transform(...r.matrix),!r.bbox)throw new Error("Bounding box is required.");let p=yh.slice();Ut.axialAlignedBoundingBox(r.bbox,pn(n),p);const b=[0,0,n.canvas.width,n.canvas.height];p=Ut.intersect(p,b)||[0,0,0,0];const M=Math.floor(p[0]),t=Math.floor(p[1]),A=Math.max(Math.ceil(p[2])-M,1),y=Math.max(Math.ceil(p[3])-t,1);this.current.startNewPathAndClipBox([0,0,A,y]);let d="groupAt"+this.groupLevel;r.smask&&(d+="_smask_"+this.smaskCounter++%2);const c=this.cachedCanvases.getCanvas(d,A,y),u=c.context;u.translate(-M,-t),u.transform(...i);let x=new Path2D;const[j,o,h,f]=r.bbox;if(x.rect(j,o,h-j,f-o),r.matrix){const l=new Path2D;l.addPath(x,new DOMMatrix(r.matrix)),x=l}u.clip(x),r.smask?this.smaskStack.push({canvas:c.canvas,context:u,offsetX:M,offsetY:t,subtype:r.smask.subtype,backdrop:r.smask.backdrop,transferMap:r.smask.transferMap||null,startTransformInverse:null}):(n.setTransform(1,0,0,1,0,0),n.translate(M,t),n.save()),Dp(n,u),this.ctx=u,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(n),this.groupLevel++}endGroup(r){if(!this.contentVisible)return;this.groupLevel--;const n=this.ctx,i=this.groupStack.pop();if(this.ctx=i,this.ctx.imageSmoothingEnabled=!1,r.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const p=pn(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...p);const b=yh.slice();Ut.axialAlignedBoundingBox([0,0,n.canvas.width,n.canvas.height],p,b),this.ctx.drawImage(n.canvas,0,0),this.ctx.restore(),this.compose(b)}}beginAnnotation(r,n,i,p,b){if(pe(this,da,jw).call(this),Ov(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),n){const M=n[2]-n[0],t=n[3]-n[1];if(b&&this.annotationCanvasMap){i=i.slice(),i[4]-=n[0],i[5]-=n[1],n=n.slice(),n[0]=n[1]=0,n[2]=M,n[3]=t,Ut.singularValueDecompose2dScale(pn(this.ctx),gi);const{viewportScale:A}=this,y=Math.ceil(M*this.outputScaleX*A),d=Math.ceil(t*this.outputScaleY*A);this.annotationCanvas=this.canvasFactory.create(y,d);const{canvas:c,context:u}=this.annotationCanvas;this.annotationCanvasMap.set(r,c),this.annotationCanvas.savedCtx=this.ctx,this.ctx=u,this.ctx.save(),this.ctx.setTransform(gi[0],0,0,-gi[1],0,t*gi[1]),Ov(this.ctx)}else{Ov(this.ctx),this.endPath();const A=new Path2D;A.rect(n[0],n[1],M,t),this.ctx.clip(A)}}this.current=new XE(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...i),this.transform(...p)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),pe(this,da,Ew).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(r){if(!this.contentVisible)return;const n=r.count;r=this.getObject(r.data,r),r.count=n;const i=this.ctx,p=this._createMaskCanvas(r),b=p.canvas;i.save(),i.setTransform(1,0,0,1,0,0),i.drawImage(b,p.offsetX,p.offsetY),i.restore(),this.compose()}paintImageMaskXObjectRepeat(r,n,i=0,p=0,b,M){if(!this.contentVisible)return;r=this.getObject(r.data,r);const t=this.ctx;t.save();const A=pn(t);t.transform(n,i,p,b,0,0);const y=this._createMaskCanvas(r);t.setTransform(1,0,0,1,y.offsetX-A[4],y.offsetY-A[5]);for(let d=0,c=M.length;d<c;d+=2){const u=Ut.transform(A,[n,i,p,b,M[d],M[d+1]]);t.drawImage(y.canvas,u[4],u[5])}t.restore(),this.compose()}paintImageMaskXObjectGroup(r){if(!this.contentVisible)return;const n=this.ctx,i=this.current.fillColor,p=this.current.patternFill;for(const b of r){const{data:M,width:t,height:A,transform:y}=b,d=this.cachedCanvases.getCanvas("maskCanvas",t,A),c=d.context;c.save();const u=this.getObject(M,b);$E(c,u),c.globalCompositeOperation="source-in",c.fillStyle=p?i.getPattern(c,this,Sa(n),fs.FILL):i,c.fillRect(0,0,t,A),c.restore(),n.save(),n.transform(...y),n.scale(1,-1),kv(n,d.canvas,0,0,t,A,0,-1,1,1),n.restore()}this.compose()}paintImageXObject(r){if(!this.contentVisible)return;const n=this.getObject(r);if(!n){Zt("Dependent image isn't ready yet");return}this.paintInlineImageXObject(n)}paintImageXObjectRepeat(r,n,i,p){if(!this.contentVisible)return;const b=this.getObject(r);if(!b){Zt("Dependent image isn't ready yet");return}const M=b.width,t=b.height,A=[];for(let y=0,d=p.length;y<d;y+=2)A.push({transform:[n,0,0,i,p[y],p[y+1]],x:0,y:0,w:M,h:t});this.paintInlineImageXObjectGroup(b,A)}applyTransferMapsToCanvas(r){return this.current.transferMaps!=="none"&&(r.filter=this.current.transferMaps,r.drawImage(r.canvas,0,0),r.filter="none"),r.canvas}applyTransferMapsToBitmap(r){if(this.current.transferMaps==="none")return r.bitmap;const{bitmap:n,width:i,height:p}=r,b=this.cachedCanvases.getCanvas("inlineImage",i,p),M=b.context;return M.filter=this.current.transferMaps,M.drawImage(n,0,0),M.filter="none",b.canvas}paintInlineImageXObject(r){if(!this.contentVisible)return;const n=r.width,i=r.height,p=this.ctx;this.save();const{filter:b}=p;b!=="none"&&b!==""&&(p.filter="none"),p.scale(1/n,-1/i);let M;if(r.bitmap)M=this.applyTransferMapsToBitmap(r);else if(typeof HTMLElement=="function"&&r instanceof HTMLElement||!r.data)M=r;else{const y=this.cachedCanvases.getCanvas("inlineImage",n,i).context;YE(y,r),M=this.applyTransferMapsToCanvas(y)}const t=this._scaleImage(M,Sa(p));p.imageSmoothingEnabled=ZE(pn(p),r.interpolate),kv(p,t.img,0,0,t.paintWidth,t.paintHeight,0,-i,n,i),this.compose(),this.restore()}paintInlineImageXObjectGroup(r,n){if(!this.contentVisible)return;const i=this.ctx;let p;if(r.bitmap)p=r.bitmap;else{const b=r.width,M=r.height,A=this.cachedCanvases.getCanvas("inlineImage",b,M).context;YE(A,r),p=this.applyTransferMapsToCanvas(A)}for(const b of n)i.save(),i.transform(...b.transform),i.scale(1,-1),kv(i,p,b.x,b.y,b.w,b.h,0,-1,1,1),i.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(r){}markPointProps(r,n){}beginMarkedContent(r){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(r,n){r==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(n)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(r,n){const i=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(n);const p=this.ctx;this.pendingClip&&(i||(this.pendingClip===KE?p.clip(r,"evenodd"):p.clip(r)),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const r=pn(this.ctx);if(r[1]===0&&r[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(r[0]),Math.abs(r[3]));else{const n=Math.abs(r[0]*r[3]-r[2]*r[1]),i=Math.hypot(r[0],r[2]),p=Math.hypot(r[1],r[3]);this._cachedGetSinglePixelWidth=Math.max(i,p)/n}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:r}=this.current,{a:n,b:i,c:p,d:b}=this.ctx.getTransform();let M,t;if(i===0&&p===0){const A=Math.abs(n),y=Math.abs(b);if(A===y)if(r===0)M=t=1/A;else{const d=A*r;M=t=d<1?1/d:1}else if(r===0)M=1/A,t=1/y;else{const d=A*r,c=y*r;M=d<1?1/d:1,t=c<1?1/c:1}}else{const A=Math.abs(n*b-i*p),y=Math.hypot(n,i),d=Math.hypot(p,b);if(r===0)M=d/A,t=y/A;else{const c=r*A;M=d>c?d/c:1,t=y>c?y/c:1}}this._cachedScaleForStroking[0]=M,this._cachedScaleForStroking[1]=t}return this._cachedScaleForStroking}rescaleAndStroke(r,n){const{ctx:i,current:{lineWidth:p}}=this,[b,M]=this.getScaleForStroking();if(b===M){i.lineWidth=(p||1)*b,i.stroke(r);return}const t=i.getLineDash();n&&i.save(),i.scale(b,M),C_.a=1/b,C_.d=1/M;const A=new Path2D;if(A.addPath(r,C_),t.length>0){const y=Math.max(b,M);i.setLineDash(t.map(d=>d/y)),i.lineDashOffset/=y}i.lineWidth=p||1,i.stroke(A),n&&i.restore()}isContentVisible(){for(let r=this.markedContentStack.length-1;r>=0;r--)if(!this.markedContentStack[r].visible)return!1;return!0}};da=new WeakSet,jw=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},Ew=function(){if(this.pageColors){const r=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(r!=="none"){const n=this.ctx.filter;this.ctx.filter=r,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=n}}},Aw=function(r,n,i){const p=new Path2D;return p.addPath(r,new DOMMatrix(i).invertSelf().multiplySelf(n)),p};let wh=$x;for(const T in dm)wh.prototype[T]!==void 0&&(wh.prototype[dm[T]]=wh.prototype[T]);var qm,Wm;class Ui{static get workerPort(){return R(this,qm)}static set workerPort(r){if(!(typeof Worker<"u"&&r instanceof Worker)&&r!==null)throw new Error("Invalid `workerPort` type.");ne(this,qm,r)}static get workerSrc(){return R(this,Wm)}static set workerSrc(r){if(typeof r!="string")throw new Error("Invalid `workerSrc` type.");ne(this,Wm,r)}}qm=new WeakMap,Wm=new WeakMap,ce(Ui,qm,null),ce(Ui,Wm,"");var zh,Xm;class aD{constructor({parsedData:r,rawData:n}){ce(this,zh);ce(this,Xm);ne(this,zh,r),ne(this,Xm,n)}getRaw(){return R(this,Xm)}get(r){return R(this,zh).get(r)??null}[Symbol.iterator](){return R(this,zh).entries()}}zh=new WeakMap,Xm=new WeakMap;const hh=Symbol("INTERNAL");var Ym,$m,Zm,Hh;class oD{constructor(r,{name:n,intent:i,usage:p,rbGroups:b}){ce(this,Ym,!1);ce(this,$m,!1);ce(this,Zm,!1);ce(this,Hh,!0);ne(this,Ym,!!(r&mi.DISPLAY)),ne(this,$m,!!(r&mi.PRINT)),this.name=n,this.intent=i,this.usage=p,this.rbGroups=b}get visible(){if(R(this,Zm))return R(this,Hh);if(!R(this,Hh))return!1;const{print:r,view:n}=this.usage;return R(this,Ym)?(n==null?void 0:n.viewState)!=="OFF":R(this,$m)?(r==null?void 0:r.printState)!=="OFF":!0}_setVisible(r,n,i=!1){r!==hh&&Vr("Internal method `_setVisible` called."),ne(this,Zm,i),ne(this,Hh,n)}}Ym=new WeakMap,$m=new WeakMap,Zm=new WeakMap,Hh=new WeakMap;var eu,zr,Vh,qh,Km,Tw;class lD{constructor(r,n=mi.DISPLAY){ce(this,Km);ce(this,eu,null);ce(this,zr,new Map);ce(this,Vh,null);ce(this,qh,null);if(this.renderingIntent=n,this.name=null,this.creator=null,r!==null){this.name=r.name,this.creator=r.creator,ne(this,qh,r.order);for(const i of r.groups)R(this,zr).set(i.id,new oD(n,i));if(r.baseState==="OFF")for(const i of R(this,zr).values())i._setVisible(hh,!1);for(const i of r.on)R(this,zr).get(i)._setVisible(hh,!0);for(const i of r.off)R(this,zr).get(i)._setVisible(hh,!1);ne(this,Vh,this.getHash())}}isVisible(r){if(R(this,zr).size===0)return!0;if(!r)return ib("Optional content group not defined."),!0;if(r.type==="OCG")return R(this,zr).has(r.id)?R(this,zr).get(r.id).visible:(Zt(`Optional content group not found: ${r.id}`),!0);if(r.type==="OCMD"){if(r.expression)return pe(this,Km,Tw).call(this,r.expression);if(!r.policy||r.policy==="AnyOn"){for(const n of r.ids){if(!R(this,zr).has(n))return Zt(`Optional content group not found: ${n}`),!0;if(R(this,zr).get(n).visible)return!0}return!1}else if(r.policy==="AllOn"){for(const n of r.ids){if(!R(this,zr).has(n))return Zt(`Optional content group not found: ${n}`),!0;if(!R(this,zr).get(n).visible)return!1}return!0}else if(r.policy==="AnyOff"){for(const n of r.ids){if(!R(this,zr).has(n))return Zt(`Optional content group not found: ${n}`),!0;if(!R(this,zr).get(n).visible)return!0}return!1}else if(r.policy==="AllOff"){for(const n of r.ids){if(!R(this,zr).has(n))return Zt(`Optional content group not found: ${n}`),!0;if(R(this,zr).get(n).visible)return!1}return!0}return Zt(`Unknown optional content policy ${r.policy}.`),!0}return Zt(`Unknown group type ${r.type}.`),!0}setVisibility(r,n=!0,i=!0){var b;const p=R(this,zr).get(r);if(!p){Zt(`Optional content group not found: ${r}`);return}if(i&&n&&p.rbGroups.length)for(const M of p.rbGroups)for(const t of M)t!==r&&((b=R(this,zr).get(t))==null||b._setVisible(hh,!1,!0));p._setVisible(hh,!!n,!0),ne(this,eu,null)}setOCGState({state:r,preserveRB:n}){let i;for(const p of r){switch(p){case"ON":case"OFF":case"Toggle":i=p;continue}const b=R(this,zr).get(p);if(b)switch(i){case"ON":this.setVisibility(p,!0,n);break;case"OFF":this.setVisibility(p,!1,n);break;case"Toggle":this.setVisibility(p,!b.visible,n);break}}ne(this,eu,null)}get hasInitialVisibility(){return R(this,Vh)===null||this.getHash()===R(this,Vh)}getOrder(){return R(this,zr).size?R(this,qh)?R(this,qh).slice():[...R(this,zr).keys()]:null}getGroup(r){return R(this,zr).get(r)||null}getHash(){if(R(this,eu)!==null)return R(this,eu);const r=new rM;for(const[n,i]of R(this,zr))r.update(`${n}:${i.visible}`);return ne(this,eu,r.hexdigest())}[Symbol.iterator](){return R(this,zr).entries()}}eu=new WeakMap,zr=new WeakMap,Vh=new WeakMap,qh=new WeakMap,Km=new WeakSet,Tw=function(r){const n=r.length;if(n<2)return!0;const i=r[0];for(let p=1;p<n;p++){const b=r[p];let M;if(Array.isArray(b))M=pe(this,Km,Tw).call(this,b);else if(R(this,zr).has(b))M=R(this,zr).get(b).visible;else return Zt(`Optional content group not found: ${b}`),!0;switch(i){case"And":if(!M)return!1;break;case"Or":if(M)return!0;break;case"Not":return!M;default:return!0}}return i==="And"};class uD{constructor(r,{disableRange:n=!1,disableStream:i=!1}){Nn(r,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:p,initialData:b,progressiveDone:M,contentDispositionFilename:t}=r;if(this._queuedChunks=[],this._progressiveDone=M,this._contentDispositionFilename=t,(b==null?void 0:b.length)>0){const A=b instanceof Uint8Array&&b.byteLength===b.buffer.byteLength?b.buffer:new Uint8Array(b).buffer;this._queuedChunks.push(A)}this._pdfDataRangeTransport=r,this._isStreamingSupported=!i,this._isRangeSupported=!n,this._contentLength=p,this._fullRequestReader=null,this._rangeReaders=[],r.addRangeListener((A,y)=>{this._onReceiveData({begin:A,chunk:y})}),r.addProgressListener((A,y)=>{this._onProgress({loaded:A,total:y})}),r.addProgressiveReadListener(A=>{this._onReceiveData({chunk:A})}),r.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),r.transportReady()}_onReceiveData({begin:r,chunk:n}){const i=n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength?n.buffer:new Uint8Array(n).buffer;if(r===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(i):this._queuedChunks.push(i);else{const p=this._rangeReaders.some(function(b){return b._begin!==r?!1:(b._enqueue(i),!0)});Nn(p,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var r;return((r=this._fullRequestReader)==null?void 0:r._loaded)??0}_onProgress(r){var n,i,p,b;r.total===void 0?(i=(n=this._rangeReaders[0])==null?void 0:n.onProgress)==null||i.call(n,{loaded:r.loaded}):(b=(p=this._fullRequestReader)==null?void 0:p.onProgress)==null||b.call(p,{loaded:r.loaded,total:r.total})}_onProgressiveDone(){var r;(r=this._fullRequestReader)==null||r.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(r){const n=this._rangeReaders.indexOf(r);n>=0&&this._rangeReaders.splice(n,1)}getFullReader(){Nn(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const r=this._queuedChunks;return this._queuedChunks=null,new cD(this,r,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(r,n){if(n<=this._progressiveDataLength)return null;const i=new dD(this,r,n);return this._pdfDataRangeTransport.requestDataRange(r,n),this._rangeReaders.push(i),i}cancelAllRequests(r){var n;(n=this._fullRequestReader)==null||n.cancel(r);for(const i of this._rangeReaders.slice(0))i.cancel(r);this._pdfDataRangeTransport.abort()}}class cD{constructor(r,n,i=!1,p=null){this._stream=r,this._done=i||!1,this._filename=ob(p)?p:null,this._queuedChunks=n||[],this._loaded=0;for(const b of this._queuedChunks)this._loaded+=b.byteLength;this._requests=[],this._headersReady=Promise.resolve(),r._fullRequestReader=this,this.onProgress=null}_enqueue(r){this._done||(this._requests.length>0?this._requests.shift().resolve({value:r,done:!1}):this._queuedChunks.push(r),this._loaded+=r.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const r=Promise.withResolvers();return this._requests.push(r),r.promise}cancel(r){this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class dD{constructor(r,n,i){this._stream=r,this._begin=n,this._end=i,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(r){if(!this._done){if(this._requests.length===0)this._queuedChunk=r;else{this._requests.shift().resolve({value:r,done:!1});for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const n=this._queuedChunk;return this._queuedChunk=null,{value:n,done:!1}}if(this._done)return{value:void 0,done:!0};const r=Promise.withResolvers();return this._requests.push(r),r.promise}cancel(r){this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function hD(T){let r=!0,n=i("filename\\*","i").exec(T);if(n){n=n[1];let d=t(n);return d=unescape(d),d=A(d),d=y(d),b(d)}if(n=M(T),n){const d=y(n);return b(d)}if(n=i("filename","i").exec(T),n){n=n[1];let d=t(n);return d=y(d),b(d)}function i(d,c){return new RegExp("(?:^|;)\\s*"+d+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',c)}function p(d,c){if(d){if(!/^[\x00-\xFF]+$/.test(c))return c;try{const u=new TextDecoder(d,{fatal:!0}),x=Qg(c);c=u.decode(x),r=!1}catch{}}return c}function b(d){return r&&/[\x80-\xff]/.test(d)&&(d=p("utf-8",d),r&&(d=p("iso-8859-1",d))),d}function M(d){const c=[];let u;const x=i("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(u=x.exec(d))!==null;){let[,o,h,f]=u;if(o=parseInt(o,10),o in c){if(o===0)break;continue}c[o]=[h,f]}const j=[];for(let o=0;o<c.length&&o in c;++o){let[h,f]=c[o];f=t(f),h&&(f=unescape(f),o===0&&(f=A(f))),j.push(f)}return j.join("")}function t(d){if(d.startsWith('"')){const c=d.slice(1).split('\\"');for(let u=0;u<c.length;++u){const x=c[u].indexOf('"');x!==-1&&(c[u]=c[u].slice(0,x),c.length=u+1),c[u]=c[u].replaceAll(/\\(.)/g,"$1")}d=c.join('"')}return d}function A(d){const c=d.indexOf("'");if(c===-1)return d;const u=d.slice(0,c),j=d.slice(c+1).replace(/^[^']*'/,"");return p(u,j)}function y(d){return!d.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(d)?d:d.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(c,u,x,j){if(x==="q"||x==="Q")return j=j.replaceAll("_"," "),j=j.replaceAll(/=([0-9a-fA-F]{2})/g,function(o,h){return String.fromCharCode(parseInt(h,16))}),p(u,j);try{j=atob(j)}catch{}return p(u,j)})}return""}function mM(T,r){const n=new Headers;if(!T||!r||typeof r!="object")return n;for(const i in r){const p=r[i];p!==void 0&&n.append(i,p)}return n}function ub(T){var r;return((r=URL.parse(T))==null?void 0:r.origin)??null}function gM({responseHeaders:T,isHttp:r,rangeChunkSize:n,disableRange:i}){const p={allowRangeRequests:!1,suggestedLength:void 0},b=parseInt(T.get("Content-Length"),10);return!Number.isInteger(b)||(p.suggestedLength=b,b<=2*n)||i||!r||T.get("Accept-Ranges")!=="bytes"||(T.get("Content-Encoding")||"identity")!=="identity"||(p.allowRangeRequests=!0),p}function yM(T){const r=T.get("Content-Disposition");if(r){let n=hD(r);if(n.includes("%"))try{n=decodeURIComponent(n)}catch{}if(ob(n))return n}return null}function ry(T,r){return new hm(`Unexpected server response (${T}) while retrieving PDF "${r}".`,T,T===404||T===0&&r.startsWith("file:"))}function vM(T){return T===200||T===206}function bM(T,r,n){return{method:"GET",headers:T,signal:n.signal,mode:"cors",credentials:r?"include":"same-origin",redirect:"follow"}}function _M(T){return T instanceof Uint8Array?T.buffer:T instanceof ArrayBuffer?T:(Zt(`getArrayBuffer - unexpected data format: ${T}`),new Uint8Array(T).buffer)}class fD{constructor(r){yt(this,"_responseOrigin",null);this.source=r,this.isHttp=/^https?:/i.test(r.url),this.headers=mM(this.isHttp,r.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var r;return((r=this._fullRequestReader)==null?void 0:r._loaded)??0}getFullReader(){return Nn(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new pD(this),this._fullRequestReader}getRangeReader(r,n){if(n<=this._progressiveDataLength)return null;const i=new mD(this,r,n);return this._rangeRequestReaders.push(i),i}cancelAllRequests(r){var n;(n=this._fullRequestReader)==null||n.cancel(r);for(const i of this._rangeRequestReaders.slice(0))i.cancel(r)}}class pD{constructor(r){this._stream=r,this._reader=null,this._loaded=0,this._filename=null;const n=r.source;this._withCredentials=n.withCredentials||!1,this._contentLength=n.length,this._headersCapability=Promise.withResolvers(),this._disableRange=n.disableRange||!1,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!n.disableStream,this._isRangeSupported=!n.disableRange;const i=new Headers(r.headers),p=n.url;fetch(p,bM(i,this._withCredentials,this._abortController)).then(b=>{if(r._responseOrigin=ub(b.url),!vM(b.status))throw ry(b.status,p);this._reader=b.body.getReader(),this._headersCapability.resolve();const M=b.headers,{allowRangeRequests:t,suggestedLength:A}=gM({responseHeaders:M,isHttp:r.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=t,this._contentLength=A||this._contentLength,this._filename=yM(M),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new al("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;await this._headersCapability.promise;const{value:r,done:n}=await this._reader.read();return n?{value:r,done:n}:(this._loaded+=r.byteLength,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded,total:this._contentLength}),{value:_M(r),done:!1})}cancel(r){var n;(n=this._reader)==null||n.cancel(r),this._abortController.abort()}}class mD{constructor(r,n,i){this._stream=r,this._reader=null,this._loaded=0;const p=r.source;this._withCredentials=p.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!p.disableStream,this._abortController=new AbortController;const b=new Headers(r.headers);b.append("Range",`bytes=${n}-${i-1}`);const M=p.url;fetch(M,bM(b,this._withCredentials,this._abortController)).then(t=>{const A=ub(t.url);if(A!==r._responseOrigin)throw new Error(`Expected range response-origin "${A}" to match "${r._responseOrigin}".`);if(!vM(t.status))throw ry(t.status,M);this._readCapability.resolve(),this._reader=t.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;await this._readCapability.promise;const{value:r,done:n}=await this._reader.read();return n?{value:r,done:n}:(this._loaded+=r.byteLength,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded}),{value:_M(r),done:!1})}cancel(r){var n;(n=this._reader)==null||n.cancel(r),this._abortController.abort()}}const R_=200,k_=206;function gD(T){const r=T.response;return typeof r!="string"?r:Qg(r).buffer}class yD{constructor({url:r,httpHeaders:n,withCredentials:i}){yt(this,"_responseOrigin",null);this.url=r,this.isHttp=/^https?:/i.test(r),this.headers=mM(this.isHttp,n),this.withCredentials=i||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(r){const n=new XMLHttpRequest,i=this.currXhrId++,p=this.pendingRequests[i]={xhr:n};n.open("GET",this.url),n.withCredentials=this.withCredentials;for(const[b,M]of this.headers)n.setRequestHeader(b,M);return this.isHttp&&"begin"in r&&"end"in r?(n.setRequestHeader("Range",`bytes=${r.begin}-${r.end-1}`),p.expectedStatus=k_):p.expectedStatus=R_,n.responseType="arraybuffer",Nn(r.onError,"Expected `onError` callback to be provided."),n.onerror=()=>{r.onError(n.status)},n.onreadystatechange=this.onStateChange.bind(this,i),n.onprogress=this.onProgress.bind(this,i),p.onHeadersReceived=r.onHeadersReceived,p.onDone=r.onDone,p.onError=r.onError,p.onProgress=r.onProgress,n.send(null),i}onProgress(r,n){var p;const i=this.pendingRequests[r];i&&((p=i.onProgress)==null||p.call(i,n))}onStateChange(r,n){const i=this.pendingRequests[r];if(!i)return;const p=i.xhr;if(p.readyState>=2&&i.onHeadersReceived&&(i.onHeadersReceived(),delete i.onHeadersReceived),p.readyState!==4||!(r in this.pendingRequests))return;if(delete this.pendingRequests[r],p.status===0&&this.isHttp){i.onError(p.status);return}const b=p.status||R_;if(!(b===R_&&i.expectedStatus===k_)&&b!==i.expectedStatus){i.onError(p.status);return}const t=gD(p);if(b===k_){const A=p.getResponseHeader("Content-Range"),y=/bytes (\d+)-(\d+)\/(\d+)/.exec(A);y?i.onDone({begin:parseInt(y[1],10),chunk:t}):(Zt('Missing or invalid "Content-Range" header.'),i.onError(0))}else t?i.onDone({begin:0,chunk:t}):i.onError(p.status)}getRequestXhr(r){return this.pendingRequests[r].xhr}isPendingRequest(r){return r in this.pendingRequests}abortRequest(r){const n=this.pendingRequests[r].xhr;delete this.pendingRequests[r],n.abort()}}class vD{constructor(r){this._source=r,this._manager=new yD(r),this._rangeChunkSize=r.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(r){const n=this._rangeRequestReaders.indexOf(r);n>=0&&this._rangeRequestReaders.splice(n,1)}getFullReader(){return Nn(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new bD(this._manager,this._source),this._fullRequestReader}getRangeReader(r,n){const i=new _D(this._manager,r,n);return i.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(i),i}cancelAllRequests(r){var n;(n=this._fullRequestReader)==null||n.cancel(r);for(const i of this._rangeRequestReaders.slice(0))i.cancel(r)}}class bD{constructor(r,n){this._manager=r,this._url=n.url,this._fullRequestId=r.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=n.disableRange||!1,this._contentLength=n.length,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const r=this._fullRequestId,n=this._manager.getRequestXhr(r);this._manager._responseOrigin=ub(n.responseURL);const i=n.getAllResponseHeaders(),p=new Headers(i?i.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(t=>{const[A,...y]=t.split(": ");return[A,y.join(": ")]}):[]),{allowRangeRequests:b,suggestedLength:M}=gM({responseHeaders:p,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});b&&(this._isRangeSupported=!0),this._contentLength=M||this._contentLength,this._filename=yM(p),this._isRangeSupported&&this._manager.abortRequest(r),this._headersCapability.resolve()}_onDone(r){if(r&&(this._requests.length>0?this._requests.shift().resolve({value:r.chunk,done:!1}):this._cachedChunks.push(r.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(r){this._storedError=ry(r,this._url),this._headersCapability.reject(this._storedError);for(const n of this._requests)n.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(r){var n;(n=this.onProgress)==null||n.call(this,{loaded:r.loaded,total:r.lengthComputable?r.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const r=Promise.withResolvers();return this._requests.push(r),r.promise}cancel(r){this._done=!0,this._headersCapability.reject(r);for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class _D{constructor(r,n,i){this._manager=r,this._url=r.url,this._requestId=r.request({begin:n,end:i,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){var n;const r=ub((n=this._manager.getRequestXhr(this._requestId))==null?void 0:n.responseURL);r!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${r}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){var r;(r=this.onClosed)==null||r.call(this,this)}_onDone(r){const n=r.chunk;this._requests.length>0?this._requests.shift().resolve({value:n,done:!1}):this._queuedChunk=n,this._done=!0;for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(r){this._storedError??(this._storedError=ry(r,this._url));for(const n of this._requests)n.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(r){var n;this.isStreamingSupported||(n=this.onProgress)==null||n.call(this,{loaded:r.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const n=this._queuedChunk;return this._queuedChunk=null,{value:n,done:!1}}if(this._done)return{value:void 0,done:!0};const r=Promise.withResolvers();return this._requests.push(r),r.promise}cancel(r){this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const wD=/^[a-z][a-z0-9\-+.]+:/i;function xD(T){if(wD.test(T))return new URL(T);const r=process.getBuiltinModule("url");return new URL(r.pathToFileURL(T))}class SD{constructor(r){this.source=r,this.url=xD(r.url),Nn(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var r;return((r=this._fullRequestReader)==null?void 0:r._loaded)??0}getFullReader(){return Nn(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new jD(this),this._fullRequestReader}getRangeReader(r,n){if(n<=this._progressiveDataLength)return null;const i=new ED(this,r,n);return this._rangeRequestReaders.push(i),i}cancelAllRequests(r){var n;(n=this._fullRequestReader)==null||n.cancel(r);for(const i of this._rangeRequestReaders.slice(0))i.cancel(r)}}class jD{constructor(r){this._url=r.url,this._done=!1,this._storedError=null,this.onProgress=null;const n=r.source;this._contentLength=n.length,this._loaded=0,this._filename=null,this._disableRange=n.disableRange||!1,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!n.disableStream,this._isRangeSupported=!n.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const i=process.getBuiltinModule("fs");i.promises.lstat(this._url).then(p=>{this._contentLength=p.size,this._setReadableStream(i.createReadStream(this._url)),this._headersCapability.resolve()},p=>{p.code==="ENOENT"&&(p=ry(0,this._url.href)),this._storedError=p,this._headersCapability.reject(p)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const r=this._readableStream.read();return r===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=r.length,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(r).buffer,done:!1})}cancel(r){if(!this._readableStream){this._error(r);return}this._readableStream.destroy(r)}_error(r){this._storedError=r,this._readCapability.resolve()}_setReadableStream(r){this._readableStream=r,r.on("readable",()=>{this._readCapability.resolve()}),r.on("end",()=>{r.destroy(),this._done=!0,this._readCapability.resolve()}),r.on("error",n=>{this._error(n)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new al("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class ED{constructor(r,n,i){this._url=r.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const p=r.source;this._isStreamingSupported=!p.disableStream;const b=process.getBuiltinModule("fs");this._setReadableStream(b.createReadStream(this._url,{start:n,end:i-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const r=this._readableStream.read();return r===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=r.length,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded}),{value:new Uint8Array(r).buffer,done:!1})}cancel(r){if(!this._readableStream){this._error(r);return}this._readableStream.destroy(r)}_error(r){this._storedError=r,this._readCapability.resolve()}_setReadableStream(r){this._readableStream=r,r.on("readable",()=>{this._readCapability.resolve()}),r.on("end",()=>{r.destroy(),this._done=!0,this._readCapability.resolve()}),r.on("error",n=>{this._error(n)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const Pp=Symbol("INITIAL_DATA");var si,Qm,Mw;class wM{constructor(){ce(this,Qm);ce(this,si,Object.create(null))}get(r,n=null){if(n){const p=pe(this,Qm,Mw).call(this,r);return p.promise.then(()=>n(p.data)),null}const i=R(this,si)[r];if(!i||i.data===Pp)throw new Error(`Requesting object that isn't resolved yet ${r}.`);return i.data}has(r){const n=R(this,si)[r];return!!n&&n.data!==Pp}delete(r){const n=R(this,si)[r];return!n||n.data===Pp?!1:(delete R(this,si)[r],!0)}resolve(r,n=null){const i=pe(this,Qm,Mw).call(this,r);i.data=n,i.resolve()}clear(){var r;for(const n in R(this,si)){const{data:i}=R(this,si)[n];(r=i==null?void 0:i.bitmap)==null||r.close()}ne(this,si,Object.create(null))}*[Symbol.iterator](){for(const r in R(this,si)){const{data:n}=R(this,si)[r];n!==Pp&&(yield[r,n])}}}si=new WeakMap,Qm=new WeakSet,Mw=function(r){var n;return(n=R(this,si))[r]||(n[r]={...Promise.withResolvers(),data:Pp})};const AD=1e5,QE=30;var dA,tu,Ws,Jm,eg,Oc,No,tg,rg,Lc,Wh,Xh,ru,Yh,ng,$h,Dc,sg,ig,xn,Zh,Pc,ag,nu,Kh,ll,xM,SM,Cw,vi,Kv,Rw,jM,EM;let pm=(xn=class{constructor({textContentSource:r,container:n,viewport:i}){ce(this,ll);ce(this,tu,Promise.withResolvers());ce(this,Ws,null);ce(this,Jm,!1);ce(this,eg,!!((dA=globalThis.FontInspector)!=null&&dA.enabled));ce(this,Oc,null);ce(this,No,null);ce(this,tg,0);ce(this,rg,0);ce(this,Lc,null);ce(this,Wh,null);ce(this,Xh,0);ce(this,ru,0);ce(this,Yh,Object.create(null));ce(this,ng,[]);ce(this,$h,null);ce(this,Dc,[]);ce(this,sg,new WeakMap);ce(this,ig,null);var A;if(r instanceof ReadableStream)ne(this,$h,r);else if(typeof r=="object")ne(this,$h,new ReadableStream({start(y){y.enqueue(r),y.close()}}));else throw new Error('No "textContentSource" parameter specified.');ne(this,Ws,ne(this,Wh,n)),ne(this,ru,i.scale*ca.pixelRatio),ne(this,Xh,i.rotation),ne(this,No,{div:null,properties:null,ctx:null});const{pageWidth:p,pageHeight:b,pageX:M,pageY:t}=i.rawDims;ne(this,ig,[1,0,0,-1,-M,t+b]),ne(this,rg,p),ne(this,tg,b),pe(A=xn,vi,jM).call(A),Eu(n,i),R(this,tu).promise.finally(()=>{R(xn,Kh).delete(this),ne(this,No,null),ne(this,Yh,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:r,isFirefox:n}=ns.platform;return dr(this,"fontFamilyMap",new Map([["sans-serif",`${r&&n?"Calibri, ":""}sans-serif`],["monospace",`${r&&n?"Lucida Console, ":""}monospace`]]))}render(){const r=()=>{R(this,Lc).read().then(({value:n,done:i})=>{if(i){R(this,tu).resolve();return}R(this,Oc)??ne(this,Oc,n.lang),Object.assign(R(this,Yh),n.styles),pe(this,ll,xM).call(this,n.items),r()},R(this,tu).reject)};return ne(this,Lc,R(this,$h).getReader()),R(xn,Kh).add(this),r(),R(this,tu).promise}update({viewport:r,onBefore:n=null}){var b;const i=r.scale*ca.pixelRatio,p=r.rotation;if(p!==R(this,Xh)&&(n==null||n(),ne(this,Xh,p),Eu(R(this,Wh),{rotation:p})),i!==R(this,ru)){n==null||n(),ne(this,ru,i);const M={div:null,properties:null,ctx:pe(b=xn,vi,Kv).call(b,R(this,Oc))};for(const t of R(this,Dc))M.properties=R(this,sg).get(t),M.div=t,pe(this,ll,Cw).call(this,M)}}cancel(){var n;const r=new al("TextLayer task cancelled.");(n=R(this,Lc))==null||n.cancel(r).catch(()=>{}),ne(this,Lc,null),R(this,tu).reject(r)}get textDivs(){return R(this,Dc)}get textContentItemsStr(){return R(this,ng)}static cleanup(){if(!(R(this,Kh).size>0)){R(this,Zh).clear();for(const{canvas:r}of R(this,Pc).values())r.remove();R(this,Pc).clear()}}},tu=new WeakMap,Ws=new WeakMap,Jm=new WeakMap,eg=new WeakMap,Oc=new WeakMap,No=new WeakMap,tg=new WeakMap,rg=new WeakMap,Lc=new WeakMap,Wh=new WeakMap,Xh=new WeakMap,ru=new WeakMap,Yh=new WeakMap,ng=new WeakMap,$h=new WeakMap,Dc=new WeakMap,sg=new WeakMap,ig=new WeakMap,Zh=new WeakMap,Pc=new WeakMap,ag=new WeakMap,nu=new WeakMap,Kh=new WeakMap,ll=new WeakSet,xM=function(r){var p,b;if(R(this,Jm))return;(b=R(this,No)).ctx??(b.ctx=pe(p=xn,vi,Kv).call(p,R(this,Oc)));const n=R(this,Dc),i=R(this,ng);for(const M of r){if(n.length>AD){Zt("Ignoring additional textDivs for performance reasons."),ne(this,Jm,!0);return}if(M.str===void 0){if(M.type==="beginMarkedContentProps"||M.type==="beginMarkedContent"){const t=R(this,Ws);ne(this,Ws,document.createElement("span")),R(this,Ws).classList.add("markedContent"),M.id!==null&&R(this,Ws).setAttribute("id",`${M.id}`),t.append(R(this,Ws))}else M.type==="endMarkedContent"&&ne(this,Ws,R(this,Ws).parentNode);continue}i.push(M.str),pe(this,ll,SM).call(this,M)}},SM=function(r){var o;const n=document.createElement("span"),i={angle:0,canvasWidth:0,hasText:r.str!=="",hasEOL:r.hasEOL,fontSize:0};R(this,Dc).push(n);const p=Ut.transform(R(this,ig),r.transform);let b=Math.atan2(p[1],p[0]);const M=R(this,Yh)[r.fontName];M.vertical&&(b+=Math.PI/2);let t=R(this,eg)&&M.fontSubstitution||M.fontFamily;t=xn.fontFamilyMap.get(t)||t;const A=Math.hypot(p[2],p[3]),y=A*pe(o=xn,vi,EM).call(o,t,M,R(this,Oc));let d,c;b===0?(d=p[4],c=p[5]-y):(d=p[4]+y*Math.sin(b),c=p[5]-y*Math.cos(b));const u="calc(var(--total-scale-factor) *",x=n.style;R(this,Ws)===R(this,Wh)?(x.left=`${(100*d/R(this,rg)).toFixed(2)}%`,x.top=`${(100*c/R(this,tg)).toFixed(2)}%`):(x.left=`${u}${d.toFixed(2)}px)`,x.top=`${u}${c.toFixed(2)}px)`),x.fontSize=`${u}${(R(xn,nu)*A).toFixed(2)}px)`,x.fontFamily=t,i.fontSize=A,n.setAttribute("role","presentation"),n.textContent=r.str,n.dir=r.dir,R(this,eg)&&(n.dataset.fontName=M.fontSubstitutionLoadedName||r.fontName),b!==0&&(i.angle=b*(180/Math.PI));let j=!1;if(r.str.length>1)j=!0;else if(r.str!==" "&&r.transform[0]!==r.transform[3]){const h=Math.abs(r.transform[0]),f=Math.abs(r.transform[3]);h!==f&&Math.max(h,f)/Math.min(h,f)>1.5&&(j=!0)}if(j&&(i.canvasWidth=M.vertical?r.height:r.width),R(this,sg).set(n,i),R(this,No).div=n,R(this,No).properties=i,pe(this,ll,Cw).call(this,R(this,No)),i.hasText&&R(this,Ws).append(n),i.hasEOL){const h=document.createElement("br");h.setAttribute("role","presentation"),R(this,Ws).append(h)}},Cw=function(r){var t;const{div:n,properties:i,ctx:p}=r,{style:b}=n;let M="";if(R(xn,nu)>1&&(M=`scale(${1/R(xn,nu)})`),i.canvasWidth!==0&&i.hasText){const{fontFamily:A}=b,{canvasWidth:y,fontSize:d}=i;pe(t=xn,vi,Rw).call(t,p,d*R(this,ru),A);const{width:c}=p.measureText(n.textContent);c>0&&(M=`scaleX(${y*R(this,ru)/c}) ${M}`)}i.angle!==0&&(M=`rotate(${i.angle}deg) ${M}`),M.length>0&&(b.transform=M)},vi=new WeakSet,Kv=function(r=null){let n=R(this,Pc).get(r||(r=""));if(!n){const i=document.createElement("canvas");i.className="hiddenCanvasElement",i.lang=r,document.body.append(i),n=i.getContext("2d",{alpha:!1,willReadFrequently:!0}),R(this,Pc).set(r,n),R(this,ag).set(n,{size:0,family:""})}return n},Rw=function(r,n,i){const p=R(this,ag).get(r);n===p.size&&i===p.family||(r.font=`${n}px ${i}`,p.size=n,p.family=i)},jM=function(){if(R(this,nu)!==null)return;const r=document.createElement("div");r.style.opacity=0,r.style.lineHeight=1,r.style.fontSize="1px",r.style.position="absolute",r.textContent="X",document.body.append(r),ne(this,nu,r.getBoundingClientRect().height),r.remove()},EM=function(r,n,i){const p=R(this,Zh).get(r);if(p)return p;const b=pe(this,vi,Kv).call(this,i);b.canvas.width=b.canvas.height=QE,pe(this,vi,Rw).call(this,b,QE,r);const M=b.measureText(""),t=M.fontBoundingBoxAscent,A=Math.abs(M.fontBoundingBoxDescent);b.canvas.width=b.canvas.height=0;let y=.8;return t?y=t/(t+A):(ns.platform.isFirefox&&Zt("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),n.ascent?y=n.ascent:n.descent&&(y=1+n.descent)),R(this,Zh).set(r,y),y},ce(xn,vi),ce(xn,Zh,new Map),ce(xn,Pc,new Map),ce(xn,ag,new WeakMap),ce(xn,nu,null),ce(xn,Kh,new Set),xn);class mm{static textContent(r){const n=[],i={items:n,styles:Object.create(null)};function p(b){var A;if(!b)return;let M=null;const t=b.name;if(t==="#text")M=b.value;else if(mm.shouldBuildText(t))(A=b==null?void 0:b.attributes)!=null&&A.textContent?M=b.attributes.textContent:b.value&&(M=b.value);else return;if(M!==null&&n.push({str:M}),!!b.children)for(const y of b.children)p(y)}return p(r),i}static shouldBuildText(r){return!(r==="textarea"||r==="input"||r==="option"||r==="select")}}const TD=100;function Ux(T={}){typeof T=="string"||T instanceof URL?T={url:T}:(T instanceof ArrayBuffer||ArrayBuffer.isView(T))&&(T={data:T});const r=new kw,{docId:n}=r,i=T.url?I5(T.url):null,p=T.data?F5(T.data):null,b=T.httpHeaders||null,M=T.withCredentials===!0,t=T.password??null,A=T.range instanceof Bx?T.range:null,y=Number.isInteger(T.rangeChunkSize)&&T.rangeChunkSize>0?T.rangeChunkSize:2**16;let d=T.worker instanceof Of?T.worker:null;const c=T.verbosity,u=typeof T.docBaseUrl=="string"&&!ey(T.docBaseUrl)?T.docBaseUrl:null,x=Cv(T.cMapUrl),j=T.cMapPacked!==!1,o=T.CMapReaderFactory||(Ps?q5:BE),h=Cv(T.iccUrl),f=Cv(T.standardFontDataUrl),l=T.StandardFontDataFactory||(Ps?W5:GE),m=Cv(T.wasmUrl),_=T.WasmFactory||(Ps?X5:zE),w=T.stopAtErrors!==!0,v=Number.isInteger(T.maxImageSize)&&T.maxImageSize>-1?T.maxImageSize:-1,E=T.isEvalSupported!==!1,C=typeof T.isOffscreenCanvasSupported=="boolean"?T.isOffscreenCanvasSupported:!Ps,O=typeof T.isImageDecoderSupported=="boolean"?T.isImageDecoderSupported:!Ps&&(ns.platform.isFirefox||!globalThis.chrome),U=Number.isInteger(T.canvasMaxAreaInBytes)?T.canvasMaxAreaInBytes:-1,N=typeof T.disableFontFace=="boolean"?T.disableFontFace:Ps,D=T.fontExtraProperties===!0,H=T.enableXfa===!0,I=T.ownerDocument||globalThis.document,V=T.disableRange===!0,G=T.disableStream===!0,q=T.disableAutoFetch===!0,X=T.pdfBug===!0,B=T.CanvasFactory||(Ps?V5:G5),W=T.FilterFactory||(Ps?H5:z5),K=T.enableHWA===!0,ee=T.useWasm!==!1,re=A?A.length:T.length??NaN,oe=typeof T.useSystemFonts=="boolean"?T.useSystemFonts:!Ps&&!N,le=typeof T.useWorkerFetch=="boolean"?T.useWorkerFetch:!!(o===BE&&l===GE&&_===zE&&x&&f&&m&&Bp(x,document.baseURI)&&Bp(f,document.baseURI)&&Bp(m,document.baseURI)),me=null;b5(c);const $={canvasFactory:new B({ownerDocument:I,enableHWA:K}),filterFactory:new W({docId:n,ownerDocument:I}),cMapReaderFactory:le?null:new o({baseUrl:x,isCompressed:j}),standardFontDataFactory:le?null:new l({baseUrl:f}),wasmFactory:le?null:new _({baseUrl:m})};d||(d=Of.create({verbosity:c,port:Ui.workerPort}),r._worker=d);const Q={docId:n,apiVersion:"5.3.93",data:p,password:t,disableAutoFetch:q,rangeChunkSize:y,length:re,docBaseUrl:u,enableXfa:H,evaluatorOptions:{maxImageSize:v,disableFontFace:N,ignoreErrors:w,isEvalSupported:E,isOffscreenCanvasSupported:C,isImageDecoderSupported:O,canvasMaxAreaInBytes:U,fontExtraProperties:D,useSystemFonts:oe,useWasm:ee,useWorkerFetch:le,cMapUrl:x,iccUrl:h,standardFontDataUrl:f,wasmUrl:m}},se={ownerDocument:I,pdfBug:X,styleElement:me,loadingParams:{disableAutoFetch:q,enableXfa:H}};return d.promise.then(function(){if(r.destroyed)throw new Error("Loading aborted");if(d.destroyed)throw new Error("Worker was destroyed");const de=d.messageHandler.sendWithPromise("GetDocRequest",Q,p?[p.buffer]:null);let ge;if(A)ge=new uD(A,{disableRange:V,disableStream:G});else if(!p){if(!i)throw new Error("getDocument - no `url` parameter provided.");const ve=Bp(i)?fD:Ps?SD:vD;ge=new ve({url:i,length:re,httpHeaders:b,withCredentials:M,rangeChunkSize:y,disableRange:V,disableStream:G})}return de.then(ve=>{if(r.destroyed)throw new Error("Loading aborted");if(d.destroyed)throw new Error("Worker was destroyed");const ae=new qp(n,ve,d.port),ye=new RD(ae,r,ge,se,$);r._transport=ye,ae.send("Ready",null)})}).catch(r._capability.reject),r}var F0;const U0=class U0{constructor(){yt(this,"_capability",Promise.withResolvers());yt(this,"_transport",null);yt(this,"_worker",null);yt(this,"docId",`d${Cs(U0,F0)._++}`);yt(this,"destroyed",!1);yt(this,"onPassword",null);yt(this,"onProgress",null)}get promise(){return this._capability.promise}async destroy(){var r,n,i,p;this.destroyed=!0;try{(r=this._worker)!=null&&r.port&&(this._worker._pendingDestroy=!0),await((n=this._transport)==null?void 0:n.destroy())}catch(b){throw(i=this._worker)!=null&&i.port&&delete this._worker._pendingDestroy,b}this._transport=null,(p=this._worker)==null||p.destroy(),this._worker=null}async getData(){return this._transport.getData()}};F0=new WeakMap,ce(U0,F0,0);let kw=U0;var Nc,og,lg,ug,cg,hA;let Bx=(hA=class{constructor(r,n,i=!1,p=null){ce(this,Nc,Promise.withResolvers());ce(this,og,[]);ce(this,lg,[]);ce(this,ug,[]);ce(this,cg,[]);this.length=r,this.initialData=n,this.progressiveDone=i,this.contentDispositionFilename=p}addRangeListener(r){R(this,cg).push(r)}addProgressListener(r){R(this,ug).push(r)}addProgressiveReadListener(r){R(this,lg).push(r)}addProgressiveDoneListener(r){R(this,og).push(r)}onDataRange(r,n){for(const i of R(this,cg))i(r,n)}onDataProgress(r,n){R(this,Nc).promise.then(()=>{for(const i of R(this,ug))i(r,n)})}onDataProgressiveRead(r){R(this,Nc).promise.then(()=>{for(const n of R(this,lg))n(r)})}onDataProgressiveDone(){R(this,Nc).promise.then(()=>{for(const r of R(this,og))r()})}transportReady(){R(this,Nc).resolve()}requestDataRange(r,n){Vr("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}},Nc=new WeakMap,og=new WeakMap,lg=new WeakMap,ug=new WeakMap,cg=new WeakMap,hA);class MD{constructor(r,n){this._pdfInfo=r,this._transport=n}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return dr(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(r){return this._transport.getPage(r)}getPageIndex(r){return this._transport.getPageIndex(r)}getDestinations(){return this._transport.getDestinations()}getDestination(r){return this._transport.getDestination(r)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:r="display"}={}){const{renderingIntent:n}=this._transport.getRenderingIntent(r);return this._transport.getOptionalContentConfig(n)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(r=!1){return this._transport.startCleanup(r||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(r){return this._transport.cachedPageNumber(r)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var Io,Ic,Zp;class CD{constructor(r,n,i,p=!1){ce(this,Ic);ce(this,Io,!1);this._pageIndex=r,this._pageInfo=n,this._transport=i,this._stats=p?new IE:null,this._pdfBug=p,this.commonObjs=i.commonObjs,this.objs=new wM,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:r,rotation:n=this.rotate,offsetX:i=0,offsetY:p=0,dontFlip:b=!1}={}){return new Jg({viewBox:this.view,userUnit:this.userUnit,scale:r,rotation:n,offsetX:i,offsetY:p,dontFlip:b})}getAnnotations({intent:r="display"}={}){const{renderingIntent:n}=this._transport.getRenderingIntent(r);return this._transport.getAnnotations(this._pageIndex,n)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return dr(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var r;return((r=this._transport._htmlForXfa)==null?void 0:r.children[this._pageIndex])||null}render({canvasContext:r,viewport:n,intent:i="display",annotationMode:p=Va.ENABLE,transform:b=null,background:M=null,optionalContentConfigPromise:t=null,annotationCanvasMap:A=null,pageColors:y=null,printAnnotationStorage:d=null,isEditing:c=!1}){var _,w;(_=this._stats)==null||_.time("Overall");const u=this._transport.getRenderingIntent(i,p,d,c),{renderingIntent:x,cacheKey:j}=u;ne(this,Io,!1),t||(t=this._transport.getOptionalContentConfig(x));let o=this._intentStates.get(j);o||(o=Object.create(null),this._intentStates.set(j,o)),o.streamReaderCancelTimeout&&(clearTimeout(o.streamReaderCancelTimeout),o.streamReaderCancelTimeout=null);const h=!!(x&mi.PRINT);o.displayReadyCapability||(o.displayReadyCapability=Promise.withResolvers(),o.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(w=this._stats)==null||w.time("Page Request"),this._pumpOperatorList(u));const f=v=>{var E;o.renderTasks.delete(l),h&&ne(this,Io,!0),pe(this,Ic,Zp).call(this),v?(l.capability.reject(v),this._abortOperatorList({intentState:o,reason:v instanceof Error?v:new Error(v)})):l.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(E=globalThis.Stats)!=null&&E.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},l=new Ow({callback:f,params:{canvasContext:r,viewport:n,transform:b,background:M},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:A,operatorList:o.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!h,pdfBug:this._pdfBug,pageColors:y});(o.renderTasks||(o.renderTasks=new Set)).add(l);const m=l.task;return Promise.all([o.displayReadyCapability.promise,t]).then(([v,E])=>{var C;if(this.destroyed){f();return}if((C=this._stats)==null||C.time("Rendering"),!(E.renderingIntent&x))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");l.initializeGraphics({transparency:v,optionalContentConfig:E}),l.operatorListChanged()}).catch(f),m}getOperatorList({intent:r="display",annotationMode:n=Va.ENABLE,printAnnotationStorage:i=null,isEditing:p=!1}={}){var y;function b(){t.operatorList.lastChunk&&(t.opListReadCapability.resolve(t.operatorList),t.renderTasks.delete(A))}const M=this._transport.getRenderingIntent(r,n,i,p,!0);let t=this._intentStates.get(M.cacheKey);t||(t=Object.create(null),this._intentStates.set(M.cacheKey,t));let A;return t.opListReadCapability||(A=Object.create(null),A.operatorListChanged=b,t.opListReadCapability=Promise.withResolvers(),(t.renderTasks||(t.renderTasks=new Set)).add(A),t.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(y=this._stats)==null||y.time("Page Request"),this._pumpOperatorList(M)),t.opListReadCapability.promise}streamTextContent({includeMarkedContent:r=!1,disableNormalization:n=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:r===!0,disableNormalization:n===!0},{highWaterMark:100,size(p){return p.items.length}})}getTextContent(r={}){if(this._transport._htmlForXfa)return this.getXfa().then(i=>mm.textContent(i));const n=this.streamTextContent(r);return new Promise(function(i,p){function b(){M.read().then(function({value:A,done:y}){if(y){i(t);return}t.lang??(t.lang=A.lang),Object.assign(t.styles,A.styles),t.items.push(...A.items),b()},p)}const M=n.getReader(),t={items:[],styles:Object.create(null),lang:null};b()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const r=[];for(const n of this._intentStates.values())if(this._abortOperatorList({intentState:n,reason:new Error("Page was destroyed."),force:!0}),!n.opListReadCapability)for(const i of n.renderTasks)r.push(i.completed),i.cancel();return this.objs.clear(),ne(this,Io,!1),Promise.all(r)}cleanup(r=!1){ne(this,Io,!0);const n=pe(this,Ic,Zp).call(this);return r&&n&&this._stats&&(this._stats=new IE),n}_startRenderPage(r,n){var p,b;const i=this._intentStates.get(n);i&&((p=this._stats)==null||p.timeEnd("Page Request"),(b=i.displayReadyCapability)==null||b.resolve(r))}_renderPageChunk(r,n){for(let i=0,p=r.length;i<p;i++)n.operatorList.fnArray.push(r.fnArray[i]),n.operatorList.argsArray.push(r.argsArray[i]);n.operatorList.lastChunk=r.lastChunk,n.operatorList.separateAnnots=r.separateAnnots;for(const i of n.renderTasks)i.operatorListChanged();r.lastChunk&&pe(this,Ic,Zp).call(this)}_pumpOperatorList({renderingIntent:r,cacheKey:n,annotationStorageSerializable:i,modifiedIds:p}){const{map:b,transfer:M}=i,A=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:r,cacheKey:n,annotationStorage:b,modifiedIds:p},M).getReader(),y=this._intentStates.get(n);y.streamReader=A;const d=()=>{A.read().then(({value:c,done:u})=>{if(u){y.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(c,y),d())},c=>{if(y.streamReader=null,!this._transport.destroyed){if(y.operatorList){y.operatorList.lastChunk=!0;for(const u of y.renderTasks)u.operatorListChanged();pe(this,Ic,Zp).call(this)}if(y.displayReadyCapability)y.displayReadyCapability.reject(c);else if(y.opListReadCapability)y.opListReadCapability.reject(c);else throw c}})};d()}_abortOperatorList({intentState:r,reason:n,force:i=!1}){if(r.streamReader){if(r.streamReaderCancelTimeout&&(clearTimeout(r.streamReaderCancelTimeout),r.streamReaderCancelTimeout=null),!i){if(r.renderTasks.size>0)return;if(n instanceof ab){let p=TD;n.extraDelay>0&&n.extraDelay<1e3&&(p+=n.extraDelay),r.streamReaderCancelTimeout=setTimeout(()=>{r.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:r,reason:n,force:!0})},p);return}}if(r.streamReader.cancel(new al(n.message)).catch(()=>{}),r.streamReader=null,!this._transport.destroyed){for(const[p,b]of this._intentStates)if(b===r){this._intentStates.delete(p);break}this.cleanup()}}}get stats(){return this._stats}}Io=new WeakMap,Ic=new WeakSet,Zp=function(){if(!R(this,Io)||this.destroyed)return!1;for(const{renderTasks:r,operatorList:n}of this._intentStates.values())if(r.size>0||!n.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),ne(this,Io,!1),!0};var su,ea,Fo,Fc,B0,Uc,Bc,Is,Qv,AM,TM,Kp,Qh,Jv;const sn=class sn{constructor({name:r=null,port:n=null,verbosity:i=_5()}={}){ce(this,Is);ce(this,su,Promise.withResolvers());ce(this,ea,null);ce(this,Fo,null);ce(this,Fc,null);if(this.name=r,this.destroyed=!1,this.verbosity=i,n){if(R(sn,Bc).has(n))throw new Error("Cannot use more than one PDFWorker per port.");R(sn,Bc).set(n,this),pe(this,Is,AM).call(this,n)}else pe(this,Is,TM).call(this)}get promise(){return R(this,su).promise}get port(){return R(this,Fo)}get messageHandler(){return R(this,ea)}destroy(){var r,n;this.destroyed=!0,(r=R(this,Fc))==null||r.terminate(),ne(this,Fc,null),R(sn,Bc).delete(R(this,Fo)),ne(this,Fo,null),(n=R(this,ea))==null||n.destroy(),ne(this,ea,null)}static create(r){const n=R(this,Bc).get(r==null?void 0:r.port);if(n){if(n._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return n}return new sn(r)}static get workerSrc(){if(Ui.workerSrc)return Ui.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return dr(this,"_setupFakeWorkerGlobal",(async()=>R(this,Qh,Jv)?R(this,Qh,Jv):(await import(this.workerSrc)).WorkerMessageHandler)())}};su=new WeakMap,ea=new WeakMap,Fo=new WeakMap,Fc=new WeakMap,B0=new WeakMap,Uc=new WeakMap,Bc=new WeakMap,Is=new WeakSet,Qv=function(){R(this,su).resolve(),R(this,ea).send("configure",{verbosity:this.verbosity})},AM=function(r){ne(this,Fo,r),ne(this,ea,new qp("main","worker",r)),R(this,ea).on("ready",()=>{}),pe(this,Is,Qv).call(this)},TM=function(){if(R(sn,Uc)||R(sn,Qh,Jv)){pe(this,Is,Kp).call(this);return}let{workerSrc:r}=sn;try{sn._isSameOrigin(window.location,r)||(r=sn._createCDNWrapper(new URL(r,window.location).href));const n=new Worker(r,{type:"module"}),i=new qp("main","worker",n),p=()=>{b.abort(),i.destroy(),n.terminate(),this.destroyed?R(this,su).reject(new Error("Worker was destroyed")):pe(this,Is,Kp).call(this)},b=new AbortController;n.addEventListener("error",()=>{R(this,Fc)||p()},{signal:b.signal}),i.on("test",t=>{if(b.abort(),this.destroyed||!t){p();return}ne(this,ea,i),ne(this,Fo,n),ne(this,Fc,n),pe(this,Is,Qv).call(this)}),i.on("ready",t=>{if(b.abort(),this.destroyed){p();return}try{M()}catch{pe(this,Is,Kp).call(this)}});const M=()=>{const t=new Uint8Array;i.send("test",t,[t.buffer])};M();return}catch{ib("The worker has been disabled.")}pe(this,Is,Kp).call(this)},Kp=function(){R(sn,Uc)||(Zt("Setting up fake worker."),ne(sn,Uc,!0)),sn._setupFakeWorkerGlobal.then(r=>{if(this.destroyed){R(this,su).reject(new Error("Worker was destroyed"));return}const n=new B5;ne(this,Fo,n);const i=`fake${Cs(sn,B0)._++}`,p=new qp(i+"_worker",i,n);r.setup(p,n),ne(this,ea,new qp(i,i+"_worker",n)),pe(this,Is,Qv).call(this)}).catch(r=>{R(this,su).reject(new Error(`Setting up fake worker failed: "${r.message}".`))})},Qh=new WeakSet,Jv=function(){var r;try{return((r=globalThis.pdfjsWorker)==null?void 0:r.WorkerMessageHandler)||null}catch{return null}},ce(sn,Qh),ce(sn,B0,0),ce(sn,Uc,!1),ce(sn,Bc,new WeakMap),Ps&&(ne(sn,Uc,!0),Ui.workerSrc||(Ui.workerSrc="./pdf.worker.mjs")),sn._isSameOrigin=(r,n)=>{const i=URL.parse(r);if(!(i!=null&&i.origin)||i.origin==="null")return!1;const p=new URL(n,i);return i.origin===p.origin},sn._createCDNWrapper=r=>{const n=`await import("${r}");`;return URL.createObjectURL(new Blob([n],{type:"text/javascript"}))},sn.fromPort=r=>{if(C5("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!(r!=null&&r.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return sn.create(r)};let Of=sn;var Uo,Pa,Jh,ef,Bo,Gc,Qp;class RD{constructor(r,n,i,p,b){ce(this,Gc);ce(this,Uo,new Map);ce(this,Pa,new Map);ce(this,Jh,new Map);ce(this,ef,new Map);ce(this,Bo,null);this.messageHandler=r,this.loadingTask=n,this.commonObjs=new wM,this.fontLoader=new P5({ownerDocument:p.ownerDocument,styleElement:p.styleElement}),this.loadingParams=p.loadingParams,this._params=p,this.canvasFactory=b.canvasFactory,this.filterFactory=b.filterFactory,this.cMapReaderFactory=b.cMapReaderFactory,this.standardFontDataFactory=b.standardFontDataFactory,this.wasmFactory=b.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=i,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return dr(this,"annotationStorage",new Nx)}getRenderingIntent(r,n=Va.ENABLE,i=null,p=!1,b=!1){let M=mi.DISPLAY,t=vw;switch(r){case"any":M=mi.ANY;break;case"display":break;case"print":M=mi.PRINT;break;default:Zt(`getRenderingIntent - invalid intent: ${r}`)}const A=M&mi.PRINT&&i instanceof sM?i:this.annotationStorage;switch(n){case Va.DISABLE:M+=mi.ANNOTATIONS_DISABLE;break;case Va.ENABLE:break;case Va.ENABLE_FORMS:M+=mi.ANNOTATIONS_FORMS;break;case Va.ENABLE_STORAGE:M+=mi.ANNOTATIONS_STORAGE,t=A.serializable;break;default:Zt(`getRenderingIntent - invalid annotationMode: ${n}`)}p&&(M+=mi.IS_EDITING),b&&(M+=mi.OPLIST);const{ids:y,hash:d}=A.modifiedIds,c=[M,t.hash,d];return{renderingIntent:M,cacheKey:c.join("_"),annotationStorageSerializable:t,modifiedIds:y}}destroy(){var i;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(i=R(this,Bo))==null||i.reject(new Error("Worker was destroyed during onPassword callback"));const r=[];for(const p of R(this,Pa).values())r.push(p._destroy());R(this,Pa).clear(),R(this,Jh).clear(),R(this,ef).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const n=this.messageHandler.sendWithPromise("Terminate",null);return r.push(n),Promise.all(r).then(()=>{var p,b;this.commonObjs.clear(),this.fontLoader.clear(),R(this,Uo).clear(),this.filterFactory.destroy(),pm.cleanup(),(p=this._networkStream)==null||p.cancelAllRequests(new al("Worker was terminated.")),(b=this.messageHandler)==null||b.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:r,loadingTask:n}=this;r.on("GetReader",(i,p)=>{Nn(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=b=>{this._lastProgress={loaded:b.loaded,total:b.total}},p.onPull=()=>{this._fullReader.read().then(function({value:b,done:M}){if(M){p.close();return}Nn(b instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),p.enqueue(new Uint8Array(b),1,[b])}).catch(b=>{p.error(b)})},p.onCancel=b=>{this._fullReader.cancel(b),p.ready.catch(M=>{if(!this.destroyed)throw M})}}),r.on("ReaderHeadersReady",async i=>{var t;await this._fullReader.headersReady;const{isStreamingSupported:p,isRangeSupported:b,contentLength:M}=this._fullReader;return(!p||!b)&&(this._lastProgress&&((t=n.onProgress)==null||t.call(n,this._lastProgress)),this._fullReader.onProgress=A=>{var y;(y=n.onProgress)==null||y.call(n,{loaded:A.loaded,total:A.total})}),{isStreamingSupported:p,isRangeSupported:b,contentLength:M}}),r.on("GetRangeReader",(i,p)=>{Nn(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const b=this._networkStream.getRangeReader(i.begin,i.end);if(!b){p.close();return}p.onPull=()=>{b.read().then(function({value:M,done:t}){if(t){p.close();return}Nn(M instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),p.enqueue(new Uint8Array(M),1,[M])}).catch(M=>{p.error(M)})},p.onCancel=M=>{b.cancel(M),p.ready.catch(t=>{if(!this.destroyed)throw t})}}),r.on("GetDoc",({pdfInfo:i})=>{this._numPages=i.numPages,this._htmlForXfa=i.htmlForXfa,delete i.htmlForXfa,n._capability.resolve(new MD(i,this))}),r.on("DocException",i=>{n._capability.reject(Hs(i))}),r.on("PasswordRequest",i=>{ne(this,Bo,Promise.withResolvers());try{if(!n.onPassword)throw Hs(i);const p=b=>{b instanceof Error?R(this,Bo).reject(b):R(this,Bo).resolve({password:b})};n.onPassword(p,i.code)}catch(p){R(this,Bo).reject(p)}return R(this,Bo).promise}),r.on("DataLoaded",i=>{var p;(p=n.onProgress)==null||p.call(n,{loaded:i.length,total:i.length}),this.downloadInfoCapability.resolve(i)}),r.on("StartRenderPage",i=>{if(this.destroyed)return;R(this,Pa).get(i.pageIndex)._startRenderPage(i.transparency,i.cacheKey)}),r.on("commonobj",([i,p,b])=>{var M;if(this.destroyed||this.commonObjs.has(i))return null;switch(p){case"Font":if("error"in b){const d=b.error;Zt(`Error during font loading: ${d}`),this.commonObjs.resolve(i,d);break}const t=this._params.pdfBug&&((M=globalThis.FontInspector)!=null&&M.enabled)?(d,c)=>globalThis.FontInspector.fontAdded(d,c):null,A=new N5(b,t);this.fontLoader.bind(A).catch(()=>r.sendWithPromise("FontFallback",{id:i})).finally(()=>{!A.fontExtraProperties&&A.data&&(A.data=null),this.commonObjs.resolve(i,A)});break;case"CopyLocalImage":const{imageRef:y}=b;Nn(y,"The imageRef must be defined.");for(const d of R(this,Pa).values())for(const[,c]of d.objs)if((c==null?void 0:c.ref)===y)return c.dataLen?(this.commonObjs.resolve(i,structuredClone(c)),c.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(i,b);break;default:throw new Error(`Got unknown common object type ${p}`)}return null}),r.on("obj",([i,p,b,M])=>{var A;if(this.destroyed)return;const t=R(this,Pa).get(p);if(!t.objs.has(i)){if(t._intentStates.size===0){(A=M==null?void 0:M.bitmap)==null||A.close();return}switch(b){case"Image":case"Pattern":t.objs.resolve(i,M);break;default:throw new Error(`Got unknown object type ${b}`)}}}),r.on("DocProgress",i=>{var p;this.destroyed||(p=n.onProgress)==null||p.call(n,{loaded:i.loaded,total:i.total})}),r.on("FetchBinaryData",async i=>{if(this.destroyed)throw new Error("Worker was destroyed.");const p=this[i.type];if(!p)throw new Error(`${i.type} not initialized, see the \`useWorkerFetch\` parameter.`);return p.fetch(i)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var i;this.annotationStorage.size<=0&&Zt("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:r,transfer:n}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:r,filename:((i=this._fullReader)==null?void 0:i.filename)??null},n).finally(()=>{this.annotationStorage.resetModified()})}getPage(r){if(!Number.isInteger(r)||r<=0||r>this._numPages)return Promise.reject(new Error("Invalid page request."));const n=r-1,i=R(this,Jh).get(n);if(i)return i;const p=this.messageHandler.sendWithPromise("GetPage",{pageIndex:n}).then(b=>{if(this.destroyed)throw new Error("Transport destroyed");b.refStr&&R(this,ef).set(b.refStr,r);const M=new CD(n,b,this,this._params.pdfBug);return R(this,Pa).set(n,M),M});return R(this,Jh).set(n,p),p}getPageIndex(r){return bw(r)?this.messageHandler.sendWithPromise("GetPageIndex",{num:r.num,gen:r.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(r,n){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:r,intent:n})}getFieldObjects(){return pe(this,Gc,Qp).call(this,"GetFieldObjects")}hasJSActions(){return pe(this,Gc,Qp).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(r){return typeof r!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:r})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return pe(this,Gc,Qp).call(this,"GetDocJSActions")}getPageJSActions(r){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:r})}getStructTree(r){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:r})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(r){return pe(this,Gc,Qp).call(this,"GetOptionalContentConfig").then(n=>new lD(n,r))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const r="GetMetadata",n=R(this,Uo).get(r);if(n)return n;const i=this.messageHandler.sendWithPromise(r,null).then(p=>{var b,M;return{info:p[0],metadata:p[1]?new aD(p[1]):null,contentDispositionFilename:((b=this._fullReader)==null?void 0:b.filename)??null,contentLength:((M=this._fullReader)==null?void 0:M.contentLength)??null}});return R(this,Uo).set(r,i),i}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(r=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const n of R(this,Pa).values())if(!n.cleanup())throw new Error(`startCleanup: Page ${n.pageNumber} is currently rendering.`);this.commonObjs.clear(),r||this.fontLoader.clear(),R(this,Uo).clear(),this.filterFactory.destroy(!0),pm.cleanup()}}cachedPageNumber(r){if(!bw(r))return null;const n=r.gen===0?`${r.num}R`:`${r.num}R${r.gen}`;return R(this,ef).get(n)??null}}Uo=new WeakMap,Pa=new WeakMap,Jh=new WeakMap,ef=new WeakMap,Bo=new WeakMap,Gc=new WeakSet,Qp=function(r,n=null){const i=R(this,Uo).get(r);if(i)return i;const p=this.messageHandler.sendWithPromise(r,n);return R(this,Uo).set(r,p),p};var iu;class kD{constructor(r){ce(this,iu,null);yt(this,"onContinue",null);yt(this,"onError",null);ne(this,iu,r)}get promise(){return R(this,iu).capability.promise}cancel(r=0){R(this,iu).cancel(null,r)}get separateAnnots(){const{separateAnnots:r}=R(this,iu).operatorList;if(!r)return!1;const{annotationCanvasMap:n}=R(this,iu);return r.form||r.canvas&&(n==null?void 0:n.size)>0}}iu=new WeakMap;var au,zc;const oc=class oc{constructor({callback:r,params:n,objs:i,commonObjs:p,annotationCanvasMap:b,operatorList:M,pageIndex:t,canvasFactory:A,filterFactory:y,useRequestAnimationFrame:d=!1,pdfBug:c=!1,pageColors:u=null}){ce(this,au,null);this.callback=r,this.params=n,this.objs=i,this.commonObjs=p,this.annotationCanvasMap=b,this.operatorListIdx=null,this.operatorList=M,this._pageIndex=t,this.canvasFactory=A,this.filterFactory=y,this._pdfBug=c,this.pageColors=u,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=d===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new kD(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=n.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:r=!1,optionalContentConfig:n}){var t,A;if(this.cancelled)return;if(this._canvas){if(R(oc,zc).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");R(oc,zc).add(this._canvas)}this._pdfBug&&((t=globalThis.StepperManager)!=null&&t.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:i,viewport:p,transform:b,background:M}=this.params;this.gfx=new wh(i,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:n},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:b,viewport:p,transparency:r,background:M}),this.operatorListIdx=0,this.graphicsReady=!0,(A=this.graphicsReadyCallback)==null||A.call(this)}cancel(r=null,n=0){var i,p,b;this.running=!1,this.cancelled=!0,(i=this.gfx)==null||i.endDrawing(),R(this,au)&&(window.cancelAnimationFrame(R(this,au)),ne(this,au,null)),R(oc,zc).delete(this._canvas),r||(r=new ab(`Rendering cancelled, page ${this._pageIndex+1}`,n)),this.callback(r),(b=(p=this.task).onError)==null||b.call(p,r)}operatorListChanged(){var r;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(r=this.stepper)==null||r.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?ne(this,au,window.requestAnimationFrame(()=>{ne(this,au,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),R(oc,zc).delete(this._canvas),this.callback())))}};au=new WeakMap,zc=new WeakMap,ce(oc,zc,new WeakSet);let Ow=oc;const Gx="5.3.93",MM="cbeef3233";function JE(T){return Math.floor(Math.max(0,Math.min(1,T))*255).toString(16).padStart(2,"0")}function Np(T){return Math.max(0,Math.min(255,255*T))}class eA{static CMYK_G([r,n,i,p]){return["G",1-Math.min(1,.3*r+.59*i+.11*n+p)]}static G_CMYK([r]){return["CMYK",0,0,0,1-r]}static G_RGB([r]){return["RGB",r,r,r]}static G_rgb([r]){return r=Np(r),[r,r,r]}static G_HTML([r]){const n=JE(r);return`#${n}${n}${n}`}static RGB_G([r,n,i]){return["G",.3*r+.59*n+.11*i]}static RGB_rgb(r){return r.map(Np)}static RGB_HTML(r){return`#${r.map(JE).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([r,n,i,p]){return["RGB",1-Math.min(1,r+p),1-Math.min(1,i+p),1-Math.min(1,n+p)]}static CMYK_rgb([r,n,i,p]){return[Np(1-Math.min(1,r+p)),Np(1-Math.min(1,i+p)),Np(1-Math.min(1,n+p))]}static CMYK_HTML(r){const n=this.CMYK_RGB(r).slice(1);return this.RGB_HTML(n)}static RGB_CMYK([r,n,i]){const p=1-r,b=1-n,M=1-i,t=Math.min(p,b,M);return["CMYK",p,b,M,t]}}class OD{create(r,n,i=!1){if(r<=0||n<=0)throw new Error("Invalid SVG dimensions");const p=this._createSVG("svg:svg");return p.setAttribute("version","1.1"),i||(p.setAttribute("width",`${r}px`),p.setAttribute("height",`${n}px`)),p.setAttribute("preserveAspectRatio","none"),p.setAttribute("viewBox",`0 0 ${r} ${n}`),p}createElement(r){if(typeof r!="string")throw new Error("Invalid SVG element type");return this._createSVG(r)}_createSVG(r){Vr("Abstract method `_createSVG` called.")}}class gm extends OD{_createSVG(r){return document.createElementNS(bo,r)}}class zx{static setupStorage(r,n,i,p,b){const M=p.getValue(n,{value:null});switch(i.name){case"textarea":if(M.value!==null&&(r.textContent=M.value),b==="print")break;r.addEventListener("input",t=>{p.setValue(n,{value:t.target.value})});break;case"input":if(i.attributes.type==="radio"||i.attributes.type==="checkbox"){if(M.value===i.attributes.xfaOn?r.setAttribute("checked",!0):M.value===i.attributes.xfaOff&&r.removeAttribute("checked"),b==="print")break;r.addEventListener("change",t=>{p.setValue(n,{value:t.target.checked?t.target.getAttribute("xfaOn"):t.target.getAttribute("xfaOff")})})}else{if(M.value!==null&&r.setAttribute("value",M.value),b==="print")break;r.addEventListener("input",t=>{p.setValue(n,{value:t.target.value})})}break;case"select":if(M.value!==null){r.setAttribute("value",M.value);for(const t of i.children)t.attributes.value===M.value?t.attributes.selected=!0:t.attributes.hasOwnProperty("selected")&&delete t.attributes.selected}r.addEventListener("input",t=>{const A=t.target.options,y=A.selectedIndex===-1?"":A[A.selectedIndex].value;p.setValue(n,{value:y})});break}}static setAttributes({html:r,element:n,storage:i=null,intent:p,linkService:b}){const{attributes:M}=n,t=r instanceof HTMLAnchorElement;M.type==="radio"&&(M.name=`${M.name}-${p}`);for(const[A,y]of Object.entries(M))if(y!=null)switch(A){case"class":y.length&&r.setAttribute(A,y.join(" "));break;case"dataId":break;case"id":r.setAttribute("data-element-id",y);break;case"style":Object.assign(r.style,y);break;case"textContent":r.textContent=y;break;default:(!t||A!=="href"&&A!=="newWindow")&&r.setAttribute(A,y)}t&&b.addLinkAttributes(r,M.href,M.newWindow),i&&M.dataId&&this.setupStorage(r,M.dataId,n,i)}static render(r){var c,u;const n=r.annotationStorage,i=r.linkService,p=r.xfaHtml,b=r.intent||"display",M=document.createElement(p.name);p.attributes&&this.setAttributes({html:M,element:p,intent:b,linkService:i});const t=b!=="richText",A=r.div;if(A.append(M),r.viewport){const x=`matrix(${r.viewport.transform.join(",")})`;A.style.transform=x}t&&A.setAttribute("class","xfaLayer xfaFont");const y=[];if(p.children.length===0){if(p.value){const x=document.createTextNode(p.value);M.append(x),t&&mm.shouldBuildText(p.name)&&y.push(x)}return{textDivs:y}}const d=[[p,-1,M]];for(;d.length>0;){const[x,j,o]=d.at(-1);if(j+1===x.children.length){d.pop();continue}const h=x.children[++d.at(-1)[1]];if(h===null)continue;const{name:f}=h;if(f==="#text"){const m=document.createTextNode(h.value);y.push(m),o.append(m);continue}const l=(c=h==null?void 0:h.attributes)!=null&&c.xmlns?document.createElementNS(h.attributes.xmlns,f):document.createElement(f);if(o.append(l),h.attributes&&this.setAttributes({html:l,element:h,storage:n,intent:b,linkService:i}),((u=h.children)==null?void 0:u.length)>0)d.push([h,-1,l]);else if(h.value){const m=document.createTextNode(h.value);t&&mm.shouldBuildText(f)&&y.push(m),l.append(m)}}for(const x of A.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))x.setAttribute("readOnly",!0);return{textDivs:y}}static update(r){const n=`matrix(${r.viewport.transform.join(",")})`;r.div.style.transform=n,r.div.hidden=!1}}const LD=9,bd=new WeakSet;class tA{static create(r){switch(r.data.annotationType){case En.LINK:return new CM(r);case En.TEXT:return new DD(r);case En.WIDGET:switch(r.data.fieldType){case"Tx":return new PD(r);case"Btn":return r.data.radioButton?new OM(r):r.data.checkBox?new ID(r):new FD(r);case"Ch":return new UD(r);case"Sig":return new ND(r)}return new xd(r);case En.POPUP:return new Dw(r);case En.FREETEXT:return new IM(r);case En.LINE:return new GD(r);case En.SQUARE:return new zD(r);case En.CIRCLE:return new HD(r);case En.POLYLINE:return new FM(r);case En.CARET:return new qD(r);case En.INK:return new Hx(r);case En.POLYGON:return new VD(r);case En.HIGHLIGHT:return new UM(r);case En.UNDERLINE:return new WD(r);case En.SQUIGGLY:return new XD(r);case En.STRIKEOUT:return new YD(r);case En.STAMP:return new BM(r);case En.FILEATTACHMENT:return new $D(r);default:return new Cn(r)}}}var Hc,tf,rf,dg,Lw;const Zx=class Zx{constructor(r,{isRenderable:n=!1,ignoreBorder:i=!1,createQuadrilaterals:p=!1}={}){ce(this,dg);ce(this,Hc,null);ce(this,tf,!1);ce(this,rf,null);this.isRenderable=n,this.data=r.data,this.layer=r.layer,this.linkService=r.linkService,this.downloadManager=r.downloadManager,this.imageResourcesPath=r.imageResourcesPath,this.renderForms=r.renderForms,this.svgFactory=r.svgFactory,this.annotationStorage=r.annotationStorage,this.enableScripting=r.enableScripting,this.hasJSActions=r.hasJSActions,this._fieldObjects=r.fieldObjects,this.parent=r.parent,n&&(this.container=this._createContainer(i)),p&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:r,richText:n}){return!!(r!=null&&r.str||n!=null&&n.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return Zx._hasPopupData(this.data)}updateEdited(r){var i;if(!this.container)return;R(this,Hc)||ne(this,Hc,{rect:this.data.rect.slice(0)});const{rect:n}=r;n&&pe(this,dg,Lw).call(this,n),(i=R(this,rf))==null||i.popup.updateEdited(r)}resetEdited(){var r;R(this,Hc)&&(pe(this,dg,Lw).call(this,R(this,Hc).rect),(r=R(this,rf))==null||r.popup.resetEdited(),ne(this,Hc,null))}_createContainer(r){const{data:n,parent:{page:i,viewport:p}}=this,b=document.createElement("section");b.setAttribute("data-annotation-id",n.id),this instanceof xd||(b.tabIndex=0);const{style:M}=b;if(M.zIndex=this.parent.zIndex++,n.alternativeText&&(b.title=n.alternativeText),n.noRotate&&b.classList.add("norotate"),!n.rect||this instanceof Dw){const{rotation:o}=n;return!n.hasOwnCanvas&&o!==0&&this.setRotation(o,b),b}const{width:t,height:A}=this;if(!r&&n.borderStyle.width>0){M.borderWidth=`${n.borderStyle.width}px`;const o=n.borderStyle.horizontalCornerRadius,h=n.borderStyle.verticalCornerRadius;if(o>0||h>0){const l=`calc(${o}px * var(--total-scale-factor)) / calc(${h}px * var(--total-scale-factor))`;M.borderRadius=l}else if(this instanceof OM){const l=`calc(${t}px * var(--total-scale-factor)) / calc(${A}px * var(--total-scale-factor))`;M.borderRadius=l}switch(n.borderStyle.style){case lh.SOLID:M.borderStyle="solid";break;case lh.DASHED:M.borderStyle="dashed";break;case lh.BEVELED:Zt("Unimplemented border style: beveled");break;case lh.INSET:Zt("Unimplemented border style: inset");break;case lh.UNDERLINE:M.borderBottomStyle="solid";break}const f=n.borderColor||null;f?(ne(this,tf,!0),M.borderColor=Ut.makeHexColor(f[0]|0,f[1]|0,f[2]|0)):M.borderWidth=0}const y=Ut.normalizeRect([n.rect[0],i.view[3]-n.rect[1]+i.view[1],n.rect[2],i.view[3]-n.rect[3]+i.view[1]]),{pageWidth:d,pageHeight:c,pageX:u,pageY:x}=p.rawDims;M.left=`${100*(y[0]-u)/d}%`,M.top=`${100*(y[1]-x)/c}%`;const{rotation:j}=n;return n.hasOwnCanvas||j===0?(M.width=`${100*t/d}%`,M.height=`${100*A/c}%`):this.setRotation(j,b),b}setRotation(r,n=this.container){if(!this.data.rect)return;const{pageWidth:i,pageHeight:p}=this.parent.viewport.rawDims;let{width:b,height:M}=this;r%180!==0&&([b,M]=[M,b]),n.style.width=`${100*b/i}%`,n.style.height=`${100*M/p}%`,n.setAttribute("data-main-rotation",(360-r)%360)}get _commonActions(){const r=(n,i,p)=>{const b=p.detail[n],M=b[0],t=b.slice(1);p.target.style[i]=eA[`${M}_HTML`](t),this.annotationStorage.setValue(this.data.id,{[i]:eA[`${M}_rgb`](t)})};return dr(this,"_commonActions",{display:n=>{const{display:i}=n.detail,p=i%2===1;this.container.style.visibility=p?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:p,noPrint:i===1||i===2})},print:n=>{this.annotationStorage.setValue(this.data.id,{noPrint:!n.detail.print})},hidden:n=>{const{hidden:i}=n.detail;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:i,noView:i})},focus:n=>{setTimeout(()=>n.target.focus({preventScroll:!1}),0)},userName:n=>{n.target.title=n.detail.userName},readonly:n=>{n.target.disabled=n.detail.readonly},required:n=>{this._setRequired(n.target,n.detail.required)},bgColor:n=>{r("bgColor","backgroundColor",n)},fillColor:n=>{r("fillColor","backgroundColor",n)},fgColor:n=>{r("fgColor","color",n)},textColor:n=>{r("textColor","color",n)},borderColor:n=>{r("borderColor","borderColor",n)},strokeColor:n=>{r("strokeColor","borderColor",n)},rotation:n=>{const i=n.detail.rotation;this.setRotation(i),this.annotationStorage.setValue(this.data.id,{rotation:i})}})}_dispatchEventFromSandbox(r,n){const i=this._commonActions;for(const p of Object.keys(n.detail)){const b=r[p]||i[p];b==null||b(n)}}_setDefaultPropertiesFromJS(r){if(!this.enableScripting)return;const n=this.annotationStorage.getRawValue(this.data.id);if(!n)return;const i=this._commonActions;for(const[p,b]of Object.entries(n)){const M=i[p];if(M){const t={detail:{[p]:b},target:r};M(t),delete n[p]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:r}=this.data;if(!r)return;const[n,i,p,b]=this.data.rect.map(o=>Math.fround(o));if(r.length===8){const[o,h,f,l]=r.subarray(2,6);if(p===o&&b===h&&n===f&&i===l)return}const{style:M}=this.container;let t;if(R(this,tf)){const{borderColor:o,borderWidth:h}=M;M.borderWidth=0,t=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${o}" stroke-width="${h}">`],this.container.classList.add("hasBorder")}const A=p-n,y=b-i,{svgFactory:d}=this,c=d.createElement("svg");c.classList.add("quadrilateralsContainer"),c.setAttribute("width",0),c.setAttribute("height",0),c.role="none";const u=d.createElement("defs");c.append(u);const x=d.createElement("clipPath"),j=`clippath_${this.data.id}`;x.setAttribute("id",j),x.setAttribute("clipPathUnits","objectBoundingBox"),u.append(x);for(let o=2,h=r.length;o<h;o+=8){const f=r[o],l=r[o+1],m=r[o+2],_=r[o+3],w=d.createElement("rect"),v=(m-n)/A,E=(b-l)/y,C=(f-m)/A,O=(l-_)/y;w.setAttribute("x",v),w.setAttribute("y",E),w.setAttribute("width",C),w.setAttribute("height",O),x.append(w),t==null||t.push(`<rect vector-effect="non-scaling-stroke" x="${v}" y="${E}" width="${C}" height="${O}"/>`)}R(this,tf)&&(t.push("</g></svg>')"),M.backgroundImage=t.join("")),this.container.append(c),this.container.style.clipPath=`url(#${j})`}_createPopup(){const{data:r}=this,n=ne(this,rf,new Dw({data:{color:r.color,titleObj:r.titleObj,modificationDate:r.modificationDate,contentsObj:r.contentsObj,richText:r.richText,parentRect:r.rect,borderStyle:0,id:`popup_${r.id}`,rotation:r.rotation,noRotate:!0},parent:this.parent,elements:[this]}));this.parent.div.append(n.render())}render(){Vr("Abstract method `AnnotationElement.render` called")}_getElementsByName(r,n=null){const i=[];if(this._fieldObjects){const p=this._fieldObjects[r];if(p)for(const{page:b,id:M,exportValues:t}of p){if(b===-1||M===n)continue;const A=typeof t=="string"?t:null,y=document.querySelector(`[data-element-id="${M}"]`);if(y&&!bd.has(y)){Zt(`_getElementsByName - element not allowed: ${M}`);continue}i.push({id:M,exportValue:A,domElement:y})}return i}for(const p of document.getElementsByName(r)){const{exportValue:b}=p,M=p.getAttribute("data-element-id");M!==n&&bd.has(p)&&i.push({id:M,exportValue:b,domElement:p})}return i}show(){var r;this.container&&(this.container.hidden=!1),(r=this.popup)==null||r.maybeShow()}hide(){var r;this.container&&(this.container.hidden=!0),(r=this.popup)==null||r.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const r=this.getElementsToTriggerPopup();if(Array.isArray(r))for(const n of r)n.classList.add("highlightArea");else r.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:r,data:{id:n}}=this;this.container.addEventListener("dblclick",()=>{var i;(i=this.linkService.eventBus)==null||i.dispatch("switchannotationeditormode",{source:this,mode:r,editId:n,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}};Hc=new WeakMap,tf=new WeakMap,rf=new WeakMap,dg=new WeakSet,Lw=function(r){const{container:{style:n},data:{rect:i,rotation:p},parent:{viewport:{rawDims:{pageWidth:b,pageHeight:M,pageX:t,pageY:A}}}}=this;i==null||i.splice(0,4,...r),n.left=`${100*(r[0]-t)/b}%`,n.top=`${100*(M-r[3]+A)/M}%`,p===0?(n.width=`${100*(r[2]-r[0])/b}%`,n.height=`${100*(r[3]-r[1])/M}%`):this.setRotation(p)};let Cn=Zx;var yi,rc,RM,kM;class CM extends Cn{constructor(n,i=null){super(n,{isRenderable:!0,ignoreBorder:!!(i!=null&&i.ignoreBorder),createQuadrilaterals:!0});ce(this,yi);this.isTooltipOnly=n.data.isTooltipOnly}render(){const{data:n,linkService:i}=this,p=document.createElement("a");p.setAttribute("data-element-id",n.id);let b=!1;return n.url?(i.addLinkAttributes(p,n.url,n.newWindow),b=!0):n.action?(this._bindNamedAction(p,n.action),b=!0):n.attachment?(pe(this,yi,RM).call(this,p,n.attachment,n.attachmentDest),b=!0):n.setOCGState?(pe(this,yi,kM).call(this,p,n.setOCGState),b=!0):n.dest?(this._bindLink(p,n.dest),b=!0):(n.actions&&(n.actions.Action||n.actions["Mouse Up"]||n.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(p,n),b=!0),n.resetForm?(this._bindResetFormAction(p,n.resetForm),b=!0):this.isTooltipOnly&&!b&&(this._bindLink(p,""),b=!0)),this.container.classList.add("linkAnnotation"),b&&this.container.append(p),this.container}_bindLink(n,i){n.href=this.linkService.getDestinationHash(i),n.onclick=()=>(i&&this.linkService.goToDestination(i),!1),(i||i==="")&&pe(this,yi,rc).call(this)}_bindNamedAction(n,i){n.href=this.linkService.getAnchorUrl(""),n.onclick=()=>(this.linkService.executeNamedAction(i),!1),pe(this,yi,rc).call(this)}_bindJSAction(n,i){n.href=this.linkService.getAnchorUrl("");const p=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const b of Object.keys(i.actions)){const M=p.get(b);M&&(n[M]=()=>{var t;return(t=this.linkService.eventBus)==null||t.dispatch("dispatcheventinsandbox",{source:this,detail:{id:i.id,name:b}}),!1})}n.onclick||(n.onclick=()=>!1),pe(this,yi,rc).call(this)}_bindResetFormAction(n,i){const p=n.onclick;if(p||(n.href=this.linkService.getAnchorUrl("")),pe(this,yi,rc).call(this),!this._fieldObjects){Zt('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),p||(n.onclick=()=>!1);return}n.onclick=()=>{var c;p==null||p();const{fields:b,refs:M,include:t}=i,A=[];if(b.length!==0||M.length!==0){const u=new Set(M);for(const x of b){const j=this._fieldObjects[x]||[];for(const{id:o}of j)u.add(o)}for(const x of Object.values(this._fieldObjects))for(const j of x)u.has(j.id)===t&&A.push(j)}else for(const u of Object.values(this._fieldObjects))A.push(...u);const y=this.annotationStorage,d=[];for(const u of A){const{id:x}=u;switch(d.push(x),u.type){case"text":{const o=u.defaultValue||"";y.setValue(x,{value:o});break}case"checkbox":case"radiobutton":{const o=u.defaultValue===u.exportValues;y.setValue(x,{value:o});break}case"combobox":case"listbox":{const o=u.defaultValue||"";y.setValue(x,{value:o});break}default:continue}const j=document.querySelector(`[data-element-id="${x}"]`);if(j){if(!bd.has(j)){Zt(`_bindResetFormAction - element not allowed: ${x}`);continue}}else continue;j.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((c=this.linkService.eventBus)==null||c.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:d,name:"ResetForm"}})),!1}}}yi=new WeakSet,rc=function(){this.container.setAttribute("data-internal-link","")},RM=function(n,i,p=null){n.href=this.linkService.getAnchorUrl(""),i.description&&(n.title=i.description),n.onclick=()=>{var b;return(b=this.downloadManager)==null||b.openOrDownloadData(i.content,i.filename,p),!1},pe(this,yi,rc).call(this)},kM=function(n,i){n.href=this.linkService.getAnchorUrl(""),n.onclick=()=>(this.linkService.executeSetOCGState(i),!1),pe(this,yi,rc).call(this)};class DD extends Cn{constructor(r){super(r,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const r=document.createElement("img");return r.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",r.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),r.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(r),this.container}}class xd extends Cn{render(){return this.container}showElementAndHideCanvas(r){var n;this.data.hasOwnCanvas&&(((n=r.previousSibling)==null?void 0:n.nodeName)==="CANVAS"&&(r.previousSibling.hidden=!0),r.hidden=!1)}_getKeyModifier(r){return ns.platform.isMac?r.metaKey:r.ctrlKey}_setEventListener(r,n,i,p,b){i.includes("mouse")?r.addEventListener(i,M=>{var t;(t=this.linkService.eventBus)==null||t.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:p,value:b(M),shift:M.shiftKey,modifier:this._getKeyModifier(M)}})}):r.addEventListener(i,M=>{var t;if(i==="blur"){if(!n.focused||!M.relatedTarget)return;n.focused=!1}else if(i==="focus"){if(n.focused)return;n.focused=!0}b&&((t=this.linkService.eventBus)==null||t.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:p,value:b(M)}}))})}_setEventListeners(r,n,i,p){var b,M,t;for(const[A,y]of i)(y==="Action"||(b=this.data.actions)!=null&&b[y])&&((y==="Focus"||y==="Blur")&&(n||(n={focused:!1})),this._setEventListener(r,n,A,y,p),y==="Focus"&&!((M=this.data.actions)!=null&&M.Blur)?this._setEventListener(r,n,"blur","Blur",null):y==="Blur"&&!((t=this.data.actions)!=null&&t.Focus)&&this._setEventListener(r,n,"focus","Focus",null))}_setBackgroundColor(r){const n=this.data.backgroundColor||null;r.style.backgroundColor=n===null?"transparent":Ut.makeHexColor(n[0],n[1],n[2])}_setTextStyle(r){const n=["left","center","right"],{fontColor:i}=this.data.defaultAppearanceData,p=this.data.defaultAppearanceData.fontSize||LD,b=r.style;let M;const t=2,A=y=>Math.round(10*y)/10;if(this.data.multiLine){const y=Math.abs(this.data.rect[3]-this.data.rect[1]-t),d=Math.round(y/(j_*p))||1,c=y/d;M=Math.min(p,A(c/j_))}else{const y=Math.abs(this.data.rect[3]-this.data.rect[1]-t);M=Math.min(p,A(y/j_))}b.fontSize=`calc(${M}px * var(--total-scale-factor))`,b.color=Ut.makeHexColor(i[0],i[1],i[2]),this.data.textAlignment!==null&&(b.textAlign=n[this.data.textAlignment])}_setRequired(r,n){n?r.setAttribute("required",!0):r.removeAttribute("required"),r.setAttribute("aria-required",n)}}class PD extends xd{constructor(r){const n=r.renderForms||r.data.hasOwnCanvas||!r.data.hasAppearance&&!!r.data.fieldValue;super(r,{isRenderable:n})}setPropertyOnSiblings(r,n,i,p){const b=this.annotationStorage;for(const M of this._getElementsByName(r.name,r.id))M.domElement&&(M.domElement[n]=i),b.setValue(M.id,{[p]:i})}render(){var p,b;const r=this.annotationStorage,n=this.data.id;this.container.classList.add("textWidgetAnnotation");let i=null;if(this.renderForms){const M=r.getValue(n,{value:this.data.fieldValue});let t=M.value||"";const A=r.getValue(n,{charLimit:this.data.maxLen}).charLimit;A&&t.length>A&&(t=t.slice(0,A));let y=M.formattedValue||((p=this.data.textContent)==null?void 0:p.join(`
`))||null;y&&this.data.comb&&(y=y.replaceAll(/\s+/g,""));const d={userValue:t,formattedValue:y,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(i=document.createElement("textarea"),i.textContent=y??t,this.data.doNotScroll&&(i.style.overflowY="hidden")):(i=document.createElement("input"),i.type=this.data.password?"password":"text",i.setAttribute("value",y??t),this.data.doNotScroll&&(i.style.overflowX="hidden")),this.data.hasOwnCanvas&&(i.hidden=!0),bd.add(i),i.setAttribute("data-element-id",n),i.disabled=this.data.readOnly,i.name=this.data.fieldName,i.tabIndex=0;const c=this.data.dateFormat||this.data.timeFormat;c&&(i.title=c),this._setRequired(i,this.data.required),A&&(i.maxLength=A),i.addEventListener("input",x=>{r.setValue(n,{value:x.target.value}),this.setPropertyOnSiblings(i,"value",x.target.value,"value"),d.formattedValue=null}),i.addEventListener("resetform",x=>{const j=this.data.defaultFieldValue??"";i.value=d.userValue=j,d.formattedValue=null});let u=x=>{const{formattedValue:j}=d;j!=null&&(x.target.value=j),x.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){i.addEventListener("focus",j=>{var h;if(d.focused)return;const{target:o}=j;d.userValue&&(o.value=d.userValue),d.lastCommittedValue=o.value,d.commitKey=1,(h=this.data.actions)!=null&&h.Focus||(d.focused=!0)}),i.addEventListener("updatefromsandbox",j=>{this.showElementAndHideCanvas(j.target);const o={value(h){d.userValue=h.detail.value??"",r.setValue(n,{value:d.userValue.toString()}),h.target.value=d.userValue},formattedValue(h){const{formattedValue:f}=h.detail;d.formattedValue=f,f!=null&&h.target!==document.activeElement&&(h.target.value=f),r.setValue(n,{formattedValue:f})},selRange(h){h.target.setSelectionRange(...h.detail.selRange)},charLimit:h=>{var _;const{charLimit:f}=h.detail,{target:l}=h;if(f===0){l.removeAttribute("maxLength");return}l.setAttribute("maxLength",f);let m=d.userValue;!m||m.length<=f||(m=m.slice(0,f),l.value=d.userValue=m,r.setValue(n,{value:m}),(_=this.linkService.eventBus)==null||_.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:m,willCommit:!0,commitKey:1,selStart:l.selectionStart,selEnd:l.selectionEnd}}))}};this._dispatchEventFromSandbox(o,j)}),i.addEventListener("keydown",j=>{var f;d.commitKey=1;let o=-1;if(j.key==="Escape"?o=0:j.key==="Enter"&&!this.data.multiLine?o=2:j.key==="Tab"&&(d.commitKey=3),o===-1)return;const{value:h}=j.target;d.lastCommittedValue!==h&&(d.lastCommittedValue=h,d.userValue=h,(f=this.linkService.eventBus)==null||f.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:h,willCommit:!0,commitKey:o,selStart:j.target.selectionStart,selEnd:j.target.selectionEnd}}))});const x=u;u=null,i.addEventListener("blur",j=>{var h,f;if(!d.focused||!j.relatedTarget)return;(h=this.data.actions)!=null&&h.Blur||(d.focused=!1);const{value:o}=j.target;d.userValue=o,d.lastCommittedValue!==o&&((f=this.linkService.eventBus)==null||f.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:o,willCommit:!0,commitKey:d.commitKey,selStart:j.target.selectionStart,selEnd:j.target.selectionEnd}})),x(j)}),(b=this.data.actions)!=null&&b.Keystroke&&i.addEventListener("beforeinput",j=>{var v;d.lastCommittedValue=null;const{data:o,target:h}=j,{value:f,selectionStart:l,selectionEnd:m}=h;let _=l,w=m;switch(j.inputType){case"deleteWordBackward":{const E=f.substring(0,l).match(/\w*[^\w]*$/);E&&(_-=E[0].length);break}case"deleteWordForward":{const E=f.substring(l).match(/^[^\w]*\w*/);E&&(w+=E[0].length);break}case"deleteContentBackward":l===m&&(_-=1);break;case"deleteContentForward":l===m&&(w+=1);break}j.preventDefault(),(v=this.linkService.eventBus)==null||v.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:f,change:o||"",willCommit:!1,selStart:_,selEnd:w}})}),this._setEventListeners(i,d,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],j=>j.target.value)}if(u&&i.addEventListener("blur",u),this.data.comb){const j=(this.data.rect[2]-this.data.rect[0])/A;i.classList.add("comb"),i.style.letterSpacing=`calc(${j}px * var(--total-scale-factor) - 1ch)`}}else i=document.createElement("div"),i.textContent=this.data.fieldValue,i.style.verticalAlign="middle",i.style.display="table-cell",this.data.hasOwnCanvas&&(i.hidden=!0);return this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class ND extends xd{constructor(r){super(r,{isRenderable:!!r.data.hasOwnCanvas})}}class ID extends xd{constructor(r){super(r,{isRenderable:r.renderForms})}render(){const r=this.annotationStorage,n=this.data,i=n.id;let p=r.getValue(i,{value:n.exportValue===n.fieldValue}).value;typeof p=="string"&&(p=p!=="Off",r.setValue(i,{value:p})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const b=document.createElement("input");return bd.add(b),b.setAttribute("data-element-id",i),b.disabled=n.readOnly,this._setRequired(b,this.data.required),b.type="checkbox",b.name=n.fieldName,p&&b.setAttribute("checked",!0),b.setAttribute("exportValue",n.exportValue),b.tabIndex=0,b.addEventListener("change",M=>{const{name:t,checked:A}=M.target;for(const y of this._getElementsByName(t,i)){const d=A&&y.exportValue===n.exportValue;y.domElement&&(y.domElement.checked=d),r.setValue(y.id,{value:d})}r.setValue(i,{value:A})}),b.addEventListener("resetform",M=>{const t=n.defaultFieldValue||"Off";M.target.checked=t===n.exportValue}),this.enableScripting&&this.hasJSActions&&(b.addEventListener("updatefromsandbox",M=>{const t={value(A){A.target.checked=A.detail.value!=="Off",r.setValue(i,{value:A.target.checked})}};this._dispatchEventFromSandbox(t,M)}),this._setEventListeners(b,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],M=>M.target.checked)),this._setBackgroundColor(b),this._setDefaultPropertiesFromJS(b),this.container.append(b),this.container}}class OM extends xd{constructor(r){super(r,{isRenderable:r.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const r=this.annotationStorage,n=this.data,i=n.id;let p=r.getValue(i,{value:n.fieldValue===n.buttonValue}).value;if(typeof p=="string"&&(p=p!==n.buttonValue,r.setValue(i,{value:p})),p)for(const M of this._getElementsByName(n.fieldName,i))r.setValue(M.id,{value:!1});const b=document.createElement("input");if(bd.add(b),b.setAttribute("data-element-id",i),b.disabled=n.readOnly,this._setRequired(b,this.data.required),b.type="radio",b.name=n.fieldName,p&&b.setAttribute("checked",!0),b.tabIndex=0,b.addEventListener("change",M=>{const{name:t,checked:A}=M.target;for(const y of this._getElementsByName(t,i))r.setValue(y.id,{value:!1});r.setValue(i,{value:A})}),b.addEventListener("resetform",M=>{const t=n.defaultFieldValue;M.target.checked=t!=null&&t===n.buttonValue}),this.enableScripting&&this.hasJSActions){const M=n.buttonValue;b.addEventListener("updatefromsandbox",t=>{const A={value:y=>{const d=M===y.detail.value;for(const c of this._getElementsByName(y.target.name)){const u=d&&c.id===i;c.domElement&&(c.domElement.checked=u),r.setValue(c.id,{value:u})}}};this._dispatchEventFromSandbox(A,t)}),this._setEventListeners(b,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],t=>t.target.checked)}return this._setBackgroundColor(b),this._setDefaultPropertiesFromJS(b),this.container.append(b),this.container}}class FD extends CM{constructor(r){super(r,{ignoreBorder:r.data.hasAppearance})}render(){const r=super.render();r.classList.add("buttonWidgetAnnotation","pushButton");const n=r.lastChild;return this.enableScripting&&this.hasJSActions&&n&&(this._setDefaultPropertiesFromJS(n),n.addEventListener("updatefromsandbox",i=>{this._dispatchEventFromSandbox({},i)})),r}}class UD extends xd{constructor(r){super(r,{isRenderable:r.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const r=this.annotationStorage,n=this.data.id,i=r.getValue(n,{value:this.data.fieldValue}),p=document.createElement("select");bd.add(p),p.setAttribute("data-element-id",n),p.disabled=this.data.readOnly,this._setRequired(p,this.data.required),p.name=this.data.fieldName,p.tabIndex=0;let b=this.data.combo&&this.data.options.length>0;this.data.combo||(p.size=this.data.options.length,this.data.multiSelect&&(p.multiple=!0)),p.addEventListener("resetform",d=>{const c=this.data.defaultFieldValue;for(const u of p.options)u.selected=u.value===c});for(const d of this.data.options){const c=document.createElement("option");c.textContent=d.displayValue,c.value=d.exportValue,i.value.includes(d.exportValue)&&(c.setAttribute("selected",!0),b=!1),p.append(c)}let M=null;if(b){const d=document.createElement("option");d.value=" ",d.setAttribute("hidden",!0),d.setAttribute("selected",!0),p.prepend(d),M=()=>{d.remove(),p.removeEventListener("input",M),M=null},p.addEventListener("input",M)}const t=d=>{const c=d?"value":"textContent",{options:u,multiple:x}=p;return x?Array.prototype.filter.call(u,j=>j.selected).map(j=>j[c]):u.selectedIndex===-1?null:u[u.selectedIndex][c]};let A=t(!1);const y=d=>{const c=d.target.options;return Array.prototype.map.call(c,u=>({displayValue:u.textContent,exportValue:u.value}))};return this.enableScripting&&this.hasJSActions?(p.addEventListener("updatefromsandbox",d=>{const c={value(u){M==null||M();const x=u.detail.value,j=new Set(Array.isArray(x)?x:[x]);for(const o of p.options)o.selected=j.has(o.value);r.setValue(n,{value:t(!0)}),A=t(!1)},multipleSelection(u){p.multiple=!0},remove(u){const x=p.options,j=u.detail.remove;x[j].selected=!1,p.remove(j),x.length>0&&Array.prototype.findIndex.call(x,h=>h.selected)===-1&&(x[0].selected=!0),r.setValue(n,{value:t(!0),items:y(u)}),A=t(!1)},clear(u){for(;p.length!==0;)p.remove(0);r.setValue(n,{value:null,items:[]}),A=t(!1)},insert(u){const{index:x,displayValue:j,exportValue:o}=u.detail.insert,h=p.children[x],f=document.createElement("option");f.textContent=j,f.value=o,h?h.before(f):p.append(f),r.setValue(n,{value:t(!0),items:y(u)}),A=t(!1)},items(u){const{items:x}=u.detail;for(;p.length!==0;)p.remove(0);for(const j of x){const{displayValue:o,exportValue:h}=j,f=document.createElement("option");f.textContent=o,f.value=h,p.append(f)}p.options.length>0&&(p.options[0].selected=!0),r.setValue(n,{value:t(!0),items:y(u)}),A=t(!1)},indices(u){const x=new Set(u.detail.indices);for(const j of u.target.options)j.selected=x.has(j.index);r.setValue(n,{value:t(!0)}),A=t(!1)},editable(u){u.target.disabled=!u.detail.editable}};this._dispatchEventFromSandbox(c,d)}),p.addEventListener("input",d=>{var x;const c=t(!0),u=t(!1);r.setValue(n,{value:c}),d.preventDefault(),(x=this.linkService.eventBus)==null||x.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:A,change:u,changeEx:c,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(p,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],d=>d.target.value)):p.addEventListener("input",function(d){r.setValue(n,{value:t(!0)})}),this.data.combo&&this._setTextStyle(p),this._setBackgroundColor(p),this._setDefaultPropertiesFromJS(p),this.container.append(p),this.container}}class Dw extends Cn{constructor(r){const{data:n,elements:i}=r;super(r,{isRenderable:Cn._hasPopupData(n)}),this.elements=i,this.popup=null}render(){const{container:r}=this;r.classList.add("popupAnnotation"),r.role="comment";const n=this.popup=new BD({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),i=[];for(const p of this.elements)p.popup=n,p.container.ariaHasPopup="dialog",i.push(p.data.id),p.addHighlightArea();return this.container.setAttribute("aria-controls",i.map(p=>`${Dx}${p}`).join(",")),this.container}}var nf,G0,z0,sf,af,wn,Go,Vc,hg,fg,of,zo,ta,Ho,pg,Vo,mg,qc,Wc,qr,e0,Pw,LM,DM,PM,NM,t0,r0,Nw;class BD{constructor({container:r,color:n,elements:i,titleObj:p,modificationDate:b,contentsObj:M,richText:t,parent:A,rect:y,parentRect:d,open:c}){ce(this,qr);ce(this,nf,pe(this,qr,PM).bind(this));ce(this,G0,pe(this,qr,Nw).bind(this));ce(this,z0,pe(this,qr,r0).bind(this));ce(this,sf,pe(this,qr,t0).bind(this));ce(this,af,null);ce(this,wn,null);ce(this,Go,null);ce(this,Vc,null);ce(this,hg,null);ce(this,fg,null);ce(this,of,null);ce(this,zo,!1);ce(this,ta,null);ce(this,Ho,null);ce(this,pg,null);ce(this,Vo,null);ce(this,mg,null);ce(this,qc,null);ce(this,Wc,!1);var u;ne(this,wn,r),ne(this,mg,p),ne(this,Go,M),ne(this,Vo,t),ne(this,fg,A),ne(this,af,n),ne(this,pg,y),ne(this,of,d),ne(this,hg,i),ne(this,Vc,lb.toDateObject(b)),this.trigger=i.flatMap(x=>x.getElementsToTriggerPopup());for(const x of this.trigger)x.addEventListener("click",R(this,sf)),x.addEventListener("mouseenter",R(this,z0)),x.addEventListener("mouseleave",R(this,G0)),x.classList.add("popupTriggerArea");for(const x of i)(u=x.container)==null||u.addEventListener("keydown",R(this,nf));R(this,wn).hidden=!0,c&&pe(this,qr,t0).call(this)}render(){if(R(this,ta))return;const r=ne(this,ta,document.createElement("div"));if(r.className="popup",R(this,af)){const b=r.style.outlineColor=Ut.makeHexColor(...R(this,af));r.style.backgroundColor=`color-mix(in srgb, ${b} 30%, white)`}const n=document.createElement("span");n.className="header";const i=document.createElement("h1");if(n.append(i),{dir:i.dir,str:i.textContent}=R(this,mg),r.append(n),R(this,Vc)){const b=document.createElement("time");b.classList.add("popupDate"),b.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),b.setAttribute("data-l10n-args",JSON.stringify({dateObj:R(this,Vc).valueOf()})),b.dateTime=R(this,Vc).toISOString(),n.append(b)}const p=R(this,qr,e0);if(p)zx.render({xfaHtml:p,intent:"richText",div:r}),r.lastChild.classList.add("richText","popupContent");else{const b=this._formatContents(R(this,Go));r.append(b)}R(this,wn).append(r)}_formatContents({str:r,dir:n}){const i=document.createElement("p");i.classList.add("popupContent"),i.dir=n;const p=r.split(/(?:\r\n?|\n)/);for(let b=0,M=p.length;b<M;++b){const t=p[b];i.append(document.createTextNode(t)),b<M-1&&i.append(document.createElement("br"))}return i}updateEdited({rect:r,popupContent:n}){var i;R(this,qc)||ne(this,qc,{contentsObj:R(this,Go),richText:R(this,Vo)}),r&&ne(this,Ho,null),n&&(ne(this,Vo,pe(this,qr,DM).call(this,n)),ne(this,Go,null)),(i=R(this,ta))==null||i.remove(),ne(this,ta,null)}resetEdited(){var r;R(this,qc)&&({contentsObj:Cs(this,Go)._,richText:Cs(this,Vo)._}=R(this,qc),ne(this,qc,null),(r=R(this,ta))==null||r.remove(),ne(this,ta,null),ne(this,Ho,null))}forceHide(){ne(this,Wc,this.isVisible),R(this,Wc)&&(R(this,wn).hidden=!0)}maybeShow(){R(this,Wc)&&(R(this,ta)||pe(this,qr,r0).call(this),ne(this,Wc,!1),R(this,wn).hidden=!1)}get isVisible(){return R(this,wn).hidden===!1}}nf=new WeakMap,G0=new WeakMap,z0=new WeakMap,sf=new WeakMap,af=new WeakMap,wn=new WeakMap,Go=new WeakMap,Vc=new WeakMap,hg=new WeakMap,fg=new WeakMap,of=new WeakMap,zo=new WeakMap,ta=new WeakMap,Ho=new WeakMap,pg=new WeakMap,Vo=new WeakMap,mg=new WeakMap,qc=new WeakMap,Wc=new WeakMap,qr=new WeakSet,e0=function(){const r=R(this,Vo),n=R(this,Go);return r!=null&&r.str&&(!(n!=null&&n.str)||n.str===r.str)&&R(this,Vo).html||null},Pw=function(){var r,n,i;return((i=(n=(r=R(this,qr,e0))==null?void 0:r.attributes)==null?void 0:n.style)==null?void 0:i.fontSize)||0},LM=function(){var r,n,i;return((i=(n=(r=R(this,qr,e0))==null?void 0:r.attributes)==null?void 0:n.style)==null?void 0:i.color)||null},DM=function(r){const n=[],i={str:r,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:n}]}},p={style:{color:R(this,qr,LM),fontSize:R(this,qr,Pw)?`calc(${R(this,qr,Pw)}px * var(--total-scale-factor))`:""}};for(const b of r.split(`
`))n.push({name:"span",value:b,attributes:p});return i},PM=function(r){r.altKey||r.shiftKey||r.ctrlKey||r.metaKey||(r.key==="Enter"||r.key==="Escape"&&R(this,zo))&&pe(this,qr,t0).call(this)},NM=function(){if(R(this,Ho)!==null)return;const{page:{view:r},viewport:{rawDims:{pageWidth:n,pageHeight:i,pageX:p,pageY:b}}}=R(this,fg);let M=!!R(this,of),t=M?R(this,of):R(this,pg);for(const j of R(this,hg))if(!t||Ut.intersect(j.data.rect,t)!==null){t=j.data.rect,M=!0;break}const A=Ut.normalizeRect([t[0],r[3]-t[1]+r[1],t[2],r[3]-t[3]+r[1]]),d=M?t[2]-t[0]+5:0,c=A[0]+d,u=A[1];ne(this,Ho,[100*(c-p)/n,100*(u-b)/i]);const{style:x}=R(this,wn);x.left=`${R(this,Ho)[0]}%`,x.top=`${R(this,Ho)[1]}%`},t0=function(){ne(this,zo,!R(this,zo)),R(this,zo)?(pe(this,qr,r0).call(this),R(this,wn).addEventListener("click",R(this,sf)),R(this,wn).addEventListener("keydown",R(this,nf))):(pe(this,qr,Nw).call(this),R(this,wn).removeEventListener("click",R(this,sf)),R(this,wn).removeEventListener("keydown",R(this,nf)))},r0=function(){R(this,ta)||this.render(),this.isVisible?R(this,zo)&&R(this,wn).classList.add("focused"):(pe(this,qr,NM).call(this),R(this,wn).hidden=!1,R(this,wn).style.zIndex=parseInt(R(this,wn).style.zIndex)+1e3)},Nw=function(){R(this,wn).classList.remove("focused"),!(R(this,zo)||!this.isVisible)&&(R(this,wn).hidden=!0,R(this,wn).style.zIndex=parseInt(R(this,wn).style.zIndex)-1e3)};class IM extends Cn{constructor(r){super(r,{isRenderable:!0,ignoreBorder:!0}),this.textContent=r.data.textContent,this.textPosition=r.data.textPosition,this.annotationEditorType=Xt.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const r=document.createElement("div");r.classList.add("annotationTextContent"),r.setAttribute("role","comment");for(const n of this.textContent){const i=document.createElement("span");i.textContent=n,r.append(i)}this.container.append(r)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var gg;class GD extends Cn{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0});ce(this,gg,null)}render(){this.container.classList.add("lineAnnotation");const{data:n,width:i,height:p}=this,b=this.svgFactory.create(i,p,!0),M=ne(this,gg,this.svgFactory.createElement("svg:line"));return M.setAttribute("x1",n.rect[2]-n.lineCoordinates[0]),M.setAttribute("y1",n.rect[3]-n.lineCoordinates[1]),M.setAttribute("x2",n.rect[2]-n.lineCoordinates[2]),M.setAttribute("y2",n.rect[3]-n.lineCoordinates[3]),M.setAttribute("stroke-width",n.borderStyle.width||1),M.setAttribute("stroke","transparent"),M.setAttribute("fill","transparent"),b.append(M),this.container.append(b),!n.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return R(this,gg)}addHighlightArea(){this.container.classList.add("highlightArea")}}gg=new WeakMap;var yg;class zD extends Cn{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0});ce(this,yg,null)}render(){this.container.classList.add("squareAnnotation");const{data:n,width:i,height:p}=this,b=this.svgFactory.create(i,p,!0),M=n.borderStyle.width,t=ne(this,yg,this.svgFactory.createElement("svg:rect"));return t.setAttribute("x",M/2),t.setAttribute("y",M/2),t.setAttribute("width",i-M),t.setAttribute("height",p-M),t.setAttribute("stroke-width",M||1),t.setAttribute("stroke","transparent"),t.setAttribute("fill","transparent"),b.append(t),this.container.append(b),!n.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return R(this,yg)}addHighlightArea(){this.container.classList.add("highlightArea")}}yg=new WeakMap;var vg;class HD extends Cn{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0});ce(this,vg,null)}render(){this.container.classList.add("circleAnnotation");const{data:n,width:i,height:p}=this,b=this.svgFactory.create(i,p,!0),M=n.borderStyle.width,t=ne(this,vg,this.svgFactory.createElement("svg:ellipse"));return t.setAttribute("cx",i/2),t.setAttribute("cy",p/2),t.setAttribute("rx",i/2-M/2),t.setAttribute("ry",p/2-M/2),t.setAttribute("stroke-width",M||1),t.setAttribute("stroke","transparent"),t.setAttribute("fill","transparent"),b.append(t),this.container.append(b),!n.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return R(this,vg)}addHighlightArea(){this.container.classList.add("highlightArea")}}vg=new WeakMap;var bg;class FM extends Cn{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0});ce(this,bg,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:n,vertices:i,borderStyle:p,popupRef:b},width:M,height:t}=this;if(!i)return this.container;const A=this.svgFactory.create(M,t,!0);let y=[];for(let c=0,u=i.length;c<u;c+=2){const x=i[c]-n[0],j=n[3]-i[c+1];y.push(`${x},${j}`)}y=y.join(" ");const d=ne(this,bg,this.svgFactory.createElement(this.svgElementName));return d.setAttribute("points",y),d.setAttribute("stroke-width",p.width||1),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),A.append(d),this.container.append(A),!b&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return R(this,bg)}addHighlightArea(){this.container.classList.add("highlightArea")}}bg=new WeakMap;class VD extends FM{constructor(r){super(r),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class qD extends Cn{constructor(r){super(r,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var _g,Xc,wg,Iw;class Hx extends Cn{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0});ce(this,wg);ce(this,_g,null);ce(this,Xc,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?Xt.HIGHLIGHT:Xt.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:n,rotation:i,inkLists:p,borderStyle:b,popupRef:M}}=this,{transform:t,width:A,height:y}=pe(this,wg,Iw).call(this,i,n),d=this.svgFactory.create(A,y,!0),c=ne(this,_g,this.svgFactory.createElement("svg:g"));d.append(c),c.setAttribute("stroke-width",b.width||1),c.setAttribute("stroke-linecap","round"),c.setAttribute("stroke-linejoin","round"),c.setAttribute("stroke-miterlimit",10),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),c.setAttribute("transform",t);for(let u=0,x=p.length;u<x;u++){const j=this.svgFactory.createElement(this.svgElementName);R(this,Xc).push(j),j.setAttribute("points",p[u].join(",")),c.append(j)}return!M&&this.hasPopupData&&this._createPopup(),this.container.append(d),this._editOnDoubleClick(),this.container}updateEdited(n){super.updateEdited(n);const{thickness:i,points:p,rect:b}=n,M=R(this,_g);if(i>=0&&M.setAttribute("stroke-width",i||1),p)for(let t=0,A=R(this,Xc).length;t<A;t++)R(this,Xc)[t].setAttribute("points",p[t].join(","));if(b){const{transform:t,width:A,height:y}=pe(this,wg,Iw).call(this,this.data.rotation,b);M.parentElement.setAttribute("viewBox",`0 0 ${A} ${y}`),M.setAttribute("transform",t)}}getElementsToTriggerPopup(){return R(this,Xc)}addHighlightArea(){this.container.classList.add("highlightArea")}}_g=new WeakMap,Xc=new WeakMap,wg=new WeakSet,Iw=function(n,i){switch(n){case 90:return{transform:`rotate(90) translate(${-i[0]},${i[1]}) scale(1,-1)`,width:i[3]-i[1],height:i[2]-i[0]};case 180:return{transform:`rotate(180) translate(${-i[2]},${i[1]}) scale(1,-1)`,width:i[2]-i[0],height:i[3]-i[1]};case 270:return{transform:`rotate(270) translate(${-i[2]},${i[3]}) scale(1,-1)`,width:i[3]-i[1],height:i[2]-i[0]};default:return{transform:`translate(${-i[0]},${i[3]}) scale(1,-1)`,width:i[2]-i[0],height:i[3]-i[1]}}};class UM extends Cn{constructor(r){super(r,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=Xt.HIGHLIGHT}render(){const{data:{overlaidText:r,popupRef:n}}=this;if(!n&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),r){const i=document.createElement("mark");i.classList.add("overlaidText"),i.textContent=r,this.container.append(i)}return this.container}}class WD extends Cn{constructor(r){super(r,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:r,popupRef:n}}=this;if(!n&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),r){const i=document.createElement("u");i.classList.add("overlaidText"),i.textContent=r,this.container.append(i)}return this.container}}class XD extends Cn{constructor(r){super(r,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:r,popupRef:n}}=this;if(!n&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),r){const i=document.createElement("u");i.classList.add("overlaidText"),i.textContent=r,this.container.append(i)}return this.container}}class YD extends Cn{constructor(r){super(r,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:r,popupRef:n}}=this;if(!n&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),r){const i=document.createElement("s");i.classList.add("overlaidText"),i.textContent=r,this.container.append(i)}return this.container}}class BM extends Cn{constructor(r){super(r,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=Xt.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var xg,Sg,Fw;class $D extends Cn{constructor(n){var p;super(n,{isRenderable:!0});ce(this,Sg);ce(this,xg,null);const{file:i}=this.data;this.filename=i.filename,this.content=i.content,(p=this.linkService.eventBus)==null||p.dispatch("fileattachmentannotation",{source:this,...i})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:n,data:i}=this;let p;i.hasAppearance||i.fillAlpha===0?p=document.createElement("div"):(p=document.createElement("img"),p.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(i.name)?"paperclip":"pushpin"}.svg`,i.fillAlpha&&i.fillAlpha<1&&(p.style=`filter: opacity(${Math.round(i.fillAlpha*100)}%);`)),p.addEventListener("dblclick",pe(this,Sg,Fw).bind(this)),ne(this,xg,p);const{isMac:b}=ns.platform;return n.addEventListener("keydown",M=>{M.key==="Enter"&&(b?M.metaKey:M.ctrlKey)&&pe(this,Sg,Fw).call(this)}),!i.popupRef&&this.hasPopupData?this._createPopup():p.classList.add("popupTriggerArea"),n.append(p),n}getElementsToTriggerPopup(){return R(this,xg)}addHighlightArea(){this.container.classList.add("highlightArea")}}xg=new WeakMap,Sg=new WeakSet,Fw=function(){var n;(n=this.downloadManager)==null||n.openOrDownloadData(this.content,this.filename)};var jg,Yc,ou,Eg,Cu,Uw,Bw,lf;let Vx=(lf=class{constructor({div:r,accessibilityManager:n,annotationCanvasMap:i,annotationEditorUIManager:p,page:b,viewport:M,structTreeLayer:t}){ce(this,Cu);ce(this,jg,null);ce(this,Yc,null);ce(this,ou,new Map);ce(this,Eg,null);this.div=r,ne(this,jg,n),ne(this,Yc,i),ne(this,Eg,t||null),this.page=b,this.viewport=M,this.zIndex=0,this._annotationEditorUIManager=p}hasEditableAnnotations(){return R(this,ou).size>0}async render(r){var M;const{annotations:n}=r,i=this.div;Eu(i,this.viewport);const p=new Map,b={data:null,layer:i,linkService:r.linkService,downloadManager:r.downloadManager,imageResourcesPath:r.imageResourcesPath||"",renderForms:r.renderForms!==!1,svgFactory:new gm,annotationStorage:r.annotationStorage||new Nx,enableScripting:r.enableScripting===!0,hasJSActions:r.hasJSActions,fieldObjects:r.fieldObjects,parent:this,elements:null};for(const t of n){if(t.noHTML)continue;const A=t.annotationType===En.POPUP;if(A){const c=p.get(t.id);if(!c)continue;b.elements=c}else if(t.rect[2]===t.rect[0]||t.rect[3]===t.rect[1])continue;b.data=t;const y=tA.create(b);if(!y.isRenderable)continue;if(!A&&t.popupRef){const c=p.get(t.popupRef);c?c.push(y):p.set(t.popupRef,[y])}const d=y.render();t.hidden&&(d.style.visibility="hidden"),await pe(this,Cu,Uw).call(this,d,t.id,b.elements),y._isEditable&&(R(this,ou).set(y.data.id,y),(M=this._annotationEditorUIManager)==null||M.renderAnnotationElement(y))}pe(this,Cu,Bw).call(this)}async addLinkAnnotations(r,n){const i={data:null,layer:this.div,linkService:n,svgFactory:new gm,parent:this};for(const p of r){p.borderStyle||(p.borderStyle=lf._defaultBorderStyle),i.data=p;const b=tA.create(i);if(!b.isRenderable)continue;const M=b.render();await pe(this,Cu,Uw).call(this,M,p.id,null)}}update({viewport:r}){const n=this.div;this.viewport=r,Eu(n,{rotation:r.rotation}),pe(this,Cu,Bw).call(this),n.hidden=!1}getEditableAnnotations(){return Array.from(R(this,ou).values())}getEditableAnnotation(r){return R(this,ou).get(r)}static get _defaultBorderStyle(){return dr(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:lh.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}},jg=new WeakMap,Yc=new WeakMap,ou=new WeakMap,Eg=new WeakMap,Cu=new WeakSet,Uw=async function(r,n,i){var t,A;const p=r.firstChild||r,b=p.id=`${Dx}${n}`,M=await((t=R(this,Eg))==null?void 0:t.getAriaAttributes(b));if(M)for(const[y,d]of M)p.setAttribute(y,d);i?i.at(-1).container.after(r):(this.div.append(r),(A=R(this,jg))==null||A.moveElementInDOM(this.div,r,p,!1))},Bw=function(){var n;if(!R(this,Yc))return;const r=this.div;for(const[i,p]of R(this,Yc)){const b=r.querySelector(`[data-annotation-id="${i}"]`);if(!b)continue;p.className="annotationContent";const{firstChild:M}=b;M?M.nodeName==="CANVAS"?M.replaceWith(p):M.classList.contains("annotationContent")?M.after(p):M.before(p):b.append(p);const t=R(this,ou).get(i);t&&(t._hasNoCanvas?((n=this._annotationEditorUIManager)==null||n.setMissingCanvas(i,b.id,p),t._hasNoCanvas=!1):t.canvas=p)}R(this,Yc).clear()},lf);const Lv=/\r\n?|\n/g;var ra,ii,Ag,$c,ai,In,GM,zM,HM,n0,rl,s0,i0,VM,zw,qM;const Kr=class Kr extends Qr{constructor(n){super({...n,name:"freeTextEditor"});ce(this,In);ce(this,ra);ce(this,ii,"");ce(this,Ag,`${this.id}-editor`);ce(this,$c,null);ce(this,ai);ne(this,ra,n.color||Kr._defaultColor||Qr._defaultLineColor),ne(this,ai,n.fontSize||Kr._defaultFontSize),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert")}static get _keyboardManager(){const n=Kr.prototype,i=M=>M.isEmpty(),p=Au.TRANSLATE_SMALL,b=Au.TRANSLATE_BIG;return dr(this,"_keyboardManager",new ty([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],n.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],n.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],n._translateEmpty,{args:[-p,0],checker:i}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],n._translateEmpty,{args:[-b,0],checker:i}],[["ArrowRight","mac+ArrowRight"],n._translateEmpty,{args:[p,0],checker:i}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],n._translateEmpty,{args:[b,0],checker:i}],[["ArrowUp","mac+ArrowUp"],n._translateEmpty,{args:[0,-p],checker:i}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],n._translateEmpty,{args:[0,-b],checker:i}],[["ArrowDown","mac+ArrowDown"],n._translateEmpty,{args:[0,p],checker:i}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],n._translateEmpty,{args:[0,b],checker:i}]]))}static initialize(n,i){Qr.initialize(n,i);const p=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(p.getPropertyValue("--freetext-padding"))}static updateDefaultParams(n,i){switch(n){case hr.FREETEXT_SIZE:Kr._defaultFontSize=i;break;case hr.FREETEXT_COLOR:Kr._defaultColor=i;break}}updateParams(n,i){switch(n){case hr.FREETEXT_SIZE:pe(this,In,GM).call(this,i);break;case hr.FREETEXT_COLOR:pe(this,In,zM).call(this,i);break}}static get defaultPropertiesToUpdate(){return[[hr.FREETEXT_SIZE,Kr._defaultFontSize],[hr.FREETEXT_COLOR,Kr._defaultColor||Qr._defaultLineColor]]}get propertiesToUpdate(){return[[hr.FREETEXT_SIZE,R(this,ai)],[hr.FREETEXT_COLOR,R(this,ra)]]}_translateEmpty(n,i){this._uiManager.translateSelectedEditors(n,i,!0)}getInitialTranslation(){const n=this.parentScale;return[-Kr._internalPadding*n,-(Kr._internalPadding+R(this,ai))*n]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),ne(this,$c,new AbortController);const n=this._uiManager.combinedSignal(R(this,$c));return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:n}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:n}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:n}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:n}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:n}),!0}disableEditMode(){var n;return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",R(this,Ag)),this._isDraggable=!0,(n=R(this,$c))==null||n.abort(),ne(this,$c,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(n){this._focusEventsAllowed&&(super.focusin(n),n.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(n){var i;this.width||(this.enableEditMode(),n&&this.editorDiv.focus(),(i=this._initialOptions)!=null&&i.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const n=R(this,ii),i=ne(this,ii,pe(this,In,HM).call(this).trimEnd());if(n===i)return;const p=b=>{if(ne(this,ii,b),!b){this.remove();return}pe(this,In,i0).call(this),this._uiManager.rebuild(this),pe(this,In,n0).call(this)};this.addCommands({cmd:()=>{p(i)},undo:()=>{p(n)},mustExec:!1}),pe(this,In,n0).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(n){n.target===this.div&&n.key==="Enter"&&(this.enterInEditMode(),n.preventDefault())}editorDivKeydown(n){Kr._keyboardManager.exec(this,n)}editorDivFocus(n){this.isEditing=!0}editorDivBlur(n){this.isEditing=!1}editorDivInput(n){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let n,i;(this._isCopy||this.annotationElementId)&&(n=this.x,i=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",R(this,Ag)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:p}=this.editorDiv;if(p.fontSize=`calc(${R(this,ai)}px * var(--total-scale-factor))`,p.color=R(this,ra),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[b,M]=this.parentDimensions;if(this.annotationElementId){const{position:t}=this._initialData;let[A,y]=this.getInitialTranslation();[A,y]=this.pageTranslationToScreen(A,y);const[d,c]=this.pageDimensions,[u,x]=this.pageTranslation;let j,o;switch(this.rotation){case 0:j=n+(t[0]-u)/d,o=i+this.height-(t[1]-x)/c;break;case 90:j=n+(t[0]-u)/d,o=i-(t[1]-x)/c,[A,y]=[y,-A];break;case 180:j=n-this.width+(t[0]-u)/d,o=i-(t[1]-x)/c,[A,y]=[-A,-y];break;case 270:j=n+(t[0]-u-this.height*c)/d,o=i+(t[1]-x-this.width*d)/c,[A,y]=[-y,A];break}this.setAt(j*b,o*M,A,y)}else this._moveAfterPaste(n,i);pe(this,In,i0).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(n){var j,o,h;const i=n.clipboardData||window.clipboardData,{types:p}=i;if(p.length===1&&p[0]==="text/plain")return;n.preventDefault();const b=pe(j=Kr,rl,zw).call(j,i.getData("text")||"").replaceAll(Lv,`
`);if(!b)return;const M=window.getSelection();if(!M.rangeCount)return;this.editorDiv.normalize(),M.deleteFromDocument();const t=M.getRangeAt(0);if(!b.includes(`
`)){t.insertNode(document.createTextNode(b)),this.editorDiv.normalize(),M.collapseToStart();return}const{startContainer:A,startOffset:y}=t,d=[],c=[];if(A.nodeType===Node.TEXT_NODE){const f=A.parentElement;if(c.push(A.nodeValue.slice(y).replaceAll(Lv,"")),f!==this.editorDiv){let l=d;for(const m of this.editorDiv.childNodes){if(m===f){l=c;continue}l.push(pe(o=Kr,rl,s0).call(o,m))}}d.push(A.nodeValue.slice(0,y).replaceAll(Lv,""))}else if(A===this.editorDiv){let f=d,l=0;for(const m of this.editorDiv.childNodes)l++===y&&(f=c),f.push(pe(h=Kr,rl,s0).call(h,m))}ne(this,ii,`${d.join(`
`)}${b}${c.join(`
`)}`),pe(this,In,i0).call(this);const u=new Range;let x=Math.sumPrecise(d.map(f=>f.length));for(const{firstChild:f}of this.editorDiv.childNodes)if(f.nodeType===Node.TEXT_NODE){const l=f.nodeValue.length;if(x<=l){u.setStart(f,x),u.setEnd(f,x);break}x-=l}M.removeAllRanges(),M.addRange(u)}get contentDiv(){return this.editorDiv}static async deserialize(n,i,p){var t;let b=null;if(n instanceof IM){const{data:{defaultAppearanceData:{fontSize:A,fontColor:y},rect:d,rotation:c,id:u,popupRef:x},textContent:j,textPosition:o,parent:{page:{pageNumber:h}}}=n;if(!j||j.length===0)return null;b=n={annotationType:Xt.FREETEXT,color:Array.from(y),fontSize:A,value:j.join(`
`),position:o,pageIndex:h-1,rect:d.slice(0),rotation:c,annotationElementId:u,id:u,deleted:!1,popupRef:x}}const M=await super.deserialize(n,i,p);return ne(M,ai,n.fontSize),ne(M,ra,Ut.makeHexColor(...n.color)),ne(M,ii,pe(t=Kr,rl,zw).call(t,n.value)),M._initialData=b,M}serialize(n=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const i=Kr._internalPadding*this.parentScale,p=this.getRect(i,i),b=Qr._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:R(this,ra)),M={annotationType:Xt.FREETEXT,color:b,fontSize:R(this,ai),value:pe(this,In,VM).call(this),pageIndex:this.pageIndex,rect:p,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return n?(M.isCopy=!0,M):this.annotationElementId&&!pe(this,In,qM).call(this,M)?null:(M.id=this.annotationElementId,M)}renderAnnotationElement(n){const i=super.renderAnnotationElement(n);if(this.deleted)return i;const{style:p}=i;p.fontSize=`calc(${R(this,ai)}px * var(--total-scale-factor))`,p.color=R(this,ra),i.replaceChildren();for(const M of R(this,ii).split(`
`)){const t=document.createElement("div");t.append(M?document.createTextNode(M):document.createElement("br")),i.append(t)}const b=Kr._internalPadding*this.parentScale;return n.updateEdited({rect:this.getRect(b,b),popupContent:R(this,ii)}),i}resetAnnotationElement(n){super.resetAnnotationElement(n),n.resetEdited()}};ra=new WeakMap,ii=new WeakMap,Ag=new WeakMap,$c=new WeakMap,ai=new WeakMap,In=new WeakSet,GM=function(n){const i=b=>{this.editorDiv.style.fontSize=`calc(${b}px * var(--total-scale-factor))`,this.translate(0,-(b-R(this,ai))*this.parentScale),ne(this,ai,b),pe(this,In,n0).call(this)},p=R(this,ai);this.addCommands({cmd:i.bind(this,n),undo:i.bind(this,p),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:hr.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},zM=function(n){const i=b=>{ne(this,ra,this.editorDiv.style.color=b)},p=R(this,ra);this.addCommands({cmd:i.bind(this,n),undo:i.bind(this,p),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:hr.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},HM=function(){var p;const n=[];this.editorDiv.normalize();let i=null;for(const b of this.editorDiv.childNodes)(i==null?void 0:i.nodeType)===Node.TEXT_NODE&&b.nodeName==="BR"||(n.push(pe(p=Kr,rl,s0).call(p,b)),i=b);return n.join(`
`)},n0=function(){const[n,i]=this.parentDimensions;let p;if(this.isAttachedToDOM)p=this.div.getBoundingClientRect();else{const{currentLayer:b,div:M}=this,t=M.style.display,A=M.classList.contains("hidden");M.classList.remove("hidden"),M.style.display="hidden",b.div.append(this.div),p=M.getBoundingClientRect(),M.remove(),M.style.display=t,M.classList.toggle("hidden",A)}this.rotation%180===this.parentRotation%180?(this.width=p.width/n,this.height=p.height/i):(this.width=p.height/n,this.height=p.width/i),this.fixAndSetPosition()},rl=new WeakSet,s0=function(n){return(n.nodeType===Node.TEXT_NODE?n.nodeValue:n.innerText).replaceAll(Lv,"")},i0=function(){if(this.editorDiv.replaceChildren(),!!R(this,ii))for(const n of R(this,ii).split(`
`)){const i=document.createElement("div");i.append(n?document.createTextNode(n):document.createElement("br")),this.editorDiv.append(i)}},VM=function(){return R(this,ii).replaceAll(" "," ")},zw=function(n){return n.replaceAll(" "," ")},qM=function(n){const{value:i,fontSize:p,color:b,pageIndex:M}=this._initialData;return this._hasBeenMoved||n.value!==i||n.fontSize!==p||n.color.some((t,A)=>t!==b[A])||n.pageIndex!==M},ce(Kr,rl),yt(Kr,"_freeTextDefaultContent",""),yt(Kr,"_internalPadding",0),yt(Kr,"_defaultColor",null),yt(Kr,"_defaultFontSize",10),yt(Kr,"_type","freetext"),yt(Kr,"_editorType",Xt.FREETEXT);let Gw=Kr;class Rt{toSVGPath(){Vr("Abstract method `toSVGPath` must be implemented.")}get box(){Vr("Abstract getter `box` must be implemented.")}serialize(r,n){Vr("Abstract method `serialize` must be implemented.")}static _rescale(r,n,i,p,b,M){M||(M=new Float32Array(r.length));for(let t=0,A=r.length;t<A;t+=2)M[t]=n+r[t]*p,M[t+1]=i+r[t+1]*b;return M}static _rescaleAndSwap(r,n,i,p,b,M){M||(M=new Float32Array(r.length));for(let t=0,A=r.length;t<A;t+=2)M[t]=n+r[t+1]*p,M[t+1]=i+r[t]*b;return M}static _translate(r,n,i,p){p||(p=new Float32Array(r.length));for(let b=0,M=r.length;b<M;b+=2)p[b]=n+r[b],p[b+1]=i+r[b+1];return p}static svgRound(r){return Math.round(r*1e4)}static _normalizePoint(r,n,i,p,b){switch(b){case 90:return[1-n/i,r/p];case 180:return[1-r/i,1-n/p];case 270:return[n/i,1-r/p];default:return[r/i,n/p]}}static _normalizePagePoint(r,n,i){switch(i){case 90:return[1-n,r];case 180:return[1-r,1-n];case 270:return[n,1-r];default:return[r,n]}}static createBezierPoints(r,n,i,p,b,M){return[(r+5*i)/6,(n+5*p)/6,(5*i+b)/6,(5*p+M)/6,(i+b)/2,(p+M)/2]}}yt(Rt,"PRECISION",1e-4);var oi,na,uf,cf,Na,lr,Zc,Kc,Tg,Mg,df,hf,lu,Cg,H0,V0,Wn,Jp,WM,XM,YM,$M,ZM,KM;const So=class So{constructor({x:r,y:n},i,p,b,M,t=0){ce(this,Wn);ce(this,oi);ce(this,na,[]);ce(this,uf);ce(this,cf);ce(this,Na,[]);ce(this,lr,new Float32Array(18));ce(this,Zc);ce(this,Kc);ce(this,Tg);ce(this,Mg);ce(this,df);ce(this,hf);ce(this,lu,[]);ne(this,oi,i),ne(this,hf,b*p),ne(this,cf,M),R(this,lr).set([NaN,NaN,NaN,NaN,r,n],6),ne(this,uf,t),ne(this,Mg,R(So,Cg)*p),ne(this,Tg,R(So,V0)*p),ne(this,df,p),R(this,lu).push(r,n)}isEmpty(){return isNaN(R(this,lr)[8])}add({x:r,y:n}){var O;ne(this,Zc,r),ne(this,Kc,n);const[i,p,b,M]=R(this,oi);let[t,A,y,d]=R(this,lr).subarray(8,12);const c=r-y,u=n-d,x=Math.hypot(c,u);if(x<R(this,Tg))return!1;const j=x-R(this,Mg),o=j/x,h=o*c,f=o*u;let l=t,m=A;t=y,A=d,y+=h,d+=f,(O=R(this,lu))==null||O.push(r,n);const _=-f/j,w=h/j,v=_*R(this,hf),E=w*R(this,hf);return R(this,lr).set(R(this,lr).subarray(2,8),0),R(this,lr).set([y+v,d+E],4),R(this,lr).set(R(this,lr).subarray(14,18),12),R(this,lr).set([y-v,d-E],16),isNaN(R(this,lr)[6])?(R(this,Na).length===0&&(R(this,lr).set([t+v,A+E],2),R(this,Na).push(NaN,NaN,NaN,NaN,(t+v-i)/b,(A+E-p)/M),R(this,lr).set([t-v,A-E],14),R(this,na).push(NaN,NaN,NaN,NaN,(t-v-i)/b,(A-E-p)/M)),R(this,lr).set([l,m,t,A,y,d],6),!this.isEmpty()):(R(this,lr).set([l,m,t,A,y,d],6),Math.abs(Math.atan2(m-A,l-t)-Math.atan2(f,h))<Math.PI/2?([t,A,y,d]=R(this,lr).subarray(2,6),R(this,Na).push(NaN,NaN,NaN,NaN,((t+y)/2-i)/b,((A+d)/2-p)/M),[t,A,l,m]=R(this,lr).subarray(14,18),R(this,na).push(NaN,NaN,NaN,NaN,((l+t)/2-i)/b,((m+A)/2-p)/M),!0):([l,m,t,A,y,d]=R(this,lr).subarray(0,6),R(this,Na).push(((l+5*t)/6-i)/b,((m+5*A)/6-p)/M,((5*t+y)/6-i)/b,((5*A+d)/6-p)/M,((t+y)/2-i)/b,((A+d)/2-p)/M),[y,d,t,A,l,m]=R(this,lr).subarray(12,18),R(this,na).push(((l+5*t)/6-i)/b,((m+5*A)/6-p)/M,((5*t+y)/6-i)/b,((5*A+d)/6-p)/M,((t+y)/2-i)/b,((A+d)/2-p)/M),!0))}toSVGPath(){if(this.isEmpty())return"";const r=R(this,Na),n=R(this,na);if(isNaN(R(this,lr)[6])&&!this.isEmpty())return pe(this,Wn,WM).call(this);const i=[];i.push(`M${r[4]} ${r[5]}`);for(let p=6;p<r.length;p+=6)isNaN(r[p])?i.push(`L${r[p+4]} ${r[p+5]}`):i.push(`C${r[p]} ${r[p+1]} ${r[p+2]} ${r[p+3]} ${r[p+4]} ${r[p+5]}`);pe(this,Wn,YM).call(this,i);for(let p=n.length-6;p>=6;p-=6)isNaN(n[p])?i.push(`L${n[p+4]} ${n[p+5]}`):i.push(`C${n[p]} ${n[p+1]} ${n[p+2]} ${n[p+3]} ${n[p+4]} ${n[p+5]}`);return pe(this,Wn,XM).call(this,i),i.join(" ")}newFreeDrawOutline(r,n,i,p,b,M){return new QM(r,n,i,p,b,M)}getOutlines(){var c;const r=R(this,Na),n=R(this,na),i=R(this,lr),[p,b,M,t]=R(this,oi),A=new Float32Array((((c=R(this,lu))==null?void 0:c.length)??0)+2);for(let u=0,x=A.length-2;u<x;u+=2)A[u]=(R(this,lu)[u]-p)/M,A[u+1]=(R(this,lu)[u+1]-b)/t;if(A[A.length-2]=(R(this,Zc)-p)/M,A[A.length-1]=(R(this,Kc)-b)/t,isNaN(i[6])&&!this.isEmpty())return pe(this,Wn,$M).call(this,A);const y=new Float32Array(R(this,Na).length+24+R(this,na).length);let d=r.length;for(let u=0;u<d;u+=2){if(isNaN(r[u])){y[u]=y[u+1]=NaN;continue}y[u]=r[u],y[u+1]=r[u+1]}d=pe(this,Wn,KM).call(this,y,d);for(let u=n.length-6;u>=6;u-=6)for(let x=0;x<6;x+=2){if(isNaN(n[u+x])){y[d]=y[d+1]=NaN,d+=2;continue}y[d]=n[u+x],y[d+1]=n[u+x+1],d+=2}return pe(this,Wn,ZM).call(this,y,d),this.newFreeDrawOutline(y,A,R(this,oi),R(this,df),R(this,uf),R(this,cf))}};oi=new WeakMap,na=new WeakMap,uf=new WeakMap,cf=new WeakMap,Na=new WeakMap,lr=new WeakMap,Zc=new WeakMap,Kc=new WeakMap,Tg=new WeakMap,Mg=new WeakMap,df=new WeakMap,hf=new WeakMap,lu=new WeakMap,Cg=new WeakMap,H0=new WeakMap,V0=new WeakMap,Wn=new WeakSet,Jp=function(){const r=R(this,lr).subarray(4,6),n=R(this,lr).subarray(16,18),[i,p,b,M]=R(this,oi);return[(R(this,Zc)+(r[0]-n[0])/2-i)/b,(R(this,Kc)+(r[1]-n[1])/2-p)/M,(R(this,Zc)+(n[0]-r[0])/2-i)/b,(R(this,Kc)+(n[1]-r[1])/2-p)/M]},WM=function(){const[r,n,i,p]=R(this,oi),[b,M,t,A]=pe(this,Wn,Jp).call(this);return`M${(R(this,lr)[2]-r)/i} ${(R(this,lr)[3]-n)/p} L${(R(this,lr)[4]-r)/i} ${(R(this,lr)[5]-n)/p} L${b} ${M} L${t} ${A} L${(R(this,lr)[16]-r)/i} ${(R(this,lr)[17]-n)/p} L${(R(this,lr)[14]-r)/i} ${(R(this,lr)[15]-n)/p} Z`},XM=function(r){const n=R(this,na);r.push(`L${n[4]} ${n[5]} Z`)},YM=function(r){const[n,i,p,b]=R(this,oi),M=R(this,lr).subarray(4,6),t=R(this,lr).subarray(16,18),[A,y,d,c]=pe(this,Wn,Jp).call(this);r.push(`L${(M[0]-n)/p} ${(M[1]-i)/b} L${A} ${y} L${d} ${c} L${(t[0]-n)/p} ${(t[1]-i)/b}`)},$M=function(r){const n=R(this,lr),[i,p,b,M]=R(this,oi),[t,A,y,d]=pe(this,Wn,Jp).call(this),c=new Float32Array(36);return c.set([NaN,NaN,NaN,NaN,(n[2]-i)/b,(n[3]-p)/M,NaN,NaN,NaN,NaN,(n[4]-i)/b,(n[5]-p)/M,NaN,NaN,NaN,NaN,t,A,NaN,NaN,NaN,NaN,y,d,NaN,NaN,NaN,NaN,(n[16]-i)/b,(n[17]-p)/M,NaN,NaN,NaN,NaN,(n[14]-i)/b,(n[15]-p)/M],0),this.newFreeDrawOutline(c,r,R(this,oi),R(this,df),R(this,uf),R(this,cf))},ZM=function(r,n){const i=R(this,na);return r.set([NaN,NaN,NaN,NaN,i[4],i[5]],n),n+=6},KM=function(r,n){const i=R(this,lr).subarray(4,6),p=R(this,lr).subarray(16,18),[b,M,t,A]=R(this,oi),[y,d,c,u]=pe(this,Wn,Jp).call(this);return r.set([NaN,NaN,NaN,NaN,(i[0]-b)/t,(i[1]-M)/A,NaN,NaN,NaN,NaN,y,d,NaN,NaN,NaN,NaN,c,u,NaN,NaN,NaN,NaN,(p[0]-b)/t,(p[1]-M)/A],n),n+=24},ce(So,Cg,8),ce(So,H0,2),ce(So,V0,R(So,Cg)+R(So,H0));let j0=So;var ff,Qc,qo,Rg,li,kg,Tn,q0,JM;class QM extends Rt{constructor(n,i,p,b,M,t){super();ce(this,q0);ce(this,ff);ce(this,Qc,new Float32Array(4));ce(this,qo);ce(this,Rg);ce(this,li);ce(this,kg);ce(this,Tn);ne(this,Tn,n),ne(this,li,i),ne(this,ff,p),ne(this,kg,b),ne(this,qo,M),ne(this,Rg,t),this.lastPoint=[NaN,NaN],pe(this,q0,JM).call(this,t);const[A,y,d,c]=R(this,Qc);for(let u=0,x=n.length;u<x;u+=2)n[u]=(n[u]-A)/d,n[u+1]=(n[u+1]-y)/c;for(let u=0,x=i.length;u<x;u+=2)i[u]=(i[u]-A)/d,i[u+1]=(i[u+1]-y)/c}toSVGPath(){const n=[`M${R(this,Tn)[4]} ${R(this,Tn)[5]}`];for(let i=6,p=R(this,Tn).length;i<p;i+=6){if(isNaN(R(this,Tn)[i])){n.push(`L${R(this,Tn)[i+4]} ${R(this,Tn)[i+5]}`);continue}n.push(`C${R(this,Tn)[i]} ${R(this,Tn)[i+1]} ${R(this,Tn)[i+2]} ${R(this,Tn)[i+3]} ${R(this,Tn)[i+4]} ${R(this,Tn)[i+5]}`)}return n.push("Z"),n.join(" ")}serialize([n,i,p,b],M){const t=p-n,A=b-i;let y,d;switch(M){case 0:y=Rt._rescale(R(this,Tn),n,b,t,-A),d=Rt._rescale(R(this,li),n,b,t,-A);break;case 90:y=Rt._rescaleAndSwap(R(this,Tn),n,i,t,A),d=Rt._rescaleAndSwap(R(this,li),n,i,t,A);break;case 180:y=Rt._rescale(R(this,Tn),p,i,-t,A),d=Rt._rescale(R(this,li),p,i,-t,A);break;case 270:y=Rt._rescaleAndSwap(R(this,Tn),p,b,-t,-A),d=Rt._rescaleAndSwap(R(this,li),p,b,-t,-A);break}return{outline:Array.from(y),points:[Array.from(d)]}}get box(){return R(this,Qc)}newOutliner(n,i,p,b,M,t=0){return new j0(n,i,p,b,M,t)}getNewOutline(n,i){const[p,b,M,t]=R(this,Qc),[A,y,d,c]=R(this,ff),u=M*d,x=t*c,j=p*d+A,o=b*c+y,h=this.newOutliner({x:R(this,li)[0]*u+j,y:R(this,li)[1]*x+o},R(this,ff),R(this,kg),n,R(this,Rg),i??R(this,qo));for(let f=2;f<R(this,li).length;f+=2)h.add({x:R(this,li)[f]*u+j,y:R(this,li)[f+1]*x+o});return h.getOutlines()}}ff=new WeakMap,Qc=new WeakMap,qo=new WeakMap,Rg=new WeakMap,li=new WeakMap,kg=new WeakMap,Tn=new WeakMap,q0=new WeakSet,JM=function(n){const i=R(this,Tn);let p=i[4],b=i[5];const M=[p,b,p,b];let t=p,A=b;const y=n?Math.max:Math.min;for(let c=6,u=i.length;c<u;c+=6){const x=i[c+4],j=i[c+5];if(isNaN(i[c]))Ut.pointBoundingBox(x,j,M),A<j?(t=x,A=j):A===j&&(t=y(t,x));else{const o=[1/0,1/0,-1/0,-1/0];Ut.bezierBoundingBox(p,b,...i.slice(c,c+6),o),Ut.rectBoundingBox(...o,M),A<o[3]?(t=o[2],A=o[3]):A===o[3]&&(t=y(t,o[2]))}p=x,b=j}const d=R(this,Qc);d[0]=M[0]-R(this,qo),d[1]=M[1]-R(this,qo),d[2]=M[2]-M[0]+2*R(this,qo),d[3]=M[3]-M[1]+2*R(this,qo),this.lastPoint=[t,A]};var Og,Lg,uu,sa,Fs,eC,a0,tC,rC,Vw;class Hw{constructor(r,n=0,i=0,p=!0){ce(this,Fs);ce(this,Og);ce(this,Lg);ce(this,uu,[]);ce(this,sa,[]);const b=[1/0,1/0,-1/0,-1/0],M=10**-4;for(const{x,y:j,width:o,height:h}of r){const f=Math.floor((x-n)/M)*M,l=Math.ceil((x+o+n)/M)*M,m=Math.floor((j-n)/M)*M,_=Math.ceil((j+h+n)/M)*M,w=[f,m,_,!0],v=[l,m,_,!1];R(this,uu).push(w,v),Ut.rectBoundingBox(f,m,l,_,b)}const t=b[2]-b[0]+2*i,A=b[3]-b[1]+2*i,y=b[0]-i,d=b[1]-i,c=R(this,uu).at(p?-1:-2),u=[c[0],c[2]];for(const x of R(this,uu)){const[j,o,h]=x;x[0]=(j-y)/t,x[1]=(o-d)/A,x[2]=(h-d)/A}ne(this,Og,new Float32Array([y,d,t,A])),ne(this,Lg,u)}getOutlines(){R(this,uu).sort((n,i)=>n[0]-i[0]||n[1]-i[1]||n[2]-i[2]);const r=[];for(const n of R(this,uu))n[3]?(r.push(...pe(this,Fs,Vw).call(this,n)),pe(this,Fs,tC).call(this,n)):(pe(this,Fs,rC).call(this,n),r.push(...pe(this,Fs,Vw).call(this,n)));return pe(this,Fs,eC).call(this,r)}}Og=new WeakMap,Lg=new WeakMap,uu=new WeakMap,sa=new WeakMap,Fs=new WeakSet,eC=function(r){const n=[],i=new Set;for(const M of r){const[t,A,y]=M;n.push([t,A,M],[t,y,M])}n.sort((M,t)=>M[1]-t[1]||M[0]-t[0]);for(let M=0,t=n.length;M<t;M+=2){const A=n[M][2],y=n[M+1][2];A.push(y),y.push(A),i.add(A),i.add(y)}const p=[];let b;for(;i.size>0;){const M=i.values().next().value;let[t,A,y,d,c]=M;i.delete(M);let u=t,x=A;for(b=[t,y],p.push(b);;){let j;if(i.has(d))j=d;else if(i.has(c))j=c;else break;i.delete(j),[t,A,y,d,c]=j,u!==t&&(b.push(u,x,t,x===A?A:y),u=t),x=x===A?y:A}b.push(u,x)}return new ZD(p,R(this,Og),R(this,Lg))},a0=function(r){const n=R(this,sa);let i=0,p=n.length-1;for(;i<=p;){const b=i+p>>1,M=n[b][0];if(M===r)return b;M<r?i=b+1:p=b-1}return p+1},tC=function([,r,n]){const i=pe(this,Fs,a0).call(this,r);R(this,sa).splice(i,0,[r,n])},rC=function([,r,n]){const i=pe(this,Fs,a0).call(this,r);for(let p=i;p<R(this,sa).length;p++){const[b,M]=R(this,sa)[p];if(b!==r)break;if(b===r&&M===n){R(this,sa).splice(p,1);return}}for(let p=i-1;p>=0;p--){const[b,M]=R(this,sa)[p];if(b!==r)break;if(b===r&&M===n){R(this,sa).splice(p,1);return}}},Vw=function(r){const[n,i,p]=r,b=[[n,i,p]],M=pe(this,Fs,a0).call(this,p);for(let t=0;t<M;t++){const[A,y]=R(this,sa)[t];for(let d=0,c=b.length;d<c;d++){const[,u,x]=b[d];if(!(y<=u||x<=A)){if(u>=A){if(x>y)b[d][1]=y;else{if(c===1)return[];b.splice(d,1),d--,c--}continue}b[d][2]=A,x>y&&b.push([n,y,x])}}}return b};var Dg,pf;class ZD extends Rt{constructor(n,i,p){super();ce(this,Dg);ce(this,pf);ne(this,pf,n),ne(this,Dg,i),this.lastPoint=p}toSVGPath(){const n=[];for(const i of R(this,pf)){let[p,b]=i;n.push(`M${p} ${b}`);for(let M=2;M<i.length;M+=2){const t=i[M],A=i[M+1];t===p?(n.push(`V${A}`),b=A):A===b&&(n.push(`H${t}`),p=t)}n.push("Z")}return n.join(" ")}serialize([n,i,p,b],M){const t=[],A=p-n,y=b-i;for(const d of R(this,pf)){const c=new Array(d.length);for(let u=0;u<d.length;u+=2)c[u]=n+d[u]*A,c[u+1]=b-d[u+1]*y;t.push(c)}return t}get box(){return R(this,Dg)}get classNamesForOutlining(){return["highlightOutline"]}}Dg=new WeakMap,pf=new WeakMap;class qw extends j0{newFreeDrawOutline(r,n,i,p,b,M){return new KD(r,n,i,p,b,M)}}class KD extends QM{newOutliner(r,n,i,p,b,M=0){return new qw(r,n,i,p,b,M)}}var ui,Jc,mf,qn,Pg,gf,Wo,Ng,cu,ia,yf,Ig,Hr,Ww,Xw,Yw,nc,nC,Fl;const Vs=class Vs{constructor({editor:r=null,uiManager:n=null}){ce(this,Hr);ce(this,ui,null);ce(this,Jc,null);ce(this,mf);ce(this,qn,null);ce(this,Pg,!1);ce(this,gf,!1);ce(this,Wo,null);ce(this,Ng);ce(this,cu,null);ce(this,ia,null);ce(this,yf);var i,p;r?(ne(this,gf,!1),ne(this,yf,hr.HIGHLIGHT_COLOR),ne(this,Wo,r)):(ne(this,gf,!0),ne(this,yf,hr.HIGHLIGHT_DEFAULT_COLOR)),ne(this,ia,(r==null?void 0:r._uiManager)||n),ne(this,Ng,R(this,ia)._eventBus),ne(this,mf,((i=r==null?void 0:r.color)==null?void 0:i.toUpperCase())||((p=R(this,ia))==null?void 0:p.highlightColors.values().next().value)||"#FFFF98"),R(Vs,Ig)||ne(Vs,Ig,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return dr(this,"_keyboardManager",new ty([[["Escape","mac+Escape"],Vs.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Vs.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Vs.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Vs.prototype._moveToPrevious],[["Home","mac+Home"],Vs.prototype._moveToBeginning],[["End","mac+End"],Vs.prototype._moveToEnd]]))}renderButton(){const r=ne(this,ui,document.createElement("button"));r.className="colorPicker",r.tabIndex="0",r.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),r.ariaHasPopup="true",R(this,Wo)&&(r.ariaControls=`${R(this,Wo).id}_colorpicker_dropdown`);const n=R(this,ia)._signal;r.addEventListener("click",pe(this,Hr,nc).bind(this),{signal:n}),r.addEventListener("keydown",pe(this,Hr,Yw).bind(this),{signal:n});const i=ne(this,Jc,document.createElement("span"));return i.className="swatch",i.ariaHidden="true",i.style.backgroundColor=R(this,mf),r.append(i),r}renderMainDropdown(){const r=ne(this,qn,pe(this,Hr,Ww).call(this));return r.ariaOrientation="horizontal",r.ariaLabelledBy="highlightColorPickerLabel",r}_colorSelectFromKeyboard(r){if(r.target===R(this,ui)){pe(this,Hr,nc).call(this,r);return}const n=r.target.getAttribute("data-color");n&&pe(this,Hr,Xw).call(this,n,r)}_moveToNext(r){var n,i;if(!R(this,Hr,Fl)){pe(this,Hr,nc).call(this,r);return}if(r.target===R(this,ui)){(n=R(this,qn).firstChild)==null||n.focus();return}(i=r.target.nextSibling)==null||i.focus()}_moveToPrevious(r){var n,i;if(r.target===((n=R(this,qn))==null?void 0:n.firstChild)||r.target===R(this,ui)){R(this,Hr,Fl)&&this._hideDropdownFromKeyboard();return}R(this,Hr,Fl)||pe(this,Hr,nc).call(this,r),(i=r.target.previousSibling)==null||i.focus()}_moveToBeginning(r){var n;if(!R(this,Hr,Fl)){pe(this,Hr,nc).call(this,r);return}(n=R(this,qn).firstChild)==null||n.focus()}_moveToEnd(r){var n;if(!R(this,Hr,Fl)){pe(this,Hr,nc).call(this,r);return}(n=R(this,qn).lastChild)==null||n.focus()}hideDropdown(){var r,n;(r=R(this,qn))==null||r.classList.add("hidden"),R(this,ui).ariaExpanded="false",(n=R(this,cu))==null||n.abort(),ne(this,cu,null)}_hideDropdownFromKeyboard(){var r;if(!R(this,gf)){if(!R(this,Hr,Fl)){(r=R(this,Wo))==null||r.unselect();return}this.hideDropdown(),R(this,ui).focus({preventScroll:!0,focusVisible:R(this,Pg)})}}updateColor(r){if(R(this,Jc)&&(R(this,Jc).style.backgroundColor=r),!R(this,qn))return;const n=R(this,ia).highlightColors.values();for(const i of R(this,qn).children)i.ariaSelected=n.next().value===r.toUpperCase()}destroy(){var r,n;(r=R(this,ui))==null||r.remove(),ne(this,ui,null),ne(this,Jc,null),(n=R(this,qn))==null||n.remove(),ne(this,qn,null)}};ui=new WeakMap,Jc=new WeakMap,mf=new WeakMap,qn=new WeakMap,Pg=new WeakMap,gf=new WeakMap,Wo=new WeakMap,Ng=new WeakMap,cu=new WeakMap,ia=new WeakMap,yf=new WeakMap,Ig=new WeakMap,Hr=new WeakSet,Ww=function(){const r=document.createElement("div"),n=R(this,ia)._signal;r.addEventListener("contextmenu",zi,{signal:n}),r.className="dropdown",r.role="listbox",r.ariaMultiSelectable="false",r.ariaOrientation="vertical",r.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),R(this,Wo)&&(r.id=`${R(this,Wo).id}_colorpicker_dropdown`);for(const[i,p]of R(this,ia).highlightColors){const b=document.createElement("button");b.tabIndex="0",b.role="option",b.setAttribute("data-color",p),b.title=i,b.setAttribute("data-l10n-id",R(Vs,Ig)[i]);const M=document.createElement("span");b.append(M),M.className="swatch",M.style.backgroundColor=p,b.ariaSelected=p===R(this,mf),b.addEventListener("click",pe(this,Hr,Xw).bind(this,p),{signal:n}),r.append(b)}return r.addEventListener("keydown",pe(this,Hr,Yw).bind(this),{signal:n}),r},Xw=function(r,n){n.stopPropagation(),R(this,Ng).dispatch("switchannotationeditorparams",{source:this,type:R(this,yf),value:r})},Yw=function(r){Vs._keyboardManager.exec(this,r)},nc=function(r){if(R(this,Hr,Fl)){this.hideDropdown();return}if(ne(this,Pg,r.detail===0),R(this,cu)||(ne(this,cu,new AbortController),window.addEventListener("pointerdown",pe(this,Hr,nC).bind(this),{signal:R(this,ia).combinedSignal(R(this,cu))})),R(this,ui).ariaExpanded="true",R(this,qn)){R(this,qn).classList.remove("hidden");return}const n=ne(this,qn,pe(this,Hr,Ww).call(this));R(this,ui).append(n)},nC=function(r){var n;(n=R(this,qn))!=null&&n.contains(r.target)||this.hideDropdown()},Fl=function(){return R(this,qn)&&!R(this,qn).classList.contains("hidden")},ce(Vs,Ig,null);let ym=Vs;var vf,Fg,Xo,ed,Ug,Xs,Bg,Gg,td,Ni,ci,ds,bf,Yo,xs,_f,Ii,zg,tr,$w,o0,sC,iC,aC,Zw,sc,Bi,fh,oC,l0,em,lC,uC,cC,dC,hC;const Cr=class Cr extends Qr{constructor(n){super({...n,name:"highlightEditor"});ce(this,tr);ce(this,vf,null);ce(this,Fg,0);ce(this,Xo);ce(this,ed,null);ce(this,Ug,null);ce(this,Xs,null);ce(this,Bg,null);ce(this,Gg,0);ce(this,td,null);ce(this,Ni,null);ce(this,ci,null);ce(this,ds,!1);ce(this,bf,null);ce(this,Yo);ce(this,xs,null);ce(this,_f,"");ce(this,Ii);ce(this,zg,"");this.color=n.color||Cr._defaultColor,ne(this,Ii,n.thickness||Cr._defaultThickness),ne(this,Yo,n.opacity||Cr._defaultOpacity),ne(this,Xo,n.boxes||null),ne(this,zg,n.methodOfCreation||""),ne(this,_f,n.text||""),this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",n.highlightId>-1?(ne(this,ds,!0),pe(this,tr,o0).call(this,n),pe(this,tr,sc).call(this)):R(this,Xo)&&(ne(this,vf,n.anchorNode),ne(this,Fg,n.anchorOffset),ne(this,Bg,n.focusNode),ne(this,Gg,n.focusOffset),pe(this,tr,$w).call(this),pe(this,tr,sc).call(this),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}static get _keyboardManager(){const n=Cr.prototype;return dr(this,"_keyboardManager",new ty([[["ArrowLeft","mac+ArrowLeft"],n._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],n._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],n._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],n._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:R(this,ds)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:R(this,Ii),methodOfCreation:R(this,zg)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(n){return{numberOfColors:n.get("color").size}}static initialize(n,i){var p;Qr.initialize(n,i),Cr._defaultColor||(Cr._defaultColor=((p=i.highlightColors)==null?void 0:p.values().next().value)||"#fff066")}static updateDefaultParams(n,i){switch(n){case hr.HIGHLIGHT_DEFAULT_COLOR:Cr._defaultColor=i;break;case hr.HIGHLIGHT_THICKNESS:Cr._defaultThickness=i;break}}translateInPage(n,i){}get toolbarPosition(){return R(this,bf)}updateParams(n,i){switch(n){case hr.HIGHLIGHT_COLOR:pe(this,tr,sC).call(this,i);break;case hr.HIGHLIGHT_THICKNESS:pe(this,tr,iC).call(this,i);break}}static get defaultPropertiesToUpdate(){return[[hr.HIGHLIGHT_DEFAULT_COLOR,Cr._defaultColor],[hr.HIGHLIGHT_THICKNESS,Cr._defaultThickness]]}get propertiesToUpdate(){return[[hr.HIGHLIGHT_COLOR,this.color||Cr._defaultColor],[hr.HIGHLIGHT_THICKNESS,R(this,Ii)||Cr._defaultThickness],[hr.HIGHLIGHT_FREE,R(this,ds)]]}get toolbarButtons(){return this._uiManager.highlightColors?[["colorPicker",ne(this,Ug,new ym({editor:this}))]]:super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(pe(this,tr,em).call(this))}getBaseTranslation(){return[0,0]}getRect(n,i){return super.getRect(n,i,pe(this,tr,em).call(this))}onceAdded(n){this.annotationElementId||this.parent.addUndoableEditor(this),n&&this.div.focus()}remove(){pe(this,tr,Zw).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(pe(this,tr,sc).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(n){var p;let i=!1;this.parent&&!n?pe(this,tr,Zw).call(this):n&&(pe(this,tr,sc).call(this,n),i=!this.parent&&((p=this.div)==null?void 0:p.classList.contains("selectedEditor"))),super.setParent(n),this.show(this._isVisible),i&&this.select()}rotate(n){var b,M,t;const{drawLayer:i}=this.parent;let p;R(this,ds)?(n=(n-this.rotation+360)%360,p=pe(b=Cr,Bi,fh).call(b,R(this,Ni).box,n)):p=pe(M=Cr,Bi,fh).call(M,[this.x,this.y,this.width,this.height],n),i.updateProperties(R(this,ci),{bbox:p,root:{"data-main-rotation":n}}),i.updateProperties(R(this,xs),{bbox:pe(t=Cr,Bi,fh).call(t,R(this,Xs).box,n),root:{"data-main-rotation":n}})}render(){if(this.div)return this.div;const n=super.render();R(this,_f)&&(n.setAttribute("aria-label",R(this,_f)),n.setAttribute("role","mark")),R(this,ds)?n.classList.add("free"):this.div.addEventListener("keydown",pe(this,tr,oC).bind(this),{signal:this._uiManager._signal});const i=ne(this,td,document.createElement("div"));n.append(i),i.setAttribute("aria-hidden","true"),i.className="internal",i.style.clipPath=R(this,ed);const[p,b]=this.parentDimensions;return this.setDims(this.width*p,this.height*b),OT(this,R(this,td),["pointerover","pointerleave"]),this.enableEditing(),n}pointerover(){var n;this.isSelected||(n=this.parent)==null||n.drawLayer.updateProperties(R(this,xs),{rootClass:{hovered:!0}})}pointerleave(){var n;this.isSelected||(n=this.parent)==null||n.drawLayer.updateProperties(R(this,xs),{rootClass:{hovered:!1}})}_moveCaret(n){switch(this.parent.unselect(this),n){case 0:case 2:pe(this,tr,l0).call(this,!0);break;case 1:case 3:pe(this,tr,l0).call(this,!1);break}}select(){var n;super.select(),R(this,xs)&&((n=this.parent)==null||n.drawLayer.updateProperties(R(this,xs),{rootClass:{hovered:!1,selected:!0}}))}unselect(){var n;super.unselect(),R(this,xs)&&((n=this.parent)==null||n.drawLayer.updateProperties(R(this,xs),{rootClass:{selected:!1}}),R(this,ds)||pe(this,tr,l0).call(this,!1))}get _mustFixPosition(){return!R(this,ds)}show(n=this._isVisible){super.show(n),this.parent&&(this.parent.drawLayer.updateProperties(R(this,ci),{rootClass:{hidden:!n}}),this.parent.drawLayer.updateProperties(R(this,xs),{rootClass:{hidden:!n}}))}static startHighlighting(n,i,{target:p,x:b,y:M}){const{x:t,y:A,width:y,height:d}=p.getBoundingClientRect(),c=new AbortController,u=n.combinedSignal(c),x=j=>{c.abort(),pe(this,Bi,dC).call(this,n,j)};window.addEventListener("blur",x,{signal:u}),window.addEventListener("pointerup",x,{signal:u}),window.addEventListener("pointerdown",Mn,{capture:!0,passive:!1,signal:u}),window.addEventListener("contextmenu",zi,{signal:u}),p.addEventListener("pointermove",pe(this,Bi,cC).bind(this,n),{signal:u}),this._freeHighlight=new qw({x:b,y:M},[t,A,y,d],n.scale,this._defaultThickness/2,i,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=n.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static async deserialize(n,i,p){var o,h,f,l;let b=null;if(n instanceof UM){const{data:{quadPoints:m,rect:_,rotation:w,id:v,color:E,opacity:C,popupRef:O},parent:{page:{pageNumber:U}}}=n;b=n={annotationType:Xt.HIGHLIGHT,color:Array.from(E),opacity:C,quadPoints:m,boxes:null,pageIndex:U-1,rect:_.slice(0),rotation:w,annotationElementId:v,id:v,deleted:!1,popupRef:O}}else if(n instanceof Hx){const{data:{inkLists:m,rect:_,rotation:w,id:v,color:E,borderStyle:{rawWidth:C},popupRef:O},parent:{page:{pageNumber:U}}}=n;b=n={annotationType:Xt.HIGHLIGHT,color:Array.from(E),thickness:C,inkLists:m,boxes:null,pageIndex:U-1,rect:_.slice(0),rotation:w,annotationElementId:v,id:v,deleted:!1,popupRef:O}}const{color:M,quadPoints:t,inkLists:A,opacity:y}=n,d=await super.deserialize(n,i,p);d.color=Ut.makeHexColor(...M),ne(d,Yo,y||1),A&&ne(d,Ii,n.thickness),d._initialData=b;const[c,u]=d.pageDimensions,[x,j]=d.pageTranslation;if(t){const m=ne(d,Xo,[]);for(let _=0;_<t.length;_+=8)m.push({x:(t[_]-x)/c,y:1-(t[_+1]-j)/u,width:(t[_+2]-t[_])/c,height:(t[_+1]-t[_+5])/u});pe(o=d,tr,$w).call(o),pe(h=d,tr,sc).call(h),d.rotate(d.rotation)}else if(A){ne(d,ds,!0);const m=A[0],_={x:m[0]-x,y:u-(m[1]-j)},w=new qw(_,[0,0,c,u],1,R(d,Ii)/2,!0,.001);for(let C=0,O=m.length;C<O;C+=2)_.x=m[C]-x,_.y=u-(m[C+1]-j),w.add(_);const{id:v,clipPathId:E}=i.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:d.color,"fill-opacity":d._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:w.toSVGPath()}},!0,!0);pe(f=d,tr,o0).call(f,{highlightOutlines:w.getOutlines(),highlightId:v,clipPathId:E}),pe(l=d,tr,sc).call(l),d.rotate(d.parentRotation)}return d}serialize(n=!1){if(this.isEmpty()||n)return null;if(this.deleted)return this.serializeDeleted();const i=this.getRect(0,0),p=Qr._colorManager.convert(this.color),b={annotationType:Xt.HIGHLIGHT,color:p,opacity:R(this,Yo),thickness:R(this,Ii),quadPoints:pe(this,tr,lC).call(this),outlines:pe(this,tr,uC).call(this,i),pageIndex:this.pageIndex,rect:i,rotation:pe(this,tr,em).call(this),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!pe(this,tr,hC).call(this,b)?null:(b.id=this.annotationElementId,b)}renderAnnotationElement(n){return n.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};vf=new WeakMap,Fg=new WeakMap,Xo=new WeakMap,ed=new WeakMap,Ug=new WeakMap,Xs=new WeakMap,Bg=new WeakMap,Gg=new WeakMap,td=new WeakMap,Ni=new WeakMap,ci=new WeakMap,ds=new WeakMap,bf=new WeakMap,Yo=new WeakMap,xs=new WeakMap,_f=new WeakMap,Ii=new WeakMap,zg=new WeakMap,tr=new WeakSet,$w=function(){const n=new Hw(R(this,Xo),.001);ne(this,Ni,n.getOutlines()),[this.x,this.y,this.width,this.height]=R(this,Ni).box;const i=new Hw(R(this,Xo),.0025,.001,this._uiManager.direction==="ltr");ne(this,Xs,i.getOutlines());const{lastPoint:p}=R(this,Xs);ne(this,bf,[(p[0]-this.x)/this.width,(p[1]-this.y)/this.height])},o0=function({highlightOutlines:n,highlightId:i,clipPathId:p}){var c,u;if(ne(this,Ni,n),ne(this,Xs,n.getNewOutline(R(this,Ii)/2+1.5,.0025)),i>=0)ne(this,ci,i),ne(this,ed,p),this.parent.drawLayer.finalizeDraw(i,{bbox:n.box,path:{d:n.toSVGPath()}}),ne(this,xs,this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:R(this,Xs).box,path:{d:R(this,Xs).toSVGPath()}},!0));else if(this.parent){const x=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(R(this,ci),{bbox:pe(c=Cr,Bi,fh).call(c,R(this,Ni).box,(x-this.rotation+360)%360),path:{d:n.toSVGPath()}}),this.parent.drawLayer.updateProperties(R(this,xs),{bbox:pe(u=Cr,Bi,fh).call(u,R(this,Xs).box,x),path:{d:R(this,Xs).toSVGPath()}})}const[M,t,A,y]=n.box;switch(this.rotation){case 0:this.x=M,this.y=t,this.width=A,this.height=y;break;case 90:{const[x,j]=this.parentDimensions;this.x=t,this.y=1-M,this.width=A*j/x,this.height=y*x/j;break}case 180:this.x=1-M,this.y=1-t,this.width=A,this.height=y;break;case 270:{const[x,j]=this.parentDimensions;this.x=1-t,this.y=M,this.width=A*j/x,this.height=y*x/j;break}}const{lastPoint:d}=R(this,Xs);ne(this,bf,[(d[0]-M)/A,(d[1]-t)/y])},sC=function(n){const i=(M,t)=>{var A,y;this.color=M,ne(this,Yo,t),(A=this.parent)==null||A.drawLayer.updateProperties(R(this,ci),{root:{fill:M,"fill-opacity":t}}),(y=R(this,Ug))==null||y.updateColor(M)},p=this.color,b=R(this,Yo);this.addCommands({cmd:i.bind(this,n,Cr._defaultOpacity),undo:i.bind(this,p,b),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:hr.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(n)},!0)},iC=function(n){const i=R(this,Ii),p=b=>{ne(this,Ii,b),pe(this,tr,aC).call(this,b)};this.addCommands({cmd:p.bind(this,n),undo:p.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:hr.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:n},!0)},aC=function(n){if(!R(this,ds))return;pe(this,tr,o0).call(this,{highlightOutlines:R(this,Ni).getNewOutline(n/2)}),this.fixAndSetPosition();const[i,p]=this.parentDimensions;this.setDims(this.width*i,this.height*p)},Zw=function(){R(this,ci)===null||!this.parent||(this.parent.drawLayer.remove(R(this,ci)),ne(this,ci,null),this.parent.drawLayer.remove(R(this,xs)),ne(this,xs,null))},sc=function(n=this.parent){R(this,ci)===null&&({id:Cs(this,ci)._,clipPathId:Cs(this,ed)._}=n.drawLayer.draw({bbox:R(this,Ni).box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":R(this,Yo)},rootClass:{highlight:!0,free:R(this,ds)},path:{d:R(this,Ni).toSVGPath()}},!1,!0),ne(this,xs,n.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:R(this,ds)},bbox:R(this,Xs).box,path:{d:R(this,Xs).toSVGPath()}},R(this,ds))),R(this,td)&&(R(this,td).style.clipPath=R(this,ed)))},Bi=new WeakSet,fh=function([n,i,p,b],M){switch(M){case 90:return[1-i-b,n,b,p];case 180:return[1-n-p,1-i-b,p,b];case 270:return[i,1-n-p,b,p]}return[n,i,p,b]},oC=function(n){Cr._keyboardManager.exec(this,n)},l0=function(n){if(!R(this,vf))return;const i=window.getSelection();n?i.setPosition(R(this,vf),R(this,Fg)):i.setPosition(R(this,Bg),R(this,Gg))},em=function(){return R(this,ds)?this.rotation:0},lC=function(){if(R(this,ds))return null;const[n,i]=this.pageDimensions,[p,b]=this.pageTranslation,M=R(this,Xo),t=new Float32Array(M.length*8);let A=0;for(const{x:y,y:d,width:c,height:u}of M){const x=y*n+p,j=(1-d)*i+b;t[A]=t[A+4]=x,t[A+1]=t[A+3]=j,t[A+2]=t[A+6]=x+c*n,t[A+5]=t[A+7]=j-u*i,A+=8}return t},uC=function(n){return R(this,Ni).serialize(n,pe(this,tr,em).call(this))},cC=function(n,i){this._freeHighlight.add(i)&&n.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})},dC=function(n,i){this._freeHighlight.isEmpty()?n.drawLayer.remove(this._freeHighlightId):n.createAndAddNewEditor(i,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},hC=function(n){const{color:i}=this._initialData;return n.color.some((p,b)=>p!==i[b])},ce(Cr,Bi),yt(Cr,"_defaultColor",null),yt(Cr,"_defaultOpacity",1),yt(Cr,"_defaultThickness",12),yt(Cr,"_type","highlight"),yt(Cr,"_editorType",Xt.HIGHLIGHT),yt(Cr,"_freeHighlightId",-1),yt(Cr,"_freeHighlight",null),yt(Cr,"_freeHighlightClipId","");let E0=Cr;var rd;class fC{constructor(){ce(this,rd,Object.create(null))}updateProperty(r,n){this[r]=n,this.updateSVGProperty(r,n)}updateProperties(r){if(r)for(const[n,i]of Object.entries(r))n.startsWith("_")||this.updateProperty(n,i)}updateSVGProperty(r,n){R(this,rd)[r]=n}toSVGProperties(){const r=R(this,rd);return ne(this,rd,Object.create(null)),{root:r}}reset(){ne(this,rd,Object.create(null))}updateAll(r=this){this.updateProperties(r)}clone(){Vr("Not implemented")}}rd=new WeakMap;var di,wf,Qn,nd,sd,du,hu,fu,id,wr,Kw,Qw,Jw,tm,pC,u0,rm,ph;const Ot=class Ot extends Qr{constructor(n){super(n);ce(this,wr);ce(this,di,null);ce(this,wf);yt(this,"_drawId",null);ne(this,wf,n.mustBeCommitted||!1),this._addOutlines(n)}_addOutlines(n){n.drawOutlines&&(pe(this,wr,Kw).call(this,n),pe(this,wr,tm).call(this))}static _mergeSVGProperties(n,i){const p=new Set(Object.keys(n));for(const[b,M]of Object.entries(i))p.has(b)?Object.assign(n[b],M):n[b]=M;return n}static getDefaultDrawingOptions(n){Vr("Not implemented")}static get typesMap(){Vr("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(n,i){const p=this.typesMap.get(n);p&&this._defaultDrawingOptions.updateProperty(p,i),this._currentParent&&(R(Ot,Qn).updateProperty(p,i),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(n,i){const p=this.constructor.typesMap.get(n);p&&this._updateProperty(n,p,i)}static get defaultPropertiesToUpdate(){const n=[],i=this._defaultDrawingOptions;for(const[p,b]of this.typesMap)n.push([p,i[b]]);return n}get propertiesToUpdate(){const n=[],{_drawingOptions:i}=this;for(const[p,b]of this.constructor.typesMap)n.push([p,i[b]]);return n}_updateProperty(n,i,p){const b=this._drawingOptions,M=b[i],t=A=>{var d;b.updateProperty(i,A);const y=R(this,di).updateProperty(i,A);y&&pe(this,wr,rm).call(this,y),(d=this.parent)==null||d.drawLayer.updateProperties(this._drawId,b.toSVGProperties())};this.addCommands({cmd:t.bind(this,p),undo:t.bind(this,M),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:n,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){var n;(n=this.parent)==null||n.drawLayer.updateProperties(this._drawId,Ot._mergeSVGProperties(R(this,di).getPathResizingSVGProperties(pe(this,wr,u0).call(this)),{bbox:pe(this,wr,ph).call(this)}))}_onResized(){var n;(n=this.parent)==null||n.drawLayer.updateProperties(this._drawId,Ot._mergeSVGProperties(R(this,di).getPathResizedSVGProperties(pe(this,wr,u0).call(this)),{bbox:pe(this,wr,ph).call(this)}))}_onTranslating(n,i){var p;(p=this.parent)==null||p.drawLayer.updateProperties(this._drawId,{bbox:pe(this,wr,ph).call(this)})}_onTranslated(){var n;(n=this.parent)==null||n.drawLayer.updateProperties(this._drawId,Ot._mergeSVGProperties(R(this,di).getPathTranslatedSVGProperties(pe(this,wr,u0).call(this),this.parentDimensions),{bbox:pe(this,wr,ph).call(this)}))}_onStartDragging(){var n;(n=this.parent)==null||n.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){var n;(n=this.parent)==null||n.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(n){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,R(this,wf)&&(ne(this,wf,!1),this.commit(),this.parent.setSelected(this),n&&this.isOnScreen&&this.div.focus())}remove(){pe(this,wr,Jw).call(this),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(pe(this,wr,tm).call(this),pe(this,wr,rm).call(this,R(this,di).box),this.isAttachedToDOM||this.parent.add(this)))}setParent(n){var p;let i=!1;this.parent&&!n?(this._uiManager.removeShouldRescale(this),pe(this,wr,Jw).call(this)):n&&(this._uiManager.addShouldRescale(this),pe(this,wr,tm).call(this,n),i=!this.parent&&((p=this.div)==null?void 0:p.classList.contains("selectedEditor"))),super.setParent(n),i&&this.select()}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,Ot._mergeSVGProperties({bbox:pe(this,wr,ph).call(this)},R(this,di).updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&pe(this,wr,rm).call(this,R(this,di).updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let n,i;this._isCopy&&(n=this.x,i=this.y);const p=super.render();p.classList.add("draw");const b=document.createElement("div");p.append(b),b.setAttribute("aria-hidden","true"),b.className="internal";const[M,t]=this.parentDimensions;return this.setDims(this.width*M,this.height*t),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(n,i),p}static createDrawerInstance(n,i,p,b,M){Vr("Not implemented")}static startDrawing(n,i,p,b){var h;const{target:M,offsetX:t,offsetY:A,pointerId:y,pointerType:d}=b;if(R(Ot,hu)&&R(Ot,hu)!==d)return;const{viewport:{rotation:c}}=n,{width:u,height:x}=M.getBoundingClientRect(),j=ne(Ot,nd,new AbortController),o=n.combinedSignal(j);if(R(Ot,du)||ne(Ot,du,y),R(Ot,hu)??ne(Ot,hu,d),window.addEventListener("pointerup",f=>{var l;R(Ot,du)===f.pointerId?this._endDraw(f):(l=R(Ot,fu))==null||l.delete(f.pointerId)},{signal:o}),window.addEventListener("pointercancel",f=>{var l;R(Ot,du)===f.pointerId?this._currentParent.endDrawingSession():(l=R(Ot,fu))==null||l.delete(f.pointerId)},{signal:o}),window.addEventListener("pointerdown",f=>{R(Ot,hu)===f.pointerType&&((R(Ot,fu)||ne(Ot,fu,new Set)).add(f.pointerId),R(Ot,Qn).isCancellable()&&(R(Ot,Qn).removeLastElement(),R(Ot,Qn).isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:o}),window.addEventListener("contextmenu",zi,{signal:o}),M.addEventListener("pointermove",this._drawMove.bind(this),{signal:o}),M.addEventListener("touchmove",f=>{f.timeStamp===R(Ot,id)&&Mn(f)},{signal:o}),n.toggleDrawing(),(h=i._editorUndoBar)==null||h.hide(),R(Ot,Qn)){n.drawLayer.updateProperties(this._currentDrawId,R(Ot,Qn).startNew(t,A,u,x,c));return}i.updateUIForDefaultProperties(this),ne(Ot,Qn,this.createDrawerInstance(t,A,u,x,c)),ne(Ot,sd,this.getDefaultDrawingOptions()),this._currentParent=n,{id:this._currentDrawId}=n.drawLayer.draw(this._mergeSVGProperties(R(Ot,sd).toSVGProperties(),R(Ot,Qn).defaultSVGProperties),!0,!1)}static _drawMove(n){var M;if(ne(Ot,id,-1),!R(Ot,Qn))return;const{offsetX:i,offsetY:p,pointerId:b}=n;if(R(Ot,du)===b){if(((M=R(Ot,fu))==null?void 0:M.size)>=1){this._endDraw(n);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,R(Ot,Qn).add(i,p)),ne(Ot,id,n.timeStamp),Mn(n)}}static _cleanup(n){n&&(this._currentDrawId=-1,this._currentParent=null,ne(Ot,Qn,null),ne(Ot,sd,null),ne(Ot,hu,null),ne(Ot,id,NaN)),R(Ot,nd)&&(R(Ot,nd).abort(),ne(Ot,nd,null),ne(Ot,du,NaN),ne(Ot,fu,null))}static _endDraw(n){const i=this._currentParent;if(i){if(i.toggleDrawing(!0),this._cleanup(!1),(n==null?void 0:n.target)===i.div&&i.drawLayer.updateProperties(this._currentDrawId,R(Ot,Qn).end(n.offsetX,n.offsetY)),this.supportMultipleDrawings){const p=R(Ot,Qn),b=this._currentDrawId,M=p.getLastElement();i.addCommands({cmd:()=>{i.drawLayer.updateProperties(b,p.setLastElement(M))},undo:()=>{i.drawLayer.updateProperties(b,p.removeLastElement())},mustExec:!1,type:hr.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(n){const i=this._currentParent;if(!i)return null;if(i.toggleDrawing(!0),i.cleanUndoStack(hr.DRAW_STEP),!R(Ot,Qn).isEmpty()){const{pageDimensions:[p,b],scale:M}=i,t=i.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:R(Ot,Qn).getOutlines(p*M,b*M,M,this._INNER_MARGIN),drawingOptions:R(Ot,sd),mustBeCommitted:!n});return this._cleanup(!0),t}return i.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(n){}static deserializeDraw(n,i,p,b,M,t){Vr("Not implemented")}static async deserialize(n,i,p){var c,u;const{rawDims:{pageWidth:b,pageHeight:M,pageX:t,pageY:A}}=i.viewport,y=this.deserializeDraw(t,A,b,M,this._INNER_MARGIN,n),d=await super.deserialize(n,i,p);return d.createDrawingOptions(n),pe(c=d,wr,Kw).call(c,{drawOutlines:y}),pe(u=d,wr,tm).call(u),d.onScaleChanging(),d.rotate(),d}serializeDraw(n){const[i,p]=this.pageTranslation,[b,M]=this.pageDimensions;return R(this,di).serialize([i,p,b,M],n)}renderAnnotationElement(n){return n.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};di=new WeakMap,wf=new WeakMap,Qn=new WeakMap,nd=new WeakMap,sd=new WeakMap,du=new WeakMap,hu=new WeakMap,fu=new WeakMap,id=new WeakMap,wr=new WeakSet,Kw=function({drawOutlines:n,drawId:i,drawingOptions:p}){ne(this,di,n),this._drawingOptions||(this._drawingOptions=p),this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),i>=0?(this._drawId=i,this.parent.drawLayer.finalizeDraw(i,n.defaultProperties)):this._drawId=pe(this,wr,Qw).call(this,n,this.parent),pe(this,wr,rm).call(this,n.box)},Qw=function(n,i){const{id:p}=i.drawLayer.draw(Ot._mergeSVGProperties(this._drawingOptions.toSVGProperties(),n.defaultSVGProperties),!1,!1);return p},Jw=function(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())},tm=function(n=this.parent){if(!(this._drawId!==null&&this.parent===n)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,n.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=pe(this,wr,Qw).call(this,R(this,di),n)}},pC=function([n,i,p,b]){const{parentDimensions:[M,t],rotation:A}=this;switch(A){case 90:return[i,1-n,p*(t/M),b*(M/t)];case 180:return[1-n,1-i,p,b];case 270:return[1-i,n,p*(t/M),b*(M/t)];default:return[n,i,p,b]}},u0=function(){const{x:n,y:i,width:p,height:b,parentDimensions:[M,t],rotation:A}=this;switch(A){case 90:return[1-i,n,p*(M/t),b*(t/M)];case 180:return[1-n,1-i,p,b];case 270:return[i,1-n,p*(M/t),b*(t/M)];default:return[n,i,p,b]}},rm=function(n){if([this.x,this.y,this.width,this.height]=pe(this,wr,pC).call(this,n),this.div){this.fixAndSetPosition();const[i,p]=this.parentDimensions;this.setDims(this.width*i,this.height*p)}this._onResized()},ph=function(){const{x:n,y:i,width:p,height:b,rotation:M,parentRotation:t,parentDimensions:[A,y]}=this;switch((M*4+t)/90){case 1:return[1-i-b,n,b,p];case 2:return[1-n-p,1-i-b,p,b];case 3:return[i,1-n-p,b,p];case 4:return[n,i-p*(A/y),b*(y/A),p*(A/y)];case 5:return[1-i,n,p*(A/y),b*(y/A)];case 6:return[1-n-b*(y/A),1-i,b*(y/A),p*(A/y)];case 7:return[i-p*(A/y),1-n-b*(y/A),p*(A/y),b*(y/A)];case 8:return[n-p,i-b,p,b];case 9:return[1-i,n-p,b,p];case 10:return[1-n,1-i,p,b];case 11:return[i-b,1-n,b,p];case 12:return[n-b*(y/A),i,b*(y/A),p*(A/y)];case 13:return[1-i-p*(A/y),n-b*(y/A),p*(A/y),b*(y/A)];case 14:return[1-n,1-i-p*(A/y),b*(y/A),p*(A/y)];case 15:return[i,1-n,p*(A/y),b*(y/A)];default:return[n,i,p,b]}},yt(Ot,"_currentDrawId",-1),yt(Ot,"_currentParent",null),ce(Ot,Qn,null),ce(Ot,nd,null),ce(Ot,sd,null),ce(Ot,du,NaN),ce(Ot,hu,null),ce(Ot,fu,null),ce(Ot,id,NaN),yt(Ot,"_INNER_MARGIN",3);let A0=Ot;var Ia,Jn,es,ad,xf,Os,hs,Fi,od,ld,ud,Sf,c0;class QD{constructor(r,n,i,p,b,M){ce(this,Sf);ce(this,Ia,new Float64Array(6));ce(this,Jn);ce(this,es);ce(this,ad);ce(this,xf);ce(this,Os);ce(this,hs,"");ce(this,Fi,0);ce(this,od,new ny);ce(this,ld);ce(this,ud);ne(this,ld,i),ne(this,ud,p),ne(this,ad,b),ne(this,xf,M),[r,n]=pe(this,Sf,c0).call(this,r,n);const t=ne(this,Jn,[NaN,NaN,NaN,NaN,r,n]);ne(this,Os,[r,n]),ne(this,es,[{line:t,points:R(this,Os)}]),R(this,Ia).set(t,0)}updateProperty(r,n){r==="stroke-width"&&ne(this,xf,n)}isEmpty(){return!R(this,es)||R(this,es).length===0}isCancellable(){return R(this,Os).length<=10}add(r,n){[r,n]=pe(this,Sf,c0).call(this,r,n);const[i,p,b,M]=R(this,Ia).subarray(2,6),t=r-b,A=n-M;return Math.hypot(R(this,ld)*t,R(this,ud)*A)<=2?null:(R(this,Os).push(r,n),isNaN(i)?(R(this,Ia).set([b,M,r,n],2),R(this,Jn).push(NaN,NaN,NaN,NaN,r,n),{path:{d:this.toSVGPath()}}):(isNaN(R(this,Ia)[0])&&R(this,Jn).splice(6,6),R(this,Ia).set([i,p,b,M,r,n],0),R(this,Jn).push(...Rt.createBezierPoints(i,p,b,M,r,n)),{path:{d:this.toSVGPath()}}))}end(r,n){const i=this.add(r,n);return i||(R(this,Os).length===2?{path:{d:this.toSVGPath()}}:null)}startNew(r,n,i,p,b){ne(this,ld,i),ne(this,ud,p),ne(this,ad,b),[r,n]=pe(this,Sf,c0).call(this,r,n);const M=ne(this,Jn,[NaN,NaN,NaN,NaN,r,n]);ne(this,Os,[r,n]);const t=R(this,es).at(-1);return t&&(t.line=new Float32Array(t.line),t.points=new Float32Array(t.points)),R(this,es).push({line:M,points:R(this,Os)}),R(this,Ia).set(M,0),ne(this,Fi,0),this.toSVGPath(),null}getLastElement(){return R(this,es).at(-1)}setLastElement(r){return R(this,es)?(R(this,es).push(r),ne(this,Jn,r.line),ne(this,Os,r.points),ne(this,Fi,0),{path:{d:this.toSVGPath()}}):R(this,od).setLastElement(r)}removeLastElement(){if(!R(this,es))return R(this,od).removeLastElement();R(this,es).pop(),ne(this,hs,"");for(let r=0,n=R(this,es).length;r<n;r++){const{line:i,points:p}=R(this,es)[r];ne(this,Jn,i),ne(this,Os,p),ne(this,Fi,0),this.toSVGPath()}return{path:{d:R(this,hs)}}}toSVGPath(){const r=Rt.svgRound(R(this,Jn)[4]),n=Rt.svgRound(R(this,Jn)[5]);if(R(this,Os).length===2)return ne(this,hs,`${R(this,hs)} M ${r} ${n} Z`),R(this,hs);if(R(this,Os).length<=6){const p=R(this,hs).lastIndexOf("M");ne(this,hs,`${R(this,hs).slice(0,p)} M ${r} ${n}`),ne(this,Fi,6)}if(R(this,Os).length===4){const p=Rt.svgRound(R(this,Jn)[10]),b=Rt.svgRound(R(this,Jn)[11]);return ne(this,hs,`${R(this,hs)} L ${p} ${b}`),ne(this,Fi,12),R(this,hs)}const i=[];R(this,Fi)===0&&(i.push(`M ${r} ${n}`),ne(this,Fi,6));for(let p=R(this,Fi),b=R(this,Jn).length;p<b;p+=6){const[M,t,A,y,d,c]=R(this,Jn).slice(p,p+6).map(Rt.svgRound);i.push(`C${M} ${t} ${A} ${y} ${d} ${c}`)}return ne(this,hs,R(this,hs)+i.join(" ")),ne(this,Fi,R(this,Jn).length),R(this,hs)}getOutlines(r,n,i,p){const b=R(this,es).at(-1);return b.line=new Float32Array(b.line),b.points=new Float32Array(b.points),R(this,od).build(R(this,es),r,n,i,R(this,ad),R(this,xf),p),ne(this,Ia,null),ne(this,Jn,null),ne(this,es,null),ne(this,hs,null),R(this,od)}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}Ia=new WeakMap,Jn=new WeakMap,es=new WeakMap,ad=new WeakMap,xf=new WeakMap,Os=new WeakMap,hs=new WeakMap,Fi=new WeakMap,od=new WeakMap,ld=new WeakMap,ud=new WeakMap,Sf=new WeakSet,c0=function(r,n){return Rt._normalizePoint(r,n,R(this,ld),R(this,ud),R(this,ad))};var Ls,Hg,Vg,hi,Fa,Ua,jf,Ef,cd,ps,wo,mC,gC,yC;class ny extends Rt{constructor(){super(...arguments);ce(this,ps);ce(this,Ls);ce(this,Hg,0);ce(this,Vg);ce(this,hi);ce(this,Fa);ce(this,Ua);ce(this,jf);ce(this,Ef);ce(this,cd)}build(n,i,p,b,M,t,A){ne(this,Fa,i),ne(this,Ua,p),ne(this,jf,b),ne(this,Ef,M),ne(this,cd,t),ne(this,Vg,A??0),ne(this,hi,n),pe(this,ps,gC).call(this)}get thickness(){return R(this,cd)}setLastElement(n){return R(this,hi).push(n),{path:{d:this.toSVGPath()}}}removeLastElement(){return R(this,hi).pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const n=[];for(const{line:i}of R(this,hi)){if(n.push(`M${Rt.svgRound(i[4])} ${Rt.svgRound(i[5])}`),i.length===6){n.push("Z");continue}if(i.length===12&&isNaN(i[6])){n.push(`L${Rt.svgRound(i[10])} ${Rt.svgRound(i[11])}`);continue}for(let p=6,b=i.length;p<b;p+=6){const[M,t,A,y,d,c]=i.subarray(p,p+6).map(Rt.svgRound);n.push(`C${M} ${t} ${A} ${y} ${d} ${c}`)}}return n.join("")}serialize([n,i,p,b],M){const t=[],A=[],[y,d,c,u]=pe(this,ps,mC).call(this);let x,j,o,h,f,l,m,_,w;switch(R(this,Ef)){case 0:w=Rt._rescale,x=n,j=i+b,o=p,h=-b,f=n+y*p,l=i+(1-d-u)*b,m=n+(y+c)*p,_=i+(1-d)*b;break;case 90:w=Rt._rescaleAndSwap,x=n,j=i,o=p,h=b,f=n+d*p,l=i+y*b,m=n+(d+u)*p,_=i+(y+c)*b;break;case 180:w=Rt._rescale,x=n+p,j=i,o=-p,h=b,f=n+(1-y-c)*p,l=i+d*b,m=n+(1-y)*p,_=i+(d+u)*b;break;case 270:w=Rt._rescaleAndSwap,x=n+p,j=i+b,o=-p,h=-b,f=n+(1-d-u)*p,l=i+(1-y-c)*b,m=n+(1-d)*p,_=i+(1-y)*b;break}for(const{line:v,points:E}of R(this,hi))t.push(w(v,x,j,o,h,M?new Array(v.length):null)),A.push(w(E,x,j,o,h,M?new Array(E.length):null));return{lines:t,points:A,rect:[f,l,m,_]}}static deserialize(n,i,p,b,M,{paths:{lines:t,points:A},rotation:y,thickness:d}){const c=[];let u,x,j,o,h;switch(y){case 0:h=Rt._rescale,u=-n/p,x=i/b+1,j=1/p,o=-1/b;break;case 90:h=Rt._rescaleAndSwap,u=-i/b,x=-n/p,j=1/b,o=1/p;break;case 180:h=Rt._rescale,u=n/p+1,x=-i/b,j=-1/p,o=1/b;break;case 270:h=Rt._rescaleAndSwap,u=i/b+1,x=n/p+1,j=-1/b,o=-1/p;break}if(!t){t=[];for(const l of A){const m=l.length;if(m===2){t.push(new Float32Array([NaN,NaN,NaN,NaN,l[0],l[1]]));continue}if(m===4){t.push(new Float32Array([NaN,NaN,NaN,NaN,l[0],l[1],NaN,NaN,NaN,NaN,l[2],l[3]]));continue}const _=new Float32Array(3*(m-2));t.push(_);let[w,v,E,C]=l.subarray(0,4);_.set([NaN,NaN,NaN,NaN,w,v],0);for(let O=4;O<m;O+=2){const U=l[O],N=l[O+1];_.set(Rt.createBezierPoints(w,v,E,C,U,N),(O-2)*3),[w,v,E,C]=[E,C,U,N]}}}for(let l=0,m=t.length;l<m;l++)c.push({line:h(t[l].map(_=>_??NaN),u,x,j,o),points:h(A[l].map(_=>_??NaN),u,x,j,o)});const f=new this.prototype.constructor;return f.build(c,p,b,1,y,d,M),f}get box(){return R(this,Ls)}updateProperty(n,i){return n==="stroke-width"?pe(this,ps,yC).call(this,i):null}updateParentDimensions([n,i],p){const[b,M]=pe(this,ps,wo).call(this);ne(this,Fa,n),ne(this,Ua,i),ne(this,jf,p);const[t,A]=pe(this,ps,wo).call(this),y=t-b,d=A-M,c=R(this,Ls);return c[0]-=y,c[1]-=d,c[2]+=2*y,c[3]+=2*d,c}updateRotation(n){return ne(this,Hg,n),{path:{transform:this.rotationTransform}}}get viewBox(){return R(this,Ls).map(Rt.svgRound).join(" ")}get defaultProperties(){const[n,i]=R(this,Ls);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Rt.svgRound(n)} ${Rt.svgRound(i)}`}}}get rotationTransform(){const[,,n,i]=R(this,Ls);let p=0,b=0,M=0,t=0,A=0,y=0;switch(R(this,Hg)){case 90:b=i/n,M=-n/i,A=n;break;case 180:p=-1,t=-1,A=n,y=i;break;case 270:b=-i/n,M=n/i,y=i;break;default:return""}return`matrix(${p} ${b} ${M} ${t} ${Rt.svgRound(A)} ${Rt.svgRound(y)})`}getPathResizingSVGProperties([n,i,p,b]){const[M,t]=pe(this,ps,wo).call(this),[A,y,d,c]=R(this,Ls);if(Math.abs(d-M)<=Rt.PRECISION||Math.abs(c-t)<=Rt.PRECISION){const h=n+p/2-(A+d/2),f=i+b/2-(y+c/2);return{path:{"transform-origin":`${Rt.svgRound(n)} ${Rt.svgRound(i)}`,transform:`${this.rotationTransform} translate(${h} ${f})`}}}const u=(p-2*M)/(d-2*M),x=(b-2*t)/(c-2*t),j=d/p,o=c/b;return{path:{"transform-origin":`${Rt.svgRound(A)} ${Rt.svgRound(y)}`,transform:`${this.rotationTransform} scale(${j} ${o}) translate(${Rt.svgRound(M)} ${Rt.svgRound(t)}) scale(${u} ${x}) translate(${Rt.svgRound(-M)} ${Rt.svgRound(-t)})`}}}getPathResizedSVGProperties([n,i,p,b]){const[M,t]=pe(this,ps,wo).call(this),A=R(this,Ls),[y,d,c,u]=A;if(A[0]=n,A[1]=i,A[2]=p,A[3]=b,Math.abs(c-M)<=Rt.PRECISION||Math.abs(u-t)<=Rt.PRECISION){const f=n+p/2-(y+c/2),l=i+b/2-(d+u/2);for(const{line:m,points:_}of R(this,hi))Rt._translate(m,f,l,m),Rt._translate(_,f,l,_);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Rt.svgRound(n)} ${Rt.svgRound(i)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const x=(p-2*M)/(c-2*M),j=(b-2*t)/(u-2*t),o=-x*(y+M)+n+M,h=-j*(d+t)+i+t;if(x!==1||j!==1||o!==0||h!==0)for(const{line:f,points:l}of R(this,hi))Rt._rescale(f,o,h,x,j,f),Rt._rescale(l,o,h,x,j,l);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Rt.svgRound(n)} ${Rt.svgRound(i)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([n,i],p){const[b,M]=p,t=R(this,Ls),A=n-t[0],y=i-t[1];if(R(this,Fa)===b&&R(this,Ua)===M)for(const{line:d,points:c}of R(this,hi))Rt._translate(d,A,y,d),Rt._translate(c,A,y,c);else{const d=R(this,Fa)/b,c=R(this,Ua)/M;ne(this,Fa,b),ne(this,Ua,M);for(const{line:u,points:x}of R(this,hi))Rt._rescale(u,A,y,d,c,u),Rt._rescale(x,A,y,d,c,x);t[2]*=d,t[3]*=c}return t[0]=n,t[1]=i,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${Rt.svgRound(n)} ${Rt.svgRound(i)}`}}}get defaultSVGProperties(){const n=R(this,Ls);return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${Rt.svgRound(n[0])} ${Rt.svgRound(n[1])}`,transform:this.rotationTransform||null},bbox:n}}}Ls=new WeakMap,Hg=new WeakMap,Vg=new WeakMap,hi=new WeakMap,Fa=new WeakMap,Ua=new WeakMap,jf=new WeakMap,Ef=new WeakMap,cd=new WeakMap,ps=new WeakSet,wo=function(n=R(this,cd)){const i=R(this,Vg)+n/2*R(this,jf);return R(this,Ef)%180===0?[i/R(this,Fa),i/R(this,Ua)]:[i/R(this,Ua),i/R(this,Fa)]},mC=function(){const[n,i,p,b]=R(this,Ls),[M,t]=pe(this,ps,wo).call(this,0);return[n+M,i+t,p-2*M,b-2*t]},gC=function(){const n=ne(this,Ls,new Float32Array([1/0,1/0,-1/0,-1/0]));for(const{line:b}of R(this,hi)){if(b.length<=12){for(let A=4,y=b.length;A<y;A+=6)Ut.pointBoundingBox(b[A],b[A+1],n);continue}let M=b[4],t=b[5];for(let A=6,y=b.length;A<y;A+=6){const[d,c,u,x,j,o]=b.subarray(A,A+6);Ut.bezierBoundingBox(M,t,d,c,u,x,j,o,n),M=j,t=o}}const[i,p]=pe(this,ps,wo).call(this);n[0]=Ss(n[0]-i,0,1),n[1]=Ss(n[1]-p,0,1),n[2]=Ss(n[2]+i,0,1),n[3]=Ss(n[3]+p,0,1),n[2]-=n[0],n[3]-=n[1]},yC=function(n){const[i,p]=pe(this,ps,wo).call(this);ne(this,cd,n);const[b,M]=pe(this,ps,wo).call(this),[t,A]=[b-i,M-p],y=R(this,Ls);return y[0]-=t,y[1]-=A,y[2]+=2*t,y[3]+=2*A,y};class cb extends fC{constructor(r){super(),this._viewParameters=r,super.updateProperties({fill:"none",stroke:Qr._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(r,n){r==="stroke-width"&&(n??(n=this["stroke-width"]),n*=this._viewParameters.realScale),super.updateSVGProperty(r,n)}clone(){const r=new cb(this._viewParameters);return r.updateAll(this),r}}var W0,vC;const bh=class bh extends A0{constructor(n){super({...n,name:"inkEditor"});ce(this,W0);this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(n,i){Qr.initialize(n,i),this._defaultDrawingOptions=new cb(i.viewParameters)}static getDefaultDrawingOptions(n){const i=this._defaultDrawingOptions.clone();return i.updateProperties(n),i}static get supportMultipleDrawings(){return!0}static get typesMap(){return dr(this,"typesMap",new Map([[hr.INK_THICKNESS,"stroke-width"],[hr.INK_COLOR,"stroke"],[hr.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(n,i,p,b,M){return new QD(n,i,p,b,M,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(n,i,p,b,M,t){return ny.deserialize(n,i,p,b,M,t)}static async deserialize(n,i,p){let b=null;if(n instanceof Hx){const{data:{inkLists:t,rect:A,rotation:y,id:d,color:c,opacity:u,borderStyle:{rawWidth:x},popupRef:j},parent:{page:{pageNumber:o}}}=n;b=n={annotationType:Xt.INK,color:Array.from(c),thickness:x,opacity:u,paths:{points:t},boxes:null,pageIndex:o-1,rect:A.slice(0),rotation:y,annotationElementId:d,id:d,deleted:!1,popupRef:j}}const M=await super.deserialize(n,i,p);return M._initialData=b,M}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:n,_drawingOptions:i,parent:p}=this;i.updateSVGProperty("stroke-width"),p.drawLayer.updateProperties(n,i.toSVGProperties())}static onScaleChangingWhenDrawing(){const n=this._currentParent;n&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),n.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:n,thickness:i,opacity:p}){this._drawingOptions=bh.getDefaultDrawingOptions({stroke:Ut.makeHexColor(...n),"stroke-width":i,"stroke-opacity":p})}serialize(n=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:i,points:p,rect:b}=this.serializeDraw(n),{_drawingOptions:{stroke:M,"stroke-opacity":t,"stroke-width":A}}=this,y={annotationType:Xt.INK,color:Qr._colorManager.convert(M),opacity:t,thickness:A,paths:{lines:i,points:p},pageIndex:this.pageIndex,rect:b,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return n?(y.isCopy=!0,y):this.annotationElementId&&!pe(this,W0,vC).call(this,y)?null:(y.id=this.annotationElementId,y)}renderAnnotationElement(n){const{points:i,rect:p}=this.serializeDraw(!1);return n.updateEdited({rect:p,thickness:this._drawingOptions["stroke-width"],points:i}),null}};W0=new WeakSet,vC=function(n){const{color:i,thickness:p,opacity:b,pageIndex:M}=this._initialData;return this._hasBeenMoved||this._hasBeenResized||n.color.some((t,A)=>t!==i[A])||n.thickness!==p||n.opacity!==b||n.pageIndex!==M},yt(bh,"_type","ink"),yt(bh,"_editorType",Xt.INK),yt(bh,"_defaultDrawingOptions",null);let ex=bh;class tx extends ny{toSVGPath(){let r=super.toSVGPath();return r.endsWith("Z")||(r+="Z"),r}}const Dv=8,Ip=3;var dd,Lr,rx,aa,bC,_C,nx,d0,wC,xC,SC,sx,ix,jC;class qa{static extractContoursFromText(r,{fontFamily:n,fontStyle:i,fontWeight:p},b,M,t,A){let y=new OffscreenCanvas(1,1),d=y.getContext("2d",{alpha:!1});const c=200,u=d.font=`${i} ${p} ${c}px ${n}`,{actualBoundingBoxLeft:x,actualBoundingBoxRight:j,actualBoundingBoxAscent:o,actualBoundingBoxDescent:h,fontBoundingBoxAscent:f,fontBoundingBoxDescent:l,width:m}=d.measureText(r),_=1.5,w=Math.ceil(Math.max(Math.abs(x)+Math.abs(j)||0,m)*_),v=Math.ceil(Math.max(Math.abs(o)+Math.abs(h)||c,Math.abs(f)+Math.abs(l)||c)*_);y=new OffscreenCanvas(w,v),d=y.getContext("2d",{alpha:!0,willReadFrequently:!0}),d.font=u,d.filter="grayscale(1)",d.fillStyle="white",d.fillRect(0,0,w,v),d.fillStyle="black",d.fillText(r,w*(_-1)/2,v*(3-_)/2);const E=pe(this,Lr,sx).call(this,d.getImageData(0,0,w,v).data),C=pe(this,Lr,SC).call(this,E),O=pe(this,Lr,ix).call(this,C),U=pe(this,Lr,nx).call(this,E,w,v,O);return this.processDrawnLines({lines:{curves:U,width:w,height:v},pageWidth:b,pageHeight:M,rotation:t,innerMargin:A,mustSmooth:!0,areContours:!0})}static process(r,n,i,p,b){const[M,t,A]=pe(this,Lr,jC).call(this,r),[y,d]=pe(this,Lr,xC).call(this,M,t,A,Math.hypot(t,A)*R(this,dd).sigmaSFactor,R(this,dd).sigmaR,R(this,dd).kernelSize),c=pe(this,Lr,ix).call(this,d),u=pe(this,Lr,nx).call(this,y,t,A,c);return this.processDrawnLines({lines:{curves:u,width:t,height:A},pageWidth:n,pageHeight:i,rotation:p,innerMargin:b,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:r,pageWidth:n,pageHeight:i,rotation:p,innerMargin:b,mustSmooth:M,areContours:t}){p%180!==0&&([n,i]=[i,n]);const{curves:A,width:y,height:d}=r,c=r.thickness??0,u=[],x=Math.min(n/y,i/d),j=x/n,o=x/i,h=[];for(const{points:l}of A){const m=M?pe(this,Lr,wC).call(this,l):l;if(!m)continue;h.push(m);const _=m.length,w=new Float32Array(_),v=new Float32Array(3*(_===2?2:_-2));if(u.push({line:v,points:w}),_===2){w[0]=m[0]*j,w[1]=m[1]*o,v.set([NaN,NaN,NaN,NaN,w[0],w[1]],0);continue}let[E,C,O,U]=m;E*=j,C*=o,O*=j,U*=o,w.set([E,C,O,U],0),v.set([NaN,NaN,NaN,NaN,E,C],0);for(let N=4;N<_;N+=2){const D=w[N]=m[N]*j,H=w[N+1]=m[N+1]*o;v.set(Rt.createBezierPoints(E,C,O,U,D,H),(N-2)*3),[E,C,O,U]=[O,U,D,H]}}if(u.length===0)return null;const f=t?new tx:new ny;return f.build(u,n,i,1,p,t?0:c,b),{outline:f,newCurves:h,areContours:t,thickness:c,width:y,height:d}}static async compressSignature({outlines:r,areContours:n,thickness:i,width:p,height:b}){let M=1/0,t=-1/0,A=0;for(const m of r){A+=m.length;for(let _=2,w=m.length;_<w;_++){const v=m[_]-m[_-2];M=Math.min(M,v),t=Math.max(t,v)}}let y;M>=-128&&t<=127?y=Int8Array:M>=-32768&&t<=32767?y=Int16Array:y=Int32Array;const d=r.length,c=Dv+Ip*d,u=new Uint32Array(c);let x=0;u[x++]=c*Uint32Array.BYTES_PER_ELEMENT+(A-2*d)*y.BYTES_PER_ELEMENT,u[x++]=0,u[x++]=p,u[x++]=b,u[x++]=n?0:1,u[x++]=Math.max(0,Math.floor(i??0)),u[x++]=d,u[x++]=y.BYTES_PER_ELEMENT;for(const m of r)u[x++]=m.length-2,u[x++]=m[0],u[x++]=m[1];const j=new CompressionStream("deflate-raw"),o=j.writable.getWriter();await o.ready,o.write(u);const h=y.prototype.constructor;for(const m of r){const _=new h(m.length-2);for(let w=2,v=m.length;w<v;w++)_[w-2]=m[w]-m[w-2];o.write(_)}o.close();const f=await new Response(j.readable).arrayBuffer(),l=new Uint8Array(f);return xT(l)}static async decompressSignature(r){try{const n=M5(r),{readable:i,writable:p}=new DecompressionStream("deflate-raw"),b=p.getWriter();await b.ready,b.write(n).then(async()=>{await b.ready,await b.close()}).catch(()=>{});let M=null,t=0;for await(const m of i)M||(M=new Uint8Array(new Uint32Array(m.buffer,0,4)[0])),M.set(m,t),t+=m.length;const A=new Uint32Array(M.buffer,0,M.length>>2),y=A[1];if(y!==0)throw new Error(`Invalid version: ${y}`);const d=A[2],c=A[3],u=A[4]===0,x=A[5],j=A[6],o=A[7],h=[],f=(Dv+Ip*j)*Uint32Array.BYTES_PER_ELEMENT;let l;switch(o){case Int8Array.BYTES_PER_ELEMENT:l=new Int8Array(M.buffer,f);break;case Int16Array.BYTES_PER_ELEMENT:l=new Int16Array(M.buffer,f);break;case Int32Array.BYTES_PER_ELEMENT:l=new Int32Array(M.buffer,f);break}t=0;for(let m=0;m<j;m++){const _=A[Ip*m+Dv],w=new Float32Array(_+2);h.push(w);for(let v=0;v<Ip-1;v++)w[v]=A[Ip*m+Dv+v+1];for(let v=0;v<_;v++)w[v+2]=w[v]+l[t++]}return{areContours:u,thickness:x,outlines:h,width:d,height:c}}catch(n){return Zt(`decompressSignature: ${n}`),null}}}dd=new WeakMap,Lr=new WeakSet,rx=function(r,n,i,p){return i-=r,p-=n,i===0?p>0?0:4:i===1?p+6:2-p},aa=new WeakMap,bC=function(r,n,i,p,b,M,t){const A=pe(this,Lr,rx).call(this,i,p,b,M);for(let y=0;y<8;y++){const d=(-y+A-t+16)%8,c=R(this,aa)[2*d],u=R(this,aa)[2*d+1];if(r[(i+c)*n+(p+u)]!==0)return d}return-1},_C=function(r,n,i,p,b,M,t){const A=pe(this,Lr,rx).call(this,i,p,b,M);for(let y=0;y<8;y++){const d=(y+A+t+16)%8,c=R(this,aa)[2*d],u=R(this,aa)[2*d+1];if(r[(i+c)*n+(p+u)]!==0)return d}return-1},nx=function(r,n,i,p){const b=r.length,M=new Int32Array(b);for(let d=0;d<b;d++)M[d]=r[d]<=p?1:0;for(let d=1;d<i-1;d++)M[d*n]=M[d*n+n-1]=0;for(let d=0;d<n;d++)M[d]=M[n*i-1-d]=0;let t=1,A;const y=[];for(let d=1;d<i-1;d++){A=1;for(let c=1;c<n-1;c++){const u=d*n+c,x=M[u];if(x===0)continue;let j=d,o=c;if(x===1&&M[u-1]===0)t+=1,o-=1;else if(x>=1&&M[u+1]===0)t+=1,o+=1,x>1&&(A=x);else{x!==1&&(A=Math.abs(x));continue}const h=[c,d],f=o===c+1,l={isHole:f,points:h,id:t,parent:0};y.push(l);let m;for(const N of y)if(N.id===A){m=N;break}m?m.isHole?l.parent=f?m.parent:A:l.parent=f?A:m.parent:l.parent=f?A:0;const _=pe(this,Lr,bC).call(this,M,n,d,c,j,o,0);if(_===-1){M[u]=-t,M[u]!==1&&(A=Math.abs(M[u]));continue}let w=R(this,aa)[2*_],v=R(this,aa)[2*_+1];const E=d+w,C=c+v;j=E,o=C;let O=d,U=c;for(;;){const N=pe(this,Lr,_C).call(this,M,n,O,U,j,o,1);w=R(this,aa)[2*N],v=R(this,aa)[2*N+1];const D=O+w,H=U+v;h.push(H,D);const I=O*n+U;if(M[I+1]===0?M[I]=-t:M[I]===1&&(M[I]=t),D===d&&H===c&&O===E&&U===C){M[u]!==1&&(A=Math.abs(M[u]));break}else j=O,o=U,O=D,U=H}}}return y},d0=function(r,n,i,p){if(i-n<=4){for(let E=n;E<i-2;E+=2)p.push(r[E],r[E+1]);return}const b=r[n],M=r[n+1],t=r[i-4]-b,A=r[i-3]-M,y=Math.hypot(t,A),d=t/y,c=A/y,u=d*M-c*b,x=A/t,j=1/y,o=Math.atan(x),h=Math.cos(o),f=Math.sin(o),l=j*(Math.abs(h)+Math.abs(f)),m=j*(1-l+l**2),_=Math.max(Math.atan(Math.abs(f+h)*m),Math.atan(Math.abs(f-h)*m));let w=0,v=n;for(let E=n+2;E<i-2;E+=2){const C=Math.abs(u-d*r[E+1]+c*r[E]);C>w&&(v=E,w=C)}w>(y*_)**2?(pe(this,Lr,d0).call(this,r,n,v+2,p),pe(this,Lr,d0).call(this,r,v,i,p)):p.push(b,M)},wC=function(r){const n=[],i=r.length;return pe(this,Lr,d0).call(this,r,0,i,n),n.push(r[i-2],r[i-1]),n.length<=4?null:n},xC=function(r,n,i,p,b,M){const t=new Float32Array(M**2),A=-2*p**2,y=M>>1;for(let o=0;o<M;o++){const h=(o-y)**2;for(let f=0;f<M;f++)t[o*M+f]=Math.exp((h+(f-y)**2)/A)}const d=new Float32Array(256),c=-2*b**2;for(let o=0;o<256;o++)d[o]=Math.exp(o**2/c);const u=r.length,x=new Uint8Array(u),j=new Uint32Array(256);for(let o=0;o<i;o++)for(let h=0;h<n;h++){const f=o*n+h,l=r[f];let m=0,_=0;for(let v=0;v<M;v++){const E=o+v-y;if(!(E<0||E>=i))for(let C=0;C<M;C++){const O=h+C-y;if(O<0||O>=n)continue;const U=r[E*n+O],N=t[v*M+C]*d[Math.abs(U-l)];m+=U*N,_+=N}}const w=x[f]=Math.round(m/_);j[w]++}return[x,j]},SC=function(r){const n=new Uint32Array(256);for(const i of r)n[i]++;return n},sx=function(r){const n=r.length,i=new Uint8ClampedArray(n>>2);let p=-1/0,b=1/0;for(let t=0,A=i.length;t<A;t++){if(r[(t<<2)+3]===0){p=i[t]=255;continue}const d=i[t]=r[t<<2];d>p&&(p=d),d<b&&(b=d)}const M=255/(p-b);for(let t=0;t<n;t++)i[t]=(i[t]-b)*M;return i},ix=function(r){let n,i=-1/0,p=-1/0;const b=r.findIndex(A=>A!==0);let M=b,t=b;for(n=b;n<256;n++){const A=r[n];A>i&&(n-M>p&&(p=n-M,t=n-1),i=A,M=n)}for(n=t-1;n>=0&&!(r[n]>r[n+1]);n--);return n},jC=function(r){const n=r,{width:i,height:p}=r,{maxDim:b}=R(this,dd);let M=i,t=p;if(i>b||p>b){let u=i,x=p,j=Math.log2(Math.max(i,p)/b);const o=Math.floor(j);j=j===o?o-1:o;for(let f=0;f<j;f++){M=Math.ceil(u/2),t=Math.ceil(x/2);const l=new OffscreenCanvas(M,t);l.getContext("2d").drawImage(r,0,0,u,x,0,0,M,t),u=M,x=t,r!==n&&r.close(),r=l.transferToImageBitmap()}const h=Math.min(b/M,b/t);M=Math.round(M*h),t=Math.round(t*h)}const y=new OffscreenCanvas(M,t).getContext("2d",{willReadFrequently:!0});y.filter="grayscale(1)",y.drawImage(r,0,0,r.width,r.height,0,0,M,t);const d=y.getImageData(0,0,M,t).data;return[pe(this,Lr,sx).call(this,d),M,t]},ce(qa,Lr),ce(qa,dd,{maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16}),ce(qa,aa,new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]));class qx extends fC{constructor(){super(),super.updateProperties({fill:Qr._defaultLineColor,"stroke-width":0})}clone(){const r=new qx;return r.updateAll(this),r}}class Wx extends cb{constructor(r){super(r),super.updateProperties({stroke:Qr._defaultLineColor,"stroke-width":1})}clone(){const r=new Wx(this._viewParameters);return r.updateAll(this),r}}var pu,Ba,mu,hd;const ei=class ei extends A0{constructor(n){super({...n,mustBeCommitted:!0,name:"signatureEditor"});ce(this,pu,!1);ce(this,Ba,null);ce(this,mu,null);ce(this,hd,null);this._willKeepAspectRatio=!0,ne(this,mu,n.signatureData||null),ne(this,Ba,null),this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(n,i){Qr.initialize(n,i),this._defaultDrawingOptions=new qx,this._defaultDrawnSignatureOptions=new Wx(i.viewParameters)}static getDefaultDrawingOptions(n){const i=this._defaultDrawingOptions.clone();return i.updateProperties(n),i}static get supportMultipleDrawings(){return!1}static get typesMap(){return dr(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!R(this,Ba)}}static computeTelemetryFinalData(n){const i=n.get("hasDescription");return{hasAltText:i.get(!0)??0,hasNoAltText:i.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let n,i;const{_isCopy:p}=this;if(p&&(this._isCopy=!1,n=this.x,i=this.y),super.render(),this._drawId===null)if(R(this,mu)){const{lines:b,mustSmooth:M,areContours:t,description:A,uuid:y,heightInPage:d}=R(this,mu),{rawDims:{pageWidth:c,pageHeight:u},rotation:x}=this.parent.viewport,j=qa.processDrawnLines({lines:b,pageWidth:c,pageHeight:u,rotation:x,innerMargin:ei._INNER_MARGIN,mustSmooth:M,areContours:t});this.addSignature(j,d,A,y)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);return p&&(this._isCopy=!0,this._moveAfterPaste(n,i)),this.div}setUuid(n){ne(this,hd,n),this.addEditToolbar()}getUuid(){return R(this,hd)}get description(){return R(this,Ba)}set description(n){ne(this,Ba,n),super.addEditToolbar().then(i=>{i==null||i.updateEditSignatureButton(n)})}getSignaturePreview(){const{newCurves:n,areContours:i,thickness:p,width:b,height:M}=R(this,mu),t=Math.max(b,M),A=qa.processDrawnLines({lines:{curves:n.map(y=>({points:y})),thickness:p,width:b,height:M},pageWidth:t,pageHeight:t,rotation:0,innerMargin:0,mustSmooth:!1,areContours:i});return{areContours:i,outline:A.outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(n,i,p,b){const{x:M,y:t}=this,{outline:A}=ne(this,mu,n);ne(this,pu,A instanceof tx),this.description=p,this.div.setAttribute("data-l10n-args",JSON.stringify({description:p}));let y;R(this,pu)?y=ei.getDefaultDrawingOptions():(y=ei._defaultDrawnSignatureOptions.clone(),y.updateProperties({"stroke-width":A.thickness})),this._addOutlines({drawOutlines:A,drawingOptions:y});const[d,c]=this.parentDimensions,[,u]=this.pageDimensions;let x=i/u;x=x>=1?.5:x,this.width*=x/this.height,this.width>=1&&(x*=.9/this.width,this.width=.9),this.height=x,this.setDims(d*this.width,c*this.height),this.x=M,this.y=t,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(b),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!b,hasDescription:!!p}}),this.div.hidden=!1}getFromImage(n){const{rawDims:{pageWidth:i,pageHeight:p},rotation:b}=this.parent.viewport;return qa.process(n,i,p,b,ei._INNER_MARGIN)}getFromText(n,i){const{rawDims:{pageWidth:p,pageHeight:b},rotation:M}=this.parent.viewport;return qa.extractContoursFromText(n,i,p,b,M,ei._INNER_MARGIN)}getDrawnSignature(n){const{rawDims:{pageWidth:i,pageHeight:p},rotation:b}=this.parent.viewport;return qa.processDrawnLines({lines:n,pageWidth:i,pageHeight:p,rotation:b,innerMargin:ei._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:n,thickness:i}){n?this._drawingOptions=ei.getDefaultDrawingOptions():(this._drawingOptions=ei._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":i}))}serialize(n=!1){if(this.isEmpty())return null;const{lines:i,points:p,rect:b}=this.serializeDraw(n),{_drawingOptions:{"stroke-width":M}}=this,t={annotationType:Xt.SIGNATURE,isSignature:!0,areContours:R(this,pu),color:[0,0,0],thickness:R(this,pu)?0:M,pageIndex:this.pageIndex,rect:b,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return n?(t.paths={lines:i,points:p},t.uuid=R(this,hd),t.isCopy=!0):t.lines=i,R(this,Ba)&&(t.accessibilityData={type:"Figure",alt:R(this,Ba)}),t}static deserializeDraw(n,i,p,b,M,t){return t.areContours?tx.deserialize(n,i,p,b,M,t):ny.deserialize(n,i,p,b,M,t)}static async deserialize(n,i,p){var M;const b=await super.deserialize(n,i,p);return ne(b,pu,n.areContours),ne(b,Ba,((M=n.accessibilityData)==null?void 0:M.alt)||""),ne(b,hd,n.uuid),b}};pu=new WeakMap,Ba=new WeakMap,mu=new WeakMap,hd=new WeakMap,yt(ei,"_type","signature"),yt(ei,"_editorType",Xt.SIGNATURE),yt(ei,"_defaultDrawingOptions",null);let ax=ei;var on,ts,gu,$o,yu,Af,Zo,fd,Ga,fi,Tf,xr,nm,sm,h0,f0,p0,lx,m0,EC;class ox extends Qr{constructor(n){super({...n,name:"stampEditor"});ce(this,xr);ce(this,on,null);ce(this,ts,null);ce(this,gu,null);ce(this,$o,null);ce(this,yu,null);ce(this,Af,"");ce(this,Zo,null);ce(this,fd,!1);ce(this,Ga,null);ce(this,fi,!1);ce(this,Tf,!1);ne(this,$o,n.bitmapUrl),ne(this,yu,n.bitmapFile),this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(n,i){Qr.initialize(n,i)}static isHandlingMimeForPasting(n){return x0.includes(n)}static paste(n,i){i.pasteEditor({mode:Xt.STAMP},{bitmapFile:n.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var n;return{type:"stamp",hasAltText:!!((n=this.altTextData)!=null&&n.altText)}}static computeTelemetryFinalData(n){const i=n.get("hasAltText");return{hasAltText:i.get(!0)??0,hasNoAltText:i.get(!1)??0}}async mlGuessAltText(n=null,i=!0){if(this.hasAltTextData())return null;const{mlManager:p}=this._uiManager;if(!p)throw new Error("No ML.");if(!await p.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:b,width:M,height:t}=n||this.copyCanvas(null,null,!0).imageData,A=await p.guess({name:"altText",request:{data:b,width:M,height:t,channels:b.length/(M*t)}});if(!A)throw new Error("No response from the AI service.");if(A.error)throw new Error("Error from the AI service.");if(A.cancel)return null;if(!A.output)throw new Error("No valid response from the AI service.");const y=A.output;return await this.setGuessedAltText(y),i&&!this.hasAltTextData()&&(this.altTextData={alt:y,decorative:!1}),y}remove(){var n;R(this,ts)&&(ne(this,on,null),this._uiManager.imageManager.deleteId(R(this,ts)),(n=R(this,Zo))==null||n.remove(),ne(this,Zo,null),R(this,Ga)&&(clearTimeout(R(this,Ga)),ne(this,Ga,null))),super.remove()}rebuild(){if(!this.parent){R(this,ts)&&pe(this,xr,h0).call(this);return}super.rebuild(),this.div!==null&&(R(this,ts)&&R(this,Zo)===null&&pe(this,xr,h0).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(n){this._isDraggable=!0,n&&this.div.focus()}isEmpty(){return!(R(this,gu)||R(this,on)||R(this,$o)||R(this,yu)||R(this,ts)||R(this,fd))}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let n,i;return this._isCopy&&(n=this.x,i=this.y),super.render(),this.div.hidden=!0,this.createAltText(),R(this,fd)||(R(this,on)?pe(this,xr,f0).call(this):pe(this,xr,h0).call(this)),this._isCopy&&this._moveAfterPaste(n,i),this._uiManager.addShouldRescale(this),this.div}setCanvas(n,i){const{id:p,bitmap:b}=this._uiManager.imageManager.getFromCanvas(n,i);i.remove(),p&&this._uiManager.imageManager.isValidId(p)&&(ne(this,ts,p),b&&ne(this,on,b),ne(this,fd,!1),pe(this,xr,f0).call(this))}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;R(this,Ga)!==null&&clearTimeout(R(this,Ga)),ne(this,Ga,setTimeout(()=>{ne(this,Ga,null),pe(this,xr,lx).call(this)},200))}copyCanvas(n,i,p=!1){var x;n||(n=224);const{width:b,height:M}=R(this,on),t=new ca;let A=R(this,on),y=b,d=M,c=null;if(i){if(b>i||M>i){const C=Math.min(i/b,i/M);y=Math.floor(b*C),d=Math.floor(M*C)}c=document.createElement("canvas");const j=c.width=Math.ceil(y*t.sx),o=c.height=Math.ceil(d*t.sy);R(this,fi)||(A=pe(this,xr,p0).call(this,j,o));const h=c.getContext("2d");h.filter=this._uiManager.hcmFilter;let f="white",l="#cfcfd8";this._uiManager.hcmFilter!=="none"?l="black":(x=window.matchMedia)!=null&&x.call(window,"(prefers-color-scheme: dark)").matches&&(f="#8f8f9d",l="#42414d");const m=15,_=m*t.sx,w=m*t.sy,v=new OffscreenCanvas(_*2,w*2),E=v.getContext("2d");E.fillStyle=f,E.fillRect(0,0,_*2,w*2),E.fillStyle=l,E.fillRect(0,0,_,w),E.fillRect(_,w,_,w),h.fillStyle=h.createPattern(v,"repeat"),h.fillRect(0,0,j,o),h.drawImage(A,0,0,A.width,A.height,0,0,j,o)}let u=null;if(p){let j,o;if(t.symmetric&&A.width<n&&A.height<n)j=A.width,o=A.height;else if(A=R(this,on),b>n||M>n){const l=Math.min(n/b,n/M);j=Math.floor(b*l),o=Math.floor(M*l),R(this,fi)||(A=pe(this,xr,p0).call(this,j,o))}const f=new OffscreenCanvas(j,o).getContext("2d",{willReadFrequently:!0});f.drawImage(A,0,0,A.width,A.height,0,0,j,o),u={width:j,height:o,data:f.getImageData(0,0,j,o).data}}return{canvas:c,width:y,height:d,imageData:u}}static async deserialize(n,i,p){var h;let b=null,M=!1;if(n instanceof BM){const{data:{rect:f,rotation:l,id:m,structParent:_,popupRef:w},container:v,parent:{page:{pageNumber:E}},canvas:C}=n;let O,U;C?(delete n.canvas,{id:O,bitmap:U}=p.imageManager.getFromCanvas(v.id,C),C.remove()):(M=!0,n._hasNoCanvas=!0);const N=((h=await i._structTree.getAriaAttributes(`${Dx}${m}`))==null?void 0:h.get("aria-label"))||"";b=n={annotationType:Xt.STAMP,bitmapId:O,bitmap:U,pageIndex:E-1,rect:f.slice(0),rotation:l,annotationElementId:m,id:m,deleted:!1,accessibilityData:{decorative:!1,altText:N},isSvg:!1,structParent:_,popupRef:w}}const t=await super.deserialize(n,i,p),{rect:A,bitmap:y,bitmapUrl:d,bitmapId:c,isSvg:u,accessibilityData:x}=n;M?(p.addMissingCanvas(n.id,t),ne(t,fd,!0)):c&&p.imageManager.isValidId(c)?(ne(t,ts,c),y&&ne(t,on,y)):ne(t,$o,d),ne(t,fi,u);const[j,o]=t.pageDimensions;return t.width=(A[2]-A[0])/j,t.height=(A[3]-A[1])/o,x&&(t.altTextData=x),t._initialData=b,ne(t,Tf,!!b),t}serialize(n=!1,i=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const p={annotationType:Xt.STAMP,bitmapId:R(this,ts),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:R(this,fi),structTreeParentId:this._structTreeParentId};if(n)return p.bitmapUrl=pe(this,xr,m0).call(this,!0),p.accessibilityData=this.serializeAltText(!0),p.isCopy=!0,p;const{decorative:b,altText:M}=this.serializeAltText(!1);if(!b&&M&&(p.accessibilityData={type:"Figure",alt:M}),this.annotationElementId){const A=pe(this,xr,EC).call(this,p);if(A.isSame)return null;A.isSameAltText?delete p.accessibilityData:p.accessibilityData.structParent=this._initialData.structParent??-1}if(p.id=this.annotationElementId,i===null)return p;i.stamps||(i.stamps=new Map);const t=R(this,fi)?(p.rect[2]-p.rect[0])*(p.rect[3]-p.rect[1]):null;if(!i.stamps.has(R(this,ts)))i.stamps.set(R(this,ts),{area:t,serialized:p}),p.bitmap=pe(this,xr,m0).call(this,!1);else if(R(this,fi)){const A=i.stamps.get(R(this,ts));t>A.area&&(A.area=t,A.serialized.bitmap.close(),A.serialized.bitmap=pe(this,xr,m0).call(this,!1))}return p}renderAnnotationElement(n){return n.updateEdited({rect:this.getRect(0,0)}),null}}on=new WeakMap,ts=new WeakMap,gu=new WeakMap,$o=new WeakMap,yu=new WeakMap,Af=new WeakMap,Zo=new WeakMap,fd=new WeakMap,Ga=new WeakMap,fi=new WeakMap,Tf=new WeakMap,xr=new WeakSet,nm=function(n,i=!1){if(!n){this.remove();return}ne(this,on,n.bitmap),i||(ne(this,ts,n.id),ne(this,fi,n.isSvg)),n.file&&ne(this,Af,n.file.name),pe(this,xr,f0).call(this)},sm=function(){if(ne(this,gu,null),this._uiManager.enableWaiting(!1),!!R(this,Zo)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&R(this,on)){this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&R(this,on)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},h0=function(){if(R(this,ts)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(R(this,ts)).then(p=>pe(this,xr,nm).call(this,p,!0)).finally(()=>pe(this,xr,sm).call(this));return}if(R(this,$o)){const p=R(this,$o);ne(this,$o,null),this._uiManager.enableWaiting(!0),ne(this,gu,this._uiManager.imageManager.getFromUrl(p).then(b=>pe(this,xr,nm).call(this,b)).finally(()=>pe(this,xr,sm).call(this)));return}if(R(this,yu)){const p=R(this,yu);ne(this,yu,null),this._uiManager.enableWaiting(!0),ne(this,gu,this._uiManager.imageManager.getFromFile(p).then(b=>pe(this,xr,nm).call(this,b)).finally(()=>pe(this,xr,sm).call(this)));return}const n=document.createElement("input");n.type="file",n.accept=x0.join(",");const i=this._uiManager._signal;ne(this,gu,new Promise(p=>{n.addEventListener("change",async()=>{if(!n.files||n.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const b=await this._uiManager.imageManager.getFromFile(n.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),pe(this,xr,nm).call(this,b)}p()},{signal:i}),n.addEventListener("cancel",()=>{this.remove(),p()},{signal:i})}).finally(()=>pe(this,xr,sm).call(this))),n.click()},f0=function(){var c;const{div:n}=this;let{width:i,height:p}=R(this,on);const[b,M]=this.pageDimensions,t=.75;if(this.width)i=this.width*b,p=this.height*M;else if(i>t*b||p>t*M){const u=Math.min(t*b/i,t*M/p);i*=u,p*=u}const[A,y]=this.parentDimensions;this.setDims(i*A/b,p*y/M),this._uiManager.enableWaiting(!1);const d=ne(this,Zo,document.createElement("canvas"));d.setAttribute("role","img"),this.addContainer(d),this.width=i/b,this.height=p/M,(c=this._initialOptions)!=null&&c.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(n.hidden=!1),pe(this,xr,lx).call(this),R(this,Tf)||(this.parent.addUndoableEditor(this),ne(this,Tf,!0)),this._reportTelemetry({action:"inserted_image"}),R(this,Af)&&this.div.setAttribute("aria-description",R(this,Af)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")},p0=function(n,i){const{width:p,height:b}=R(this,on);let M=p,t=b,A=R(this,on);for(;M>2*n||t>2*i;){const y=M,d=t;M>2*n&&(M=M>=16384?Math.floor(M/2)-1:Math.ceil(M/2)),t>2*i&&(t=t>=16384?Math.floor(t/2)-1:Math.ceil(t/2));const c=new OffscreenCanvas(M,t);c.getContext("2d").drawImage(A,0,0,y,d,0,0,M,t),A=c.transferToImageBitmap()}return A},lx=function(){const[n,i]=this.parentDimensions,{width:p,height:b}=this,M=new ca,t=Math.ceil(p*n*M.sx),A=Math.ceil(b*i*M.sy),y=R(this,Zo);if(!y||y.width===t&&y.height===A)return;y.width=t,y.height=A;const d=R(this,fi)?R(this,on):pe(this,xr,p0).call(this,t,A),c=y.getContext("2d");c.filter=this._uiManager.hcmFilter,c.drawImage(d,0,0,d.width,d.height,0,0,t,A)},m0=function(n){if(n){if(R(this,fi)){const b=this._uiManager.imageManager.getSvgUrl(R(this,ts));if(b)return b}const i=document.createElement("canvas");return{width:i.width,height:i.height}=R(this,on),i.getContext("2d").drawImage(R(this,on),0,0),i.toDataURL()}if(R(this,fi)){const[i,p]=this.pageDimensions,b=Math.round(this.width*i*ol.PDF_TO_CSS_UNITS),M=Math.round(this.height*p*ol.PDF_TO_CSS_UNITS),t=new OffscreenCanvas(b,M);return t.getContext("2d").drawImage(R(this,on),0,0,R(this,on).width,R(this,on).height,0,0,b,M),t.transferToImageBitmap()}return structuredClone(R(this,on))},EC=function(n){var t;const{pageIndex:i,accessibilityData:{altText:p}}=this._initialData,b=n.pageIndex===i,M=(((t=n.accessibilityData)==null?void 0:t.alt)||"")===p;return{isSame:!this._hasBeenMoved&&!this._hasBeenResized&&b&&M,isSameAltText:M}},yt(ox,"_type","stamp"),yt(ox,"_editorType",Xt.STAMP);var pd,Mf,za,vu,Ko,pi,bu,Cf,md,oa,Qo,rs,Jo,_u,Rf,It,wu,ln,AC,Ea,ux,cx,g0;const Zi=class Zi{constructor({uiManager:r,pageIndex:n,div:i,structTreeLayer:p,accessibilityManager:b,annotationLayer:M,drawLayer:t,textLayer:A,viewport:y,l10n:d}){ce(this,ln);ce(this,pd);ce(this,Mf,!1);ce(this,za,null);ce(this,vu,null);ce(this,Ko,null);ce(this,pi,new Map);ce(this,bu,!1);ce(this,Cf,!1);ce(this,md,!1);ce(this,oa,null);ce(this,Qo,null);ce(this,rs,null);ce(this,Jo,null);ce(this,_u,null);ce(this,Rf,-1);ce(this,It);const c=[...R(Zi,wu).values()];if(!Zi._initialized){Zi._initialized=!0;for(const u of c)u.initialize(d,r)}r.registerEditorTypes(c),ne(this,It,r),this.pageIndex=n,this.div=i,ne(this,pd,b),ne(this,za,M),this.viewport=y,ne(this,rs,A),this.drawLayer=t,this._structTree=p,R(this,It).addLayer(this)}get isEmpty(){return R(this,pi).size===0}get isInvisible(){return this.isEmpty&&R(this,It).getMode()===Xt.NONE}updateToolbar(r){R(this,It).updateToolbar(r)}updateMode(r=R(this,It).getMode()){switch(pe(this,ln,g0).call(this),r){case Xt.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case Xt.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case Xt.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:n}=this.div;for(const i of R(Zi,wu).values())n.toggle(`${i._type}Editing`,r===i._editorType);this.div.hidden=!1}hasTextLayer(r){var n;return r===((n=R(this,rs))==null?void 0:n.div)}setEditingState(r){R(this,It).setEditingState(r)}addCommands(r){R(this,It).addCommands(r)}cleanUndoStack(r){R(this,It).cleanUndoStack(r)}toggleDrawing(r=!1){this.div.classList.toggle("drawing",!r)}togglePointerEvents(r=!1){this.div.classList.toggle("disabled",!r)}toggleAnnotationLayerPointerEvents(r=!1){var n;(n=R(this,za))==null||n.div.classList.toggle("disabled",!r)}async enable(){var i;ne(this,md,!0),this.div.tabIndex=0,this.togglePointerEvents(!0),(i=R(this,_u))==null||i.abort(),ne(this,_u,null);const r=new Set;for(const p of R(this,pi).values())p.enableEditing(),p.show(!0),p.annotationElementId&&(R(this,It).removeChangedExistingAnnotation(p),r.add(p.annotationElementId));if(!R(this,za)){ne(this,md,!1);return}const n=R(this,za).getEditableAnnotations();for(const p of n){if(p.hide(),R(this,It).isDeletedAnnotationElement(p.data.id)||r.has(p.data.id))continue;const b=await this.deserialize(p);b&&(this.addOrRebuild(b),b.enableEditing())}ne(this,md,!1)}disable(){var p;if(ne(this,Cf,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1),R(this,rs)&&!R(this,_u)){ne(this,_u,new AbortController);const b=R(this,It).combinedSignal(R(this,_u));R(this,rs).div.addEventListener("pointerdown",M=>{const{clientX:A,clientY:y,timeStamp:d}=M,c=R(this,Rf);if(d-c>500){ne(this,Rf,d);return}ne(this,Rf,-1);const{classList:u}=this.div;u.toggle("getElements",!0);const x=document.elementsFromPoint(A,y);if(u.toggle("getElements",!1),!this.div.contains(x[0]))return;let j;const o=new RegExp(`^${yT}[0-9]+$`);for(const f of x)if(o.test(f.id)){j=f.id;break}if(!j)return;const h=R(this,pi).get(j);(h==null?void 0:h.annotationElementId)===null&&(M.stopPropagation(),M.preventDefault(),h.dblclick())},{signal:b,capture:!0})}const r=new Map,n=new Map;for(const b of R(this,pi).values())if(b.disableEditing(),!!b.annotationElementId){if(b.serialize()!==null){r.set(b.annotationElementId,b);continue}else n.set(b.annotationElementId,b);(p=this.getEditableAnnotation(b.annotationElementId))==null||p.show(),b.remove()}if(R(this,za)){const b=R(this,za).getEditableAnnotations();for(const M of b){const{id:t}=M.data;if(R(this,It).isDeletedAnnotationElement(t))continue;let A=n.get(t);if(A){A.resetAnnotationElement(M),A.show(!1),M.show();continue}A=r.get(t),A&&(R(this,It).addChangedExistingAnnotation(A),A.renderAnnotationElement(M)&&A.show(!1)),M.show()}}pe(this,ln,g0).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:i}=this.div;for(const b of R(Zi,wu).values())i.remove(`${b._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),ne(this,Cf,!1)}getEditableAnnotation(r){var n;return((n=R(this,za))==null?void 0:n.getEditableAnnotation(r))||null}setActiveEditor(r){R(this,It).getActive()!==r&&R(this,It).setActiveEditor(r)}enableTextSelection(){var r;if(this.div.tabIndex=-1,(r=R(this,rs))!=null&&r.div&&!R(this,Jo)){ne(this,Jo,new AbortController);const n=R(this,It).combinedSignal(R(this,Jo));R(this,rs).div.addEventListener("pointerdown",pe(this,ln,AC).bind(this),{signal:n}),R(this,rs).div.classList.add("highlighting")}}disableTextSelection(){var r;this.div.tabIndex=0,(r=R(this,rs))!=null&&r.div&&R(this,Jo)&&(R(this,Jo).abort(),ne(this,Jo,null),R(this,rs).div.classList.remove("highlighting"))}enableClick(){if(R(this,vu))return;ne(this,vu,new AbortController);const r=R(this,It).combinedSignal(R(this,vu));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:r});const n=this.pointerup.bind(this);this.div.addEventListener("pointerup",n,{signal:r}),this.div.addEventListener("pointercancel",n,{signal:r})}disableClick(){var r;(r=R(this,vu))==null||r.abort(),ne(this,vu,null)}attach(r){R(this,pi).set(r.id,r);const{annotationElementId:n}=r;n&&R(this,It).isDeletedAnnotationElement(n)&&R(this,It).removeDeletedAnnotationElement(r)}detach(r){var n;R(this,pi).delete(r.id),(n=R(this,pd))==null||n.removePointerInTextLayer(r.contentDiv),!R(this,Cf)&&r.annotationElementId&&R(this,It).addDeletedAnnotationElement(r)}remove(r){this.detach(r),R(this,It).removeEditor(r),r.div.remove(),r.isAttachedToDOM=!1}changeParent(r){var n;r.parent!==this&&(r.parent&&r.annotationElementId&&(R(this,It).addDeletedAnnotationElement(r.annotationElementId),Qr.deleteAnnotationElement(r),r.annotationElementId=null),this.attach(r),(n=r.parent)==null||n.detach(r),r.setParent(this),r.div&&r.isAttachedToDOM&&(r.div.remove(),this.div.append(r.div)))}add(r){if(!(r.parent===this&&r.isAttachedToDOM)){if(this.changeParent(r),R(this,It).addEditor(r),this.attach(r),!r.isAttachedToDOM){const n=r.render();this.div.append(n),r.isAttachedToDOM=!0}r.fixAndSetPosition(),r.onceAdded(!R(this,md)),R(this,It).addToAnnotationStorage(r),r._reportTelemetry(r.telemetryInitialData)}}moveEditorInDOM(r){var i;if(!r.isAttachedToDOM)return;const{activeElement:n}=document;r.div.contains(n)&&!R(this,Ko)&&(r._focusEventsAllowed=!1,ne(this,Ko,setTimeout(()=>{ne(this,Ko,null),r.div.contains(document.activeElement)?r._focusEventsAllowed=!0:(r.div.addEventListener("focusin",()=>{r._focusEventsAllowed=!0},{once:!0,signal:R(this,It)._signal}),n.focus())},0))),r._structTreeParentId=(i=R(this,pd))==null?void 0:i.moveElementInDOM(this.div,r.div,r.contentDiv,!0)}addOrRebuild(r){r.needsToBeRebuilt()?(r.parent||(r.parent=this),r.rebuild(),r.show()):this.add(r)}addUndoableEditor(r){const n=()=>r._uiManager.rebuild(r),i=()=>{r.remove()};this.addCommands({cmd:n,undo:i,mustExec:!1})}getNextId(){return R(this,It).getId()}combinedSignal(r){return R(this,It).combinedSignal(r)}canCreateNewEmptyEditor(){var r;return(r=R(this,ln,Ea))==null?void 0:r.canCreateNewEmptyEditor()}async pasteEditor(r,n){this.updateToolbar(r),await R(this,It).updateMode(r.mode);const{offsetX:i,offsetY:p}=pe(this,ln,cx).call(this),b=this.getNextId(),M=pe(this,ln,ux).call(this,{parent:this,id:b,x:i,y:p,uiManager:R(this,It),isCentered:!0,...n});M&&this.add(M)}async deserialize(r){var n;return await((n=R(Zi,wu).get(r.annotationType??r.annotationEditorType))==null?void 0:n.deserialize(r,this,R(this,It)))||null}createAndAddNewEditor(r,n,i={}){const p=this.getNextId(),b=pe(this,ln,ux).call(this,{parent:this,id:p,x:r.offsetX,y:r.offsetY,uiManager:R(this,It),isCentered:n,...i});return b&&this.add(b),b}addNewEditor(r={}){this.createAndAddNewEditor(pe(this,ln,cx).call(this),!0,r)}setSelected(r){R(this,It).setSelected(r)}toggleSelected(r){R(this,It).toggleSelected(r)}unselect(r){R(this,It).unselect(r)}pointerup(r){var p;const{isMac:n}=ns.platform;if(r.button!==0||r.ctrlKey&&n||r.target!==this.div||!R(this,bu)||(ne(this,bu,!1),(p=R(this,ln,Ea))!=null&&p.isDrawer&&R(this,ln,Ea).supportMultipleDrawings))return;if(!R(this,Mf)){ne(this,Mf,!0);return}const i=R(this,It).getMode();if(i===Xt.STAMP||i===Xt.SIGNATURE){R(this,It).unselectAll();return}this.createAndAddNewEditor(r,!1)}pointerdown(r){var p;if(R(this,It).getMode()===Xt.HIGHLIGHT&&this.enableTextSelection(),R(this,bu)){ne(this,bu,!1);return}const{isMac:n}=ns.platform;if(r.button!==0||r.ctrlKey&&n||r.target!==this.div)return;if(ne(this,bu,!0),(p=R(this,ln,Ea))!=null&&p.isDrawer){this.startDrawingSession(r);return}const i=R(this,It).getActive();ne(this,Mf,!i||i.isEmpty())}startDrawingSession(r){if(this.div.focus({preventScroll:!0}),R(this,oa)){R(this,ln,Ea).startDrawing(this,R(this,It),!1,r);return}R(this,It).setCurrentDrawingSession(this),ne(this,oa,new AbortController);const n=R(this,It).combinedSignal(R(this,oa));this.div.addEventListener("blur",({relatedTarget:i})=>{i&&!this.div.contains(i)&&(ne(this,Qo,null),this.commitOrRemove())},{signal:n}),R(this,ln,Ea).startDrawing(this,R(this,It),!1,r)}pause(r){if(r){const{activeElement:n}=document;this.div.contains(n)&&ne(this,Qo,n);return}R(this,Qo)&&setTimeout(()=>{var n;(n=R(this,Qo))==null||n.focus(),ne(this,Qo,null)},0)}endDrawingSession(r=!1){return R(this,oa)?(R(this,It).setCurrentDrawingSession(null),R(this,oa).abort(),ne(this,oa,null),ne(this,Qo,null),R(this,ln,Ea).endDrawing(r)):null}findNewParent(r,n,i){const p=R(this,It).findParent(n,i);return p===null||p===this?!1:(p.changeParent(r),!0)}commitOrRemove(){return R(this,oa)?(this.endDrawingSession(),!0):!1}onScaleChanging(){R(this,oa)&&R(this,ln,Ea).onScaleChangingWhenDrawing(this)}destroy(){var r,n;this.commitOrRemove(),((r=R(this,It).getActive())==null?void 0:r.parent)===this&&(R(this,It).commitOrRemove(),R(this,It).setActiveEditor(null)),R(this,Ko)&&(clearTimeout(R(this,Ko)),ne(this,Ko,null));for(const i of R(this,pi).values())(n=R(this,pd))==null||n.removePointerInTextLayer(i.contentDiv),i.setParent(null),i.isAttachedToDOM=!1,i.div.remove();this.div=null,R(this,pi).clear(),R(this,It).removeLayer(this)}render({viewport:r}){this.viewport=r,Eu(this.div,r);for(const n of R(this,It).getEditors(this.pageIndex))this.add(n),n.rebuild();this.updateMode()}update({viewport:r}){R(this,It).commitOrRemove(),pe(this,ln,g0).call(this);const n=this.viewport.rotation,i=r.rotation;if(this.viewport=r,Eu(this.div,{rotation:i}),n!==i)for(const p of R(this,pi).values())p.rotate(i)}get pageDimensions(){const{pageWidth:r,pageHeight:n}=this.viewport.rawDims;return[r,n]}get scale(){return R(this,It).viewParameters.realScale}};pd=new WeakMap,Mf=new WeakMap,za=new WeakMap,vu=new WeakMap,Ko=new WeakMap,pi=new WeakMap,bu=new WeakMap,Cf=new WeakMap,md=new WeakMap,oa=new WeakMap,Qo=new WeakMap,rs=new WeakMap,Jo=new WeakMap,_u=new WeakMap,Rf=new WeakMap,It=new WeakMap,wu=new WeakMap,ln=new WeakSet,AC=function(r){R(this,It).unselectAll();const{target:n}=r;if(n===R(this,rs).div||(n.getAttribute("role")==="img"||n.classList.contains("endOfContent"))&&R(this,rs).div.contains(n)){const{isMac:i}=ns.platform;if(r.button!==0||r.ctrlKey&&i)return;R(this,It).showAllEditors("highlight",!0,!0),R(this,rs).div.classList.add("free"),this.toggleDrawing(),E0.startHighlighting(this,R(this,It).direction==="ltr",{target:R(this,rs).div,x:r.x,y:r.y}),R(this,rs).div.addEventListener("pointerup",()=>{R(this,rs).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:R(this,It)._signal}),r.preventDefault()}},Ea=function(){return R(Zi,wu).get(R(this,It).getMode())},ux=function(r){const n=R(this,ln,Ea);return n?new n.prototype.constructor(r):null},cx=function(){const{x:r,y:n,width:i,height:p}=this.div.getBoundingClientRect(),b=Math.max(0,r),M=Math.max(0,n),t=Math.min(window.innerWidth,r+i),A=Math.min(window.innerHeight,n+p),y=(b+t)/2-r,d=(M+A)/2-n,[c,u]=this.viewport.rotation%180===0?[y,d]:[d,y];return{offsetX:c,offsetY:u}},g0=function(){for(const r of R(this,pi).values())r.isEmpty()&&r.remove()},yt(Zi,"_initialized",!1),ce(Zi,wu,new Map([Gw,ex,ox,E0,ax].map(r=>[r._editorType,r])));let T0=Zi;var la,Ds,gd,qg,X0,TC,$a,dx,MC,hx;const Hn=class Hn{constructor({pageIndex:r}){ce(this,$a);ce(this,la,null);ce(this,Ds,new Map);ce(this,gd,new Map);this.pageIndex=r}setParent(r){if(!R(this,la)){ne(this,la,r);return}if(R(this,la)!==r){if(R(this,Ds).size>0)for(const n of R(this,Ds).values())n.remove(),r.append(n);ne(this,la,r)}}static get _svgFactory(){return dr(this,"_svgFactory",new gm)}draw(r,n=!1,i=!1){const p=Cs(Hn,qg)._++,b=pe(this,$a,dx).call(this),M=Hn._svgFactory.createElement("defs");b.append(M);const t=Hn._svgFactory.createElement("path");M.append(t);const A=`path_p${this.pageIndex}_${p}`;t.setAttribute("id",A),t.setAttribute("vector-effect","non-scaling-stroke"),n&&R(this,gd).set(p,t);const y=i?pe(this,$a,MC).call(this,M,A):null,d=Hn._svgFactory.createElement("use");return b.append(d),d.setAttribute("href",`#${A}`),this.updateProperties(b,r),R(this,Ds).set(p,b),{id:p,clipPathId:`url(#${y})`}}drawOutline(r,n){const i=Cs(Hn,qg)._++,p=pe(this,$a,dx).call(this),b=Hn._svgFactory.createElement("defs");p.append(b);const M=Hn._svgFactory.createElement("path");b.append(M);const t=`path_p${this.pageIndex}_${i}`;M.setAttribute("id",t),M.setAttribute("vector-effect","non-scaling-stroke");let A;if(n){const c=Hn._svgFactory.createElement("mask");b.append(c),A=`mask_p${this.pageIndex}_${i}`,c.setAttribute("id",A),c.setAttribute("maskUnits","objectBoundingBox");const u=Hn._svgFactory.createElement("rect");c.append(u),u.setAttribute("width","1"),u.setAttribute("height","1"),u.setAttribute("fill","white");const x=Hn._svgFactory.createElement("use");c.append(x),x.setAttribute("href",`#${t}`),x.setAttribute("stroke","none"),x.setAttribute("fill","black"),x.setAttribute("fill-rule","nonzero"),x.classList.add("mask")}const y=Hn._svgFactory.createElement("use");p.append(y),y.setAttribute("href",`#${t}`),A&&y.setAttribute("mask",`url(#${A})`);const d=y.cloneNode();return p.append(d),y.classList.add("mainOutline"),d.classList.add("secondaryOutline"),this.updateProperties(p,r),R(this,Ds).set(i,p),i}finalizeDraw(r,n){R(this,gd).delete(r),this.updateProperties(r,n)}updateProperties(r,n){var A;if(!n)return;const{root:i,bbox:p,rootClass:b,path:M}=n,t=typeof r=="number"?R(this,Ds).get(r):r;if(t){if(i&&pe(this,$a,hx).call(this,t,i),p&&pe(A=Hn,X0,TC).call(A,t,p),b){const{classList:y}=t;for(const[d,c]of Object.entries(b))y.toggle(d,c)}if(M){const d=t.firstChild.firstChild;pe(this,$a,hx).call(this,d,M)}}}updateParent(r,n){if(n===this)return;const i=R(this,Ds).get(r);i&&(R(n,la).append(i),R(this,Ds).delete(r),R(n,Ds).set(r,i))}remove(r){R(this,gd).delete(r),R(this,la)!==null&&(R(this,Ds).get(r).remove(),R(this,Ds).delete(r))}destroy(){ne(this,la,null);for(const r of R(this,Ds).values())r.remove();R(this,Ds).clear(),R(this,gd).clear()}};la=new WeakMap,Ds=new WeakMap,gd=new WeakMap,qg=new WeakMap,X0=new WeakSet,TC=function(r,[n,i,p,b]){const{style:M}=r;M.top=`${100*i}%`,M.left=`${100*n}%`,M.width=`${100*p}%`,M.height=`${100*b}%`},$a=new WeakSet,dx=function(){const r=Hn._svgFactory.create(1,1,!0);return R(this,la).append(r),r.setAttribute("aria-hidden",!0),r},MC=function(r,n){const i=Hn._svgFactory.createElement("clipPath");r.append(i);const p=`clip_${n}`;i.setAttribute("id",p),i.setAttribute("clipPathUnits","objectBoundingBox");const b=Hn._svgFactory.createElement("use");return i.append(b),b.setAttribute("href",`#${n}`),b.classList.add("clip"),p},hx=function(r,n){for(const[i,p]of Object.entries(n))p===null?r.removeAttribute(i):r.setAttribute(i,p)},ce(Hn,X0),ce(Hn,qg,0);let M0=Hn;globalThis._pdfjsTestingUtils={HighlightOutliner:Hw};globalThis.pdfjsLib={AbortException:al,AnnotationEditorLayer:T0,AnnotationEditorParamsType:hr,AnnotationEditorType:Xt,AnnotationEditorUIManager:Au,AnnotationLayer:Vx,AnnotationMode:Va,AnnotationType:En,build:MM,ColorPicker:ym,createValidAbsoluteUrl:kx,DOMSVGFactory:gm,DrawLayer:M0,FeatureTest:ns,fetchData:If,getDocument:Ux,getFilenameFromUrl:ST,getPdfFilenameFromUrl:jT,getUuid:Lx,getXfaPageViewport:ET,GlobalWorkerOptions:Ui,ImageKind:om,InvalidPDFException:w0,isDataScheme:ey,isPdfFile:ob,isValidExplicitDest:iM,MathClamp:Ss,noContextMenu:zi,normalizeUnicode:wT,OPS:dm,OutputScale:ca,PasswordResponses:bT,PDFDataRangeTransport:Bx,PDFDateString:lb,PDFWorker:Of,PermissionFlag:vT,PixelsPerInch:ol,RenderingCancelledException:ab,ResponseException:hm,setLayerDimensions:Eu,shadow:dr,SignatureExtractor:qa,stopEvent:Mn,SupportedImageMimeTypes:x0,TextLayer:pm,TouchManager:fm,updateUrlHash:Ox,Util:Ut,VerbosityLevel:Kg,version:Gx,XfaLayer:zx};const JD=Object.freeze(Object.defineProperty({__proto__:null,AbortException:al,AnnotationEditorLayer:T0,AnnotationEditorParamsType:hr,AnnotationEditorType:Xt,AnnotationEditorUIManager:Au,AnnotationLayer:Vx,AnnotationMode:Va,AnnotationType:En,ColorPicker:ym,DOMSVGFactory:gm,DrawLayer:M0,FeatureTest:ns,GlobalWorkerOptions:Ui,ImageKind:om,InvalidPDFException:w0,MathClamp:Ss,OPS:dm,OutputScale:ca,PDFDataRangeTransport:Bx,PDFDateString:lb,PDFWorker:Of,PasswordResponses:bT,PermissionFlag:vT,PixelsPerInch:ol,RenderingCancelledException:ab,ResponseException:hm,SignatureExtractor:qa,SupportedImageMimeTypes:x0,TextLayer:pm,TouchManager:fm,Util:Ut,VerbosityLevel:Kg,XfaLayer:zx,build:MM,createValidAbsoluteUrl:kx,fetchData:If,getDocument:Ux,getFilenameFromUrl:ST,getPdfFilenameFromUrl:jT,getUuid:Lx,getXfaPageViewport:ET,isDataScheme:ey,isPdfFile:ob,isValidExplicitDest:iM,noContextMenu:zi,normalizeUnicode:wT,setLayerDimensions:Eu,shadow:dr,stopEvent:Mn,updateUrlHash:Ox,version:Gx},Symbol.toStringTag,{value:"Module"}));function CC(T){var r,n,i="";if(typeof T=="string"||typeof T=="number")i+=T;else if(typeof T=="object")if(Array.isArray(T)){var p=T.length;for(r=0;r<p;r++)T[r]&&(n=CC(T[r]))&&(i&&(i+=" "),i+=n)}else for(n in T)T[n]&&(i&&(i+=" "),i+=n);return i}function db(){for(var T,r,n=0,i="",p=arguments.length;n<p;n++)(T=arguments[n])&&(r=CC(T))&&(i&&(i+=" "),i+=r);return i}var rA=Object.prototype.hasOwnProperty;function nA(T,r,n){for(n of T.keys())if(xh(n,r))return n}function xh(T,r){var n,i,p;if(T===r)return!0;if(T&&r&&(n=T.constructor)===r.constructor){if(n===Date)return T.getTime()===r.getTime();if(n===RegExp)return T.toString()===r.toString();if(n===Array){if((i=T.length)===r.length)for(;i--&&xh(T[i],r[i]););return i===-1}if(n===Set){if(T.size!==r.size)return!1;for(i of T)if(p=i,p&&typeof p=="object"&&(p=nA(r,p),!p)||!r.has(p))return!1;return!0}if(n===Map){if(T.size!==r.size)return!1;for(i of T)if(p=i[0],p&&typeof p=="object"&&(p=nA(r,p),!p)||!xh(i[1],r.get(p)))return!1;return!0}if(n===ArrayBuffer)T=new Uint8Array(T),r=new Uint8Array(r);else if(n===DataView){if((i=T.byteLength)===r.byteLength)for(;i--&&T.getInt8(i)===r.getInt8(i););return i===-1}if(ArrayBuffer.isView(T)){if((i=T.byteLength)===r.byteLength)for(;i--&&T[i]===r[i];);return i===-1}if(!n||typeof T=="object"){i=0;for(n in T)if(rA.call(T,n)&&++i&&!rA.call(r,n)||!(n in r)||!xh(T[n],r[n]))return!1;return Object.keys(r).length===i}}return T!==T&&r!==r}function sy(T){let r=!1;return{promise:new Promise((i,p)=>{T.then(b=>!r&&i(b)).catch(b=>!r&&p(b))}),cancel(){r=!0}}}const eP=["onCopy","onCut","onPaste"],tP=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],rP=["onFocus","onBlur"],nP=["onInput","onInvalid","onReset","onSubmit"],sP=["onLoad","onError"],iP=["onKeyDown","onKeyPress","onKeyUp"],aP=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],oP=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],lP=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],uP=["onSelect"],cP=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],dP=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],hP=["onScroll"],fP=["onWheel"],pP=["onAnimationStart","onAnimationEnd","onAnimationIteration"],mP=["onTransitionEnd"],gP=["onToggle"],yP=["onChange"],vP=[...eP,...tP,...rP,...nP,...sP,...iP,...aP,...oP,...lP,...uP,...cP,...dP,...hP,...fP,...pP,...mP,...yP,...gP];function RC(T,r){const n={};for(const i of vP){const p=T[i];p&&(r?n[i]=b=>p(b,r(i)):n[i]=p)}return n}var bP="Invariant failed";function Xr(T,r){if(!T)throw new Error(bP)}var O_,sA;function _P(){if(sA)return O_;sA=1;var T=function(){};return O_=T,O_}var wP=_P();const js=Y0(wP),kC=Be.createContext(null),xP="noopener noreferrer nofollow";class SP{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(r){this.pdfDocument=r}setViewer(r){this.pdfViewer=r}setExternalLinkRel(r){this.externalLinkRel=r}setExternalLinkTarget(r){this.externalLinkTarget=r}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return Xr(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(r){Xr(this.pdfViewer),this.pdfViewer.currentPageNumber=r}get rotation(){return 0}set rotation(r){}goToDestination(r){return new Promise(n=>{Xr(this.pdfDocument),Xr(r),typeof r=="string"?this.pdfDocument.getDestination(r).then(n):Array.isArray(r)?n(r):r.then(n)}).then(n=>{Xr(Array.isArray(n));const i=n[0];new Promise(p=>{Xr(this.pdfDocument),i instanceof Object?this.pdfDocument.getPageIndex(i).then(b=>{p(b)}).catch(()=>{Xr(!1)}):typeof i=="number"?p(i):Xr(!1)}).then(p=>{const b=p+1;Xr(this.pdfViewer),Xr(b>=1&&b<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:n,pageIndex:p,pageNumber:b})})})}navigateTo(r){this.goToDestination(r)}goToPage(r){const n=r-1;Xr(this.pdfViewer),Xr(r>=1&&r<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:n,pageNumber:r})}addLinkAttributes(r,n,i){r.href=n,r.rel=this.externalLinkRel||xP,r.target=i?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}function Sh({children:T,type:r}){return gt.jsx("div",{className:`react-pdf__message react-pdf__message--${r}`,children:T})}const iA={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};function jP(T,r){switch(r.type){case"RESOLVE":return{value:r.value,error:void 0};case"REJECT":return{value:!1,error:r.error};case"RESET":return{value:void 0,error:void 0};default:return T}}function Lf(){return Be.useReducer(jP,{value:void 0,error:void 0})}const hb=typeof window<"u",OC=hb&&window.location.protocol==="file:";function EP(T){return typeof T<"u"}function tc(T){return EP(T)&&T!==null}function AP(T){return typeof T=="string"}function TP(T){return T instanceof ArrayBuffer}function MP(T){return Xr(hb),T instanceof Blob}function fx(T){return AP(T)&&/^data:/.test(T)}function aA(T){Xr(fx(T));const[r="",n=""]=T.split(",");return r.split(";").indexOf("base64")!==-1?atob(n):unescape(n)}function CP(){return hb&&window.devicePixelRatio||1}const LC="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function oA(){js(!OC,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${LC}`)}function RP(){js(!OC,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${LC}`)}function _d(T){T!=null&&T.cancel&&T.cancel()}function px(T,r){return Object.defineProperty(T,"width",{get(){return this.view[2]*r},configurable:!0}),Object.defineProperty(T,"height",{get(){return this.view[3]*r},configurable:!0}),Object.defineProperty(T,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(T,"originalHeight",{get(){return this.view[3]},configurable:!0}),T}function kP(T){return T.name==="RenderingCancelledException"}function OP(T){return new Promise((r,n)=>{const i=new FileReader;i.onload=()=>{if(!i.result)return n(new Error("Error while reading a file."));r(i.result)},i.onerror=p=>{if(!p.target)return n(new Error("Error while reading a file."));const{error:b}=p.target;if(!b)return n(new Error("Error while reading a file."));switch(b.code){case b.NOT_FOUND_ERR:return n(new Error("Error while reading a file: File not found."));case b.SECURITY_ERR:return n(new Error("Error while reading a file: Security error."));case b.ABORT_ERR:return n(new Error("Error while reading a file: Aborted."));default:return n(new Error("Error while reading a file."))}},i.readAsArrayBuffer(T)})}const{PDFDataRangeTransport:LP}=JD,DP=(T,r)=>{switch(r){case iA.NEED_PASSWORD:{const n=prompt("Enter the password to open this PDF file.");T(n);break}case iA.INCORRECT_PASSWORD:{const n=prompt("Invalid password. Please try again.");T(n);break}}};function lA(T){return typeof T=="object"&&T!==null&&("data"in T||"range"in T||"url"in T)}const PP=Be.forwardRef(function({children:r,className:n,error:i="Failed to load PDF file.",externalLinkRel:p,externalLinkTarget:b,file:M,inputRef:t,imageResourcesPath:A,loading:y="Loading PDF…",noData:d="No PDF file specified.",onItemClick:c,onLoadError:u,onLoadProgress:x,onLoadSuccess:j,onPassword:o=DP,onSourceError:h,onSourceSuccess:f,options:l,renderMode:m,rotate:_,scale:w,...v},E){const[C,O]=Lf(),{value:U,error:N}=C,[D,H]=Lf(),{value:I,error:V}=D,G=Be.useRef(new SP),q=Be.useRef([]),X=Be.useRef(void 0),B=Be.useRef(void 0);M&&M!==X.current&&lA(M)&&(js(!xh(M,X.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),X.current=M),l&&l!==B.current&&(js(!xh(l,B.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),B.current=l);const W=Be.useRef({scrollPageIntoView:ae=>{const{dest:ye,pageNumber:Se,pageIndex:Me=Se-1}=ae;if(c){c({dest:ye,pageIndex:Me,pageNumber:Se});return}const Ee=q.current[Me];if(Ee){Ee.scrollIntoView();return}js(!1,`An internal link leading to page ${Se} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});Be.useImperativeHandle(E,()=>({linkService:G,pages:q,viewer:W}),[]);function K(){f&&f()}function ee(){N&&(js(!1,N.toString()),h&&h(N))}function re(){O({type:"RESET"})}Be.useEffect(re,[M,O]);const oe=Be.useCallback(async()=>{if(!M)return null;if(typeof M=="string")return fx(M)?{data:aA(M)}:(oA(),{url:M});if(M instanceof LP)return{range:M};if(TP(M))return{data:M};if(hb&&MP(M))return{data:await OP(M)};if(Xr(typeof M=="object"),Xr(lA(M)),"url"in M&&typeof M.url=="string"){if(fx(M.url)){const{url:ae,...ye}=M;return{data:aA(ae),...ye}}oA()}return M},[M]);Be.useEffect(()=>{const ae=sy(oe());return ae.promise.then(ye=>{O({type:"RESOLVE",value:ye})}).catch(ye=>{O({type:"REJECT",error:ye})}),()=>{_d(ae)}},[oe,O]),Be.useEffect(()=>{if(!(typeof U>"u")){if(U===!1){ee();return}K()}},[U]);function le(){I&&(j&&j(I),q.current=new Array(I.numPages),G.current.setDocument(I))}function me(){V&&(js(!1,V.toString()),u&&u(V))}Be.useEffect(function(){H({type:"RESET"})},[H,U]),Be.useEffect(function(){if(!U)return;const ye=l?{...U,...l}:U,Se=Ux(ye);x&&(Se.onProgress=x),o&&(Se.onPassword=o);const Me=Se,Ee=Me.promise.then(Te=>{H({type:"RESOLVE",value:Te})}).catch(Te=>{Me.destroyed||H({type:"REJECT",error:Te})});return()=>{Ee.finally(()=>Me.destroy())}},[l,H,U]),Be.useEffect(()=>{if(!(typeof I>"u")){if(I===!1){me();return}le()}},[I]),Be.useEffect(function(){G.current.setViewer(W.current),G.current.setExternalLinkRel(p),G.current.setExternalLinkTarget(b)},[p,b]);const $=Be.useCallback((ae,ye)=>{q.current[ae]=ye},[]),Q=Be.useCallback(ae=>{delete q.current[ae]},[]),se=Be.useMemo(()=>({imageResourcesPath:A,linkService:G.current,onItemClick:c,pdf:I,registerPage:$,renderMode:m,rotate:_,scale:w,unregisterPage:Q}),[A,c,I,$,m,_,w,Q]),de=Be.useMemo(()=>RC(v,()=>I),[v,I]);function ge(){function ae(Se){return!!(Se!=null&&Se.pdf)}if(!ae(se))throw new Error("pdf is undefined");const ye=typeof r=="function"?r(se):r;return gt.jsx(kC.Provider,{value:se,children:ye})}function ve(){return M?I==null?gt.jsx(Sh,{type:"loading",children:typeof y=="function"?y():y}):I===!1?gt.jsx(Sh,{type:"error",children:typeof i=="function"?i():i}):ge():gt.jsx(Sh,{type:"no-data",children:typeof d=="function"?d():d})}return gt.jsx("div",{className:db("react-pdf__Document",n),ref:t,...de,children:ve()})});function DC(){return Be.useContext(kC)}function PC(){for(var T=[],r=0;r<arguments.length;r++)T[r]=arguments[r];var n=T.filter(Boolean);if(n.length<=1){var i=n[0];return i||null}return function(b){for(var M=0,t=n;M<t.length;M++){var A=t[M];typeof A=="function"?A(b):A&&(A.current=b)}}}const NC=Be.createContext(null);function fb(){return Be.useContext(NC)}function NP(){const T=DC(),r=fb();Xr(r);const n={...T,...r},{imageResourcesPath:i,linkService:p,onGetAnnotationsError:b,onGetAnnotationsSuccess:M,onRenderAnnotationLayerError:t,onRenderAnnotationLayerSuccess:A,page:y,pdf:d,renderForms:c,rotate:u,scale:x=1}=n;Xr(d),Xr(y),Xr(p);const[j,o]=Lf(),{value:h,error:f}=j,l=Be.useRef(null);js(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function m(){h&&M&&M(h)}function _(){f&&(js(!1,f.toString()),b&&b(f))}Be.useEffect(function(){o({type:"RESET"})},[o,y]),Be.useEffect(function(){if(!y)return;const O=sy(y.getAnnotations()),U=O;return O.promise.then(N=>{o({type:"RESOLVE",value:N})}).catch(N=>{o({type:"REJECT",error:N})}),()=>{_d(U)}},[o,y]),Be.useEffect(()=>{if(h!==void 0){if(h===!1){_();return}m()}},[h]);function w(){A&&A()}function v(C){js(!1,`${C}`),t&&t(C)}const E=Be.useMemo(()=>y.getViewport({scale:x,rotation:u}),[y,u,x]);return Be.useEffect(function(){if(!d||!y||!p||!h)return;const{current:O}=l;if(!O)return;const U=E.clone({dontFlip:!0}),N={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,div:O,l10n:null,page:y,structTreeLayer:null,viewport:U},D={annotations:h,annotationStorage:d.annotationStorage,div:O,imageResourcesPath:i,linkService:p,page:y,renderForms:c,viewport:U};O.innerHTML="";try{new Vx(N).render(D),w()}catch(H){v(H)}return()=>{}},[h,i,p,y,d,c,E]),gt.jsx("div",{className:db("react-pdf__Page__annotations","annotationLayer"),ref:l})}const IC={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},IP=/^H(\d+)$/;function FP(T){return T in IC}function pb(T){return"children"in T}function FC(T){return pb(T)?T.children.length===1&&0 in T.children&&"id"in T.children[0]:!1}function UP(T){const r={};if(pb(T)){const{role:n}=T,i=n.match(IP);if(i)r.role="heading",r["aria-level"]=Number(i[1]);else if(FP(n)){const p=IC[n];p&&(r.role=p)}}return r}function UC(T){const r={};if(pb(T)){if(T.alt!==void 0&&(r["aria-label"]=T.alt),T.lang!==void 0&&(r.lang=T.lang),FC(T)){const[n]=T.children;if(n){const i=UC(n);return{...r,...i}}}}else"id"in T&&(r["aria-owns"]=T.id);return r}function BP(T){return T?{...UP(T),...UC(T)}:null}function BC({className:T,node:r}){const n=Be.useMemo(()=>BP(r),[r]),i=Be.useMemo(()=>!pb(r)||FC(r)?null:r.children.map((p,b)=>gt.jsx(BC,{node:p},b)),[r]);return gt.jsx("span",{className:T,...n,children:i})}function GP(){const T=fb();Xr(T);const{onGetStructTreeError:r,onGetStructTreeSuccess:n}=T,[i,p]=Lf(),{value:b,error:M}=i,{customTextRenderer:t,page:A}=T;function y(){b&&n&&n(b)}function d(){M&&(js(!1,M.toString()),r&&r(M))}return Be.useEffect(function(){p({type:"RESET"})},[p,A]),Be.useEffect(function(){if(t||!A)return;const u=sy(A.getStructTree()),x=u;return u.promise.then(j=>{p({type:"RESOLVE",value:j})}).catch(j=>{p({type:"REJECT",error:j})}),()=>_d(x)},[t,A,p]),Be.useEffect(()=>{if(b!==void 0){if(b===!1){d();return}y()}},[b]),b?gt.jsx(BC,{className:"react-pdf__Page__structTree structTree",node:b}):null}const uA=Va;function zP(T){const r=fb();Xr(r);const n={...r,...T},{_className:i,canvasBackground:p,devicePixelRatio:b=CP(),onRenderError:M,onRenderSuccess:t,page:A,renderForms:y,renderTextLayer:d,rotate:c,scale:u}=n,{canvasRef:x}=T;Xr(A);const j=Be.useRef(null);function o(){A&&t&&t(px(A,u))}function h(_){kP(_)||(js(!1,_.toString()),M&&M(_))}const f=Be.useMemo(()=>A.getViewport({scale:u*b,rotation:c}),[b,A,c,u]),l=Be.useMemo(()=>A.getViewport({scale:u,rotation:c}),[A,c,u]);Be.useEffect(function(){if(!A)return;A.cleanup();const{current:w}=j;if(!w)return;w.width=f.width,w.height=f.height,w.style.width=`${Math.floor(l.width)}px`,w.style.height=`${Math.floor(l.height)}px`,w.style.visibility="hidden";const v={annotationMode:y?uA.ENABLE_FORMS:uA.ENABLE,canvasContext:w.getContext("2d",{alpha:!1}),viewport:f};p&&(v.background=p);const E=A.render(v),C=E;return E.promise.then(()=>{w.style.visibility="",o()}).catch(h),()=>_d(C)},[p,A,y,f,l]);const m=Be.useCallback(()=>{const{current:_}=j;_&&(_.width=0,_.height=0)},[]);return Be.useEffect(()=>m,[m]),gt.jsx("canvas",{className:`${i}__canvas`,dir:"ltr",ref:PC(x,j),style:{display:"block",userSelect:"none"},children:d?gt.jsx(GP,{}):null})}function HP(T){return"str"in T}function VP(){const T=fb();Xr(T);const{customTextRenderer:r,onGetTextError:n,onGetTextSuccess:i,onRenderTextLayerError:p,onRenderTextLayerSuccess:b,page:M,pageIndex:t,pageNumber:A,rotate:y,scale:d}=T;Xr(M);const[c,u]=Lf(),{value:x,error:j}=c,o=Be.useRef(null);js(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function h(){x&&i&&i(x)}function f(){j&&(js(!1,j.toString()),n&&n(j))}Be.useEffect(function(){u({type:"RESET"})},[M,u]),Be.useEffect(function(){if(!M)return;const C=sy(M.getTextContent()),O=C;return C.promise.then(U=>{u({type:"RESOLVE",value:U})}).catch(U=>{u({type:"REJECT",error:U})}),()=>_d(O)},[M,u]),Be.useEffect(()=>{if(x!==void 0){if(x===!1){f();return}h()}},[x]);const l=Be.useCallback(()=>{b&&b()},[b]),m=Be.useCallback(E=>{js(!1,E.toString()),p&&p(E)},[p]);function _(){const E=o.current;E&&E.classList.add("selecting")}function w(){const E=o.current;E&&E.classList.remove("selecting")}const v=Be.useMemo(()=>M.getViewport({scale:d,rotation:y}),[M,y,d]);return Be.useLayoutEffect(function(){if(!M||!x)return;const{current:C}=o;if(!C)return;C.innerHTML="";const O=M.streamTextContent({includeMarkedContent:!0}),U={container:C,textContentSource:O,viewport:v},N=new pm(U),D=N;return N.render().then(()=>{const H=document.createElement("div");H.className="endOfContent",C.append(H);const I=C.querySelectorAll('[role="presentation"]');if(r){let V=0;x.items.forEach((G,q)=>{if(!HP(G))return;const X=I[V];if(!X)return;const B=r({pageIndex:t,pageNumber:A,itemIndex:q,...G});X.innerHTML=B,V+=G.str&&G.hasEOL?2:1})}l()}).catch(m),()=>_d(D)},[r,m,l,M,t,A,x,v]),gt.jsx("div",{className:db("react-pdf__Page__textContent","textLayer"),onMouseUp:w,onMouseDown:_,ref:o})}const cA=1;function qP(T){const n={...DC(),...T},{_className:i="react-pdf__Page",_enableRegisterUnregisterPage:p=!0,canvasBackground:b,canvasRef:M,children:t,className:A,customRenderer:y,customTextRenderer:d,devicePixelRatio:c,error:u="Failed to load the page.",height:x,inputRef:j,loading:o="Loading page…",noData:h="No page specified.",onGetAnnotationsError:f,onGetAnnotationsSuccess:l,onGetStructTreeError:m,onGetStructTreeSuccess:_,onGetTextError:w,onGetTextSuccess:v,onLoadError:E,onLoadSuccess:C,onRenderAnnotationLayerError:O,onRenderAnnotationLayerSuccess:U,onRenderError:N,onRenderSuccess:D,onRenderTextLayerError:H,onRenderTextLayerSuccess:I,pageIndex:V,pageNumber:G,pdf:q,registerPage:X,renderAnnotationLayer:B=!0,renderForms:W=!1,renderMode:K="canvas",renderTextLayer:ee=!0,rotate:re,scale:oe=cA,unregisterPage:le,width:me,...$}=n,[Q,se]=Lf(),{value:de,error:ge}=Q,ve=Be.useRef(null);Xr(q);const ae=tc(G)?G-1:V??null,ye=G??(tc(V)?V+1:null),Se=re??(de?de.rotate:null),Me=Be.useMemo(()=>{if(!de)return null;let je=1;const Ve=oe??cA;if(me||x){const He=de.getViewport({scale:1,rotation:Se});me?je=me/He.width:x&&(je=x/He.height)}return Ve*je},[x,de,Se,oe,me]);Be.useEffect(function(){return()=>{tc(ae)&&p&&le&&le(ae)}},[p,q,ae,le]);function Ee(){if(C){if(!de||!Me)return;C(px(de,Me))}if(p&&X){if(!tc(ae)||!ve.current)return;X(ae,ve.current)}}function Te(){ge&&(js(!1,ge.toString()),E&&E(ge))}Be.useEffect(function(){se({type:"RESET"})},[se,q,ae]),Be.useEffect(function(){if(!q||!ye)return;const Ve=sy(q.getPage(ye)),He=Ve;return Ve.promise.then(nt=>{se({type:"RESOLVE",value:nt})}).catch(nt=>{se({type:"REJECT",error:nt})}),()=>_d(He)},[se,q,ye]),Be.useEffect(()=>{if(de!==void 0){if(de===!1){Te();return}Ee()}},[de,Me]);const Pe=Be.useMemo(()=>tc(ae)&&ye&&tc(Se)&&tc(Me)?{_className:i,canvasBackground:b,customTextRenderer:d,devicePixelRatio:c,onGetAnnotationsError:f,onGetAnnotationsSuccess:l,onGetStructTreeError:m,onGetStructTreeSuccess:_,onGetTextError:w,onGetTextSuccess:v,onRenderAnnotationLayerError:O,onRenderAnnotationLayerSuccess:U,onRenderError:N,onRenderSuccess:D,onRenderTextLayerError:H,onRenderTextLayerSuccess:I,page:de,pageIndex:ae,pageNumber:ye,renderForms:W,renderTextLayer:ee,rotate:Se,scale:Me}:null,[i,b,d,c,f,l,m,_,w,v,O,U,N,D,H,I,de,ae,ye,W,ee,Se,Me]),Ke=Be.useMemo(()=>RC($,()=>de&&(Me?px(de,Me):void 0)),[$,de,Me]),Ge=`${ae}@${Me}/${Se}`;function et(){switch(K){case"custom":return Xr(y),gt.jsx(y,{},`${Ge}_custom`);case"none":return null;case"canvas":default:return gt.jsx(zP,{canvasRef:M},`${Ge}_canvas`)}}function ft(){return ee?gt.jsx(VP,{},`${Ge}_text`):null}function ot(){return B?gt.jsx(NP,{},`${Ge}_annotations`):null}function Pt(){function je(He){return!!(He!=null&&He.page)}if(!je(Pe))throw new Error("page is undefined");const Ve=typeof t=="function"?t(Pe):t;return gt.jsxs(NC.Provider,{value:Pe,children:[et(),ft(),ot(),Ve]})}function bt(){return ye?q===null||de===void 0||de===null?gt.jsx(Sh,{type:"loading",children:typeof o=="function"?o():o}):q===!1||de===!1?gt.jsx(Sh,{type:"error",children:typeof u=="function"?u():u}):Pt():gt.jsx(Sh,{type:"no-data",children:typeof h=="function"?h():h})}return gt.jsx("div",{className:db(i,A),"data-page-number":ye,ref:PC(j,ve),style:{"--scale-round-x":"1px","--scale-round-y":"1px","--scale-factor":"1","--user-unit":`${Me}`,"--total-scale-factor":"calc(var(--scale-factor) * var(--user-unit))",backgroundColor:b||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"},...Ke,children:bt()})}RP();Ui.workerSrc="pdf.worker.mjs";const WP=()=>{const[T,r]=Be.useState(1.5);return gt.jsxs("div",{children:[gt.jsxs("div",{className:"resume-container",children:[gt.jsx("div",{className:"document-container",children:gt.jsxs(PP,{className:"pdf-document",file:"/my-website/assets/MaxSchaeferResume.pdf",children:[gt.jsx(qP,{pageNumber:1,scale:T}),gt.jsxs("div",{className:"scale-container",children:[gt.jsx("button",{className:"scale-button",onClick:()=>r(n=>Math.min(n+.1,3)),children:"+"}),gt.jsx("button",{className:"scale-button",onClick:()=>r(n=>Math.max(n-.1,.5)),children:"-"})]})]})}),gt.jsxs("div",{className:"img-container",children:[gt.jsx("img",{className:"resume-image",src:mT,alt:"Resume Preview 1"}),gt.jsx("img",{className:"resume-image",src:gT,alt:"Resume Preview 2"})]})]}),gt.jsx("a",{className:"download-link",href:"/my-website/assets/MaxSchaeferResume.pdf",download:!0,children:"Download Resume (PDF)"})]})},XP=()=>gt.jsx("div",{children:gt.jsxs("nav",{className:"fixed top-0 left-0 w-full flex justify-between bg-gray-800 p-4 z-10 items-center",children:[gt.jsxs("ul",{className:"flex space-x-4 text-white text-lg",children:[gt.jsx(Iv,{to:"/projects",children:gt.jsx("li",{children:"Projects"})}),gt.jsx(Iv,{to:"/resume",children:gt.jsx("li",{children:"Resume"})})]}),gt.jsx(Iv,{to:"/",children:gt.jsxs("div",{className:"text-white text-lg font-bold flex items-center",children:[gt.jsx(nb,{icon:h5,className:"mr-2"}),"Max Schaefer"]})})]})});function YP(){return gt.jsxs("div",{className:"App",children:[gt.jsx(XP,{}),gt.jsx("main",{className:"main-content",children:gt.jsx(sO,{})})]})}Ui.workerSrc=`//unpkg.com/pdfjs-dist@${Gx}/build/pdf.worker.min.mjs`;fk.createRoot(document.getElementById("root")).render(gt.jsx(CO,{basename:"/my-website/",children:gt.jsx(aO,{children:gt.jsxs(Fp,{path:"/",element:gt.jsx(YP,{}),children:[gt.jsx(Fp,{index:!0,element:gt.jsx(v5,{})}),gt.jsx(Fp,{path:"Projects",element:gt.jsx(zO,{})}),gt.jsx(Fp,{path:"Resume",element:gt.jsx(WP,{})})]})})}));
